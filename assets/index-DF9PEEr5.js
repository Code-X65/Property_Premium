(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function sS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var tg={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function nS(){if(Yv)return Wc;Yv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Wc.Fragment=e,Wc.jsx=t,Wc.jsxs=t,Wc}var Kv;function rS(){return Kv||(Kv=1,tg.exports=nS()),tg.exports}var a=rS(),sg={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function aS(){if(Wv)return He;Wv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,F={};function O(k,G,ee){this.props=k,this.context=G,this.refs=F,this.updater=ee||j}O.prototype.isReactComponent={},O.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function q(){}q.prototype=O.prototype;function U(k,G,ee){this.props=k,this.context=G,this.refs=F,this.updater=ee||j}var P=U.prototype=new q;P.constructor=U,A(P,O.prototype),P.isPureReactComponent=!0;var B=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function M(k,G,ee,V,ue,W){return ee=W.ref,{$$typeof:s,type:k,key:G,ref:ee!==void 0?ee:null,props:W}}function R(k,G){return M(k.type,G,void 0,void 0,void 0,k.props)}function T(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function L(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ee){return G[ee]})}var z=/\/+/g;function C(k,G){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):G.toString(36)}function E(){}function re(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(E,E):(k.status="pending",k.then(function(G){k.status==="pending"&&(k.status="fulfilled",k.value=G)},function(G){k.status==="pending"&&(k.status="rejected",k.reason=G)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function de(k,G,ee,V,ue){var W=typeof k;(W==="undefined"||W==="boolean")&&(k=null);var se=!1;if(k===null)se=!0;else switch(W){case"bigint":case"string":case"number":se=!0;break;case"object":switch(k.$$typeof){case s:case e:se=!0;break;case b:return se=k._init,de(se(k._payload),G,ee,V,ue)}}if(se)return ue=ue(k),se=V===""?"."+C(k,0):V,B(ue)?(ee="",se!=null&&(ee=se.replace(z,"$&/")+"/"),de(ue,G,ee,"",function($e){return $e})):ue!=null&&(T(ue)&&(ue=R(ue,ee+(ue.key==null||k&&k.key===ue.key?"":(""+ue.key).replace(z,"$&/")+"/")+se)),G.push(ue)),1;se=0;var Ne=V===""?".":V+":";if(B(k))for(var Se=0;Se<k.length;Se++)V=k[Se],W=Ne+C(V,Se),se+=de(V,G,ee,W,ue);else if(Se=v(k),typeof Se=="function")for(k=Se.call(k),Se=0;!(V=k.next()).done;)V=V.value,W=Ne+C(V,Se++),se+=de(V,G,ee,W,ue);else if(W==="object"){if(typeof k.then=="function")return de(re(k),G,ee,V,ue);throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return se}function K(k,G,ee){if(k==null)return k;var V=[],ue=0;return de(k,V,"","",function(W){return G.call(ee,W,ue++)}),V}function ye(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=ee)},function(ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=ee)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var ve=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function H(){}return He.Children={map:K,forEach:function(k,G,ee){K(k,function(){G.apply(this,arguments)},ee)},count:function(k){var G=0;return K(k,function(){G++}),G},toArray:function(k){return K(k,function(G){return G})||[]},only:function(k){if(!T(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},He.Component=O,He.Fragment=t,He.Profiler=o,He.PureComponent=U,He.StrictMode=r,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,He.__COMPILER_RUNTIME={__proto__:null,c:function(k){return Q.H.useMemoCache(k)}},He.cache=function(k){return function(){return k.apply(null,arguments)}},He.cloneElement=function(k,G,ee){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var V=A({},k.props),ue=k.key,W=void 0;if(G!=null)for(se in G.ref!==void 0&&(W=void 0),G.key!==void 0&&(ue=""+G.key),G)!ie.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(V[se]=G[se]);var se=arguments.length-2;if(se===1)V.children=ee;else if(1<se){for(var Ne=Array(se),Se=0;Se<se;Se++)Ne[Se]=arguments[Se+2];V.children=Ne}return M(k.type,ue,void 0,void 0,W,V)},He.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},He.createElement=function(k,G,ee){var V,ue={},W=null;if(G!=null)for(V in G.key!==void 0&&(W=""+G.key),G)ie.call(G,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ue[V]=G[V]);var se=arguments.length-2;if(se===1)ue.children=ee;else if(1<se){for(var Ne=Array(se),Se=0;Se<se;Se++)Ne[Se]=arguments[Se+2];ue.children=Ne}if(k&&k.defaultProps)for(V in se=k.defaultProps,se)ue[V]===void 0&&(ue[V]=se[V]);return M(k,W,void 0,void 0,null,ue)},He.createRef=function(){return{current:null}},He.forwardRef=function(k){return{$$typeof:p,render:k}},He.isValidElement=T,He.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ye}},He.memo=function(k,G){return{$$typeof:g,type:k,compare:G===void 0?null:G}},He.startTransition=function(k){var G=Q.T,ee={};Q.T=ee;try{var V=k(),ue=Q.S;ue!==null&&ue(ee,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(H,ve)}catch(W){ve(W)}finally{Q.T=G}},He.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},He.use=function(k){return Q.H.use(k)},He.useActionState=function(k,G,ee){return Q.H.useActionState(k,G,ee)},He.useCallback=function(k,G){return Q.H.useCallback(k,G)},He.useContext=function(k){return Q.H.useContext(k)},He.useDebugValue=function(){},He.useDeferredValue=function(k,G){return Q.H.useDeferredValue(k,G)},He.useEffect=function(k,G,ee){var V=Q.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(k,G)},He.useId=function(){return Q.H.useId()},He.useImperativeHandle=function(k,G,ee){return Q.H.useImperativeHandle(k,G,ee)},He.useInsertionEffect=function(k,G){return Q.H.useInsertionEffect(k,G)},He.useLayoutEffect=function(k,G){return Q.H.useLayoutEffect(k,G)},He.useMemo=function(k,G){return Q.H.useMemo(k,G)},He.useOptimistic=function(k,G){return Q.H.useOptimistic(k,G)},He.useReducer=function(k,G,ee){return Q.H.useReducer(k,G,ee)},He.useRef=function(k){return Q.H.useRef(k)},He.useState=function(k){return Q.H.useState(k)},He.useSyncExternalStore=function(k,G,ee){return Q.H.useSyncExternalStore(k,G,ee)},He.useTransition=function(){return Q.H.useTransition()},He.version="19.1.0",He}var Xv;function m0(){return Xv||(Xv=1,sg.exports=aS()),sg.exports}var S=m0();const Ct=sS(S);var ng={exports:{}},Xc={},rg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function iS(){return Zv||(Zv=1,function(s){function e(K,ye){var ve=K.length;K.push(ye);e:for(;0<ve;){var H=ve-1>>>1,k=K[H];if(0<o(k,ye))K[H]=ye,K[ve]=k,ve=H;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ye=K[0],ve=K.pop();if(ve!==ye){K[0]=ve;e:for(var H=0,k=K.length,G=k>>>1;H<G;){var ee=2*(H+1)-1,V=K[ee],ue=ee+1,W=K[ue];if(0>o(V,ve))ue<k&&0>o(W,V)?(K[H]=W,K[ue]=ve,H=ue):(K[H]=V,K[ee]=ve,H=ee);else if(ue<k&&0>o(W,ve))K[H]=W,K[ue]=ve,H=ue;else break e}}return ye}function o(K,ye){var ve=K.sortIndex-ye.sortIndex;return ve!==0?ve:K.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],g=[],b=1,w=null,v=3,j=!1,A=!1,F=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var ye=t(g);ye!==null;){if(ye.callback===null)r(g);else if(ye.startTime<=K)r(g),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(g)}}function Q(K){if(F=!1,B(K),!A)if(t(m)!==null)A=!0,ie||(ie=!0,C());else{var ye=t(g);ye!==null&&de(Q,ye.startTime-K)}}var ie=!1,M=-1,R=5,T=-1;function L(){return O?!0:!(s.unstable_now()-T<R)}function z(){if(O=!1,ie){var K=s.unstable_now();T=K;var ye=!0;try{e:{A=!1,F&&(F=!1,U(M),M=-1),j=!0;var ve=v;try{t:{for(B(K),w=t(m);w!==null&&!(w.expirationTime>K&&L());){var H=w.callback;if(typeof H=="function"){w.callback=null,v=w.priorityLevel;var k=H(w.expirationTime<=K);if(K=s.unstable_now(),typeof k=="function"){w.callback=k,B(K),ye=!0;break t}w===t(m)&&r(m),B(K)}else r(m);w=t(m)}if(w!==null)ye=!0;else{var G=t(g);G!==null&&de(Q,G.startTime-K),ye=!1}}break e}finally{w=null,v=ve,j=!1}ye=void 0}}finally{ye?C():ie=!1}}}var C;if(typeof P=="function")C=function(){P(z)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,re=E.port2;E.port1.onmessage=z,C=function(){re.postMessage(null)}}else C=function(){q(z,0)};function de(K,ye){M=q(function(){K(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ye=3;break;default:ye=v}var ve=v;v=ye;try{return K()}finally{v=ve}},s.unstable_requestPaint=function(){O=!0},s.unstable_runWithPriority=function(K,ye){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ve=v;v=K;try{return ye()}finally{v=ve}},s.unstable_scheduleCallback=function(K,ye,ve){var H=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?H+ve:H):ve=H,K){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ve+k,K={id:b++,callback:ye,priorityLevel:K,startTime:ve,expirationTime:k,sortIndex:-1},ve>H?(K.sortIndex=ve,e(g,K),t(m)===null&&K===t(g)&&(F?(U(M),M=-1):F=!0,de(Q,ve-H))):(K.sortIndex=k,e(m,K),A||j||(A=!0,ie||(ie=!0,C()))),K},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(K){var ye=v;return function(){var ve=v;v=ye;try{return K.apply(this,arguments)}finally{v=ve}}}}(ag)),ag}var Jv;function oS(){return Jv||(Jv=1,rg.exports=iS()),rg.exports}var ig={exports:{}},As={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function lS(){if(ew)return As;ew=1;var s=m0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return As.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,As.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,b)},As.flushSync=function(m){var g=d.T,b=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=b,r.d.f()}},As.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},As.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},As.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:v,fetchPriority:j}):b==="script"&&r.d.X(m,{crossOrigin:w,integrity:v,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},As.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},As.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin);r.d.L(m,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},As.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=p(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},As.requestFormReset=function(m){r.d.r(m)},As.unstable_batchedUpdates=function(m,g){return m(g)},As.useFormState=function(m,g,b){return d.H.useFormState(m,g,b)},As.useFormStatus=function(){return d.H.useHostTransitionStatus()},As.version="19.1.0",As}var tw;function cS(){if(tw)return ig.exports;tw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ig.exports=lS(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function uS(){if(sw)return Xc;sw=1;var s=oS(),e=m0(),t=cS();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(r(188))}function m(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,u=i;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return p(f),n;if(y===u)return p(f),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=y;else{for(var N=!1,I=f.child;I;){if(I===l){N=!0,l=f,u=y;break}if(I===u){N=!0,u=f,l=y;break}I=I.sibling}if(!N){for(I=y.child;I;){if(I===l){N=!0,l=y,u=f;break}if(I===u){N=!0,u=y,l=f;break}I=I.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var E=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===E?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case O:return"Profiler";case F:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case T:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case P:return(n.displayName||"Context")+".Provider";case U:return(n._context.displayName||"Context")+".Consumer";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:re(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return re(n(i))}catch{}}return null}var de=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},H=[],k=-1;function G(n){return{current:n}}function ee(n){0>k||(n.current=H[k],H[k]=null,k--)}function V(n,i){k++,H[k]=n.current,n.current=i}var ue=G(null),W=G(null),se=G(null),Ne=G(null);function Se(n,i){switch(V(se,i),V(W,n),V(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?_v(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=_v(i),n=Nv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(ue),V(ue,n)}function $e(){ee(ue),ee(W),ee(se)}function Ye(n){n.memoizedState!==null&&V(Ne,n);var i=ue.current,l=Nv(i,n.type);i!==l&&(V(W,n),V(ue,l))}function me(n){W.current===n&&(ee(ue),ee(W)),Ne.current===n&&(ee(Ne),Hc._currentValue=ve)}var X=Object.prototype.hasOwnProperty,ge=s.unstable_scheduleCallback,Ie=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,rt=s.unstable_requestPaint,Ce=s.unstable_now,Be=s.unstable_getCurrentPriorityLevel,ce=s.unstable_ImmediatePriority,Te=s.unstable_UserBlockingPriority,_e=s.unstable_NormalPriority,Pe=s.unstable_LowPriority,tt=s.unstable_IdlePriority,Ot=s.log,en=s.unstable_setDisableYieldValue,dt=null,Fe=null;function We(n){if(typeof Ot=="function"&&en(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(dt,n)}catch{}}var Lt=Math.clz32?Math.clz32:Cr,xi=Math.log,ga=Math.LN2;function Cr(n){return n>>>=0,n===0?32:31-(xi(n)/ga|0)|0}var bi=256,vi=4194304;function Dn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _o(n,i,l){var u=n.pendingLanes;if(u===0)return 0;var f=0,y=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?f=Dn(u):(N&=I,N!==0?f=Dn(N):l||(l=I&~n,l!==0&&(f=Dn(l))))):(I=u&~y,I!==0?f=Dn(I):N!==0?f=Dn(N):l||(l=u&~n,l!==0&&(f=Dn(l)))),f===0?0:i!==0&&i!==f&&(i&y)===0&&(y=f&-f,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:f}function wi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Hl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var n=bi;return bi<<=1,(bi&4194048)===0&&(bi=256),n}function Ql(){var n=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),n}function Ir(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function kr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yl(n,i,l,u,f,y){var N=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var I=n.entanglements,$=n.expirationTimes,ne=n.hiddenUpdates;for(l=N&~l;0<l;){var he=31-Lt(l),xe=1<<he;I[he]=0,$[he]=-1;var ae=ne[he];if(ae!==null)for(ne[he]=null,he=0;he<ae.length;he++){var oe=ae[he];oe!==null&&(oe.lane&=-536870913)}l&=~xe}u!==0&&er(n,u,0),y!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=y&~(N&~i))}function er(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Lt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Kl(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var u=31-Lt(l),f=1<<u;f&i|n[u]&i&&(n[u]|=i),l&=~f}}function ya(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function No(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xa(){var n=ye.p;return n!==0?n:(n=window.event,n===void 0?32:Bv(n.type))}function ed(n,i){var l=ye.p;try{return ye.p=n,i()}finally{ye.p=l}}var kt=Math.random().toString(36).slice(2),ns="__reactFiber$"+kt,Kt="__reactProps$"+kt,pn="__reactContainer$"+kt,Wl="__reactEvents$"+kt,rm="__reactListeners$"+kt,ba="__reactHandles$"+kt,td="__reactResources$"+kt,_i="__reactMarker$"+kt;function va(n){delete n[ns],delete n[Kt],delete n[Wl],delete n[rm],delete n[ba]}function Pr(n){var i=n[ns];if(i)return i;for(var l=n.parentNode;l;){if(i=l[pn]||l[ns]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Sv(n);n!==null;){if(l=n[ns])return l;n=Sv(n)}return i}n=l,l=n.parentNode}return null}function tr(n){if(n=n[ns]||n[pn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Os(n){var i=n[td];return i||(i=n[td]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $t(n){n[_i]=!0}var Xl=new Set,jo={};function Mn(n,i){Dr(n,i),Dr(n+"Capture",i)}function Dr(n,i){for(jo[n]=i,n=0;n<i.length;n++)Xl.add(i[n])}var sd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},Ni={};function rd(n){return X.call(Ni,n)?!0:X.call(nd,n)?!1:sd.test(n)?Ni[n]=!0:(nd[n]=!0,!1)}function wa(n,i,l){if(rd(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function nr(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function bs(n,i,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+u)}}var ji,ad;function Mr(n){if(ji===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ji=i&&i[1]||"",ad=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+n+ad}var Eo=!1;function To(n,i){if(!n||Eo)return"";Eo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(oe){var ae=oe}Reflect.construct(n,[],xe)}else{try{xe.call()}catch(oe){ae=oe}n.call(xe.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(xe=n())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),N=y[0],I=y[1];if(N&&I){var $=N.split(`
`),ne=I.split(`
`);for(f=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;if(u===$.length||f===ne.length)for(u=$.length-1,f=ne.length-1;1<=u&&0<=f&&$[u]!==ne[f];)f--;for(;1<=u&&0<=f;u--,f--)if($[u]!==ne[f]){if(u!==1||f!==1)do if(u--,f--,0>f||$[u]!==ne[f]){var he=`
`+$[u].replace(" at new "," at ");return n.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",n.displayName)),he}while(1<=u&&0<=f);break}}}finally{Eo=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Mr(l):""}function Zl(n){switch(n.tag){case 26:case 27:case 5:return Mr(n.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return To(n.type,!1);case 11:return To(n.type.render,!1);case 1:return To(n.type,!0);case 31:return Mr("Activity");default:return""}}function So(n){try{var i="";do i+=Zl(n),n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ls(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function am(n){var i=Jl(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(N){u=""+N,y.call(this,N)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ao(n){n._valueTracker||(n._valueTracker=am(n))}function ec(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return n&&(u=Jl(n)?n.checked?"true":"false":n.value),n=u,n!==l?(i.setValue(n),!0):!1}function Ei(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var im=/[\n"\\]/g;function Wt(n){return n.replace(im,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tn(n,i,l,u,f,y,N,I){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),i!=null?N==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ls(i)):n.value!==""+Ls(i)&&(n.value=""+Ls(i)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),i!=null?_a(n,N,Ls(i)):l!=null?_a(n,N,Ls(l)):u!=null&&n.removeAttribute("value"),f==null&&y!=null&&(n.defaultChecked=!!y),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Ls(I):n.removeAttribute("name")}function Ti(n,i,l,u,f,y,N,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+Ls(l):"",i=i!=null?""+Ls(i):l,I||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=I?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N)}function _a(n,i,l){i==="number"&&Ei(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Or(n,i,l,u){if(n=n.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=i.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Ls(l),i=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function wt(n,i,l){if(i!=null&&(i=""+Ls(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+Ls(l):""}function Si(n,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Ls(i),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function gn(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function id(n,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,l):typeof l!="number"||l===0||Ai.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function tc(n,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&id(n,f,u)}else for(var y in i)i.hasOwnProperty(y)&&id(n,y,i[y])}function sc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(n){return lm.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Lr=null;function yn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,Vr=null;function nc(n){var i=tr(n);if(i&&(n=i.stateNode)){var l=n[Kt]||null;e:switch(n=i.stateNode,i.type){case"input":if(tn(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==n&&u.form===n.form){var f=u[Kt]||null;if(!f)throw Error(r(90));tn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===n.form&&ec(u)}break e;case"textarea":wt(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Or(n,!!l.multiple,i,!1)}}}var rr=!1;function od(n,i,l){if(rr)return n(i,l);rr=!0;try{var u=n(i);return u}finally{if(rr=!1,(Ur!==null||Vr!==null)&&(eh(),Ur&&(i=Ur,n=Vr,Vr=Ur=null,nc(i),n)))for(i=0;i<n.length;i++)nc(n[i])}}function Ri(n,i){var l=n.stateNode;if(l===null)return null;var u=l[Kt]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(On)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{xn=!1}var ar=null,Na=null,Fr=null;function rc(){if(Fr)return Fr;var n,i=Na,l=i.length,u,f="value"in ar?ar.value:ar.textContent,y=f.length;for(n=0;n<l&&i[n]===f[n];n++);var N=l-n;for(u=1;u<=N&&i[l-u]===f[y-u];u++);return Fr=f.slice(n,1<u?1-u:void 0)}function ir(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function ac(){return!1}function us(n){function i(l,u,f,y,N){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(l=n[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:ac,this.isPropagationStopped=ac,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=us(yt),Ii=b({},yt,{view:0,detail:0}),ld=us(Ii),Io,ko,lr,ki=b({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lr&&(lr&&n.type==="mousemove"?(Io=n.screenX-lr.screenX,ko=n.screenY-lr.screenY):ko=Io=0,lr=n),Io)},movementY:function(n){return"movementY"in n?n.movementY:ko}}),bn=us(ki),cd=b({},ki,{dataTransfer:0}),cm=us(cd),Pi=b({},Ii,{relatedTarget:0}),Po=us(Pi),ic=b({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=us(ic),ud=b({},yt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Mo=us(ud),um=b({},yt,{data:0}),oc=us(um),Di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=hd[n])?!!i[n]:!1}function Mi(){return lc}var fd=b({},Ii,{key:function(n){if(n.key){var i=Di[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ir(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dd[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(n){return n.type==="keypress"?ir(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ir(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oo=us(fd),md=b({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=us(md),zr=b({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),pd=us(zr),gd=b({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=us(gd),xd=b({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=us(xd),Us=b({},yt,{newState:0,oldState:0}),bd=us(Us),vd=[9,13,27,32],cr=On&&"CompositionEvent"in window,h=null;On&&"documentMode"in document&&(h=document.documentMode);var x=On&&"TextEvent"in window&&!h,_=On&&(!cr||h&&8<h&&11>=h),D=" ",J=!1;function le(n,i){switch(n){case"keyup":return vd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var at=!1;function rs(n,i){switch(n){case"compositionend":return we(i);case"keypress":return i.which!==32?null:(J=!0,D);case"textInput":return n=i.data,n===D&&J?null:n;default:return null}}function it(n,i){if(at)return n==="compositionend"||!cr&&le(n,i)?(n=rc(),Fr=Na=ar=null,at=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function as(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ds[n.type]:i==="textarea"}function Br(n,i,l,u){Ur?Vr?Vr.push(u):Vr=[u]:Ur=u,i=ih(i,"onChange"),0<i.length&&(l=new Co("onChange","change",null,l,u),n.push({event:l,listeners:i}))}var vs=null,ur=null;function uc(n){yv(n,0)}function wd(n){var i=sr(n);if(ec(i))return n}function Uy(n,i){if(n==="change")return i}var Vy=!1;if(On){var dm;if(On){var hm="oninput"in document;if(!hm){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),hm=typeof Fy.oninput=="function"}dm=hm}else dm=!1;Vy=dm&&(!document.documentMode||9<document.documentMode)}function zy(){vs&&(vs.detachEvent("onpropertychange",By),ur=vs=null)}function By(n){if(n.propertyName==="value"&&wd(ur)){var i=[];Br(i,ur,n,yn(n)),od(uc,i)}}function kE(n,i,l){n==="focusin"?(zy(),vs=i,ur=l,vs.attachEvent("onpropertychange",By)):n==="focusout"&&zy()}function PE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wd(ur)}function DE(n,i){if(n==="click")return wd(i)}function ME(n,i){if(n==="input"||n==="change")return wd(i)}function OE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var sn=typeof Object.is=="function"?Object.is:OE;function dc(n,i){if(sn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!X.call(i,f)||!sn(n[f],i[f]))return!1}return!0}function qy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $y(n,i){var l=qy(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=i&&u>=i)return{node:l,offset:i-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qy(l)}}function Hy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Hy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ei(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Ei(n.document)}return i}function fm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var LE=On&&"documentMode"in document&&11>=document.documentMode,Uo=null,mm=null,hc=null,pm=!1;function Qy(n,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pm||Uo==null||Uo!==Ei(u)||(u=Uo,"selectionStart"in u&&fm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hc&&dc(hc,u)||(hc=u,u=ih(mm,"onSelect"),0<u.length&&(i=new Co("onSelect","select",null,i,l),n.push({event:i,listeners:u}),i.target=Uo)))}function Oi(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Vo={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},gm={},Yy={};On&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Li(n){if(gm[n])return gm[n];if(!Vo[n])return n;var i=Vo[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Yy)return gm[n]=i[l];return n}var Ky=Li("animationend"),Wy=Li("animationiteration"),Xy=Li("animationstart"),UE=Li("transitionrun"),VE=Li("transitionstart"),FE=Li("transitioncancel"),Zy=Li("transitionend"),Jy=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function Ln(n,i){Jy.set(n,i),Mn(i,[n])}var ex=new WeakMap;function vn(n,i){if(typeof n=="object"&&n!==null){var l=ex.get(n);return l!==void 0?l:(i={value:n,source:i,stack:So(i)},ex.set(n,i),i)}return{value:n,source:i,stack:So(i)}}var wn=[],Fo=0,xm=0;function _d(){for(var n=Fo,i=xm=Fo=0;i<n;){var l=wn[i];wn[i++]=null;var u=wn[i];wn[i++]=null;var f=wn[i];wn[i++]=null;var y=wn[i];if(wn[i++]=null,u!==null&&f!==null){var N=u.pending;N===null?f.next=f:(f.next=N.next,N.next=f),u.pending=f}y!==0&&tx(l,f,y)}}function Nd(n,i,l,u){wn[Fo++]=n,wn[Fo++]=i,wn[Fo++]=l,wn[Fo++]=u,xm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function bm(n,i,l,u){return Nd(n,i,l,u),jd(n)}function zo(n,i){return Nd(n,null,null,i),jd(n)}function tx(n,i,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var f=!1,y=n.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(f=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,f&&i!==null&&(f=31-Lt(l),n=y.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=l|536870912),y):null}function jd(n){if(50<Lc)throw Lc=0,Ep=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Bo={};function zE(n,i,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(n,i,l,u){return new zE(n,i,l,u)}function vm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qr(n,i){var l=n.alternate;return l===null?(l=nn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function sx(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ed(n,i,l,u,f,y){var N=0;if(u=n,typeof n=="function")vm(n)&&(N=1);else if(typeof n=="string")N=qT(n,l,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case T:return n=nn(31,l,i,f),n.elementType=T,n.lanes=y,n;case A:return Ui(l.children,f,y,i);case F:N=8,f|=24;break;case O:return n=nn(12,l,i,f|2),n.elementType=O,n.lanes=y,n;case Q:return n=nn(13,l,i,f),n.elementType=Q,n.lanes=y,n;case ie:return n=nn(19,l,i,f),n.elementType=ie,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case P:N=10;break e;case U:N=9;break e;case B:N=11;break e;case M:N=14;break e;case R:N=16,u=null;break e}N=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return i=nn(N,l,i,f),i.elementType=n,i.type=u,i.lanes=y,i}function Ui(n,i,l,u){return n=nn(7,n,u,i),n.lanes=l,n}function wm(n,i,l){return n=nn(6,n,null,i),n.lanes=l,n}function _m(n,i,l){return i=nn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var qo=[],$o=0,Td=null,Sd=0,_n=[],Nn=0,Vi=null,$r=1,Hr="";function Fi(n,i){qo[$o++]=Sd,qo[$o++]=Td,Td=n,Sd=i}function nx(n,i,l){_n[Nn++]=$r,_n[Nn++]=Hr,_n[Nn++]=Vi,Vi=n;var u=$r;n=Hr;var f=32-Lt(u)-1;u&=~(1<<f),l+=1;var y=32-Lt(i)+f;if(30<y){var N=f-f%5;y=(u&(1<<N)-1).toString(32),u>>=N,f-=N,$r=1<<32-Lt(i)+f|l<<f|u,Hr=y+n}else $r=1<<y|l<<f|u,Hr=n}function Nm(n){n.return!==null&&(Fi(n,1),nx(n,1,0))}function jm(n){for(;n===Td;)Td=qo[--$o],qo[$o]=null,Sd=qo[--$o],qo[$o]=null;for(;n===Vi;)Vi=_n[--Nn],_n[Nn]=null,Hr=_n[--Nn],_n[Nn]=null,$r=_n[--Nn],_n[Nn]=null}var Vs=null,Bt=null,mt=!1,zi=null,dr=!1,Em=Error(r(519));function Bi(n){var i=Error(r(418,""));throw pc(vn(i,n)),Em}function rx(n){var i=n.stateNode,l=n.type,u=n.memoizedProps;switch(i[ns]=n,i[Kt]=u,l){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(l=0;l<Vc.length;l++)et(Vc[l],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),Ti(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ao(i);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),Si(i,u.value,u.defaultValue,u.children),Ao(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||wv(i.textContent,l)?(u.popover!=null&&(et("beforetoggle",i),et("toggle",i)),u.onScroll!=null&&et("scroll",i),u.onScrollEnd!=null&&et("scrollend",i),u.onClick!=null&&(i.onclick=oh),i=!0):i=!1,i||Bi(n)}function ax(n){for(Vs=n.return;Vs;)switch(Vs.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:Vs=Vs.return}}function fc(n){if(n!==Vs)return!1;if(!mt)return ax(n),mt=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||zp(n.type,n.memoizedProps)),l=!l),l&&Bt&&Bi(n),ax(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(i===0){Bt=Vn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;n=n.nextSibling}Bt=null}}else i===27?(i=Bt,Va(n.type)?(n=Hp,Hp=null,Bt=n):Bt=i):Bt=Vs?Vn(n.stateNode.nextSibling):null;return!0}function mc(){Bt=Vs=null,mt=!1}function ix(){var n=zi;return n!==null&&(Gs===null?Gs=n:Gs.push.apply(Gs,n),zi=null),n}function pc(n){zi===null?zi=[n]:zi.push(n)}var Tm=G(null),qi=null,Gr=null;function ja(n,i,l){V(Tm,i._currentValue),i._currentValue=l}function Qr(n){n._currentValue=Tm.current,ee(Tm)}function Sm(n,i,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===l)break;n=n.return}}function Am(n,i,l,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){var N=f.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=f;for(var $=0;$<i.length;$++)if(I.context===i[$]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),Sm(y.return,l,n),u||(N=null);break e}y=I.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(r(341));N.lanes|=l,y=N.alternate,y!==null&&(y.lanes|=l),Sm(N,l,n),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===n){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function gc(n,i,l,u){n=null;for(var f=i,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=f.type;sn(f.pendingProps.value,N.value)||(n!==null?n.push(I):n=[I])}}else if(f===Ne.current){if(N=f.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hc):n=[Hc])}f=f.return}n!==null&&Am(i,n,l,u),i.flags|=262144}function Ad(n){for(n=n.firstContext;n!==null;){if(!sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $i(n){qi=n,Gr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ss(n){return ox(qi,n)}function Rd(n,i){return qi===null&&$i(n),ox(n,i)}function ox(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Gr===null){if(n===null)throw Error(r(308));Gr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Gr=Gr.next=i;return l}var BE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},qE=s.unstable_scheduleCallback,$E=s.unstable_NormalPriority,is={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new BE,data:new Map,refCount:0}}function yc(n){n.refCount--,n.refCount===0&&qE($E,function(){n.controller.abort()})}var xc=null,Cm=0,Ho=0,Go=null;function HE(n,i){if(xc===null){var l=xc=[];Cm=0,Ho=kp(),Go={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Cm++,i.then(lx,lx),i}function lx(){if(--Cm===0&&xc!==null){Go!==null&&(Go.status="fulfilled");var n=xc;xc=null,Ho=0,Go=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function GE(n,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var cx=K.S;K.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HE(n,i),cx!==null&&cx(n,i)};var Hi=G(null);function Im(){var n=Hi.current;return n!==null?n:At.pooledCache}function Cd(n,i){i===null?V(Hi,Hi.current):V(Hi,i.pool)}function ux(){var n=Im();return n===null?null:{parent:is._currentValue,pool:n}}var bc=Error(r(460)),dx=Error(r(474)),Id=Error(r(542)),km={then:function(){}};function hx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function kd(){}function fx(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(kd,kd),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,px(n),n;default:if(typeof i.status=="string")i.then(kd,kd);else{if(n=At,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,px(n),n}throw vc=i,bc}}var vc=null;function mx(){if(vc===null)throw Error(r(459));var n=vc;return vc=null,n}function px(n){if(n===bc||n===Id)throw Error(r(483))}var Ea=!1;function Pm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sa(n,i,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=jd(n),tx(n,null,l),i}return Nd(n,u,i,l),jd(n)}function wc(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,l|=u,i.lanes=l,Kl(n,l)}}function Mm(n,i){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?f=y=N:y=y.next=N,l=l.next}while(l!==null);y===null?f=y=i:y=y.next=i}else f=y=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var Om=!1;function _c(){if(Om){var n=Go;if(n!==null)throw n}}function Nc(n,i,l,u){Om=!1;var f=n.updateQueue;Ea=!1;var y=f.firstBaseUpdate,N=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var $=I,ne=$.next;$.next=null,N===null?y=ne:N.next=ne,N=$;var he=n.alternate;he!==null&&(he=he.updateQueue,I=he.lastBaseUpdate,I!==N&&(I===null?he.firstBaseUpdate=ne:I.next=ne,he.lastBaseUpdate=$))}if(y!==null){var xe=f.baseState;N=0,he=ne=$=null,I=y;do{var ae=I.lane&-536870913,oe=ae!==I.lane;if(oe?(ot&ae)===ae:(u&ae)===ae){ae!==0&&ae===Ho&&(Om=!0),he!==null&&(he=he.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ve=n,Me=I;ae=i;var jt=l;switch(Me.tag){case 1:if(Ve=Me.payload,typeof Ve=="function"){xe=Ve.call(jt,xe,ae);break e}xe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Me.payload,ae=typeof Ve=="function"?Ve.call(jt,xe,ae):Ve,ae==null)break e;xe=b({},xe,ae);break e;case 2:Ea=!0}}ae=I.callback,ae!==null&&(n.flags|=64,oe&&(n.flags|=8192),oe=f.callbacks,oe===null?f.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},he===null?(ne=he=oe,$=xe):he=he.next=oe,N|=ae;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);he===null&&($=xe),f.baseState=$,f.firstBaseUpdate=ne,f.lastBaseUpdate=he,y===null&&(f.shared.lanes=0),Ma|=N,n.lanes=N,n.memoizedState=xe}}function gx(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function yx(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)gx(l[n],i)}var Qo=G(null),Pd=G(0);function xx(n,i){n=ea,V(Pd,n),V(Qo,i),ea=n|i.baseLanes}function Lm(){V(Pd,ea),V(Qo,Qo.current)}function Um(){ea=Pd.current,ee(Qo),ee(Pd)}var Aa=0,Ge=null,_t=null,Xt=null,Dd=!1,Yo=!1,Gi=!1,Md=0,jc=0,Ko=null,QE=0;function Ht(){throw Error(r(321))}function Vm(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!sn(n[l],i[l]))return!1;return!0}function Fm(n,i,l,u,f,y){return Aa=y,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?tb:sb,Gi=!1,y=l(u,f),Gi=!1,Yo&&(y=vx(i,l,u,f)),bx(n),y}function bx(n){K.H=zd;var i=_t!==null&&_t.next!==null;if(Aa=0,Xt=_t=Ge=null,Dd=!1,jc=0,Ko=null,i)throw Error(r(300));n===null||hs||(n=n.dependencies,n!==null&&Ad(n)&&(hs=!0))}function vx(n,i,l,u){Ge=n;var f=0;do{if(Yo&&(Ko=null),jc=0,Yo=!1,25<=f)throw Error(r(301));if(f+=1,Xt=_t=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=eT,y=i(l,u)}while(Yo);return y}function YE(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?Ec(i):i,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(Ge.flags|=1024),i}function zm(){var n=Md!==0;return Md=0,n}function Bm(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function qm(n){if(Dd){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Dd=!1}Aa=0,Xt=_t=Ge=null,Yo=!1,jc=Md=0,Ko=null}function $s(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ge.memoizedState=Xt=n:Xt=Xt.next=n,Xt}function Zt(){if(_t===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=Xt===null?Ge.memoizedState:Xt.next;if(i!==null)Xt=i,_t=n;else{if(n===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Xt===null?Ge.memoizedState=Xt=n:Xt=Xt.next=n}return Xt}function $m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(n){var i=jc;return jc+=1,Ko===null&&(Ko=[]),n=fx(Ko,n,i),i=Ge,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?tb:sb),n}function Od(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ec(n);if(n.$$typeof===P)return Ss(n)}throw Error(r(438,String(n)))}function Hm(n){var i=null,l=Ge.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=$m(),Ge.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),u=0;u<n;u++)l[u]=L;return i.index++,l}function Yr(n,i){return typeof i=="function"?i(n):i}function Ld(n){var i=Zt();return Gm(i,_t,n)}function Gm(n,i,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=n.baseQueue,y=u.pending;if(y!==null){if(f!==null){var N=f.next;f.next=y.next,y.next=N}i.baseQueue=f=y,u.pending=null}if(y=n.baseState,f===null)n.memoizedState=y;else{i=f.next;var I=N=null,$=null,ne=i,he=!1;do{var xe=ne.lane&-536870913;if(xe!==ne.lane?(ot&xe)===xe:(Aa&xe)===xe){var ae=ne.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),xe===Ho&&(he=!0);else if((Aa&ae)===ae){ne=ne.next,ae===Ho&&(he=!0);continue}else xe={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(I=$=xe,N=y):$=$.next=xe,Ge.lanes|=ae,Ma|=ae;xe=ne.action,Gi&&l(y,xe),y=ne.hasEagerState?ne.eagerState:l(y,xe)}else ae={lane:xe,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(I=$=ae,N=y):$=$.next=ae,Ge.lanes|=xe,Ma|=xe;ne=ne.next}while(ne!==null&&ne!==i);if($===null?N=y:$.next=I,!sn(y,n.memoizedState)&&(hs=!0,he&&(l=Go,l!==null)))throw l;n.memoizedState=y,n.baseState=N,n.baseQueue=$,u.lastRenderedState=y}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Qm(n){var i=Zt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,f=l.pending,y=i.memoizedState;if(f!==null){l.pending=null;var N=f=f.next;do y=n(y,N.action),N=N.next;while(N!==f);sn(y,i.memoizedState)||(hs=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function wx(n,i,l){var u=Ge,f=Zt(),y=mt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var N=!sn((_t||f).memoizedState,l);N&&(f.memoizedState=l,hs=!0),f=f.queue;var I=jx.bind(null,u,f,n);if(Tc(2048,8,I,[n]),f.getSnapshot!==i||N||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,Wo(9,Ud(),Nx.bind(null,u,f,l,i),null),At===null)throw Error(r(349));y||(Aa&124)!==0||_x(u,i,l)}return l}function _x(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i=$m(),Ge.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Nx(n,i,l,u){i.value=l,i.getSnapshot=u,Ex(i)&&Tx(n)}function jx(n,i,l){return l(function(){Ex(i)&&Tx(n)})}function Ex(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!sn(n,l)}catch{return!0}}function Tx(n){var i=zo(n,2);i!==null&&cn(i,n,2)}function Ym(n){var i=$s();if(typeof n=="function"){var l=n;if(n=l(),Gi){We(!0);try{l()}finally{We(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function Sx(n,i,l,u){return n.baseState=l,Gm(n,_t,typeof u=="function"?u:Yr)}function KE(n,i,l,u,f){if(Fd(n))throw Error(r(485));if(n=i.action,n!==null){var y={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};K.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Ax(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Ax(n,i){var l=i.action,u=i.payload,f=n.state;if(i.isTransition){var y=K.T,N={};K.T=N;try{var I=l(f,u),$=K.S;$!==null&&$(N,I),Rx(n,i,I)}catch(ne){Km(n,i,ne)}finally{K.T=y}}else try{y=l(f,u),Rx(n,i,y)}catch(ne){Km(n,i,ne)}}function Rx(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Cx(n,i,u)},function(u){return Km(n,i,u)}):Cx(n,i,l)}function Cx(n,i,l){i.status="fulfilled",i.value=l,Ix(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,Ax(n,l)))}function Km(n,i,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Ix(i),i=i.next;while(i!==u)}n.action=null}function Ix(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function kx(n,i){return i}function Px(n,i){if(mt){var l=At.formState;if(l!==null){e:{var u=Ge;if(mt){if(Bt){t:{for(var f=Bt,y=dr;f.nodeType!==8;){if(!y){f=null;break t}if(f=Vn(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){Bt=Vn(f.nextSibling),u=f.data==="F!";break e}}Bi(u)}u=!1}u&&(i=l[0])}}return l=$s(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kx,lastRenderedState:i},l.queue=u,l=Zx.bind(null,Ge,u),u.dispatch=l,u=Ym(!1),y=ep.bind(null,Ge,!1,u.queue),u=$s(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,l=KE.bind(null,Ge,f,y,l),f.dispatch=l,u.memoizedState=n,[i,l,!1]}function Dx(n){var i=Zt();return Mx(i,_t,n)}function Mx(n,i,l){if(i=Gm(n,i,kx)[0],n=Ld(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ec(i)}catch(N){throw N===bc?Id:N}else u=i;i=Zt();var f=i.queue,y=f.dispatch;return l!==i.memoizedState&&(Ge.flags|=2048,Wo(9,Ud(),WE.bind(null,f,l),null)),[u,y,n]}function WE(n,i){n.action=i}function Ox(n){var i=Zt(),l=_t;if(l!==null)return Mx(i,l,n);Zt(),i=i.memoizedState,l=Zt();var u=l.queue.dispatch;return l.memoizedState=n,[i,u,!1]}function Wo(n,i,l,u){return n={tag:n,create:l,deps:u,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=$m(),Ge.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,i.lastEffect=n),n}function Ud(){return{destroy:void 0,resource:void 0}}function Lx(){return Zt().memoizedState}function Vd(n,i,l,u){var f=$s();u=u===void 0?null:u,Ge.flags|=n,f.memoizedState=Wo(1|i,Ud(),l,u)}function Tc(n,i,l,u){var f=Zt();u=u===void 0?null:u;var y=f.memoizedState.inst;_t!==null&&u!==null&&Vm(u,_t.memoizedState.deps)?f.memoizedState=Wo(i,y,l,u):(Ge.flags|=n,f.memoizedState=Wo(1|i,y,l,u))}function Ux(n,i){Vd(8390656,8,n,i)}function Vx(n,i){Tc(2048,8,n,i)}function Fx(n,i){return Tc(4,2,n,i)}function zx(n,i){return Tc(4,4,n,i)}function Bx(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function qx(n,i,l){l=l!=null?l.concat([n]):null,Tc(4,4,Bx.bind(null,i,n),l)}function Wm(){}function $x(n,i){var l=Zt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Vm(i,u[1])?u[0]:(l.memoizedState=[n,i],n)}function Hx(n,i){var l=Zt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Vm(i,u[1]))return u[0];if(u=n(),Gi){We(!0);try{n()}finally{We(!1)}}return l.memoizedState=[u,i],u}function Xm(n,i,l){return l===void 0||(Aa&1073741824)!==0?n.memoizedState=i:(n.memoizedState=l,n=Yb(),Ge.lanes|=n,Ma|=n,l)}function Gx(n,i,l,u){return sn(l,i)?l:Qo.current!==null?(n=Xm(n,l,u),sn(n,i)||(hs=!0),n):(Aa&42)===0?(hs=!0,n.memoizedState=l):(n=Yb(),Ge.lanes|=n,Ma|=n,i)}function Qx(n,i,l,u,f){var y=ye.p;ye.p=y!==0&&8>y?y:8;var N=K.T,I={};K.T=I,ep(n,!1,i,l);try{var $=f(),ne=K.S;if(ne!==null&&ne(I,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var he=GE($,u);Sc(n,i,he,ln(n))}else Sc(n,i,u,ln(n))}catch(xe){Sc(n,i,{then:function(){},status:"rejected",reason:xe},ln())}finally{ye.p=y,K.T=N}}function XE(){}function Zm(n,i,l,u){if(n.tag!==5)throw Error(r(476));var f=Yx(n).queue;Qx(n,f,i,ve,l===null?XE:function(){return Kx(n),l(u)})}function Yx(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ve},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Kx(n){var i=Yx(n).next.queue;Sc(n,i,{},ln())}function Jm(){return Ss(Hc)}function Wx(){return Zt().memoizedState}function Xx(){return Zt().memoizedState}function ZE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=ln();n=Ta(l);var u=Sa(i,n,l);u!==null&&(cn(u,i,l),wc(u,i,l)),i={cache:Rm()},n.payload=i;return}i=i.return}}function JE(n,i,l){var u=ln();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(n)?Jx(i,l):(l=bm(n,i,l,u),l!==null&&(cn(l,n,u),eb(l,i,u)))}function Zx(n,i,l){var u=ln();Sc(n,i,l,u)}function Sc(n,i,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(n))Jx(i,f);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var N=i.lastRenderedState,I=y(N,l);if(f.hasEagerState=!0,f.eagerState=I,sn(I,N))return Nd(n,i,f,0),At===null&&_d(),!1}catch{}finally{}if(l=bm(n,i,f,u),l!==null)return cn(l,n,u),eb(l,i,u),!0}return!1}function ep(n,i,l,u){if(u={lane:2,revertLane:kp(),action:u,hasEagerState:!1,eagerState:null,next:null},Fd(n)){if(i)throw Error(r(479))}else i=bm(n,l,u,2),i!==null&&cn(i,n,2)}function Fd(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function Jx(n,i){Yo=Dd=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function eb(n,i,l){if((l&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,l|=u,i.lanes=l,Kl(n,l)}}var zd={readContext:Ss,use:Od,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},tb={readContext:Ss,use:Od,useCallback:function(n,i){return $s().memoizedState=[n,i===void 0?null:i],n},useContext:Ss,useEffect:Ux,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Vd(4194308,4,Bx.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Vd(4194308,4,n,i)},useInsertionEffect:function(n,i){Vd(4,2,n,i)},useMemo:function(n,i){var l=$s();i=i===void 0?null:i;var u=n();if(Gi){We(!0);try{n()}finally{We(!1)}}return l.memoizedState=[u,i],u},useReducer:function(n,i,l){var u=$s();if(l!==void 0){var f=l(i);if(Gi){We(!0);try{l(i)}finally{We(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=JE.bind(null,Ge,n),[u.memoizedState,n]},useRef:function(n){var i=$s();return n={current:n},i.memoizedState=n},useState:function(n){n=Ym(n);var i=n.queue,l=Zx.bind(null,Ge,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Wm,useDeferredValue:function(n,i){var l=$s();return Xm(l,n,i)},useTransition:function(){var n=Ym(!1);return n=Qx.bind(null,Ge,n.queue,!0,!1),$s().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var u=Ge,f=$s();if(mt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),At===null)throw Error(r(349));(ot&124)!==0||_x(u,i,l)}f.memoizedState=l;var y={value:l,getSnapshot:i};return f.queue=y,Ux(jx.bind(null,u,y,n),[n]),u.flags|=2048,Wo(9,Ud(),Nx.bind(null,u,y,l,i),null),l},useId:function(){var n=$s(),i=At.identifierPrefix;if(mt){var l=Hr,u=$r;l=(u&~(1<<32-Lt(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=Md++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=QE++,i="«"+i+"r"+l.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Jm,useFormState:Px,useActionState:Px,useOptimistic:function(n){var i=$s();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=ep.bind(null,Ge,!0,l),l.dispatch=i,[n,i]},useMemoCache:Hm,useCacheRefresh:function(){return $s().memoizedState=ZE.bind(null,Ge)}},sb={readContext:Ss,use:Od,useCallback:$x,useContext:Ss,useEffect:Vx,useImperativeHandle:qx,useInsertionEffect:Fx,useLayoutEffect:zx,useMemo:Hx,useReducer:Ld,useRef:Lx,useState:function(){return Ld(Yr)},useDebugValue:Wm,useDeferredValue:function(n,i){var l=Zt();return Gx(l,_t.memoizedState,n,i)},useTransition:function(){var n=Ld(Yr)[0],i=Zt().memoizedState;return[typeof n=="boolean"?n:Ec(n),i]},useSyncExternalStore:wx,useId:Wx,useHostTransitionStatus:Jm,useFormState:Dx,useActionState:Dx,useOptimistic:function(n,i){var l=Zt();return Sx(l,_t,n,i)},useMemoCache:Hm,useCacheRefresh:Xx},eT={readContext:Ss,use:Od,useCallback:$x,useContext:Ss,useEffect:Vx,useImperativeHandle:qx,useInsertionEffect:Fx,useLayoutEffect:zx,useMemo:Hx,useReducer:Qm,useRef:Lx,useState:function(){return Qm(Yr)},useDebugValue:Wm,useDeferredValue:function(n,i){var l=Zt();return _t===null?Xm(l,n,i):Gx(l,_t.memoizedState,n,i)},useTransition:function(){var n=Qm(Yr)[0],i=Zt().memoizedState;return[typeof n=="boolean"?n:Ec(n),i]},useSyncExternalStore:wx,useId:Wx,useHostTransitionStatus:Jm,useFormState:Ox,useActionState:Ox,useOptimistic:function(n,i){var l=Zt();return _t!==null?Sx(l,_t,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:Xx},Xo=null,Ac=0;function Bd(n){var i=Ac;return Ac+=1,Xo===null&&(Xo=[]),fx(Xo,n,i)}function Rc(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function qd(n,i){throw i.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function nb(n){var i=n._init;return i(n._payload)}function rb(n){function i(Z,Y){if(n){var te=Z.deletions;te===null?(Z.deletions=[Y],Z.flags|=16):te.push(Y)}}function l(Z,Y){if(!n)return null;for(;Y!==null;)i(Z,Y),Y=Y.sibling;return null}function u(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function f(Z,Y){return Z=qr(Z,Y),Z.index=0,Z.sibling=null,Z}function y(Z,Y,te){return Z.index=te,n?(te=Z.alternate,te!==null?(te=te.index,te<Y?(Z.flags|=67108866,Y):te):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function N(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function I(Z,Y,te,pe){return Y===null||Y.tag!==6?(Y=wm(te,Z.mode,pe),Y.return=Z,Y):(Y=f(Y,te),Y.return=Z,Y)}function $(Z,Y,te,pe){var Re=te.type;return Re===A?he(Z,Y,te.props.children,pe,te.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&nb(Re)===Y.type)?(Y=f(Y,te.props),Rc(Y,te),Y.return=Z,Y):(Y=Ed(te.type,te.key,te.props,null,Z.mode,pe),Rc(Y,te),Y.return=Z,Y)}function ne(Z,Y,te,pe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=_m(te,Z.mode,pe),Y.return=Z,Y):(Y=f(Y,te.children||[]),Y.return=Z,Y)}function he(Z,Y,te,pe,Re){return Y===null||Y.tag!==7?(Y=Ui(te,Z.mode,pe,Re),Y.return=Z,Y):(Y=f(Y,te),Y.return=Z,Y)}function xe(Z,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=wm(""+Y,Z.mode,te),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return te=Ed(Y.type,Y.key,Y.props,null,Z.mode,te),Rc(te,Y),te.return=Z,te;case j:return Y=_m(Y,Z.mode,te),Y.return=Z,Y;case R:var pe=Y._init;return Y=pe(Y._payload),xe(Z,Y,te)}if(de(Y)||C(Y))return Y=Ui(Y,Z.mode,te,null),Y.return=Z,Y;if(typeof Y.then=="function")return xe(Z,Bd(Y),te);if(Y.$$typeof===P)return xe(Z,Rd(Z,Y),te);qd(Z,Y)}return null}function ae(Z,Y,te,pe){var Re=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Re!==null?null:I(Z,Y,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Re?$(Z,Y,te,pe):null;case j:return te.key===Re?ne(Z,Y,te,pe):null;case R:return Re=te._init,te=Re(te._payload),ae(Z,Y,te,pe)}if(de(te)||C(te))return Re!==null?null:he(Z,Y,te,pe,null);if(typeof te.then=="function")return ae(Z,Y,Bd(te),pe);if(te.$$typeof===P)return ae(Z,Y,Rd(Z,te),pe);qd(Z,te)}return null}function oe(Z,Y,te,pe,Re){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(te)||null,I(Y,Z,""+pe,Re);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Z=Z.get(pe.key===null?te:pe.key)||null,$(Y,Z,pe,Re);case j:return Z=Z.get(pe.key===null?te:pe.key)||null,ne(Y,Z,pe,Re);case R:var Xe=pe._init;return pe=Xe(pe._payload),oe(Z,Y,te,pe,Re)}if(de(pe)||C(pe))return Z=Z.get(te)||null,he(Y,Z,pe,Re,null);if(typeof pe.then=="function")return oe(Z,Y,te,Bd(pe),Re);if(pe.$$typeof===P)return oe(Z,Y,te,Rd(Y,pe),Re);qd(Y,pe)}return null}function Ve(Z,Y,te,pe){for(var Re=null,Xe=null,ke=Y,Oe=Y=0,ms=null;ke!==null&&Oe<te.length;Oe++){ke.index>Oe?(ms=ke,ke=null):ms=ke.sibling;var ht=ae(Z,ke,te[Oe],pe);if(ht===null){ke===null&&(ke=ms);break}n&&ke&&ht.alternate===null&&i(Z,ke),Y=y(ht,Y,Oe),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht,ke=ms}if(Oe===te.length)return l(Z,ke),mt&&Fi(Z,Oe),Re;if(ke===null){for(;Oe<te.length;Oe++)ke=xe(Z,te[Oe],pe),ke!==null&&(Y=y(ke,Y,Oe),Xe===null?Re=ke:Xe.sibling=ke,Xe=ke);return mt&&Fi(Z,Oe),Re}for(ke=u(ke);Oe<te.length;Oe++)ms=oe(ke,Z,Oe,te[Oe],pe),ms!==null&&(n&&ms.alternate!==null&&ke.delete(ms.key===null?Oe:ms.key),Y=y(ms,Y,Oe),Xe===null?Re=ms:Xe.sibling=ms,Xe=ms);return n&&ke.forEach(function($a){return i(Z,$a)}),mt&&Fi(Z,Oe),Re}function Me(Z,Y,te,pe){if(te==null)throw Error(r(151));for(var Re=null,Xe=null,ke=Y,Oe=Y=0,ms=null,ht=te.next();ke!==null&&!ht.done;Oe++,ht=te.next()){ke.index>Oe?(ms=ke,ke=null):ms=ke.sibling;var $a=ae(Z,ke,ht.value,pe);if($a===null){ke===null&&(ke=ms);break}n&&ke&&$a.alternate===null&&i(Z,ke),Y=y($a,Y,Oe),Xe===null?Re=$a:Xe.sibling=$a,Xe=$a,ke=ms}if(ht.done)return l(Z,ke),mt&&Fi(Z,Oe),Re;if(ke===null){for(;!ht.done;Oe++,ht=te.next())ht=xe(Z,ht.value,pe),ht!==null&&(Y=y(ht,Y,Oe),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht);return mt&&Fi(Z,Oe),Re}for(ke=u(ke);!ht.done;Oe++,ht=te.next())ht=oe(ke,Z,Oe,ht.value,pe),ht!==null&&(n&&ht.alternate!==null&&ke.delete(ht.key===null?Oe:ht.key),Y=y(ht,Y,Oe),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht);return n&&ke.forEach(function(tS){return i(Z,tS)}),mt&&Fi(Z,Oe),Re}function jt(Z,Y,te,pe){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Re=te.key;Y!==null;){if(Y.key===Re){if(Re=te.type,Re===A){if(Y.tag===7){l(Z,Y.sibling),pe=f(Y,te.props.children),pe.return=Z,Z=pe;break e}}else if(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&nb(Re)===Y.type){l(Z,Y.sibling),pe=f(Y,te.props),Rc(pe,te),pe.return=Z,Z=pe;break e}l(Z,Y);break}else i(Z,Y);Y=Y.sibling}te.type===A?(pe=Ui(te.props.children,Z.mode,pe,te.key),pe.return=Z,Z=pe):(pe=Ed(te.type,te.key,te.props,null,Z.mode,pe),Rc(pe,te),pe.return=Z,Z=pe)}return N(Z);case j:e:{for(Re=te.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){l(Z,Y.sibling),pe=f(Y,te.children||[]),pe.return=Z,Z=pe;break e}else{l(Z,Y);break}else i(Z,Y);Y=Y.sibling}pe=_m(te,Z.mode,pe),pe.return=Z,Z=pe}return N(Z);case R:return Re=te._init,te=Re(te._payload),jt(Z,Y,te,pe)}if(de(te))return Ve(Z,Y,te,pe);if(C(te)){if(Re=C(te),typeof Re!="function")throw Error(r(150));return te=Re.call(te),Me(Z,Y,te,pe)}if(typeof te.then=="function")return jt(Z,Y,Bd(te),pe);if(te.$$typeof===P)return jt(Z,Y,Rd(Z,te),pe);qd(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(l(Z,Y.sibling),pe=f(Y,te),pe.return=Z,Z=pe):(l(Z,Y),pe=wm(te,Z.mode,pe),pe.return=Z,Z=pe),N(Z)):l(Z,Y)}return function(Z,Y,te,pe){try{Ac=0;var Re=jt(Z,Y,te,pe);return Xo=null,Re}catch(ke){if(ke===bc||ke===Id)throw ke;var Xe=nn(29,ke,null,Z.mode);return Xe.lanes=pe,Xe.return=Z,Xe}finally{}}}var Zo=rb(!0),ab=rb(!1),jn=G(null),hr=null;function Ra(n){var i=n.alternate;V(os,os.current&1),V(jn,n),hr===null&&(i===null||Qo.current!==null||i.memoizedState!==null)&&(hr=n)}function ib(n){if(n.tag===22){if(V(os,os.current),V(jn,n),hr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(hr=n)}}else Ca()}function Ca(){V(os,os.current),V(jn,jn.current)}function Kr(n){ee(jn),hr===n&&(hr=null),ee(os)}var os=G(0);function $d(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||$p(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tp(n,i,l,u){i=n.memoizedState,l=l(u,i),l=l==null?i:b({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var sp={enqueueSetState:function(n,i,l){n=n._reactInternals;var u=ln(),f=Ta(u);f.payload=i,l!=null&&(f.callback=l),i=Sa(n,f,u),i!==null&&(cn(i,n,u),wc(i,n,u))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var u=ln(),f=Ta(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Sa(n,f,u),i!==null&&(cn(i,n,u),wc(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=ln(),u=Ta(l);u.tag=2,i!=null&&(u.callback=i),i=Sa(n,u,l),i!==null&&(cn(i,n,l),wc(i,n,l))}};function ob(n,i,l,u,f,y,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,N):i.prototype&&i.prototype.isPureReactComponent?!dc(l,u)||!dc(f,y):!0}function lb(n,i,l,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==n&&sp.enqueueReplaceState(i,i.state,null)}function Qi(n,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(n=n.defaultProps){l===i&&(l=b({},l));for(var f in n)l[f]===void 0&&(l[f]=n[f])}return l}var Hd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function cb(n){Hd(n)}function ub(n){console.error(n)}function db(n){Hd(n)}function Gd(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function hb(n,i,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function np(n,i,l){return l=Ta(l),l.tag=3,l.payload={element:null},l.callback=function(){Gd(n,i)},l}function fb(n){return n=Ta(n),n.tag=3,n}function mb(n,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;n.payload=function(){return f(y)},n.callback=function(){hb(i,l,u)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){hb(i,l,u),typeof f!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function tT(n,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&gc(i,l,f,!0),l=jn.current,l!==null){switch(l.tag){case 13:return hr===null?Sp():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===km?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Rp(n,u,f)),!1;case 22:return l.flags|=65536,u===km?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Rp(n,u,f)),!1}throw Error(r(435,l.tag))}return Rp(n,u,f),Sp(),!1}if(mt)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Em&&(n=Error(r(422),{cause:u}),pc(vn(n,l)))):(u!==Em&&(i=Error(r(423),{cause:u}),pc(vn(i,l))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=vn(u,l),f=np(n.stateNode,u,f),Mm(n,f),qt!==4&&(qt=2)),!1;var y=Error(r(520),{cause:u});if(y=vn(y,l),Oc===null?Oc=[y]:Oc.push(y),qt!==4&&(qt=2),i===null)return!0;u=vn(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=f&-f,l.lanes|=n,n=np(l.stateNode,u,n),Mm(l,n),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))))return l.flags|=65536,f&=-f,l.lanes|=f,f=fb(f),mb(f,n,l,u),Mm(l,f),!1}l=l.return}while(l!==null);return!1}var pb=Error(r(461)),hs=!1;function ws(n,i,l,u){i.child=n===null?ab(i,null,l,u):Zo(i,n.child,l,u)}function gb(n,i,l,u,f){l=l.render;var y=i.ref;if("ref"in u){var N={};for(var I in u)I!=="ref"&&(N[I]=u[I])}else N=u;return $i(i),u=Fm(n,i,l,N,y,f),I=zm(),n!==null&&!hs?(Bm(n,i,f),Wr(n,i,f)):(mt&&I&&Nm(i),i.flags|=1,ws(n,i,u,f),i.child)}function yb(n,i,l,u,f){if(n===null){var y=l.type;return typeof y=="function"&&!vm(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,xb(n,i,y,u,f)):(n=Ed(l.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!dp(n,f)){var N=y.memoizedProps;if(l=l.compare,l=l!==null?l:dc,l(N,u)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=qr(y,u),n.ref=i.ref,n.return=i,i.child=n}function xb(n,i,l,u,f){if(n!==null){var y=n.memoizedProps;if(dc(y,u)&&n.ref===i.ref)if(hs=!1,i.pendingProps=u=y,dp(n,f))(n.flags&131072)!==0&&(hs=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return rp(n,i,l,u,f)}function bb(n,i,l){var u=i.pendingProps,f=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,n!==null){for(f=i.child=n.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;i.childLanes=y&~u}else i.childLanes=0,i.child=null;return vb(n,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cd(i,y!==null?y.cachePool:null),y!==null?xx(i,y):Lm(),ib(i);else return i.lanes=i.childLanes=536870912,vb(n,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(Cd(i,y.cachePool),xx(i,y),Ca(),i.memoizedState=null):(n!==null&&Cd(i,null),Lm(),Ca());return ws(n,i,f,l),i.child}function vb(n,i,l,u){var f=Im();return f=f===null?null:{parent:is._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},n!==null&&Cd(i,null),Lm(),ib(i),n!==null&&gc(n,i,u,!0),null}function Qd(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function rp(n,i,l,u,f){return $i(i),l=Fm(n,i,l,u,void 0,f),u=zm(),n!==null&&!hs?(Bm(n,i,f),Wr(n,i,f)):(mt&&u&&Nm(i),i.flags|=1,ws(n,i,l,f),i.child)}function wb(n,i,l,u,f,y){return $i(i),i.updateQueue=null,l=vx(i,u,l,f),bx(n),u=zm(),n!==null&&!hs?(Bm(n,i,y),Wr(n,i,y)):(mt&&u&&Nm(i),i.flags|=1,ws(n,i,l,y),i.child)}function _b(n,i,l,u,f){if($i(i),i.stateNode===null){var y=Bo,N=l.contextType;typeof N=="object"&&N!==null&&(y=Ss(N)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=sp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Pm(i),N=l.contextType,y.context=typeof N=="object"&&N!==null?Ss(N):Bo,y.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(tp(i,l,N,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&sp.enqueueReplaceState(y,y.state,null),Nc(i,u,y,f),_c(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){y=i.stateNode;var I=i.memoizedProps,$=Qi(l,I);y.props=$;var ne=y.context,he=l.contextType;N=Bo,typeof he=="object"&&he!==null&&(N=Ss(he));var xe=l.getDerivedStateFromProps;he=typeof xe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||ne!==N)&&lb(i,y,u,N),Ea=!1;var ae=i.memoizedState;y.state=ae,Nc(i,u,y,f),_c(),ne=i.memoizedState,I||ae!==ne||Ea?(typeof xe=="function"&&(tp(i,l,xe,u),ne=i.memoizedState),($=Ea||ob(i,l,$,u,ae,ne,N))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ne),y.props=u,y.state=ne,y.context=N,u=$):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Dm(n,i),N=i.memoizedProps,he=Qi(l,N),y.props=he,xe=i.pendingProps,ae=y.context,ne=l.contextType,$=Bo,typeof ne=="object"&&ne!==null&&($=Ss(ne)),I=l.getDerivedStateFromProps,(ne=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==xe||ae!==$)&&lb(i,y,u,$),Ea=!1,ae=i.memoizedState,y.state=ae,Nc(i,u,y,f),_c();var oe=i.memoizedState;N!==xe||ae!==oe||Ea||n!==null&&n.dependencies!==null&&Ad(n.dependencies)?(typeof I=="function"&&(tp(i,l,I,u),oe=i.memoizedState),(he=Ea||ob(i,l,he,u,ae,oe,$)||n!==null&&n.dependencies!==null&&Ad(n.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,$)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=oe),y.props=u,y.state=oe,y.context=$,u=he):(typeof y.componentDidUpdate!="function"||N===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),u=!1)}return y=u,Qd(n,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&u?(i.child=Zo(i,n.child,null,f),i.child=Zo(i,null,l,f)):ws(n,i,l,f),i.memoizedState=y.state,n=i.child):n=Wr(n,i,f),n}function Nb(n,i,l,u){return mc(),i.flags|=256,ws(n,i,l,u),i.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(n){return{baseLanes:n,cachePool:ux()}}function op(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=En),n}function jb(n,i,l){var u=i.pendingProps,f=!1,y=(i.flags&128)!==0,N;if((N=y)||(N=n!==null&&n.memoizedState===null?!1:(os.current&2)!==0),N&&(f=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,n===null){if(mt){if(f?Ra(i):Ca(),mt){var I=Bt,$;if($=I){e:{for($=I,I=dr;$.nodeType!==8;){if(!I){I=null;break e}if($=Vn($.nextSibling),$===null){I=null;break e}}I=$}I!==null?(i.memoizedState={dehydrated:I,treeContext:Vi!==null?{id:$r,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},$=nn(18,null,null,0),$.stateNode=I,$.return=i,i.child=$,Vs=i,Bt=null,$=!0):$=!1}$||Bi(i)}if(I=i.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return $p(I)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return I=u.children,u=u.fallback,f?(Ca(),f=i.mode,I=Yd({mode:"hidden",children:I},f),u=Ui(u,f,l,null),I.return=i,u.return=i,I.sibling=u,i.child=I,f=i.child,f.memoizedState=ip(l),f.childLanes=op(n,N,l),i.memoizedState=ap,u):(Ra(i),lp(i,I))}if($=n.memoizedState,$!==null&&(I=$.dehydrated,I!==null)){if(y)i.flags&256?(Ra(i),i.flags&=-257,i=cp(n,i,l)):i.memoizedState!==null?(Ca(),i.child=n.child,i.flags|=128,i=null):(Ca(),f=u.fallback,I=i.mode,u=Yd({mode:"visible",children:u.children},I),f=Ui(f,I,l,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Zo(i,n.child,null,l),u=i.child,u.memoizedState=ip(l),u.childLanes=op(n,N,l),i.memoizedState=ap,i=f);else if(Ra(i),$p(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var ne=N.dgst;N=ne,u=Error(r(419)),u.stack="",u.digest=N,pc({value:u,source:null,stack:null}),i=cp(n,i,l)}else if(hs||gc(n,i,l,!1),N=(l&n.childLanes)!==0,hs||N){if(N=At,N!==null&&(u=l&-l,u=(u&42)!==0?1:ya(u),u=(u&(N.suspendedLanes|l))!==0?0:u,u!==0&&u!==$.retryLane))throw $.retryLane=u,zo(n,u),cn(N,n,u),pb;I.data==="$?"||Sp(),i=cp(n,i,l)}else I.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=$.treeContext,Bt=Vn(I.nextSibling),Vs=i,mt=!0,zi=null,dr=!1,n!==null&&(_n[Nn++]=$r,_n[Nn++]=Hr,_n[Nn++]=Vi,$r=n.id,Hr=n.overflow,Vi=i),i=lp(i,u.children),i.flags|=4096);return i}return f?(Ca(),f=u.fallback,I=i.mode,$=n.child,ne=$.sibling,u=qr($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,ne!==null?f=qr(ne,f):(f=Ui(f,I,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,I=n.child.memoizedState,I===null?I=ip(l):($=I.cachePool,$!==null?(ne=is._currentValue,$=$.parent!==ne?{parent:ne,pool:ne}:$):$=ux(),I={baseLanes:I.baseLanes|l,cachePool:$}),f.memoizedState=I,f.childLanes=op(n,N,l),i.memoizedState=ap,u):(Ra(i),l=n.child,n=l.sibling,l=qr(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,n!==null&&(N=i.deletions,N===null?(i.deletions=[n],i.flags|=16):N.push(n)),i.child=l,i.memoizedState=null,l)}function lp(n,i){return i=Yd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Yd(n,i){return n=nn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cp(n,i,l){return Zo(i,n.child,null,l),n=lp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Eb(n,i,l){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Sm(n.return,i,l)}function up(n,i,l,u,f){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=f)}function Tb(n,i,l){var u=i.pendingProps,f=u.revealOrder,y=u.tail;if(ws(n,i,u.children,l),u=os.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Eb(n,l,i);else if(n.tag===19)Eb(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(V(os,u),f){case"forwards":for(l=i.child,f=null;l!==null;)n=l.alternate,n!==null&&$d(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),up(i,!1,f,l,y);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&$d(n)===null){i.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}up(i,!0,l,null,y);break;case"together":up(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),Ma|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(gc(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=qr(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=qr(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function dp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ad(n)))}function sT(n,i,l){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),ja(i,is,n.memoizedState.cache),mc();break;case 27:case 5:Ye(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:ja(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ra(i),i.flags|=128,null):(l&i.child.childLanes)!==0?jb(n,i,l):(Ra(i),n=Wr(n,i,l),n!==null?n.sibling:null);Ra(i);break;case 19:var f=(n.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(gc(n,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return Tb(n,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(os,os.current),u)break;return null;case 22:case 23:return i.lanes=0,bb(n,i,l);case 24:ja(i,is,n.memoizedState.cache)}return Wr(n,i,l)}function Sb(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)hs=!0;else{if(!dp(n,l)&&(i.flags&128)===0)return hs=!1,sT(n,i,l);hs=(n.flags&131072)!==0}else hs=!1,mt&&(i.flags&1048576)!==0&&nx(i,Sd,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")vm(u)?(n=Qi(u,n),i.tag=1,i=_b(null,i,u,n,l)):(i.tag=0,i=rp(null,i,u,n,l));else{if(u!=null){if(f=u.$$typeof,f===B){i.tag=11,i=gb(null,i,u,n,l);break e}else if(f===M){i.tag=14,i=yb(null,i,u,n,l);break e}}throw i=re(u)||u,Error(r(306,i,""))}}return i;case 0:return rp(n,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Qi(u,i.pendingProps),_b(n,i,u,f,l);case 3:e:{if(Se(i,i.stateNode.containerInfo),n===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;f=y.element,Dm(n,i),Nc(i,u,null,l);var N=i.memoizedState;if(u=N.cache,ja(i,is,u),u!==y.cache&&Am(i,[is],l,!0),_c(),u=N.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Nb(n,i,u,l);break e}else if(u!==f){f=vn(Error(r(424)),i),pc(f),i=Nb(n,i,u,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Bt=Vn(n.firstChild),Vs=i,mt=!0,zi=null,dr=!0,l=ab(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mc(),u===f){i=Wr(n,i,l);break e}ws(n,i,u,l)}i=i.child}return i;case 26:return Qd(n,i),n===null?(l=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=l:mt||(l=i.type,n=i.pendingProps,u=lh(se.current).createElement(l),u[ns]=i,u[Kt]=n,Ns(u,l,n),$t(u),i.stateNode=u):i.memoizedState=Iv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ye(i),n===null&&mt&&(u=i.stateNode=Av(i.type,i.pendingProps,se.current),Vs=i,dr=!0,f=Bt,Va(i.type)?(Hp=f,Bt=Vn(u.firstChild)):Bt=f),ws(n,i,i.pendingProps.children,l),Qd(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&mt&&((f=u=Bt)&&(u=CT(u,i.type,i.pendingProps,dr),u!==null?(i.stateNode=u,Vs=i,Bt=Vn(u.firstChild),dr=!1,f=!0):f=!1),f||Bi(i)),Ye(i),f=i.type,y=i.pendingProps,N=n!==null?n.memoizedProps:null,u=y.children,zp(f,y)?u=null:N!==null&&zp(f,N)&&(i.flags|=32),i.memoizedState!==null&&(f=Fm(n,i,YE,null,null,l),Hc._currentValue=f),Qd(n,i),ws(n,i,u,l),i.child;case 6:return n===null&&mt&&((n=l=Bt)&&(l=IT(l,i.pendingProps,dr),l!==null?(i.stateNode=l,Vs=i,Bt=null,n=!0):n=!1),n||Bi(i)),null;case 13:return jb(n,i,l);case 4:return Se(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Zo(i,null,u,l):ws(n,i,u,l),i.child;case 11:return gb(n,i,i.type,i.pendingProps,l);case 7:return ws(n,i,i.pendingProps,l),i.child;case 8:return ws(n,i,i.pendingProps.children,l),i.child;case 12:return ws(n,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ja(i,i.type,u.value),ws(n,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,$i(i),f=Ss(f),u=u(f),i.flags|=1,ws(n,i,u,l),i.child;case 14:return yb(n,i,i.type,i.pendingProps,l);case 15:return xb(n,i,i.type,i.pendingProps,l);case 19:return Tb(n,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},n===null?(l=Yd(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=qr(n.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return bb(n,i,l);case 24:return $i(i),u=Ss(is),n===null?(f=Im(),f===null&&(f=At,y=Rm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=l),f=y),i.memoizedState={parent:u,cache:f},Pm(i),ja(i,is,f)):((n.lanes&l)!==0&&(Dm(n,i),Nc(i,null,null,l),_c()),f=n.memoizedState,y=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ja(i,is,u)):(u=y.cache,ja(i,is,u),u!==f.cache&&Am(i,[is],l,!0))),ws(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xr(n){n.flags|=4}function Ab(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ov(i)){if(i=jn.current,i!==null&&((ot&4194048)===ot?hr!==null:(ot&62914560)!==ot&&(ot&536870912)===0||i!==hr))throw vc=km,dx;n.flags|=8192}}function Kd(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ql():536870912,n.lanes|=i,sl|=i)}function Cc(n,i){if(!mt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(i)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=l,i}function nT(n,i,l){var u=i.pendingProps;switch(jm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Ut(i),null;case 3:return l=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qr(is),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(fc(i)?Xr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ix())),Ut(i),null;case 26:return l=i.memoizedState,n===null?(Xr(i),l!==null?(Ut(i),Ab(i,l)):(Ut(i),i.flags&=-16777217)):l?l!==n.memoizedState?(Xr(i),Ut(i),Ab(i,l)):(Ut(i),i.flags&=-16777217):(n.memoizedProps!==u&&Xr(i),Ut(i),i.flags&=-16777217),null;case 27:me(i),l=se.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Xr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Ut(i),null}n=ue.current,fc(i)?rx(i):(n=Av(f,u,l),i.stateNode=n,Xr(i))}return Ut(i),null;case 5:if(me(i),l=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Xr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Ut(i),null}if(n=ue.current,fc(i))rx(i);else{switch(f=lh(se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}n[ns]=i,n[Kt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ns(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xr(i)}}return Ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Xr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(n=se.current,fc(i)){if(n=i.stateNode,l=i.memoizedProps,u=null,f=Vs,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[ns]=i,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wv(n.nodeValue,l)),n||Bi(i)}else n=lh(n).createTextNode(u),n[ns]=i,i.stateNode=n}return Ut(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fc(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ns]=i}else mc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),f=!1}else f=ix(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)}return l!==n&&l&&(i.child.flags|=8192),Kd(i,i.updateQueue),Ut(i),null;case 4:return $e(),n===null&&Op(i.stateNode.containerInfo),Ut(i),null;case 10:return Qr(i.type),Ut(i),null;case 19:if(ee(os),f=i.memoizedState,f===null)return Ut(i),null;if(u=(i.flags&128)!==0,y=f.rendering,y===null)if(u)Cc(f,!1);else{if(qt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=$d(n),y!==null){for(i.flags|=128,Cc(f,!1),n=y.updateQueue,i.updateQueue=n,Kd(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)sx(l,n),l=l.sibling;return V(os,os.current&1|2),i.child}n=n.sibling}f.tail!==null&&Ce()>Zd&&(i.flags|=128,u=!0,Cc(f,!1),i.lanes=4194304)}else{if(!u)if(n=$d(y),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Kd(i,n),Cc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!mt)return Ut(i),null}else 2*Ce()-f.renderingStartTime>Zd&&l!==536870912&&(i.flags|=128,u=!0,Cc(f,!1),i.lanes=4194304);f.isBackwards?(y.sibling=i.child,i.child=y):(n=f.last,n!==null?n.sibling=y:i.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ce(),i.sibling=null,n=os.current,V(os,u?n&1|2:n&1),i):(Ut(i),null);case 22:case 23:return Kr(i),Um(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),l=i.updateQueue,l!==null&&Kd(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),n!==null&&ee(Hi),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qr(is),Ut(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function rT(n,i){switch(jm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(is),$e(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return me(i),null;case 13:if(Kr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));mc()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ee(os),null;case 4:return $e(),null;case 10:return Qr(i.type),null;case 22:case 23:return Kr(i),Um(),n!==null&&ee(Hi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(is),null;case 25:return null;default:return null}}function Rb(n,i){switch(jm(i),i.tag){case 3:Qr(is),$e();break;case 26:case 27:case 5:me(i);break;case 4:$e();break;case 13:Kr(i);break;case 19:ee(os);break;case 10:Qr(i.type);break;case 22:case 23:Kr(i),Um(),n!==null&&ee(Hi);break;case 24:Qr(is)}}function Ic(n,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&n)===n){u=void 0;var y=l.create,N=l.inst;u=y(),N.destroy=u}l=l.next}while(l!==f)}}catch(I){Et(i,i.return,I)}}function Ia(n,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&n)===n){var N=u.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,f=i;var $=l,ne=I;try{ne()}catch(he){Et(f,$,he)}}}u=u.next}while(u!==y)}}catch(he){Et(i,i.return,he)}}function Cb(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{yx(i,l)}catch(u){Et(n,n.return,u)}}}function Ib(n,i,l){l.props=Qi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Et(n,i,u)}}function kc(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(f){Et(n,i,f)}}function fr(n,i){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){Et(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Et(n,i,f)}else l.current=null}function kb(n){var i=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){Et(n,n.return,f)}}function hp(n,i,l){try{var u=n.stateNode;ET(u,n.type,l,i),u[Kt]=i}catch(f){Et(n,n.return,f)}}function Pb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Va(n.type)||n.tag===4}function fp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Va(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mp(n,i,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=oh));else if(u!==4&&(u===27&&Va(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(mp(n,i,l),n=n.sibling;n!==null;)mp(n,i,l),n=n.sibling}function Wd(n,i,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(u!==4&&(u===27&&Va(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Wd(n,i,l),n=n.sibling;n!==null;)Wd(n,i,l),n=n.sibling}function Db(n){var i=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ns(i,u,l),i[ns]=n,i[Kt]=l}catch(y){Et(n,n.return,y)}}var Zr=!1,Gt=!1,pp=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,fs=null;function aT(n,i){if(n=n.containerInfo,Vp=mh,n=Gy(n),fm(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var N=0,I=-1,$=-1,ne=0,he=0,xe=n,ae=null;t:for(;;){for(var oe;xe!==l||f!==0&&xe.nodeType!==3||(I=N+f),xe!==y||u!==0&&xe.nodeType!==3||($=N+u),xe.nodeType===3&&(N+=xe.nodeValue.length),(oe=xe.firstChild)!==null;)ae=xe,xe=oe;for(;;){if(xe===n)break t;if(ae===l&&++ne===f&&(I=N),ae===y&&++he===u&&($=N),(oe=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=oe}l=I===-1||$===-1?null:{start:I,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fp={focusedElem:n,selectionRange:l},mh=!1,fs=i;fs!==null;)if(i=fs,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,fs=n;else for(;fs!==null;){switch(i=fs,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=i,f=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ve=Qi(l.type,f,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(Ve,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Me){Et(l,l.return,Me)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)qp(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":qp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,fs=n;break}fs=i.return}}function Ob(n,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ka(n,l),u&4&&Ic(5,l);break;case 1:if(ka(n,l),u&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(N){Et(l,l.return,N)}else{var f=Qi(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(l,l.return,N)}}u&64&&Cb(l),u&512&&kc(l,l.return);break;case 3:if(ka(n,l),u&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{yx(n,i)}catch(N){Et(l,l.return,N)}}break;case 27:i===null&&u&4&&Db(l);case 26:case 5:ka(n,l),i===null&&u&4&&kb(l),u&512&&kc(l,l.return);break;case 12:ka(n,l);break;case 13:ka(n,l),u&4&&Vb(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=mT.bind(null,l),kT(n,l))));break;case 22:if(u=l.memoizedState!==null||Zr,!u){i=i!==null&&i.memoizedState!==null||Gt,f=Zr;var y=Gt;Zr=u,(Gt=i)&&!y?Pa(n,l,(l.subtreeFlags&8772)!==0):ka(n,l),Zr=f,Gt=y}break;case 30:break;default:ka(n,l)}}function Lb(n){var i=n.alternate;i!==null&&(n.alternate=null,Lb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&va(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Pt=null,Hs=!1;function Jr(n,i,l){for(l=l.child;l!==null;)Ub(n,i,l),l=l.sibling}function Ub(n,i,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(dt,l)}catch{}switch(l.tag){case 26:Gt||fr(l,i),Jr(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||fr(l,i);var u=Pt,f=Hs;Va(l.type)&&(Pt=l.stateNode,Hs=!1),Jr(n,i,l),zc(l.stateNode),Pt=u,Hs=f;break;case 5:Gt||fr(l,i);case 6:if(u=Pt,f=Hs,Pt=null,Jr(n,i,l),Pt=u,Hs=f,Pt!==null)if(Hs)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(y){Et(l,i,y)}else try{Pt.removeChild(l.stateNode)}catch(y){Et(l,i,y)}break;case 18:Pt!==null&&(Hs?(n=Pt,Tv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Kc(n)):Tv(Pt,l.stateNode));break;case 4:u=Pt,f=Hs,Pt=l.stateNode.containerInfo,Hs=!0,Jr(n,i,l),Pt=u,Hs=f;break;case 0:case 11:case 14:case 15:Gt||Ia(2,l,i),Gt||Ia(4,l,i),Jr(n,i,l);break;case 1:Gt||(fr(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ib(l,i,u)),Jr(n,i,l);break;case 21:Jr(n,i,l);break;case 22:Gt=(u=Gt)||l.memoizedState!==null,Jr(n,i,l),Gt=u;break;default:Jr(n,i,l)}}function Vb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kc(n)}catch(l){Et(i,i.return,l)}}function iT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Mb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Mb),i;default:throw Error(r(435,n.tag))}}function gp(n,i){var l=iT(n);i.forEach(function(u){var f=pT.bind(null,n,u);l.has(u)||(l.add(u),u.then(f,f))})}function rn(n,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],y=n,N=i,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Va(I.type)){Pt=I.stateNode,Hs=!1;break e}break;case 5:Pt=I.stateNode,Hs=!1;break e;case 3:case 4:Pt=I.stateNode.containerInfo,Hs=!0;break e}I=I.return}if(Pt===null)throw Error(r(160));Ub(y,N,f),Pt=null,Hs=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fb(i,n),i=i.sibling}var Un=null;function Fb(n,i){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:rn(i,n),an(n),u&4&&(Ia(3,n,n.return),Ic(3,n),Ia(5,n,n.return));break;case 1:rn(i,n),an(n),u&512&&(Gt||l===null||fr(l,l.return)),u&64&&Zr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Un;if(rn(i,n),an(n),u&512&&(Gt||l===null||fr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[_i]||y[ns]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),Ns(y,u,l),y[ns]=n,$t(y),u=y;break e;case"link":var N=Dv("link","href",f).get(u+(l.href||""));if(N){for(var I=0;I<N.length;I++)if(y=N[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(I,1);break t}}y=f.createElement(u),Ns(y,u,l),f.head.appendChild(y);break;case"meta":if(N=Dv("meta","content",f).get(u+(l.content||""))){for(I=0;I<N.length;I++)if(y=N[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(I,1);break t}}y=f.createElement(u),Ns(y,u,l),f.head.appendChild(y);break;default:throw Error(r(468,u))}y[ns]=n,$t(y),u=y}n.stateNode=u}else Mv(f,n.type,n.stateNode);else n.stateNode=Pv(f,u,n.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Mv(f,n.type,n.stateNode):Pv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&hp(n,n.memoizedProps,l.memoizedProps)}break;case 27:rn(i,n),an(n),u&512&&(Gt||l===null||fr(l,l.return)),l!==null&&u&4&&hp(n,n.memoizedProps,l.memoizedProps);break;case 5:if(rn(i,n),an(n),u&512&&(Gt||l===null||fr(l,l.return)),n.flags&32){f=n.stateNode;try{gn(f,"")}catch(oe){Et(n,n.return,oe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,hp(n,f,l!==null?l.memoizedProps:f)),u&1024&&(pp=!0);break;case 6:if(rn(i,n),an(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(oe){Et(n,n.return,oe)}}break;case 3:if(dh=null,f=Un,Un=ch(i.containerInfo),rn(i,n),Un=f,an(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(i.containerInfo)}catch(oe){Et(n,n.return,oe)}pp&&(pp=!1,zb(n));break;case 4:u=Un,Un=ch(n.stateNode.containerInfo),rn(i,n),an(n),Un=u;break;case 12:rn(i,n),an(n);break;case 13:rn(i,n),an(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_p=Ce()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gp(n,u)));break;case 22:f=n.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,ne=Zr,he=Gt;if(Zr=ne||f,Gt=he||$,rn(i,n),Gt=he,Zr=ne,an(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||$||Zr||Gt||Yi(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){$=l=i;try{if(y=$.stateNode,f)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=$.stateNode;var xe=$.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(oe){Et($,$.return,oe)}}}else if(i.tag===6){if(l===null){$=i;try{$.stateNode.nodeValue=f?"":$.memoizedProps}catch(oe){Et($,$.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,gp(n,l))));break;case 19:rn(i,n),an(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gp(n,u)));break;case 30:break;case 21:break;default:rn(i,n),an(n)}}function an(n){var i=n.flags;if(i&2){try{for(var l,u=n.return;u!==null;){if(Pb(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,y=fp(n);Wd(n,y,f);break;case 5:var N=l.stateNode;l.flags&32&&(gn(N,""),l.flags&=-33);var I=fp(n);Wd(n,I,N);break;case 3:case 4:var $=l.stateNode.containerInfo,ne=fp(n);mp(n,ne,$);break;default:throw Error(r(161))}}catch(he){Et(n,n.return,he)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function zb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;zb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ka(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ob(n,i.alternate,i),i=i.sibling}function Yi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),Yi(i);break;case 1:fr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ib(i,i.return,l),Yi(i);break;case 27:zc(i.stateNode);case 26:case 5:fr(i,i.return),Yi(i);break;case 22:i.memoizedState===null&&Yi(i);break;case 30:Yi(i);break;default:Yi(i)}n=n.sibling}}function Pa(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,y=i,N=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,l),Ic(4,y);break;case 1:if(Pa(f,y,l),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ne){Et(u,u.return,ne)}if(u=y,f=u.updateQueue,f!==null){var I=u.stateNode;try{var $=f.shared.hiddenCallbacks;if($!==null)for(f.shared.hiddenCallbacks=null,f=0;f<$.length;f++)gx($[f],I)}catch(ne){Et(u,u.return,ne)}}l&&N&64&&Cb(y),kc(y,y.return);break;case 27:Db(y);case 26:case 5:Pa(f,y,l),l&&u===null&&N&4&&kb(y),kc(y,y.return);break;case 12:Pa(f,y,l);break;case 13:Pa(f,y,l),l&&N&4&&Vb(f,y);break;case 22:y.memoizedState===null&&Pa(f,y,l),kc(y,y.return);break;case 30:break;default:Pa(f,y,l)}i=i.sibling}}function yp(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&yc(l))}function xp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&yc(n))}function mr(n,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(n,i,l,u),i=i.sibling}function Bb(n,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,l,u),f&2048&&Ic(9,i);break;case 1:mr(n,i,l,u);break;case 3:mr(n,i,l,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&yc(n)));break;case 12:if(f&2048){mr(n,i,l,u),n=i.stateNode;try{var y=i.memoizedProps,N=y.id,I=y.onPostCommit;typeof I=="function"&&I(N,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch($){Et(i,i.return,$)}}else mr(n,i,l,u);break;case 13:mr(n,i,l,u);break;case 23:break;case 22:y=i.stateNode,N=i.alternate,i.memoizedState!==null?y._visibility&2?mr(n,i,l,u):Pc(n,i):y._visibility&2?mr(n,i,l,u):(y._visibility|=2,Jo(n,i,l,u,(i.subtreeFlags&10256)!==0)),f&2048&&yp(N,i);break;case 24:mr(n,i,l,u),f&2048&&xp(i.alternate,i);break;default:mr(n,i,l,u)}}function Jo(n,i,l,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,N=i,I=l,$=u,ne=N.flags;switch(N.tag){case 0:case 11:case 15:Jo(y,N,I,$,f),Ic(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Jo(y,N,I,$,f):Pc(y,N):(he._visibility|=2,Jo(y,N,I,$,f)),f&&ne&2048&&yp(N.alternate,N);break;case 24:Jo(y,N,I,$,f),f&&ne&2048&&xp(N.alternate,N);break;default:Jo(y,N,I,$,f)}i=i.sibling}}function Pc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,u=i,f=u.flags;switch(u.tag){case 22:Pc(l,u),f&2048&&yp(u.alternate,u);break;case 24:Pc(l,u),f&2048&&xp(u.alternate,u);break;default:Pc(l,u)}i=i.sibling}}var Dc=8192;function el(n){if(n.subtreeFlags&Dc)for(n=n.child;n!==null;)qb(n),n=n.sibling}function qb(n){switch(n.tag){case 26:el(n),n.flags&Dc&&n.memoizedState!==null&&HT(Un,n.memoizedState,n.memoizedProps);break;case 5:el(n);break;case 3:case 4:var i=Un;Un=ch(n.stateNode.containerInfo),el(n),Un=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Dc,Dc=16777216,el(n),Dc=i):el(n));break;default:el(n)}}function $b(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Mc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];fs=u,Gb(u,n)}$b(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hb(n),n=n.sibling}function Hb(n){switch(n.tag){case 0:case 11:case 15:Mc(n),n.flags&2048&&Ia(9,n,n.return);break;case 3:Mc(n);break;case 12:Mc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Xd(n)):Mc(n);break;default:Mc(n)}}function Xd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];fs=u,Gb(u,n)}$b(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),Xd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Xd(i));break;default:Xd(i)}n=n.sibling}}function Gb(n,i){for(;fs!==null;){var l=fs;switch(l.tag){case 0:case 11:case 15:Ia(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,fs=u;else e:for(l=n;fs!==null;){u=fs;var f=u.sibling,y=u.return;if(Lb(u),u===l){fs=null;break e}if(f!==null){f.return=y,fs=f;break e}fs=y}}}var oT={getCacheForType:function(n){var i=Ss(is),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l}},lT=typeof WeakMap=="function"?WeakMap:Map,bt=0,At=null,Je=null,ot=0,vt=0,on=null,Da=!1,tl=!1,bp=!1,ea=0,qt=0,Ma=0,Ki=0,vp=0,En=0,sl=0,Oc=null,Gs=null,wp=!1,_p=0,Zd=1/0,Jd=null,Oa=null,_s=0,La=null,nl=null,rl=0,Np=0,jp=null,Qb=null,Lc=0,Ep=null;function ln(){if((bt&2)!==0&&ot!==0)return ot&-ot;if(K.T!==null){var n=Ho;return n!==0?n:kp()}return xa()}function Yb(){En===0&&(En=(ot&536870912)===0||mt?Gl():536870912);var n=jn.current;return n!==null&&(n.flags|=32),En}function cn(n,i,l){(n===At&&(vt===2||vt===9)||n.cancelPendingCommit!==null)&&(al(n,0),Ua(n,ot,En,!1)),kr(n,l),((bt&2)===0||n!==At)&&(n===At&&((bt&2)===0&&(Ki|=l),qt===4&&Ua(n,ot,En,!1)),pr(n))}function Kb(n,i,l){if((bt&6)!==0)throw Error(r(327));var u=!l&&(i&124)===0&&(i&n.expiredLanes)===0||wi(n,i),f=u?dT(n,i):Ap(n,i,!0),y=u;do{if(f===0){tl&&!u&&Ua(n,i,0,!1);break}else{if(l=n.current.alternate,y&&!cT(l)){f=Ap(n,i,!1),y=!1;continue}if(f===2){if(y=i,n.errorRecoveryDisabledLanes&y)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var I=n;f=Oc;var $=I.current.memoizedState.isDehydrated;if($&&(al(I,N).flags|=256),N=Ap(I,N,!1),N!==2){if(bp&&!$){I.errorRecoveryDisabledLanes|=y,Ki|=y,f=4;break e}y=Gs,Gs=f,y!==null&&(Gs===null?Gs=y:Gs.push.apply(Gs,y))}f=N}if(y=!1,f!==2)continue}}if(f===1){al(n,0),Ua(n,i,0,!0);break}e:{switch(u=n,y=f,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ua(u,i,En,!Da);break e;case 2:Gs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=_p+300-Ce(),10<f)){if(Ua(u,i,En,!Da),_o(u,0,!0)!==0)break e;u.timeoutHandle=jv(Wb.bind(null,u,l,Gs,Jd,wp,i,En,Ki,sl,Da,y,2,-0,0),f);break e}Wb(u,l,Gs,Jd,wp,i,En,Ki,sl,Da,y,0,-0,0)}}break}while(!0);pr(n)}function Wb(n,i,l,u,f,y,N,I,$,ne,he,xe,ae,oe){if(n.timeoutHandle=-1,xe=i.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&($c={stylesheets:null,count:0,unsuspend:$T},qb(i),xe=GT(),xe!==null)){n.cancelPendingCommit=xe(nv.bind(null,n,i,y,l,u,f,N,I,$,he,1,ae,oe)),Ua(n,y,N,!ne);return}nv(n,i,y,l,u,f,N,I,$)}function cT(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],y=f.getSnapshot;f=f.value;try{if(!sn(y(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ua(n,i,l,u){i&=~vp,i&=~Ki,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var y=31-Lt(f),N=1<<y;u[y]=-1,f&=~N}l!==0&&er(n,l,i)}function eh(){return(bt&6)===0?(Uc(0),!1):!0}function Tp(){if(Je!==null){if(vt===0)var n=Je.return;else n=Je,Gr=qi=null,qm(n),Xo=null,Ac=0,n=Je;for(;n!==null;)Rb(n.alternate,n),n=n.return;Je=null}}function al(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,ST(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Tp(),At=n,Je=l=qr(n.current,null),ot=i,vt=0,on=null,Da=!1,tl=wi(n,i),bp=!1,sl=En=vp=Ki=Ma=qt=0,Gs=Oc=null,wp=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Lt(u),y=1<<f;i|=n[f],u&=~y}return ea=i,_d(),l}function Xb(n,i){Ge=null,K.H=zd,i===bc||i===Id?(i=mx(),vt=3):i===dx?(i=mx(),vt=4):vt=i===pb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,on=i,Je===null&&(qt=1,Gd(n,vn(i,n.current)))}function Zb(){var n=K.H;return K.H=zd,n===null?zd:n}function Jb(){var n=K.A;return K.A=oT,n}function Sp(){qt=4,Da||(ot&4194048)!==ot&&jn.current!==null||(tl=!0),(Ma&134217727)===0&&(Ki&134217727)===0||At===null||Ua(At,ot,En,!1)}function Ap(n,i,l){var u=bt;bt|=2;var f=Zb(),y=Jb();(At!==n||ot!==i)&&(Jd=null,al(n,i)),i=!1;var N=qt;e:do try{if(vt!==0&&Je!==null){var I=Je,$=on;switch(vt){case 8:Tp(),N=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var ne=vt;if(vt=0,on=null,il(n,I,$,ne),l&&tl){N=0;break e}break;default:ne=vt,vt=0,on=null,il(n,I,$,ne)}}uT(),N=qt;break}catch(he){Xb(n,he)}while(!0);return i&&n.shellSuspendCounter++,Gr=qi=null,bt=u,K.H=f,K.A=y,Je===null&&(At=null,ot=0,_d()),N}function uT(){for(;Je!==null;)ev(Je)}function dT(n,i){var l=bt;bt|=2;var u=Zb(),f=Jb();At!==n||ot!==i?(Jd=null,Zd=Ce()+500,al(n,i)):tl=wi(n,i);e:do try{if(vt!==0&&Je!==null){i=Je;var y=on;t:switch(vt){case 1:vt=0,on=null,il(n,i,y,1);break;case 2:case 9:if(hx(y)){vt=0,on=null,tv(i);break}i=function(){vt!==2&&vt!==9||At!==n||(vt=7),pr(n)},y.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:hx(y)?(vt=0,on=null,tv(i)):(vt=0,on=null,il(n,i,y,7));break;case 5:var N=null;switch(Je.tag){case 26:N=Je.memoizedState;case 5:case 27:var I=Je;if(!N||Ov(N)){vt=0,on=null;var $=I.sibling;if($!==null)Je=$;else{var ne=I.return;ne!==null?(Je=ne,th(ne)):Je=null}break t}}vt=0,on=null,il(n,i,y,5);break;case 6:vt=0,on=null,il(n,i,y,6);break;case 8:Tp(),qt=6;break e;default:throw Error(r(462))}}hT();break}catch(he){Xb(n,he)}while(!0);return Gr=qi=null,K.H=u,K.A=f,bt=l,Je!==null?0:(At=null,ot=0,_d(),qt)}function hT(){for(;Je!==null&&!Ke();)ev(Je)}function ev(n){var i=Sb(n.alternate,n,ea);n.memoizedProps=n.pendingProps,i===null?th(n):Je=i}function tv(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=wb(l,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=wb(l,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:qm(i);default:Rb(l,i),i=Je=sx(i,ea),i=Sb(l,i,ea)}n.memoizedProps=n.pendingProps,i===null?th(n):Je=i}function il(n,i,l,u){Gr=qi=null,qm(i),Xo=null,Ac=0;var f=i.return;try{if(tT(n,f,i,l,ot)){qt=1,Gd(n,vn(l,n.current)),Je=null;return}}catch(y){if(f!==null)throw Je=f,y;qt=1,Gd(n,vn(l,n.current)),Je=null;return}i.flags&32768?(mt||u===1?n=!0:tl||(ot&536870912)!==0?n=!1:(Da=n=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),sv(i,n)):th(i)}function th(n){var i=n;do{if((i.flags&32768)!==0){sv(i,Da);return}n=i.return;var l=nT(i.alternate,i,ea);if(l!==null){Je=l;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=n}while(i!==null);qt===0&&(qt=5)}function sv(n,i){do{var l=rT(n.alternate,n);if(l!==null){l.flags&=32767,Je=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){Je=n;return}Je=n=l}while(n!==null);qt=6,Je=null}function nv(n,i,l,u,f,y,N,I,$){n.cancelPendingCommit=null;do sh();while(_s!==0);if((bt&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=xm,Yl(n,l,y,N,I,$),n===At&&(Je=At=null,ot=0),nl=i,La=n,rl=l,Np=y,jp=f,Qb=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gT(_e,function(){return lv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,f=ye.p,ye.p=2,N=bt,bt|=4;try{aT(n,i,l)}finally{bt=N,ye.p=f,K.T=u}}_s=1,rv(),av(),iv()}}function rv(){if(_s===1){_s=0;var n=La,i=nl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ye.p;ye.p=2;var f=bt;bt|=4;try{Fb(i,n);var y=Fp,N=Gy(n.containerInfo),I=y.focusedElem,$=y.selectionRange;if(N!==I&&I&&I.ownerDocument&&Hy(I.ownerDocument.documentElement,I)){if($!==null&&fm(I)){var ne=$.start,he=$.end;if(he===void 0&&(he=ne),"selectionStart"in I)I.selectionStart=ne,I.selectionEnd=Math.min(he,I.value.length);else{var xe=I.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),Ve=I.textContent.length,Me=Math.min($.start,Ve),jt=$.end===void 0?Me:Math.min($.end,Ve);!oe.extend&&Me>jt&&(N=jt,jt=Me,Me=N);var Z=$y(I,Me),Y=$y(I,jt);if(Z&&Y&&(oe.rangeCount!==1||oe.anchorNode!==Z.node||oe.anchorOffset!==Z.offset||oe.focusNode!==Y.node||oe.focusOffset!==Y.offset)){var te=xe.createRange();te.setStart(Z.node,Z.offset),oe.removeAllRanges(),Me>jt?(oe.addRange(te),oe.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),oe.addRange(te))}}}}for(xe=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&xe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<xe.length;I++){var pe=xe[I];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}mh=!!Vp,Fp=Vp=null}finally{bt=f,ye.p=u,K.T=l}}n.current=i,_s=2}}function av(){if(_s===2){_s=0;var n=La,i=nl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ye.p;ye.p=2;var f=bt;bt|=4;try{Ob(n,i.alternate,i)}finally{bt=f,ye.p=u,K.T=l}}_s=3}}function iv(){if(_s===4||_s===3){_s=0,rt();var n=La,i=nl,l=rl,u=Qb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?_s=5:(_s=0,nl=La=null,ov(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Oa=null),No(l),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=K.T,f=ye.p,ye.p=2,K.T=null;try{for(var y=n.onRecoverableError,N=0;N<u.length;N++){var I=u[N];y(I.value,{componentStack:I.stack})}}finally{K.T=i,ye.p=f}}(rl&3)!==0&&sh(),pr(n),f=n.pendingLanes,(l&4194090)!==0&&(f&42)!==0?n===Ep?Lc++:(Lc=0,Ep=n):Lc=0,Uc(0)}}function ov(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,yc(i)))}function sh(n){return rv(),av(),iv(),lv()}function lv(){if(_s!==5)return!1;var n=La,i=Np;Np=0;var l=No(rl),u=K.T,f=ye.p;try{ye.p=32>l?32:l,K.T=null,l=jp,jp=null;var y=La,N=rl;if(_s=0,nl=La=null,rl=0,(bt&6)!==0)throw Error(r(331));var I=bt;if(bt|=4,Hb(y.current),Bb(y,y.current,N,l),bt=I,Uc(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(dt,y)}catch{}return!0}finally{ye.p=f,K.T=u,ov(n,i)}}function cv(n,i,l){i=vn(l,i),i=np(n.stateNode,i,2),n=Sa(n,i,2),n!==null&&(kr(n,2),pr(n))}function Et(n,i,l){if(n.tag===3)cv(n,n,l);else for(;i!==null;){if(i.tag===3){cv(i,n,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oa===null||!Oa.has(u))){n=vn(l,n),l=fb(2),u=Sa(i,l,2),u!==null&&(mb(l,u,i,n),kr(u,2),pr(u));break}}i=i.return}}function Rp(n,i,l){var u=n.pingCache;if(u===null){u=n.pingCache=new lT;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(bp=!0,f.add(l),n=fT.bind(null,n,i,l),i.then(n,n))}function fT(n,i,l){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,At===n&&(ot&l)===l&&(qt===4||qt===3&&(ot&62914560)===ot&&300>Ce()-_p?(bt&2)===0&&al(n,0):vp|=l,sl===ot&&(sl=0)),pr(n)}function uv(n,i){i===0&&(i=Ql()),n=zo(n,i),n!==null&&(kr(n,i),pr(n))}function mT(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),uv(n,l)}function pT(n,i){var l=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),uv(n,l)}function gT(n,i){return ge(n,i)}var nh=null,ol=null,Cp=!1,rh=!1,Ip=!1,Wi=0;function pr(n){n!==ol&&n.next===null&&(ol===null?nh=ol=n:ol=ol.next=n),rh=!0,Cp||(Cp=!0,xT())}function Uc(n,i){if(!Ip&&rh){Ip=!0;do for(var l=!1,u=nh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var N=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-Lt(42|n)+1)-1,y&=f&~(N&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,mv(u,y))}else y=ot,y=_o(u,u===At?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||wi(u,y)||(l=!0,mv(u,y));u=u.next}while(l);Ip=!1}}function yT(){dv()}function dv(){rh=Cp=!1;var n=0;Wi!==0&&(TT()&&(n=Wi),Wi=0);for(var i=Ce(),l=null,u=nh;u!==null;){var f=u.next,y=hv(u,i);y===0?(u.next=null,l===null?nh=f:l.next=f,f===null&&(ol=l)):(l=u,(n!==0||(y&3)!==0)&&(rh=!0)),u=f}Uc(n)}function hv(n,i){for(var l=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var N=31-Lt(y),I=1<<N,$=f[N];$===-1?((I&l)===0||(I&u)!==0)&&(f[N]=Hl(I,i)):$<=i&&(n.expiredLanes|=I),y&=~I}if(i=At,l=ot,l=_o(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===i&&(vt===2||vt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ie(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||wi(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(u!==null&&Ie(u),No(l)){case 2:case 8:l=Te;break;case 32:l=_e;break;case 268435456:l=tt;break;default:l=_e}return u=fv.bind(null,n),l=ge(l,u),n.callbackPriority=i,n.callbackNode=l,i}return u!==null&&u!==null&&Ie(u),n.callbackPriority=2,n.callbackNode=null,2}function fv(n,i){if(_s!==0&&_s!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(sh()&&n.callbackNode!==l)return null;var u=ot;return u=_o(n,n===At?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Kb(n,u,i),hv(n,Ce()),n.callbackNode!=null&&n.callbackNode===l?fv.bind(null,n):null)}function mv(n,i){if(sh())return null;Kb(n,i,!0)}function xT(){AT(function(){(bt&6)!==0?ge(ce,yT):dv()})}function kp(){return Wi===0&&(Wi=Gl()),Wi}function pv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ro(""+n)}function gv(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function bT(n,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var y=pv((f[Kt]||null).action),N=u.submitter;N&&(i=(i=N[Kt]||null)?pv(i.formAction):N.getAttribute("formAction"),i!==null&&(y=i,N=null));var I=new Co("action","action",null,u,f);n.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wi!==0){var $=N?gv(f,N):new FormData(f);Zm(l,{pending:!0,data:$,method:f.method,action:y},null,$)}}else typeof y=="function"&&(I.preventDefault(),$=N?gv(f,N):new FormData(f),Zm(l,{pending:!0,data:$,method:f.method,action:y},y,$))},currentTarget:f}]})}}for(var Pp=0;Pp<ym.length;Pp++){var Dp=ym[Pp],vT=Dp.toLowerCase(),wT=Dp[0].toUpperCase()+Dp.slice(1);Ln(vT,"on"+wT)}Ln(Ky,"onAnimationEnd"),Ln(Wy,"onAnimationIteration"),Ln(Xy,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(UE,"onTransitionRun"),Ln(VE,"onTransitionStart"),Ln(FE,"onTransitionCancel"),Ln(Zy,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function yv(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],f=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var N=u.length-1;0<=N;N--){var I=u[N],$=I.instance,ne=I.currentTarget;if(I=I.listener,$!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=ne;try{y(f)}catch(he){Hd(he)}f.currentTarget=null,y=$}else for(N=0;N<u.length;N++){if(I=u[N],$=I.instance,ne=I.currentTarget,I=I.listener,$!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=ne;try{y(f)}catch(he){Hd(he)}f.currentTarget=null,y=$}}}}function et(n,i){var l=i[Wl];l===void 0&&(l=i[Wl]=new Set);var u=n+"__bubble";l.has(u)||(xv(i,n,2,!1),l.add(u))}function Mp(n,i,l){var u=0;i&&(u|=4),xv(l,n,u,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Op(n){if(!n[ah]){n[ah]=!0,Xl.forEach(function(l){l!=="selectionchange"&&(_T.has(l)||Mp(l,!1,n),Mp(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ah]||(i[ah]=!0,Mp("selectionchange",!1,i))}}function xv(n,i,l,u){switch(Bv(i)){case 2:var f=KT;break;case 8:f=WT;break;default:f=Wp}l=f.bind(null,i,l,n),f=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,l,{capture:!0,passive:f}):n.addEventListener(i,l,!0):f!==void 0?n.addEventListener(i,l,{passive:f}):n.addEventListener(i,l,!1)}function Lp(n,i,l,u,f){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var I=u.stateNode.containerInfo;if(I===f)break;if(N===4)for(N=u.return;N!==null;){var $=N.tag;if(($===3||$===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;I!==null;){if(N=Pr(I),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){u=y=N;continue e}I=I.parentNode}}u=u.return}od(function(){var ne=y,he=yn(l),xe=[];e:{var ae=Jy.get(n);if(ae!==void 0){var oe=Co,Ve=n;switch(n){case"keypress":if(ir(l)===0)break e;case"keydown":case"keyup":oe=Oo;break;case"focusin":Ve="focus",oe=Po;break;case"focusout":Ve="blur",oe=Po;break;case"beforeblur":case"afterblur":oe=Po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=pd;break;case Ky:case Wy:case Xy:oe=Do;break;case Zy:oe=yd;break;case"scroll":case"scrollend":oe=ld;break;case"wheel":oe=Lo;break;case"copy":case"cut":case"paste":oe=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=cc;break;case"toggle":case"beforetoggle":oe=bd}var Me=(i&4)!==0,jt=!Me&&(n==="scroll"||n==="scrollend"),Z=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var Y=ne,te;Y!==null;){var pe=Y;if(te=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||te===null||Z===null||(pe=Ri(Y,Z),pe!=null&&Me.push(Fc(Y,pe,te))),jt)break;Y=Y.return}0<Me.length&&(ae=new oe(ae,Ve,null,l,he),xe.push({event:ae,listeners:Me}))}}if((i&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",ae&&l!==Lr&&(Ve=l.relatedTarget||l.fromElement)&&(Pr(Ve)||Ve[pn]))break e;if((oe||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(Ve=l.relatedTarget||l.toElement,oe=ne,Ve=Ve?Pr(Ve):null,Ve!==null&&(jt=c(Ve),Me=Ve.tag,Ve!==jt||Me!==5&&Me!==27&&Me!==6)&&(Ve=null)):(oe=null,Ve=ne),oe!==Ve)){if(Me=bn,pe="onMouseLeave",Z="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Me=cc,pe="onPointerLeave",Z="onPointerEnter",Y="pointer"),jt=oe==null?ae:sr(oe),te=Ve==null?ae:sr(Ve),ae=new Me(pe,Y+"leave",oe,l,he),ae.target=jt,ae.relatedTarget=te,pe=null,Pr(he)===ne&&(Me=new Me(Z,Y+"enter",Ve,l,he),Me.target=te,Me.relatedTarget=jt,pe=Me),jt=pe,oe&&Ve)t:{for(Me=oe,Z=Ve,Y=0,te=Me;te;te=ll(te))Y++;for(te=0,pe=Z;pe;pe=ll(pe))te++;for(;0<Y-te;)Me=ll(Me),Y--;for(;0<te-Y;)Z=ll(Z),te--;for(;Y--;){if(Me===Z||Z!==null&&Me===Z.alternate)break t;Me=ll(Me),Z=ll(Z)}Me=null}else Me=null;oe!==null&&bv(xe,ae,oe,Me,!1),Ve!==null&&jt!==null&&bv(xe,jt,Ve,Me,!0)}}e:{if(ae=ne?sr(ne):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var Re=Uy;else if(as(ae))if(Vy)Re=ME;else{Re=PE;var Xe=kE}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&sc(ne.elementType)&&(Re=Uy):Re=DE;if(Re&&(Re=Re(n,ne))){Br(xe,Re,l,he);break e}Xe&&Xe(n,ae,ne),n==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&_a(ae,"number",ae.value)}switch(Xe=ne?sr(ne):window,n){case"focusin":(as(Xe)||Xe.contentEditable==="true")&&(Uo=Xe,mm=ne,hc=null);break;case"focusout":hc=mm=Uo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,Qy(xe,l,he);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Qy(xe,l,he)}var ke;if(cr)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else at?le(n,l)&&(Oe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&l.locale!=="ko"&&(at||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&at&&(ke=rc()):(ar=he,Na="value"in ar?ar.value:ar.textContent,at=!0)),Xe=ih(ne,Oe),0<Xe.length&&(Oe=new oc(Oe,n,null,l,he),xe.push({event:Oe,listeners:Xe}),ke?Oe.data=ke:(ke=we(l),ke!==null&&(Oe.data=ke)))),(ke=x?rs(n,l):it(n,l))&&(Oe=ih(ne,"onBeforeInput"),0<Oe.length&&(Xe=new oc("onBeforeInput","beforeinput",null,l,he),xe.push({event:Xe,listeners:Oe}),Xe.data=ke)),bT(xe,n,ne,l,he)}yv(xe,i)})}function Fc(n,i,l){return{instance:n,listener:i,currentTarget:l}}function ih(n,i){for(var l=i+"Capture",u=[];n!==null;){var f=n,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Ri(n,l),f!=null&&u.unshift(Fc(n,f,y)),f=Ri(n,i),f!=null&&u.push(Fc(n,f,y))),n.tag===3)return u;n=n.return}return[]}function ll(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bv(n,i,l,u,f){for(var y=i._reactName,N=[];l!==null&&l!==u;){var I=l,$=I.alternate,ne=I.stateNode;if(I=I.tag,$!==null&&$===u)break;I!==5&&I!==26&&I!==27||ne===null||($=ne,f?(ne=Ri(l,y),ne!=null&&N.unshift(Fc(l,ne,$))):f||(ne=Ri(l,y),ne!=null&&N.push(Fc(l,ne,$)))),l=l.return}N.length!==0&&n.push({event:i,listeners:N})}var NT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function vv(n){return(typeof n=="string"?n:""+n).replace(NT,`
`).replace(jT,"")}function wv(n,i){return i=vv(i),vv(n)===i}function oh(){}function Nt(n,i,l,u,f,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gn(n,""+u);break;case"className":nr(n,"class",u);break;case"tabIndex":nr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(n,l,u);break;case"style":tc(n,u,y);break;case"data":if(i!=="object"){nr(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ro(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&Nt(n,i,"name",f.name,f,null),Nt(n,i,"formEncType",f.formEncType,f,null),Nt(n,i,"formMethod",f.formMethod,f,null),Nt(n,i,"formTarget",f.formTarget,f,null)):(Nt(n,i,"encType",f.encType,f,null),Nt(n,i,"method",f.method,f,null),Nt(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ro(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=oh);break;case"onScroll":u!=null&&et("scroll",n);break;case"onScrollEnd":u!=null&&et("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Ro(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":et("beforetoggle",n),et("toggle",n),wa(n,"popover",u);break;case"xlinkActuate":bs(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bs(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bs(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bs(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bs(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bs(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bs(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=om.get(l)||l,wa(n,l,u))}}function Up(n,i,l,u,f,y){switch(l){case"style":tc(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?gn(n,u):(typeof u=="number"||typeof u=="bigint")&&gn(n,""+u);break;case"onScroll":u!=null&&et("scroll",n);break;case"onScrollEnd":u!=null&&et("scrollend",n);break;case"onClick":u!=null&&(n.onclick=oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),y=n[Kt]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(i,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,u,f);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):wa(n,l,u)}}}function Ns(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",n),et("load",n);var u=!1,f=!1,y;for(y in l)if(l.hasOwnProperty(y)){var N=l[y];if(N!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Nt(n,i,y,N,l,null)}}f&&Nt(n,i,"srcSet",l.srcSet,l,null),u&&Nt(n,i,"src",l.src,l,null);return;case"input":et("invalid",n);var I=y=N=f=null,$=null,ne=null;for(u in l)if(l.hasOwnProperty(u)){var he=l[u];if(he!=null)switch(u){case"name":f=he;break;case"type":N=he;break;case"checked":$=he;break;case"defaultChecked":ne=he;break;case"value":y=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,i));break;default:Nt(n,i,u,he,l,null)}}Ti(n,y,I,$,ne,N,f,!1),Ao(n);return;case"select":et("invalid",n),u=N=y=null;for(f in l)if(l.hasOwnProperty(f)&&(I=l[f],I!=null))switch(f){case"value":y=I;break;case"defaultValue":N=I;break;case"multiple":u=I;default:Nt(n,i,f,I,l,null)}i=y,l=N,n.multiple=!!u,i!=null?Or(n,!!u,i,!1):l!=null&&Or(n,!!u,l,!0);return;case"textarea":et("invalid",n),y=f=u=null;for(N in l)if(l.hasOwnProperty(N)&&(I=l[N],I!=null))switch(N){case"value":u=I;break;case"defaultValue":f=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Nt(n,i,N,I,l,null)}Si(n,u,f,y),Ao(n);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(u=l[$],u!=null))switch($){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Nt(n,i,$,u,l,null)}return;case"dialog":et("beforetoggle",n),et("toggle",n),et("cancel",n),et("close",n);break;case"iframe":case"object":et("load",n);break;case"video":case"audio":for(u=0;u<Vc.length;u++)et(Vc[u],n);break;case"image":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"embed":case"source":case"link":et("error",n),et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(u=l[ne],u!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Nt(n,i,ne,u,l,null)}return;default:if(sc(i)){for(he in l)l.hasOwnProperty(he)&&(u=l[he],u!==void 0&&Up(n,i,he,u,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(u=l[I],u!=null&&Nt(n,i,I,u,l,null))}function ET(n,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,N=null,I=null,$=null,ne=null,he=null;for(oe in l){var xe=l[oe];if(l.hasOwnProperty(oe)&&xe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":$=xe;default:u.hasOwnProperty(oe)||Nt(n,i,oe,null,u,xe)}}for(var ae in u){var oe=u[ae];if(xe=l[ae],u.hasOwnProperty(ae)&&(oe!=null||xe!=null))switch(ae){case"type":y=oe;break;case"name":f=oe;break;case"checked":ne=oe;break;case"defaultChecked":he=oe;break;case"value":N=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,i));break;default:oe!==xe&&Nt(n,i,ae,oe,u,xe)}}tn(n,N,I,$,ne,he,y,f);return;case"select":oe=N=I=ae=null;for(y in l)if($=l[y],l.hasOwnProperty(y)&&$!=null)switch(y){case"value":break;case"multiple":oe=$;default:u.hasOwnProperty(y)||Nt(n,i,y,null,u,$)}for(f in u)if(y=u[f],$=l[f],u.hasOwnProperty(f)&&(y!=null||$!=null))switch(f){case"value":ae=y;break;case"defaultValue":I=y;break;case"multiple":N=y;default:y!==$&&Nt(n,i,f,y,u,$)}i=I,l=N,u=oe,ae!=null?Or(n,!!l,ae,!1):!!u!=!!l&&(i!=null?Or(n,!!l,i,!0):Or(n,!!l,l?[]:"",!1));return;case"textarea":oe=ae=null;for(I in l)if(f=l[I],l.hasOwnProperty(I)&&f!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Nt(n,i,I,null,u,f)}for(N in u)if(f=u[N],y=l[N],u.hasOwnProperty(N)&&(f!=null||y!=null))switch(N){case"value":ae=f;break;case"defaultValue":oe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==y&&Nt(n,i,N,f,u,y)}wt(n,ae,oe);return;case"option":for(var Ve in l)if(ae=l[Ve],l.hasOwnProperty(Ve)&&ae!=null&&!u.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:Nt(n,i,Ve,null,u,ae)}for($ in u)if(ae=u[$],oe=l[$],u.hasOwnProperty($)&&ae!==oe&&(ae!=null||oe!=null))switch($){case"selected":n.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Nt(n,i,$,ae,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)ae=l[Me],l.hasOwnProperty(Me)&&ae!=null&&!u.hasOwnProperty(Me)&&Nt(n,i,Me,null,u,ae);for(ne in u)if(ae=u[ne],oe=l[ne],u.hasOwnProperty(ne)&&ae!==oe&&(ae!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,i));break;default:Nt(n,i,ne,ae,u,oe)}return;default:if(sc(i)){for(var jt in l)ae=l[jt],l.hasOwnProperty(jt)&&ae!==void 0&&!u.hasOwnProperty(jt)&&Up(n,i,jt,void 0,u,ae);for(he in u)ae=u[he],oe=l[he],!u.hasOwnProperty(he)||ae===oe||ae===void 0&&oe===void 0||Up(n,i,he,ae,u,oe);return}}for(var Z in l)ae=l[Z],l.hasOwnProperty(Z)&&ae!=null&&!u.hasOwnProperty(Z)&&Nt(n,i,Z,null,u,ae);for(xe in u)ae=u[xe],oe=l[xe],!u.hasOwnProperty(xe)||ae===oe||ae==null&&oe==null||Nt(n,i,xe,ae,u,oe)}var Vp=null,Fp=null;function lh(n){return n.nodeType===9?n:n.ownerDocument}function _v(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function zp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bp=null;function TT(){var n=window.event;return n&&n.type==="popstate"?n===Bp?!1:(Bp=n,!0):(Bp=null,!1)}var jv=typeof setTimeout=="function"?setTimeout:void 0,ST=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(n){return Ev.resolve(null).then(n).catch(RT)}:jv;function RT(n){setTimeout(function(){throw n})}function Va(n){return n==="head"}function Tv(n,i){var l=i,u=0,f=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var N=n.ownerDocument;if(l&1&&zc(N.documentElement),l&2&&zc(N.body),l&4)for(l=N.head,zc(l),N=l.firstChild;N;){var I=N.nextSibling,$=N.nodeName;N[_i]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=I}}if(f===0){n.removeChild(y),Kc(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Kc(i)}function qp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qp(l),va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function CT(n,i,l,u){for(;n.nodeType===1;){var f=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[_i])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Vn(n.nextSibling),n===null)break}return null}function IT(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Vn(n.nextSibling),n===null))return null;return n}function $p(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function kT(n,i){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Vn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Hp=null;function Sv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}function Av(n,i,l){switch(i=lh(l),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function zc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);va(n)}var Tn=new Map,Rv=new Set;function ch(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ta=ye.d;ye.d={f:PT,r:DT,D:MT,C:OT,L:LT,m:UT,X:FT,S:VT,M:zT};function PT(){var n=ta.f(),i=eh();return n||i}function DT(n){var i=tr(n);i!==null&&i.tag===5&&i.type==="form"?Kx(i):ta.r(n)}var cl=typeof document>"u"?null:document;function Cv(n,i,l){var u=cl;if(u&&typeof i=="string"&&i){var f=Wt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Rv.has(f)||(Rv.add(f),n={rel:n,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ns(i,"link",n),$t(i),u.head.appendChild(i)))}}function MT(n){ta.D(n),Cv("dns-prefetch",n,null)}function OT(n,i){ta.C(n,i),Cv("preconnect",n,i)}function LT(n,i,l){ta.L(n,i,l);var u=cl;if(u&&n&&i){var f='link[rel="preload"][as="'+Wt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Wt(l.imageSizes)+'"]')):f+='[href="'+Wt(n)+'"]';var y=f;switch(i){case"style":y=ul(n);break;case"script":y=dl(n)}Tn.has(y)||(n=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),Tn.set(y,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Bc(y))||i==="script"&&u.querySelector(qc(y))||(i=u.createElement("link"),Ns(i,"link",n),$t(i),u.head.appendChild(i)))}}function UT(n,i){ta.m(n,i);var l=cl;if(l&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Wt(u)+'"][href="'+Wt(n)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dl(n)}if(!Tn.has(y)&&(n=b({rel:"modulepreload",href:n},i),Tn.set(y,n),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(y)))return}u=l.createElement("link"),Ns(u,"link",n),$t(u),l.head.appendChild(u)}}}function VT(n,i,l){ta.S(n,i,l);var u=cl;if(u&&n){var f=Os(u).hoistableStyles,y=ul(n);i=i||"default";var N=f.get(y);if(!N){var I={loading:0,preload:null};if(N=u.querySelector(Bc(y)))I.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},l),(l=Tn.get(y))&&Gp(n,l);var $=N=u.createElement("link");$t($),Ns($,"link",n),$._p=new Promise(function(ne,he){$.onload=ne,$.onerror=he}),$.addEventListener("load",function(){I.loading|=1}),$.addEventListener("error",function(){I.loading|=2}),I.loading|=4,uh(N,i,u)}N={type:"stylesheet",instance:N,count:1,state:I},f.set(y,N)}}}function FT(n,i){ta.X(n,i);var l=cl;if(l&&n){var u=Os(l).hoistableScripts,f=dl(n),y=u.get(f);y||(y=l.querySelector(qc(f)),y||(n=b({src:n,async:!0},i),(i=Tn.get(f))&&Qp(n,i),y=l.createElement("script"),$t(y),Ns(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function zT(n,i){ta.M(n,i);var l=cl;if(l&&n){var u=Os(l).hoistableScripts,f=dl(n),y=u.get(f);y||(y=l.querySelector(qc(f)),y||(n=b({src:n,async:!0,type:"module"},i),(i=Tn.get(f))&&Qp(n,i),y=l.createElement("script"),$t(y),Ns(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function Iv(n,i,l,u){var f=(f=se.current)?ch(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ul(l.href),l=Os(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ul(l.href);var y=Os(f).hoistableStyles,N=y.get(n);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,N),(y=f.querySelector(Bc(n)))&&!y._p&&(N.instance=y,N.state.loading=5),Tn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tn.set(n,l),y||BT(f,n,l,N.state))),i&&u===null)throw Error(r(528,""));return N}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=dl(l),l=Os(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function ul(n){return'href="'+Wt(n)+'"'}function Bc(n){return'link[rel="stylesheet"]['+n+"]"}function kv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function BT(n,i,l,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ns(i,"link",l),$t(i),n.head.appendChild(i))}function dl(n){return'[src="'+Wt(n)+'"]'}function qc(n){return"script[async]"+n}function Pv(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Wt(l.href)+'"]');if(u)return i.instance=u,$t(u),u;var f=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),$t(u),Ns(u,"style",f),uh(u,l.precedence,n),i.instance=u;case"stylesheet":f=ul(l.href);var y=n.querySelector(Bc(f));if(y)return i.state.loading|=4,i.instance=y,$t(y),y;u=kv(l),(f=Tn.get(f))&&Gp(u,f),y=(n.ownerDocument||n).createElement("link"),$t(y);var N=y;return N._p=new Promise(function(I,$){N.onload=I,N.onerror=$}),Ns(y,"link",u),i.state.loading|=4,uh(y,l.precedence,n),i.instance=y;case"script":return y=dl(l.src),(f=n.querySelector(qc(y)))?(i.instance=f,$t(f),f):(u=l,(f=Tn.get(y))&&(u=b({},l),Qp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),$t(f),Ns(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,uh(u,l.precedence,n));return i.instance}function uh(n,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,N=0;N<u.length;N++){var I=u[N];if(I.dataset.precedence===i)y=I;else if(y!==f)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function Gp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Qp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var dh=null;function Dv(n,i,l){if(dh===null){var u=new Map,f=dh=new Map;f.set(l,u)}else f=dh,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),f=0;f<l.length;f++){var y=l[f];if(!(y[_i]||y[ns]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(i)||"";N=n+N;var I=u.get(N);I?I.push(y):u.set(N,[y])}}return u}function Mv(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function qT(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ov(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $c=null;function $T(){}function HT(n,i,l){if($c===null)throw Error(r(475));var u=$c;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ul(l.href),y=n.querySelector(Bc(f));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=hh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=y,$t(y);return}y=n.ownerDocument||n,l=kv(l),(f=Tn.get(f))&&Gp(l,f),y=y.createElement("link"),$t(y);var N=y;N._p=new Promise(function(I,$){N.onload=I,N.onerror=$}),Ns(y,"link",l),i.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=hh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function GT(){if($c===null)throw Error(r(475));var n=$c;return n.stylesheets&&n.count===0&&Yp(n,n.stylesheets),0<n.count?function(i){var l=setTimeout(function(){if(n.stylesheets&&Yp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(l)}}:null}function hh(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fh=null;function Yp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fh=new Map,i.forEach(QT,n),fh=null,hh.call(n))}function QT(n,i){if(!(i.state.loading&4)){var l=fh.get(n);if(l)var u=l.get(null);else{l=new Map,fh.set(n,l);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var N=f[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),u=N)}u&&l.set(null,u)}f=i.instance,N=f.getAttribute("data-precedence"),y=l.get(N)||u,y===u&&l.set(null,f),l.set(N,f),this.count++,u=hh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Hc={$$typeof:P,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function YT(n,i,l,u,f,y,N,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Lv(n,i,l,u,f,y,N,I,$,ne,he,xe){return n=new YT(n,i,l,N,I,$,ne,xe),i=1,y===!0&&(i|=24),y=nn(3,null,null,i),n.current=y,y.stateNode=n,i=Rm(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Pm(y),n}function Uv(n){return n?(n=Bo,n):Bo}function Vv(n,i,l,u,f,y){f=Uv(f),u.context===null?u.context=f:u.pendingContext=f,u=Ta(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Sa(n,u,i),l!==null&&(cn(l,n,i),wc(l,n,i))}function Fv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function Kp(n,i){Fv(n,i),(n=n.alternate)&&Fv(n,i)}function zv(n){if(n.tag===13){var i=zo(n,67108864);i!==null&&cn(i,n,67108864),Kp(n,67108864)}}var mh=!0;function KT(n,i,l,u){var f=K.T;K.T=null;var y=ye.p;try{ye.p=2,Wp(n,i,l,u)}finally{ye.p=y,K.T=f}}function WT(n,i,l,u){var f=K.T;K.T=null;var y=ye.p;try{ye.p=8,Wp(n,i,l,u)}finally{ye.p=y,K.T=f}}function Wp(n,i,l,u){if(mh){var f=Xp(u);if(f===null)Lp(n,i,u,ph,l),qv(n,u);else if(ZT(f,n,i,l,u))u.stopPropagation();else if(qv(n,u),i&4&&-1<XT.indexOf(n)){for(;f!==null;){var y=tr(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Dn(y.pendingLanes);if(N!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var $=1<<31-Lt(N);I.entanglements[1]|=$,N&=~$}pr(y),(bt&6)===0&&(Zd=Ce()+500,Uc(0))}}break;case 13:I=zo(y,2),I!==null&&cn(I,y,2),eh(),Kp(y,2)}if(y=Xp(u),y===null&&Lp(n,i,u,ph,l),y===f)break;f=y}f!==null&&u.stopPropagation()}else Lp(n,i,u,null,l)}}function Xp(n){return n=yn(n),Zp(n)}var ph=null;function Zp(n){if(ph=null,n=Pr(n),n!==null){var i=c(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=d(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ph=n,null}function Bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case ce:return 2;case Te:return 8;case _e:case Pe:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Jp=!1,Fa=null,za=null,Ba=null,Gc=new Map,Qc=new Map,qa=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(n,i){switch(n){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(i.pointerId)}}function Yc(n,i,l,u,f,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},i!==null&&(i=tr(i),i!==null&&zv(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function ZT(n,i,l,u,f){switch(i){case"focusin":return Fa=Yc(Fa,n,i,l,u,f),!0;case"dragenter":return za=Yc(za,n,i,l,u,f),!0;case"mouseover":return Ba=Yc(Ba,n,i,l,u,f),!0;case"pointerover":var y=f.pointerId;return Gc.set(y,Yc(Gc.get(y)||null,n,i,l,u,f)),!0;case"gotpointercapture":return y=f.pointerId,Qc.set(y,Yc(Qc.get(y)||null,n,i,l,u,f)),!0}return!1}function $v(n){var i=Pr(n.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){n.blockedOn=i,ed(n.priority,function(){if(l.tag===13){var u=ln();u=ya(u);var f=zo(l,u);f!==null&&cn(f,l,u),Kp(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Xp(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Lr=u,l.target.dispatchEvent(u),Lr=null}else return i=tr(l),i!==null&&zv(i),n.blockedOn=l,!1;i.shift()}return!0}function Hv(n,i,l){gh(n)&&l.delete(i)}function JT(){Jp=!1,Fa!==null&&gh(Fa)&&(Fa=null),za!==null&&gh(za)&&(za=null),Ba!==null&&gh(Ba)&&(Ba=null),Gc.forEach(Hv),Qc.forEach(Hv)}function yh(n,i){n.blockedOn===i&&(n.blockedOn=null,Jp||(Jp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JT)))}var xh=null;function Gv(n){xh!==n&&(xh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xh===n&&(xh=null);for(var i=0;i<n.length;i+=3){var l=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Zp(u||l)===null)continue;break}var y=tr(l);y!==null&&(n.splice(i,3),i-=3,Zm(y,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Kc(n){function i($){return yh($,n)}Fa!==null&&yh(Fa,n),za!==null&&yh(za,n),Ba!==null&&yh(Ba,n),Gc.forEach(i),Qc.forEach(i);for(var l=0;l<qa.length;l++){var u=qa[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qa.length&&(l=qa[0],l.blockedOn===null);)$v(l),l.blockedOn===null&&qa.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],y=l[u+1],N=f[Kt]||null;if(typeof y=="function")N||Gv(l);else if(N){var I=null;if(y&&y.hasAttribute("formAction")){if(f=y,N=y[Kt]||null)I=N.formAction;else if(Zp(f)!==null)continue}else I=N.action;typeof I=="function"?l[u+1]=I:(l.splice(u,3),u-=3),Gv(l)}}}function eg(n){this._internalRoot=n}bh.prototype.render=eg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=ln();Vv(l,u,n,i,null,null)},bh.prototype.unmount=eg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Vv(n.current,2,null,n,null,null),eh(),i[pn]=null}};function bh(n){this._internalRoot=n}bh.prototype.unstable_scheduleHydration=function(n){if(n){var i=xa();n={blockedOn:null,target:n,priority:i};for(var l=0;l<qa.length&&i!==0&&i<qa[l].priority;l++);qa.splice(l,0,n),l===0&&$v(n)}};var Qv=e.version;if(Qv!=="19.1.0")throw Error(r(527,Qv,"19.1.0"));ye.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var eS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{dt=vh.inject(eS),Fe=vh}catch{}}return Xc.createRoot=function(n,i){if(!o(n))throw Error(r(299));var l=!1,u="",f=cb,y=ub,N=db,I=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks)),i=Lv(n,1,!1,null,null,l,u,f,y,N,I,null),n[pn]=i.current,Op(n),new eg(i)},Xc.hydrateRoot=function(n,i,l){if(!o(n))throw Error(r(299));var u=!1,f="",y=cb,N=ub,I=db,$=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),i=Lv(n,1,!0,i,l??null,u,f,y,N,I,$,ne),i.context=Uv(null),l=i.current,u=ln(),u=ya(u),f=Ta(u),f.callback=null,Sa(l,f,u),l=u,i.current.lanes=l,kr(i,l),pr(i),n[pn]=i.current,Op(n),new bh(i)},Xc.version="19.1.0",Xc}var nw;function dS(){if(nw)return ng.exports;nw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ng.exports=uS(),ng.exports}var hS=dS(),Zc={},rw;function fS(){if(rw)return Zc;rw=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=d,Zc.serialize=g;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,j){const A=new c,F=v.length;if(F<2)return A;const O=j?.decode||b;let q=0;do{const U=v.indexOf("=",q);if(U===-1)break;const P=v.indexOf(";",q),B=P===-1?F:P;if(U>B){q=v.lastIndexOf(";",U-1)+1;continue}const Q=p(v,q,U),ie=m(v,U,Q),M=v.slice(Q,ie);if(A[M]===void 0){let R=p(v,U+1,B),T=m(v,B,R);const L=O(v.slice(R,T));A[M]=L}q=B+1}while(q<F);return A}function p(v,j,A){do{const F=v.charCodeAt(j);if(F!==32&&F!==9)return j}while(++j<A);return A}function m(v,j,A){for(;j>A;){const F=v.charCodeAt(--j);if(F!==32&&F!==9)return j+1}return A}function g(v,j,A){const F=A?.encode||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const O=F(j);if(!e.test(O))throw new TypeError(`argument val is invalid: ${j}`);let q=v+"="+O;if(!A)return q;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);q+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);q+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);q+="; Path="+A.path}if(A.expires){if(!w(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);q+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(q+="; HttpOnly"),A.secure&&(q+="; Secure"),A.partitioned&&(q+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return q}function b(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return o.call(v)==="[object Date]"}return Zc}fS();var aw="popstate";function mS(s={}){function e(r,o){let{pathname:c,search:d,hash:p}=r.location;return Ag("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:gu(o)}return gS(e,t,null,s)}function Mt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function An(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pS(){return Math.random().toString(36).substring(2,10)}function iw(s,e){return{usr:s.state,key:s.key,idx:e}}function Ag(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:t,key:e&&e.key||r||pS()}}function gu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Dl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function gS(s,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,p="POP",m=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function w(){p="POP";let O=b(),q=O==null?null:O-g;g=O,m&&m({action:p,location:F.location,delta:q})}function v(O,q){p="PUSH";let U=Ag(F.location,O,q);g=b()+1;let P=iw(U,g),B=F.createHref(U);try{d.pushState(P,"",B)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(B)}c&&m&&m({action:p,location:F.location,delta:1})}function j(O,q){p="REPLACE";let U=Ag(F.location,O,q);g=b();let P=iw(U,g),B=F.createHref(U);d.replaceState(P,"",B),c&&m&&m({action:p,location:F.location,delta:0})}function A(O){return yS(O)}let F={get action(){return p},get location(){return s(o,d)},listen(O){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(aw,w),m=O,()=>{o.removeEventListener(aw,w),m=null}},createHref(O){return e(o,O)},createURL:A,encodeLocation(O){let q=A(O);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:v,replace:j,go(O){return d.go(O)}};return F}function yS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:gu(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function b_(s,e,t="/"){return xS(s,e,t,!1)}function xS(s,e,t,r){let o=typeof e=="string"?Dl(e):e,c=la(o.pathname||"/",t);if(c==null)return null;let d=v_(s);bS(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=CS(c);p=AS(d[m],g,r)}return p}function v_(s,e=[],t=[],r=""){let o=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(Mt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=aa([r,m.relativePath]),b=t.concat(m);c.children&&c.children.length>0&&(Mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),v_(c.children,e,b,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:TS(g,c.index),routesMeta:b})};return s.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of w_(c.path))o(c,d,p)}),e}function w_(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=w_(r.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function bS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:SS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vS=/^:[\w-]+$/,wS=3,_S=2,NS=1,jS=10,ES=-2,ow=s=>s==="*";function TS(s,e){let t=s.split("/"),r=t.length;return t.some(ow)&&(r+=ES),e&&(r+=_S),t.filter(o=>!ow(o)).reduce((o,c)=>o+(vS.test(c)?wS:c===""?NS:jS),r)}function SS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function AS(s,e,t=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let p=0;p<r.length;++p){let m=r[p],g=p===r.length-1,b=c==="/"?e:e.slice(c.length)||"/",w=$h({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),v=m.route;if(!w&&g&&t&&!r[r.length-1].route.index&&(w=$h({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:aa([c,w.pathname]),pathnameBase:DS(aa([c,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(c=aa([c,w.pathnameBase]))}return d}function $h(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=RS(s.path,s.caseSensitive,s.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:w},v)=>{if(b==="*"){let A=p[v]||"";d=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const j=p[v];return w&&!j?g[b]=void 0:g[b]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function RS(s,e=!1,t=!0){An(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function CS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function la(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}function IS(s,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof s=="string"?Dl(s):s;return{pathname:t?t.startsWith("/")?t:kS(t,e):e,search:MS(r),hash:OS(o)}}function kS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function og(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p0(s){let e=PS(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function g0(s,e,t,r=!1){let o;typeof s=="string"?o=Dl(s):(o={...s},Mt(!o.pathname||!o.pathname.includes("?"),og("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),og("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),og("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=t;else{let w=e.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),w-=1;o.pathname=v.join("/")}p=w>=0?e[w]:"/"}let m=IS(o,p),g=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var aa=s=>s.join("/").replace(/\/\/+/g,"/"),DS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,OS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function LS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var __=["POST","PUT","PATCH","DELETE"];new Set(__);var US=["GET",...__];new Set(US);var Ml=S.createContext(null);Ml.displayName="DataRouter";var yf=S.createContext(null);yf.displayName="DataRouterState";var N_=S.createContext({isTransitioning:!1});N_.displayName="ViewTransition";var VS=S.createContext(new Map);VS.displayName="Fetchers";var FS=S.createContext(null);FS.displayName="Await";var Xn=S.createContext(null);Xn.displayName="Navigation";var Ru=S.createContext(null);Ru.displayName="Location";var Zn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var y0=S.createContext(null);y0.displayName="RouteError";function zS(s,{relative:e}={}){Mt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=S.useContext(Xn),{hash:o,pathname:c,search:d}=Cu(s,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:aa([t,c])),r.createHref({pathname:p,search:d,hash:o})}function Ol(){return S.useContext(Ru)!=null}function Ar(){return Mt(Ol(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ru).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(s){S.useContext(Xn).static||S.useLayoutEffect(s)}function Jn(){let{isDataRoute:s}=S.useContext(Zn);return s?eA():BS()}function BS(){Mt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let s=S.useContext(Ml),{basename:e,navigator:t}=S.useContext(Xn),{matches:r}=S.useContext(Zn),{pathname:o}=Ar(),c=JSON.stringify(p0(r)),d=S.useRef(!1);return E_(()=>{d.current=!0}),S.useCallback((m,g={})=>{if(An(d.current,j_),!d.current)return;if(typeof m=="number"){t.go(m);return}let b=g0(m,JSON.parse(c),o,g.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:aa([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,c,o,s])}S.createContext(null);function T_(){let{matches:s}=S.useContext(Zn),e=s[s.length-1];return e?e.params:{}}function Cu(s,{relative:e}={}){let{matches:t}=S.useContext(Zn),{pathname:r}=Ar(),o=JSON.stringify(p0(t));return S.useMemo(()=>g0(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function qS(s,e){return S_(s,e)}function S_(s,e,t,r){Mt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Xn),{matches:c}=S.useContext(Zn),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let q=b&&b.path||"";A_(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Ar(),v;if(e){let q=typeof e=="string"?Dl(e):e;Mt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),v=q}else v=w;let j=v.pathname||"/",A=j;if(g!=="/"){let q=g.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=b_(s,{pathname:A});An(b||F!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),An(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=YS(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:aa([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:aa([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,t,r);return e&&O?S.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},O):O}function $S(){let s=JS(),e=LS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:c},"ErrorBoundary")," or"," ",S.createElement("code",{style:c},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:o},t):null,d)}var HS=S.createElement($S,null),GS=class extends S.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?S.createElement(Zn.Provider,{value:this.props.routeContext},S.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QS({routeContext:s,match:e,children:t}){let r=S.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Zn.Provider,{value:s},t)}function YS(s,e=[],t=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,c=t?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:b,errors:w}=t,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,b)=>{let w,v=!1,j=null,A=null;t&&(w=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||HS,d&&(p<0&&b===0?(A_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):p===b&&(v=!0,A=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,b+1)),O=()=>{let q;return w?q=j:v?q=A:g.route.Component?q=S.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,S.createElement(QS,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?S.createElement(GS,{location:t.location,revalidation:t.revalidation,component:j,error:w,children:O(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):O()},null)}function x0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(s){let e=S.useContext(Ml);return Mt(e,x0(s)),e}function WS(s){let e=S.useContext(yf);return Mt(e,x0(s)),e}function XS(s){let e=S.useContext(Zn);return Mt(e,x0(s)),e}function b0(s){let e=XS(s),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function ZS(){return b0("useRouteId")}function JS(){let s=S.useContext(y0),e=WS("useRouteError"),t=b0("useRouteError");return s!==void 0?s:e.errors?.[t]}function eA(){let{router:s}=KS("useNavigate"),e=b0("useNavigate"),t=S.useRef(!1);return E_(()=>{t.current=!0}),S.useCallback(async(o,c={})=>{An(t.current,j_),t.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var lw={};function A_(s,e,t){!e&&!lw[s]&&(lw[s]=!0,An(!1,t))}S.memo(tA);function tA({routes:s,future:e,state:t}){return S_(s,void 0,t,e)}function xf({to:s,replace:e,state:t,relative:r}){Mt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Xn);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=S.useContext(Zn),{pathname:d}=Ar(),p=Jn(),m=g0(s,p0(c),d,r==="path"),g=JSON.stringify(m);return S.useEffect(()=>{p(JSON.parse(g),{replace:e,state:t,relative:r})},[p,g,r,e,t]),null}function Dt(s){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sA({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Mt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=Dl(t));let{pathname:m="/",search:g="",hash:b="",state:w=null,key:v="default"}=t,j=S.useMemo(()=>{let A=la(m,d);return A==null?null:{location:{pathname:A,search:g,hash:b,state:w,key:v},navigationType:r}},[d,m,g,b,w,v,r]);return An(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:S.createElement(Xn.Provider,{value:p},S.createElement(Ru.Provider,{children:e,value:j}))}function R_({children:s,location:e}){return qS(Rg(s),e)}function Rg(s,e=[]){let t=[];return S.Children.forEach(s,(r,o)=>{if(!S.isValidElement(r))return;let c=[...e,o];if(r.type===S.Fragment){t.push.apply(t,Rg(r.props.children,c));return}Mt(r.type===Dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Rg(r.props.children,c)),t.push(d)}),t}var Ih="get",kh="application/x-www-form-urlencoded";function bf(s){return s!=null&&typeof s.tagName=="string"}function nA(s){return bf(s)&&s.tagName.toLowerCase()==="button"}function rA(s){return bf(s)&&s.tagName.toLowerCase()==="form"}function aA(s){return bf(s)&&s.tagName.toLowerCase()==="input"}function iA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function oA(s,e){return s.button===0&&(!e||e==="_self")&&!iA(s)}function Cg(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let r=s[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function lA(s,e){let t=Cg(s);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var wh=null;function cA(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var uA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(s){return s!=null&&!uA.has(s)?(An(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):s}function dA(s,e){let t,r,o,c,d;if(rA(s)){let p=s.getAttribute("action");r=p?la(p,e):null,t=s.getAttribute("method")||Ih,o=lg(s.getAttribute("enctype"))||kh,c=new FormData(s)}else if(nA(s)||aA(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(r=m?la(m,e):null,t=s.getAttribute("formmethod")||p.getAttribute("method")||Ih,o=lg(s.getAttribute("formenctype"))||lg(p.getAttribute("enctype"))||kh,c=new FormData(p,s),!cA()){let{name:g,type:b,value:w}=s;if(b==="image"){let v=g?`${g}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else g&&c.append(g,w)}}else{if(bf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ih,r=null,o=kh,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:d}}function v0(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function hA(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function mA(s,e,t){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await hA(c,t);return d.links?d.links():[]}return[]}));return xA(r.flat(1).filter(fA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cw(s,e,t,r,o,c){let d=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,g)=>d(m,g)||p(m,g)):c==="data"?e.filter((m,g)=>{let b=r.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function pA(s,e,{includeHydrateFallback:t}={}){return gA(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function gA(s){return[...new Set(s)]}function yA(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function xA(s,e){let t=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(yA(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bA=new Set([100,101,204,205]);function vA(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&la(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function C_(){let s=S.useContext(Ml);return v0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function wA(){let s=S.useContext(yf);return v0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var w0=S.createContext(void 0);w0.displayName="FrameworkContext";function I_(){let s=S.useContext(w0);return v0(s,"You must render this element inside a <HydratedRouter> element"),s}function _A(s,e){let t=S.useContext(w0),[r,o]=S.useState(!1),[c,d]=S.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:w}=e,v=S.useRef(null);S.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let F=q=>{q.forEach(U=>{d(U.isIntersecting)})},O=new IntersectionObserver(F,{threshold:.5});return v.current&&O.observe(v.current),()=>{O.disconnect()}}},[s]),S.useEffect(()=>{if(r){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[r]);let j=()=>{o(!0)},A=()=>{o(!1),d(!1)};return t?s!=="intent"?[c,v,{}]:[c,v,{onFocus:Jc(p,j),onBlur:Jc(m,A),onMouseEnter:Jc(g,j),onMouseLeave:Jc(b,A),onTouchStart:Jc(w,j)}]:[!1,v,{}]}function Jc(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function NA({page:s,...e}){let{router:t}=C_(),r=S.useMemo(()=>b_(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?S.createElement(EA,{page:s,matches:r,...e}):null}function jA(s){let{manifest:e,routeModules:t}=I_(),[r,o]=S.useState([]);return S.useEffect(()=>{let c=!1;return mA(s,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,t]),r}function EA({page:s,matches:e,...t}){let r=Ar(),{manifest:o,routeModules:c}=I_(),{basename:d}=C_(),{loaderData:p,matches:m}=wA(),g=S.useMemo(()=>cw(s,e,m,o,r,"data"),[s,e,m,o,r]),b=S.useMemo(()=>cw(s,e,m,o,r,"assets"),[s,e,m,o,r]),w=S.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let A=new Set,F=!1;if(e.forEach(q=>{let U=o.routes[q.route.id];!U||!U.hasLoader||(!g.some(P=>P.route.id===q.route.id)&&q.route.id in p&&c[q.route.id]?.shouldRevalidate||U.hasClientLoader?F=!0:A.add(q.route.id))}),A.size===0)return[];let O=vA(s,d);return F&&A.size>0&&O.searchParams.set("_routes",e.filter(q=>A.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[d,p,r,o,g,e,s,c]),v=S.useMemo(()=>pA(b,o),[b,o]),j=jA(b);return S.createElement(S.Fragment,null,w.map(A=>S.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),v.map(A=>S.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),j.map(({key:A,link:F})=>S.createElement("link",{key:A,...F})))}function TA(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var k_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k_&&(window.__reactRouterVersion="7.6.2")}catch{}function SA({basename:s,children:e,window:t}){let r=S.useRef();r.current==null&&(r.current=mS({window:t,v5Compat:!0}));let o=r.current,[c,d]=S.useState({action:o.action,location:o.location}),p=S.useCallback(m=>{S.startTransition(()=>d(m))},[d]);return S.useLayoutEffect(()=>o.listen(p),[o,p]),S.createElement(sA,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var P_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=S.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:b,viewTransition:w,...v},j){let{basename:A}=S.useContext(Xn),F=typeof g=="string"&&P_.test(g),O,q=!1;if(typeof g=="string"&&F&&(O=g,k_))try{let T=new URL(window.location.href),L=g.startsWith("//")?new URL(T.protocol+g):new URL(g),z=la(L.pathname,A);L.origin===T.origin&&z!=null?g=z+L.search+L.hash:q=!0}catch{An(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=zS(g,{relative:o}),[P,B,Q]=_A(r,v),ie=IA(g,{replace:d,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:w});function M(T){e&&e(T),T.defaultPrevented||ie(T)}let R=S.createElement("a",{...v,...Q,href:O||U,onClick:q||c?e:M,ref:TA(j,B),target:m,"data-discover":!F&&t==="render"?"true":void 0});return P&&!F?S.createElement(S.Fragment,null,R,S.createElement(NA,{page:U})):R});es.displayName="Link";var AA=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:p,children:m,...g},b){let w=Cu(d,{relative:g.relative}),v=Ar(),j=S.useContext(yf),{navigator:A,basename:F}=S.useContext(Xn),O=j!=null&&LA(w)&&p===!0,q=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,U=v.pathname,P=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(U=U.toLowerCase(),P=P?P.toLowerCase():null,q=q.toLowerCase()),P&&F&&(P=la(P,F)||P);const B=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Q=U===q||!o&&U.startsWith(q)&&U.charAt(B)==="/",ie=P!=null&&(P===q||!o&&P.startsWith(q)&&P.charAt(q.length)==="/"),M={isActive:Q,isPending:ie,isTransitioning:O},R=Q?e:void 0,T;typeof r=="function"?T=r(M):T=[r,Q?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(M):c;return S.createElement(es,{...g,"aria-current":R,className:T,ref:b,style:L,to:d,viewTransition:p},typeof m=="function"?m(M):m)});AA.displayName="NavLink";var RA=S.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:d=Ih,action:p,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:w,...v},j)=>{let A=MA(),F=OA(p,{relative:g}),O=d.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&P_.test(p),U=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let B=P.nativeEvent.submitter,Q=B?.getAttribute("formmethod")||d;A(B||P.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:o,state:c,relative:g,preventScrollReset:b,viewTransition:w})};return S.createElement("form",{ref:j,method:O,action:F,onSubmit:r?m:U,...v,"data-discover":!q&&s==="render"?"true":void 0})});RA.displayName="Form";function CA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(s){let e=S.useContext(Ml);return Mt(e,CA(s)),e}function IA(s,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Jn(),m=Ar(),g=Cu(s,{relative:c});return S.useCallback(b=>{if(oA(b,e)){b.preventDefault();let w=t!==void 0?t:gu(m)===gu(g);p(s,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[m,p,g,t,r,e,s,o,c,d])}function kA(s){An(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(Cg(s)),t=S.useRef(!1),r=Ar(),o=S.useMemo(()=>lA(r.search,t.current?null:e.current),[r.search]),c=Jn(),d=S.useCallback((p,m)=>{const g=Cg(typeof p=="function"?p(o):p);t.current=!0,c("?"+g,m)},[c,o]);return[o,d]}var PA=0,DA=()=>`__${String(++PA)}__`;function MA(){let{router:s}=D_("useSubmit"),{basename:e}=S.useContext(Xn),t=ZS();return S.useCallback(async(r,o={})=>{let{action:c,method:d,encType:p,formData:m,body:g}=dA(r,e);if(o.navigate===!1){let b=o.fetcherKey||DA();await s.fetch(b,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,t])}function OA(s,{relative:e}={}){let{basename:t}=S.useContext(Xn),r=S.useContext(Zn);Mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Cu(s||".",{relative:e})},d=Ar();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:aa([t,c.pathname])),gu(c)}function LA(s,e={}){let t=S.useContext(N_);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D_("useViewTransitionState"),o=Cu(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=la(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=la(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(o.pathname,d)!=null||$h(o.pathname,c)!=null}[...bA];/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),uw=s=>{const e=VA(s);return e.charAt(0).toUpperCase()+e.slice(1)},M_=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),FA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=S.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},m)=>S.createElement("svg",{ref:m,...zA,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:M_("lucide",o),...!c&&!FA(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,b])=>S.createElement(g,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(s,e)=>{const t=S.forwardRef(({className:r,...o},c)=>S.createElement(BA,{ref:c,iconNode:e,className:M_(`lucide-${UA(uw(s))}`,`lucide-${s}`,r),...o}));return t.displayName=uw(s),t};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$A=je("activity",qA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ig=je("arrow-left",HA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bn=je("arrow-right",GA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yu=je("award",QA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],Iu=je("bath",YA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],ku=je("bed",KA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],O_=je("building-2",WA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],L_=je("building",XA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ri=je("calendar",ZA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kg=je("camera",JA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],dw=je("car",e4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pu=je("chart-column",t4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xa=je("chevron-down",s4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_0=je("chevron-left",n4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vf=je("chevron-right",r4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Za=je("circle-alert",a4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ja=je("circle-check-big",i4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U_=je("circle-question-mark",o4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],c4=je("circle-user",l4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hw=je("circle-x",u4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],N0=je("clock",d4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],f4=je("coffee",h4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],V_=je("credit-card",m4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fw=je("crown",p4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],F_=je("dollar-sign",g4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],z_=je("download",y4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],mw=je("dumbbell",x4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],v4=je("ellipsis-vertical",b4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B_=je("external-link",w4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gn=je("eye",_4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],j4=je("facebook",N4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xu=je("file-text",E4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],pw=je("flame",T4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wf=je("funnel",S4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_f=je("globe",A4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],q_=je("grid-3x3",R4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qn=je("heart",C4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xs=je("house",I4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],P4=je("image",k4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],M4=je("instagram",D4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],L4=je("linkedin",O4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Du=je("list",U4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bu=je("loader-circle",V4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gw=je("log-out",F4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qn=je("mail",z4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ds=je("map-pin",B4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$_=je("menu",q4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],xr=je("message-circle",$4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],G4=je("message-square",H4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],_h=je("newspaper",Q4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$n=je("phone",Y4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],H_=je("play",K4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yn=je("plus",W4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Z4=je("quote",X4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yw=je("refresh-cw",J4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hh=je("save",e3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],un=je("search",t3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],G_=je("send",s3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r3=je("settings",n3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Gh=je("share-2",a3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],El=je("shield",i3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xw=je("sparkles",o3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qh=je("square-pen",l3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ro=je("square",c3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fn=je("star",u3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nf=je("trash-2",d3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],bw=je("tree-pine",h3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vw=je("trending-down",f3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xl=je("trending-up",m3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],g3=je("twitter",p3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ph=je("upload",y3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],j0=je("user-round",x3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],br=je("user",b3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mu=je("users",v3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ww=je("waves",w3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],_w=je("wifi",_3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ys=je("x",N3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],E3=je("youtube",j3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Q_=je("zap",T3),S3=()=>{};var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},A3=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const o=s[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[t++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[t++],d=s[t++],p=s[t++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[t++],d=s[t++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,m=o+2<s.length,g=m?s[o+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let v=(p&15)<<2|g>>6,j=g&63;m||(j=64,d||(v=64)),r.push(t[b],t[w],t[v],t[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Y_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):A3(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=t[s.charAt(o++)],p=o<s.length?t[s.charAt(o)]:0;++o;const g=o<s.length?t[s.charAt(o)]:64;++o;const w=o<s.length?t[s.charAt(o)]:64;if(++o,c==null||p==null||g==null||w==null)throw new R3;const v=c<<2|p>>4;if(r.push(v),g!==64){const j=p<<4&240|g>>2;if(r.push(j),w!==64){const A=g<<6&192|w;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class R3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C3=function(s){const e=Y_(s);return K_.encodeByteArray(e,!0)},Yh=function(s){return C3(s).replace(/\./g,"")},W_=function(s){try{return K_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=()=>I3().__FIREBASE_DEFAULTS__,P3=()=>{if(typeof process>"u"||typeof Nw>"u")return;const s=Nw.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},D3=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&W_(s[1]);return e&&JSON.parse(e)},jf=()=>{try{return S3()||k3()||P3()||D3()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},X_=s=>{var e,t;return(t=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},Z_=s=>{const e=X_(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},J_=()=>{var s;return(s=jf())===null||s===void 0?void 0:s.config},e2=s=>{var e;return(e=jf())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Yh(JSON.stringify(t)),Yh(JSON.stringify(d)),""].join(".")}const ou={};function O3(){const s={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?s.emulator.push(e):s.prod.push(e);return s}function L3(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let jw=!1;function T0(s,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||ou[s]===e||ou[s]||jw)return;ou[s]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",c=O3().prod.length>0;function d(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,j){v.setAttribute("width","24"),v.setAttribute("id",j),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{jw=!0,d()},v}function b(v,j){v.setAttribute("id",j),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=L3(r),j=t("text"),A=document.getElementById(j)||document.createElement("span"),F=t("learnmore"),O=document.getElementById(F)||document.createElement("a"),q=t("preprendIcon"),U=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;p(P),b(O,F);const B=g();m(U,q),P.append(U,A,O,B),document.body.appendChild(P)}c?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function V3(){var s;const e=(s=jf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function z3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B3(){const s=Ms();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function q3(){return!V3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function r2(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function $3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="FirebaseError";class kn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=H3,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,go.prototype.create)}}class go{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?G3(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new kn(o,p,r)}}function G3(s,e){return s.replace(Q3,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Q3=/\{\$([^}]+)}/g;function Y3(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Tr(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(Ew(c)&&Ew(d)){if(!Tr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Ew(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function su(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function K3(s,e){const t=new W3(s,e);return t.subscribe.bind(t)}class W3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");X3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=cg),o.error===void 0&&(o.error=cg),o.complete===void 0&&(o.complete=cg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X3(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1e3,J3=2,eR=4*60*60*1e3,tR=.5;function Tw(s,e=Z3,t=J3){const r=e*Math.pow(t,s),o=Math.round(tR*r*(Math.random()-.5)*2);return Math.min(eR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(s){return s&&s._delegate?s._delegate:s}class Rn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new M3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(s){return s===Xi?void 0:s}function rR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(st||(st={}));const iR={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},oR=st.INFO,lR={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},cR=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=lR[e];if(o)console[o](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ef{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const uR=(s,e)=>e.some(t=>s instanceof t);let Sw,Aw;function dR(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a2=new WeakMap,Pg=new WeakMap,i2=new WeakMap,ug=new WeakMap,S0=new WeakMap;function fR(s){const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{t(ei(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&a2.set(t,s)}).catch(()=>{}),S0.set(e,s),e}function mR(s){if(Pg.has(s))return;const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Pg.set(s,e)}let Dg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Pg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i2.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function pR(s){Dg=s(Dg)}function gR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(dg(this),e,...t);return i2.set(r,e.sort?e.sort():[e]),ei(r)}:hR().includes(s)?function(...e){return s.apply(dg(this),e),ei(a2.get(this))}:function(...e){return ei(s.apply(dg(this),e))}}function yR(s){return typeof s=="function"?gR(s):(s instanceof IDBTransaction&&mR(s),uR(s,dR())?new Proxy(s,Dg):s)}function ei(s){if(s instanceof IDBRequest)return fR(s);if(ug.has(s))return ug.get(s);const e=yR(s);return e!==s&&(ug.set(s,e),S0.set(e,s)),e}const dg=s=>S0.get(s);function o2(s,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ei(d);return r&&d.addEventListener("upgradeneeded",m=>{r(ei(d.result),m.oldVersion,m.newVersion,ei(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const xR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],hg=new Map;function Rw(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=bR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||xR.includes(t)))return;const c=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return hg.set(e,c),c}pR(s=>({...s,get:(e,t,r)=>Rw(e,t)||s.get(e,t,r),has:(e,t)=>!!Rw(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function wR(s){const e=s.getComponent();return e?.type==="VERSION"}const Mg="@firebase/app",Cw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Ef("@firebase/app"),_R="@firebase/app-compat",NR="@firebase/analytics-compat",jR="@firebase/analytics",ER="@firebase/app-check-compat",TR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",IR="@firebase/database-compat",kR="@firebase/functions",PR="@firebase/functions-compat",DR="@firebase/installations",MR="@firebase/installations-compat",OR="@firebase/messaging",LR="@firebase/messaging-compat",UR="@firebase/performance",VR="@firebase/performance-compat",FR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",qR="@firebase/storage-compat",$R="@firebase/firestore",HR="@firebase/ai",GR="@firebase/firestore-compat",QR="firebase",YR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",KR={[Mg]:"fire-core",[_R]:"fire-core-compat",[jR]:"fire-analytics",[NR]:"fire-analytics-compat",[TR]:"fire-app-check",[ER]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[kR]:"fire-fn",[PR]:"fire-fn-compat",[DR]:"fire-iid",[MR]:"fire-iid-compat",[OR]:"fire-fcm",[LR]:"fire-fcm-compat",[UR]:"fire-perf",[VR]:"fire-perf-compat",[FR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[qR]:"fire-gcs-compat",[$R]:"fire-fst",[GR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,WR=new Map,Lg=new Map;function Iw(s,e){try{s.container.addComponent(e)}catch(t){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Kn(s){const e=s.name;if(Lg.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,s);for(const t of Kh.values())Iw(t,s);for(const t of WR.values())Iw(t,s);return!0}function fi(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function zs(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new go("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=YR;function l2(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Og,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(t||(t=J_()),!t)throw ti.create("no-options");const c=Kh.get(o);if(c){if(Tr(t,c.options)&&Tr(r,c.config))return c;throw ti.create("duplicate-app",{appName:o})}const d=new aR(o);for(const m of Lg.values())d.addComponent(m);const p=new ZR(t,r,d);return Kh.set(o,p),p}function Tf(s=Og){const e=Kh.get(s);if(!e&&s===Og&&J_())return l2();if(!e)throw ti.create("no-app",{appName:s});return e}function Zs(s,e,t){var r;let o=(r=KR[s])!==null&&r!==void 0?r:s;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(p.join(" "));return}Kn(new Rn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",e6=1,vu="firebase-heartbeat-store";let fg=null;function c2(){return fg||(fg=o2(JR,e6,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(s=>{throw ti.create("idb-open",{originalErrorMessage:s.message})})),fg}async function t6(s){try{const t=(await c2()).transaction(vu),r=await t.objectStore(vu).get(u2(s));return await t.done,r}catch(e){if(e instanceof kn)ca.warn(e.message);else{const t=ti.create("idb-get",{originalErrorMessage:e?.message});ca.warn(t.message)}}}async function kw(s,e){try{const r=(await c2()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,u2(s)),await r.done}catch(t){if(t instanceof kn)ca.warn(t.message);else{const r=ti.create("idb-set",{originalErrorMessage:t?.message});ca.warn(r.message)}}}function u2(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=1024,n6=30;class r6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new i6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>n6){const d=o6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pw(),{heartbeatsToSend:r,unsentEntries:o}=a6(this._heartbeatsCache.heartbeats),c=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return ca.warn(t),""}}}function Pw(){return new Date().toISOString().substring(0,10)}function a6(s,e=s6){const t=[];let r=s.slice();for(const o of s){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Dw(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Dw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?r2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dw(s){return Yh(JSON.stringify({version:2,heartbeats:s})).length}function o6(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(s){Kn(new Rn("platform-logger",e=>new vR(e),"PRIVATE")),Kn(new Rn("heartbeat",e=>new r6(e),"PRIVATE")),Zs(Mg,Cw,s),Zs(Mg,Cw,"esm2017"),Zs("fire-js","")}l6("");var Mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,d2;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function T(){}T.prototype=R.prototype,M.D=R.prototype,M.prototype=new T,M.prototype.constructor=M,M.C=function(L,z,C){for(var E=Array(arguments.length-2),re=2;re<arguments.length;re++)E[re-2]=arguments[re];return R.prototype[z].apply(L,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,T){T||(T=0);var L=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)L[z]=R.charCodeAt(T++)|R.charCodeAt(T++)<<8|R.charCodeAt(T++)<<16|R.charCodeAt(T++)<<24;else for(z=0;16>z;++z)L[z]=R[T++]|R[T++]<<8|R[T++]<<16|R[T++]<<24;R=M.g[0],T=M.g[1],z=M.g[2];var C=M.g[3],E=R+(C^T&(z^C))+L[0]+3614090360&4294967295;R=T+(E<<7&4294967295|E>>>25),E=C+(z^R&(T^z))+L[1]+3905402710&4294967295,C=R+(E<<12&4294967295|E>>>20),E=z+(T^C&(R^T))+L[2]+606105819&4294967295,z=C+(E<<17&4294967295|E>>>15),E=T+(R^z&(C^R))+L[3]+3250441966&4294967295,T=z+(E<<22&4294967295|E>>>10),E=R+(C^T&(z^C))+L[4]+4118548399&4294967295,R=T+(E<<7&4294967295|E>>>25),E=C+(z^R&(T^z))+L[5]+1200080426&4294967295,C=R+(E<<12&4294967295|E>>>20),E=z+(T^C&(R^T))+L[6]+2821735955&4294967295,z=C+(E<<17&4294967295|E>>>15),E=T+(R^z&(C^R))+L[7]+4249261313&4294967295,T=z+(E<<22&4294967295|E>>>10),E=R+(C^T&(z^C))+L[8]+1770035416&4294967295,R=T+(E<<7&4294967295|E>>>25),E=C+(z^R&(T^z))+L[9]+2336552879&4294967295,C=R+(E<<12&4294967295|E>>>20),E=z+(T^C&(R^T))+L[10]+4294925233&4294967295,z=C+(E<<17&4294967295|E>>>15),E=T+(R^z&(C^R))+L[11]+2304563134&4294967295,T=z+(E<<22&4294967295|E>>>10),E=R+(C^T&(z^C))+L[12]+1804603682&4294967295,R=T+(E<<7&4294967295|E>>>25),E=C+(z^R&(T^z))+L[13]+4254626195&4294967295,C=R+(E<<12&4294967295|E>>>20),E=z+(T^C&(R^T))+L[14]+2792965006&4294967295,z=C+(E<<17&4294967295|E>>>15),E=T+(R^z&(C^R))+L[15]+1236535329&4294967295,T=z+(E<<22&4294967295|E>>>10),E=R+(z^C&(T^z))+L[1]+4129170786&4294967295,R=T+(E<<5&4294967295|E>>>27),E=C+(T^z&(R^T))+L[6]+3225465664&4294967295,C=R+(E<<9&4294967295|E>>>23),E=z+(R^T&(C^R))+L[11]+643717713&4294967295,z=C+(E<<14&4294967295|E>>>18),E=T+(C^R&(z^C))+L[0]+3921069994&4294967295,T=z+(E<<20&4294967295|E>>>12),E=R+(z^C&(T^z))+L[5]+3593408605&4294967295,R=T+(E<<5&4294967295|E>>>27),E=C+(T^z&(R^T))+L[10]+38016083&4294967295,C=R+(E<<9&4294967295|E>>>23),E=z+(R^T&(C^R))+L[15]+3634488961&4294967295,z=C+(E<<14&4294967295|E>>>18),E=T+(C^R&(z^C))+L[4]+3889429448&4294967295,T=z+(E<<20&4294967295|E>>>12),E=R+(z^C&(T^z))+L[9]+568446438&4294967295,R=T+(E<<5&4294967295|E>>>27),E=C+(T^z&(R^T))+L[14]+3275163606&4294967295,C=R+(E<<9&4294967295|E>>>23),E=z+(R^T&(C^R))+L[3]+4107603335&4294967295,z=C+(E<<14&4294967295|E>>>18),E=T+(C^R&(z^C))+L[8]+1163531501&4294967295,T=z+(E<<20&4294967295|E>>>12),E=R+(z^C&(T^z))+L[13]+2850285829&4294967295,R=T+(E<<5&4294967295|E>>>27),E=C+(T^z&(R^T))+L[2]+4243563512&4294967295,C=R+(E<<9&4294967295|E>>>23),E=z+(R^T&(C^R))+L[7]+1735328473&4294967295,z=C+(E<<14&4294967295|E>>>18),E=T+(C^R&(z^C))+L[12]+2368359562&4294967295,T=z+(E<<20&4294967295|E>>>12),E=R+(T^z^C)+L[5]+4294588738&4294967295,R=T+(E<<4&4294967295|E>>>28),E=C+(R^T^z)+L[8]+2272392833&4294967295,C=R+(E<<11&4294967295|E>>>21),E=z+(C^R^T)+L[11]+1839030562&4294967295,z=C+(E<<16&4294967295|E>>>16),E=T+(z^C^R)+L[14]+4259657740&4294967295,T=z+(E<<23&4294967295|E>>>9),E=R+(T^z^C)+L[1]+2763975236&4294967295,R=T+(E<<4&4294967295|E>>>28),E=C+(R^T^z)+L[4]+1272893353&4294967295,C=R+(E<<11&4294967295|E>>>21),E=z+(C^R^T)+L[7]+4139469664&4294967295,z=C+(E<<16&4294967295|E>>>16),E=T+(z^C^R)+L[10]+3200236656&4294967295,T=z+(E<<23&4294967295|E>>>9),E=R+(T^z^C)+L[13]+681279174&4294967295,R=T+(E<<4&4294967295|E>>>28),E=C+(R^T^z)+L[0]+3936430074&4294967295,C=R+(E<<11&4294967295|E>>>21),E=z+(C^R^T)+L[3]+3572445317&4294967295,z=C+(E<<16&4294967295|E>>>16),E=T+(z^C^R)+L[6]+76029189&4294967295,T=z+(E<<23&4294967295|E>>>9),E=R+(T^z^C)+L[9]+3654602809&4294967295,R=T+(E<<4&4294967295|E>>>28),E=C+(R^T^z)+L[12]+3873151461&4294967295,C=R+(E<<11&4294967295|E>>>21),E=z+(C^R^T)+L[15]+530742520&4294967295,z=C+(E<<16&4294967295|E>>>16),E=T+(z^C^R)+L[2]+3299628645&4294967295,T=z+(E<<23&4294967295|E>>>9),E=R+(z^(T|~C))+L[0]+4096336452&4294967295,R=T+(E<<6&4294967295|E>>>26),E=C+(T^(R|~z))+L[7]+1126891415&4294967295,C=R+(E<<10&4294967295|E>>>22),E=z+(R^(C|~T))+L[14]+2878612391&4294967295,z=C+(E<<15&4294967295|E>>>17),E=T+(C^(z|~R))+L[5]+4237533241&4294967295,T=z+(E<<21&4294967295|E>>>11),E=R+(z^(T|~C))+L[12]+1700485571&4294967295,R=T+(E<<6&4294967295|E>>>26),E=C+(T^(R|~z))+L[3]+2399980690&4294967295,C=R+(E<<10&4294967295|E>>>22),E=z+(R^(C|~T))+L[10]+4293915773&4294967295,z=C+(E<<15&4294967295|E>>>17),E=T+(C^(z|~R))+L[1]+2240044497&4294967295,T=z+(E<<21&4294967295|E>>>11),E=R+(z^(T|~C))+L[8]+1873313359&4294967295,R=T+(E<<6&4294967295|E>>>26),E=C+(T^(R|~z))+L[15]+4264355552&4294967295,C=R+(E<<10&4294967295|E>>>22),E=z+(R^(C|~T))+L[6]+2734768916&4294967295,z=C+(E<<15&4294967295|E>>>17),E=T+(C^(z|~R))+L[13]+1309151649&4294967295,T=z+(E<<21&4294967295|E>>>11),E=R+(z^(T|~C))+L[4]+4149444226&4294967295,R=T+(E<<6&4294967295|E>>>26),E=C+(T^(R|~z))+L[11]+3174756917&4294967295,C=R+(E<<10&4294967295|E>>>22),E=z+(R^(C|~T))+L[2]+718787259&4294967295,z=C+(E<<15&4294967295|E>>>17),E=T+(C^(z|~R))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(z+(E<<21&4294967295|E>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var T=R-this.blockSize,L=this.B,z=this.h,C=0;C<R;){if(z==0)for(;C<=T;)o(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(L[z++]=M.charCodeAt(C++),z==this.blockSize){o(this,L),z=0;break}}else for(;C<R;)if(L[z++]=M[C++],z==this.blockSize){o(this,L),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var T=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=T&255,T/=256;for(this.u(M),M=Array(16),R=T=0;4>R;++R)for(var L=0;32>L;L+=8)M[T++]=this.g[R]>>>L&255;return M};function c(M,R){var T=p;return Object.prototype.hasOwnProperty.call(T,M)?T[M]:T[M]=R(M)}function d(M,R){this.h=R;for(var T=[],L=!0,z=M.length-1;0<=z;z--){var C=M[z]|0;L&&C==R||(T[z]=C,L=!1)}this.g=T}var p={};function m(M){return-128<=M&&128>M?c(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return O(g(-M));for(var R=[],T=1,L=0;M>=T;L++)R[L]=M/T|0,T*=4294967296;return new d(R,0)}function b(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return O(b(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=g(Math.pow(R,8)),L=w,z=0;z<M.length;z+=8){var C=Math.min(8,M.length-z),E=parseInt(M.substring(z,z+C),R);8>C?(C=g(Math.pow(R,C)),L=L.j(C).add(g(E))):(L=L.j(T),L=L.add(g(E)))}return L}var w=m(0),v=m(1),j=m(16777216);s=d.prototype,s.m=function(){if(F(this))return-O(this).m();for(var M=0,R=1,T=0;T<this.g.length;T++){var L=this.i(T);M+=(0<=L?L:4294967296+L)*R,R*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(F(this))return"-"+O(this).toString(M);for(var R=g(Math.pow(M,6)),T=this,L="";;){var z=B(T,R).g;T=q(T,z.j(R));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(M);if(T=z,A(T))return C+L;for(;6>C.length;)C="0"+C;L=C+L}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}s.l=function(M){return M=q(this,M),F(M)?-1:A(M)?0:1};function O(M){for(var R=M.g.length,T=[],L=0;L<R;L++)T[L]=~M.g[L];return new d(T,~M.h).add(v)}s.abs=function(){return F(this)?O(this):this},s.add=function(M){for(var R=Math.max(this.g.length,M.g.length),T=[],L=0,z=0;z<=R;z++){var C=L+(this.i(z)&65535)+(M.i(z)&65535),E=(C>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);L=E>>>16,C&=65535,E&=65535,T[z]=E<<16|C}return new d(T,T[T.length-1]&-2147483648?-1:0)};function q(M,R){return M.add(O(R))}s.j=function(M){if(A(this)||A(M))return w;if(F(this))return F(M)?O(this).j(O(M)):O(O(this).j(M));if(F(M))return O(this.j(O(M)));if(0>this.l(j)&&0>M.l(j))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,T=[],L=0;L<2*R;L++)T[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<M.g.length;z++){var C=this.i(L)>>>16,E=this.i(L)&65535,re=M.i(z)>>>16,de=M.i(z)&65535;T[2*L+2*z]+=E*de,U(T,2*L+2*z),T[2*L+2*z+1]+=C*de,U(T,2*L+2*z+1),T[2*L+2*z+1]+=E*re,U(T,2*L+2*z+1),T[2*L+2*z+2]+=C*re,U(T,2*L+2*z+2)}for(L=0;L<R;L++)T[L]=T[2*L+1]<<16|T[2*L];for(L=R;L<2*R;L++)T[L]=0;return new d(T,0)};function U(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function P(M,R){this.g=M,this.h=R}function B(M,R){if(A(R))throw Error("division by zero");if(A(M))return new P(w,w);if(F(M))return R=B(O(M),R),new P(O(R.g),O(R.h));if(F(R))return R=B(M,O(R)),new P(O(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var T=v,L=R;0>=L.l(M);)T=Q(T),L=Q(L);var z=ie(T,1),C=ie(L,1);for(L=ie(L,2),T=ie(T,2);!A(L);){var E=C.add(L);0>=E.l(M)&&(z=z.add(T),C=E),L=ie(L,1),T=ie(T,1)}return R=q(M,z.j(R)),new P(z,R)}for(z=w;0<=M.l(R);){for(T=Math.max(1,Math.floor(M.m()/R.m())),L=Math.ceil(Math.log(T)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),C=g(T),E=C.j(R);F(E)||0<E.l(M);)T-=L,C=g(T),E=C.j(R);A(C)&&(C=v),z=z.add(C),M=q(M,E)}return new P(z,M)}s.A=function(M){return B(this,M).h},s.and=function(M){for(var R=Math.max(this.g.length,M.g.length),T=[],L=0;L<R;L++)T[L]=this.i(L)&M.i(L);return new d(T,this.h&M.h)},s.or=function(M){for(var R=Math.max(this.g.length,M.g.length),T=[],L=0;L<R;L++)T[L]=this.i(L)|M.i(L);return new d(T,this.h|M.h)},s.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),T=[],L=0;L<R;L++)T[L]=this.i(L)^M.i(L);return new d(T,this.h^M.h)};function Q(M){for(var R=M.g.length+1,T=[],L=0;L<R;L++)T[L]=M.i(L)<<1|M.i(L-1)>>>31;return new d(T,M.h)}function ie(M,R){var T=R>>5;R%=32;for(var L=M.g.length-T,z=[],C=0;C<L;C++)z[C]=0<R?M.i(C+T)>>>R|M.i(C+T+1)<<32-R:M.i(C+T);return new d(z,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d2=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,si=d}).apply(typeof Mw<"u"?Mw:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h2,nu,f2,Dh,Ug,m2,p2,g2;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,_){return h==Array.prototype||h==Object.prototype||(h[x]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(h,x){if(x)e:{var _=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var J=h[D];if(!(J in _))break e;_=_[J]}h=h[h.length-1],D=_[h],x=x(D),x!=D&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}function c(h,x){h instanceof String&&(h+="");var _=0,D=!1,J={next:function(){if(!D&&_<h.length){var le=_++;return{value:x(le,h[le]),done:!1}}return D=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(h){return h||function(){return c(this,function(x,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function b(h,x,_){return h.call.apply(h.bind,arguments)}function w(h,x,_){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,D),h.apply(x,J)}}return function(){return h.apply(x,arguments)}}function v(h,x,_){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,v.apply(null,arguments)}function j(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var D=_.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function A(h,x){function _(){}_.prototype=x.prototype,h.aa=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(D,J,le){for(var we=Array(arguments.length-2),at=2;at<arguments.length;at++)we[at-2]=arguments[at];return x.prototype[J].apply(D,we)}}function F(h){const x=h.length;if(0<x){const _=Array(x);for(let D=0;D<x;D++)_[D]=h[D];return _}return[]}function O(h,x){for(let _=1;_<arguments.length;_++){const D=arguments[_];if(m(D)){const J=h.length||0,le=D.length||0;h.length=J+le;for(let we=0;we<le;we++)h[J+we]=D[we]}else h.push(D)}}class q{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function U(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=p.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var Q=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ie(h,x,_){for(const D in h)x.call(_,h[D],D,h)}function M(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function R(h){const x={};for(const _ in h)x[_]=h[_];return x}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,x){let _,D;for(let J=1;J<arguments.length;J++){D=arguments[J];for(_ in D)h[_]=D[_];for(let le=0;le<T.length;le++)_=T[le],Object.prototype.hasOwnProperty.call(D,_)&&(h[_]=D[_])}}function z(h){var x=1;h=h.split(":");const _=[];for(;0<x&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function C(h){p.setTimeout(()=>{throw h},0)}function E(){var h=H;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class re{constructor(){this.h=this.g=null}add(x,_){const D=de.get();D.set(x,_),this.h?this.h.next=D:this.g=D,this.h=D}}var de=new q(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,H=new re,k=()=>{const h=p.Promise.resolve(void 0);ye=()=>{h.then(G)}};var G=()=>{for(var h;h=E();){try{h.h.call(h.g)}catch(_){C(_)}var x=de;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ve=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};p.addEventListener("test",_,x),p.removeEventListener("test",_,x)}catch{}return h}();function W(h,x){if(V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(Q){e:{try{B(x.nodeName);var J=!0;break e}catch{}J=!1}J||(x=null)}}else _=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement);this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&W.aa.h.call(this)}}A(W,V);var se={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Se=0;function $e(h,x,_,D,J){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!D,this.ha=J,this.key=++Se,this.da=this.fa=!1}function Ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,x,_,D,J){var le=h.toString();h=this.g[le],h||(h=this.g[le]=[],this.h++);var we=ge(h,x,D,J);return-1<we?(x=h[we],_||(x.fa=!1)):(x=new $e(x,this.src,le,!!D,J),x.fa=_,h.push(x)),x};function X(h,x){var _=x.type;if(_ in h.g){var D=h.g[_],J=Array.prototype.indexOf.call(D,x,void 0),le;(le=0<=J)&&Array.prototype.splice.call(D,J,1),le&&(Ye(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function ge(h,x,_,D){for(var J=0;J<h.length;++J){var le=h[J];if(!le.da&&le.listener==x&&le.capture==!!_&&le.ha==D)return J}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Ke={};function rt(h,x,_,D,J){if(Array.isArray(x)){for(var le=0;le<x.length;le++)rt(h,x[le],_,D,J);return null}return _=en(_),h&&h[Ne]?h.K(x,_,g(D)?!!D.capture:!1,J):Ce(h,x,_,!1,D,J)}function Ce(h,x,_,D,J,le){if(!x)throw Error("Invalid event type");var we=g(J)?!!J.capture:!!J,at=tt(h);if(at||(h[Ie]=at=new me(h)),_=at.add(x,_,D,we,le),_.proxy)return _;if(D=Be(),_.proxy=D,D.src=h,D.listener=_,h.addEventListener)ue||(J=we),J===void 0&&(J=!1),h.addEventListener(x.toString(),D,J);else if(h.attachEvent)h.attachEvent(_e(x.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Be(){function h(_){return x.call(h.src,h.listener,_)}const x=Pe;return h}function ce(h,x,_,D,J){if(Array.isArray(x))for(var le=0;le<x.length;le++)ce(h,x[le],_,D,J);else D=g(D)?!!D.capture:!!D,_=en(_),h&&h[Ne]?(h=h.i,x=String(x).toString(),x in h.g&&(le=h.g[x],_=ge(le,_,D,J),-1<_&&(Ye(le[_]),Array.prototype.splice.call(le,_,1),le.length==0&&(delete h.g[x],h.h--)))):h&&(h=tt(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ge(x,_,D,J)),(_=-1<h?x[h]:null)&&Te(_))}function Te(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ne])X(x.i,h);else{var _=h.type,D=h.proxy;x.removeEventListener?x.removeEventListener(_,D,h.capture):x.detachEvent?x.detachEvent(_e(_),D):x.addListener&&x.removeListener&&x.removeListener(D),(_=tt(x))?(X(_,h),_.h==0&&(_.src=null,x[Ie]=null)):Ye(h)}}}function _e(h){return h in Ke?Ke[h]:Ke[h]="on"+h}function Pe(h,x){if(h.da)h=!0;else{x=new W(x,this);var _=h.listener,D=h.ha||h.src;h.fa&&Te(h),h=_.call(D,x)}return h}function tt(h){return h=h[Ie],h instanceof me?h:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(h){return typeof h=="function"?h:(h[Ot]||(h[Ot]=function(x){return h.handleEvent(x)}),h[Ot])}function dt(){ee.call(this),this.i=new me(this),this.M=this,this.F=null}A(dt,ee),dt.prototype[Ne]=!0,dt.prototype.removeEventListener=function(h,x,_,D){ce(this,h,x,_,D)};function Fe(h,x){var _,D=h.F;if(D)for(_=[];D;D=D.F)_.push(D);if(h=h.M,D=x.type||x,typeof x=="string")x=new V(x,h);else if(x instanceof V)x.target=x.target||h;else{var J=x;x=new V(D,h),L(x,J)}if(J=!0,_)for(var le=_.length-1;0<=le;le--){var we=x.g=_[le];J=We(we,D,!0,x)&&J}if(we=x.g=h,J=We(we,D,!0,x)&&J,J=We(we,D,!1,x)&&J,_)for(le=0;le<_.length;le++)we=x.g=_[le],J=We(we,D,!1,x)&&J}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var _=h.g[x],D=0;D<_.length;D++)Ye(_[D]);delete h.g[x],h.h--}}this.F=null},dt.prototype.K=function(h,x,_,D){return this.i.add(String(h),x,!1,_,D)},dt.prototype.L=function(h,x,_,D){return this.i.add(String(h),x,!0,_,D)};function We(h,x,_,D){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var J=!0,le=0;le<x.length;++le){var we=x[le];if(we&&!we.da&&we.capture==_){var at=we.listener,rs=we.ha||we.src;we.fa&&X(h.i,we),J=at.call(rs,D)!==!1&&J}}return J&&!D.defaultPrevented}function Lt(h,x,_){if(typeof h=="function")_&&(h=v(h,_));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:p.setTimeout(h,x||0)}function xi(h){h.g=Lt(()=>{h.g=null,h.i&&(h.i=!1,xi(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class ga extends ee{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(h){ee.call(this),this.h=h,this.g={}}A(Cr,ee);var bi=[];function vi(h){ie(h.g,function(x,_){this.g.hasOwnProperty(_)&&Te(x)},h),h.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),vi(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,_o=p.JSON.parse,wi=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function Hl(){}Hl.prototype.h=null;function Gl(h){return h.h||(h.h=h.i())}function Ql(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){V.call(this,"d")}A(kr,V);function Yl(){V.call(this,"c")}A(Yl,V);var er={},Kl=null;function ya(){return Kl=Kl||new dt}er.La="serverreachability";function No(h){V.call(this,er.La,h)}A(No,V);function xa(h){const x=ya();Fe(x,new No(x))}er.STAT_EVENT="statevent";function ed(h,x){V.call(this,er.STAT_EVENT,h),this.stat=x}A(ed,V);function kt(h){const x=ya();Fe(x,new ed(x,h))}er.Ma="timingevent";function ns(h,x){V.call(this,er.Ma,h),this.size=x}A(ns,V);function Kt(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},x)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Wl(h,x,_,D,J,le){h.info(function(){if(h.g)if(le)for(var we="",at=le.split("&"),rs=0;rs<at.length;rs++){var it=at[rs].split("=");if(1<it.length){var ds=it[0];it=it[1];var as=ds.split("_");we=2<=as.length&&as[1]=="type"?we+(ds+"="+it+"&"):we+(ds+"=redacted&")}}else we=null;else we=le;return"XMLHTTP REQ ("+D+") [attempt "+J+"]: "+x+`
`+_+`
`+we})}function rm(h,x,_,D,J,le,we){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+J+"]: "+x+`
`+_+`
`+le+" "+we})}function ba(h,x,_,D){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+_i(h,_)+(D?" "+D:"")})}function td(h,x){h.info(function(){return"TIMEOUT: "+x})}pn.prototype.info=function(){};function _i(h,x){if(!h.g)return x;if(!x)return null;try{var _=JSON.parse(x);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var D=_[h];if(!(2>D.length)){var J=D[1];if(Array.isArray(J)&&!(1>J.length)){var le=J[0];if(le!="noop"&&le!="stop"&&le!="close")for(var we=1;we<J.length;we++)J[we]=""}}}}return Dn(_)}catch{return x}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function sr(){}A(sr,Hl),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},tr=new sr;function Os(h,x,_,D){this.j=h,this.i=x,this.l=_,this.R=D||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Xl={},jo={};function Mn(h,x,_){h.L=1,h.v=Si(tn(x)),h.m=_,h.P=!0,Dr(h,null)}function Dr(h,x){h.F=Date.now(),Ni(h),h.A=tn(h.v);var _=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),nc(_.i,"t",D),h.C=0,_=h.j.J,h.h=new $t,h.g=yd(h.j,_?x:null,!h.m),0<h.O&&(h.M=new ga(v(h.Y,h,h.g),h.O)),x=h.U,_=h.g,D=h.ca;var J="readystatechange";Array.isArray(J)||(J&&(bi[0]=J.toString()),J=bi);for(var le=0;le<J.length;le++){var we=rt(_,J[le],D||x.handleEvent,!1,x.h||x);if(!we)break;x.g[we.key]=we}x=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),xa(),Wl(h.i,h.u,h.A,h.l,h.R,h.m)}Os.prototype.ca=function(h){h=h.target;const x=this.M;x&&bn(h)==3?x.j():this.Y(h)},Os.prototype.Y=function(h){try{if(h==this.g)e:{const as=bn(this.g);var x=this.g.Ba();const Br=this.g.Z();if(!(3>as)&&(as!=3||this.g&&(this.h.h||this.g.oa()||cd(this.g)))){this.J||as!=4||x==7||(x==8||0>=Br?xa(3):xa(2)),wa(this);var _=this.g.Z();this.X=_;t:if(sd(this)){var D=cd(this.g);h="";var J=D.length,le=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),nr(this);var we="";break t}this.h.i=new p.TextDecoder}for(x=0;x<J;x++)this.h.h=!0,h+=this.h.i.decode(D[x],{stream:!(le&&x==J-1)});D.length=0,this.h.g+=h,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=_==200,rm(this.i,this.u,this.A,this.l,this.R,as,_),this.o){if(this.T&&!this.K){t:{if(this.g){var at,rs=this.g;if((at=rs.g?rs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(at)){var it=at;break t}}it=null}if(_=it)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ji(this,_);else{this.o=!1,this.s=3,kt(12),bs(this),nr(this);break e}}if(this.P){_=!0;let vs;for(;!this.J&&this.C<we.length;)if(vs=nd(this,we),vs==jo){as==4&&(this.s=4,kt(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(vs==Xl){this.s=4,kt(15),ba(this.i,this.l,we,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,vs,null),ji(this,vs);if(sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),as!=4||we.length!=0||this.h.h||(this.s=1,kt(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,we,"[Invalid Chunked Response]"),bs(this),nr(this);else if(0<we.length&&!this.W){this.W=!0;var ds=this.j;ds.g==this&&ds.ba&&!ds.M&&(ds.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Mi(ds),ds.M=!0,kt(11))}}else ba(this.i,this.l,we,null),ji(this,we);as==4&&bs(this),this.o&&!this.J&&(as==4?md(this.j,this):(this.o=!1,Ni(this)))}else cm(this.g),_==400&&0<we.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),bs(this),nr(this)}}}catch{}finally{}};function sd(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nd(h,x){var _=h.C,D=x.indexOf(`
`,_);return D==-1?jo:(_=Number(x.substring(_,D)),isNaN(_)?Xl:(D+=1,D+_>x.length?jo:(x=x.slice(D,D+_),h.C=D+_,x)))}Os.prototype.cancel=function(){this.J=!0,bs(this)};function Ni(h){h.S=Date.now()+h.I,rd(h,h.I)}function rd(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Kt(v(h.ba,h),x)}function wa(h){h.B&&(p.clearTimeout(h.B),h.B=null)}Os.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(td(this.i,this.A),this.L!=2&&(xa(),kt(17)),bs(this),this.s=2,nr(this)):rd(this,this.S-h)};function nr(h){h.j.G==0||h.J||md(h.j,h)}function bs(h){wa(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,vi(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function ji(h,x){try{var _=h.j;if(_.G!=0&&(_.g==h||Zl(_.h,h))){if(!h.K&&Zl(_.h,h)&&_.G==3){try{var D=_.Da.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var J=D;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oo(_),Do(_);else break e;lc(_),kt(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=Kt(v(_.Za,_),6e3));if(1>=To(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zr(_,11)}else if((h.K||_.g==h)&&Oo(_),!U(x))for(J=_.Da.g.parse(x),x=0;x<J.length;x++){let it=J[x];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const ds=it[3];ds!=null&&(_.la=ds,_.j.info("VER="+_.la));const as=it[4];as!=null&&(_.Aa=as,_.j.info("SVER="+_.Aa));const Br=it[5];Br!=null&&typeof Br=="number"&&0<Br&&(D=1.5*Br,_.L=D,_.j.info("backChannelRequestTimeoutMs_="+D)),D=_;const vs=h.g;if(vs){const ur=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var le=D.h;le.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(So(le,le.h),le.h=null))}if(D.D){const uc=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(D.ya=uc,wt(D.I,D.D,uc))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),D=_;var we=h;if(D.qa=gd(D,D.J?D.ia:null,D.W),we.K){Ls(D.h,we);var at=we,rs=D.L;rs&&(at.I=rs),at.B&&(wa(at),Ni(at)),D.g=we}else hd(D);0<_.i.length&&Mo(_)}else it[0]!="stop"&&it[0]!="close"||zr(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?zr(_,7):ic(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}xa(4)}catch{}}var ad=class{constructor(h,x){this.g=h,this.map=x}};function Mr(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function To(h){return h.h?1:h.g?h.g.size:0}function Zl(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function So(h,x){h.g?h.g.add(x):h.h=x}function Ls(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Mr.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.D);return x}return F(h.i)}function am(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var x=[],_=h.length,D=0;D<_;D++)x.push(h[D]);return x}x=[],_=0;for(D in h)x[_++]=h[D];return x}function Ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var x=[];h=h.length;for(var _=0;_<h;_++)x.push(_);return x}x=[],_=0;for(const D in h)x[_++]=D;return x}}}function ec(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var _=Ao(h),D=am(h),J=D.length,le=0;le<J;le++)x.call(void 0,D[le],_&&_[le],h)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(h,x){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var D=h[_].indexOf("="),J=null;if(0<=D){var le=h[_].substring(0,D);J=h[_].substring(D+1)}else le=h[_];x(le,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Wt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wt){this.h=h.h,Ti(this,h.j),this.o=h.o,this.g=h.g,_a(this,h.s),this.l=h.l;var x=h.i,_=new Lr;_.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),Or(this,_),this.m=h.m}else h&&(x=String(h).match(Ei))?(this.h=!1,Ti(this,x[1]||"",!0),this.o=gn(x[2]||""),this.g=gn(x[3]||"",!0),_a(this,x[4]),this.l=gn(x[5]||"",!0),Or(this,x[6]||"",!0),this.m=gn(x[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}Wt.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Ai(x,tc,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ai(x,tc,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ai(_,_.charAt(0)=="/"?om:sc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ai(_,Ro)),h.join("")};function tn(h){return new Wt(h)}function Ti(h,x,_){h.j=_?gn(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function _a(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Or(h,x,_){x instanceof Lr?(h.i=x,od(h.i,h.h)):(_||(x=Ai(x,lm)),h.i=new Lr(x,h.h))}function wt(h,x,_){h.i.set(x,_)}function Si(h){return wt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function gn(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ai(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,id),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function id(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tc=/[#\/\?@]/g,sc=/[#\?:]/g,om=/[#\?]/g,lm=/[#\?@]/g,Ro=/#/g;function Lr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&im(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}s=Lr.prototype,s.add=function(h,x){yn(this),this.i=null,h=rr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function Ur(h,x){yn(h),x=rr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Vr(h,x){return yn(h),x=rr(h,x),h.g.has(x)}s.forEach=function(h,x){yn(this),this.g.forEach(function(_,D){_.forEach(function(J){h.call(x,J,D,this)},this)},this)},s.na=function(){yn(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),_=[];for(let D=0;D<x.length;D++){const J=h[D];for(let le=0;le<J.length;le++)_.push(x[D])}return _},s.V=function(h){yn(this);let x=[];if(typeof h=="string")Vr(this,h)&&(x=x.concat(this.g.get(rr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)x=x.concat(h[_])}return x},s.set=function(h,x){return yn(this),this.i=null,h=rr(this,h),Vr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function nc(h,x,_){Ur(h,x),0<_.length&&(h.i=null,h.g.set(rr(h,x),F(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var _=0;_<x.length;_++){var D=x[_];const le=encodeURIComponent(String(D)),we=this.V(D);for(D=0;D<we.length;D++){var J=le;we[D]!==""&&(J+="="+encodeURIComponent(String(we[D]))),h.push(J)}}return this.i=h.join("&")};function rr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function od(h,x){x&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(_,D){var J=D.toLowerCase();D!=J&&(Ur(this,D),nc(this,J,_))},h)),h.j=x}function Ri(h,x){const _=new pn;if(p.Image){const D=new Image;D.onload=j(xn,_,"TestLoadImage: loaded",!0,x,D),D.onerror=j(xn,_,"TestLoadImage: error",!1,x,D),D.onabort=j(xn,_,"TestLoadImage: abort",!1,x,D),D.ontimeout=j(xn,_,"TestLoadImage: timeout",!1,x,D),p.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else x(!1)}function On(h,x){const _=new pn,D=new AbortController,J=setTimeout(()=>{D.abort(),xn(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:D.signal}).then(le=>{clearTimeout(J),le.ok?xn(_,"TestPingServer: ok",!0,x):xn(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(J),xn(_,"TestPingServer: error",!1,x)})}function xn(h,x,_,D,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),D(_)}catch{}}function Ci(){this.g=new wi}function ar(h,x,_){const D=_||"";try{ec(h,function(J,le){let we=J;g(J)&&(we=Dn(J)),x.push(D+le+"="+encodeURIComponent(we))})}catch(J){throw x.push(D+"type="+encodeURIComponent("_badmap")),J}}function Na(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Na,Hl),Na.prototype.g=function(){return new Fr(this.l,this.j)},Na.prototype.i=function(h){return function(){return h}}({});function Fr(h,x){dt.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Fr,dt),s=Fr.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,or(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||p).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function rc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?ir(this):or(this),this.readyState==3&&rc(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,ir(this))},s.Qa=function(h){this.g&&(this.response=h,ir(this))},s.ga=function(){this.g&&ir(this)};function ir(h){h.readyState=4,h.l=null,h.j=null,h.v=null,or(h)}s.setRequestHeader=function(h,x){this.u.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ac(h){let x="";return ie(h,function(_,D){x+=D,x+=":",x+=_,x+=`\r
`}),x}function us(h,x,_){e:{for(D in _){var D=!1;break e}D=!0}D||(_=ac(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):wt(h,x,_))}function yt(h){dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(yt,dt);var Co=/^https?$/i,Ii=["POST","PUT"];s=yt.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,x,_,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?Gl(this.o):Gl(tr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(le){ld(this,le);return}if(h=_||"",_=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var J in D)_.set(J,D[J]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const le of D.keys())_.set(le,D.get(le));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(_.keys()).find(le=>le.toLowerCase()=="content-type"),J=p.FormData&&h instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ii,x,void 0))||D||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of _)this.g.setRequestHeader(le,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ki(this),this.u=!0,this.g.send(h),this.u=!1}catch(le){ld(this,le)}};function ld(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,Io(h),lr(h)}function Io(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),lr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),yt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},s.bb=function(){ko(this)};function ko(h){if(h.h&&typeof d<"u"&&(!h.v[1]||bn(h)!=4||h.Z()!=2)){if(h.u&&bn(h)==4)Lt(h.Ea,0,h);else if(Fe(h,"readystatechange"),bn(h)==4){h.h=!1;try{const we=h.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var D;if(D=we===0){var J=String(h.D).match(Ei)[1]||null;!J&&p.self&&p.self.location&&(J=p.self.location.protocol.slice(0,-1)),D=!Co.test(J?J.toLowerCase():"")}_=D}if(_)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var le=2<bn(h)?h.g.statusText:""}catch{le=""}h.l=le+" ["+h.Z()+"]",Io(h)}}finally{lr(h)}}}}function lr(h,x){if(h.g){ki(h);const _=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Fe(h,"ready");try{_.onreadystatechange=D}catch{}}}function ki(h){h.I&&(p.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function bn(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),_o(x)}};function cd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cm(h){const x={};h=(h.g&&2<=bn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(U(h[D]))continue;var _=z(h[D]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const le=x[J]||[];x[J]=le,le.push(_)}M(x,function(D){return D.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function Po(h){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,h),this.cb=Pi("retryDelaySeedMs",1e4,h),this.Wa=Pi("forwardChannelMaxRetries",2,h),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(h&&h.concurrentRequestLimit),this.Da=new Ci,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Po.prototype,s.la=8,s.G=1,s.connect=function(h,x,_,D){kt(0),this.W=h,this.H=x||{},_&&D!==void 0&&(this.H.OSID=_,this.H.OAID=D),this.F=this.X,this.I=gd(this,null,this.W),Mo(this)};function ic(h){if(ud(h),h.G==3){var x=h.U++,_=tn(h.I);if(wt(_,"SID",h.K),wt(_,"RID",x),wt(_,"TYPE","terminate"),Di(h,_),x=new Os(h,h.j,x),x.L=2,x.v=Si(tn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(x.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=x.v,_=!0),_||(x.g=yd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Ni(x)}pd(h)}function Do(h){h.g&&(Mi(h),h.g.cancel(),h.g=null)}function ud(h){Do(h),h.u&&(p.clearTimeout(h.u),h.u=null),Oo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&p.clearTimeout(h.s),h.s=null)}function Mo(h){if(!Eo(h.h)&&!h.s){h.s=!0;var x=h.Ga;ye||k(),ve||(ye(),ve=!0),H.add(x,h),h.B=0}}function um(h,x){return To(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Kt(v(h.Ga,h,x),cc(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const J=new Os(this,this.j,h);let le=this.o;if(this.S&&(le?(le=R(le),L(le,this.S)):le=this.S),this.m!==null||this.O||(J.H=le,le=null),this.P)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var D=this.i[_];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,4096<x){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=dd(this,J,x),_=tn(this.I),wt(_,"RID",h),wt(_,"CVER",22),this.D&&wt(_,"X-HTTP-Session-Id",this.D),Di(this,_),le&&(this.O?x="headers="+encodeURIComponent(String(ac(le)))+"&"+x:this.m&&us(_,this.m,le)),So(this.h,J),this.Ua&&wt(_,"TYPE","init"),this.P?(wt(_,"$req",x),wt(_,"SID","null"),J.T=!0,Mn(J,_,null)):Mn(J,_,x),this.G=2}}else this.G==3&&(h?oc(this,h):this.i.length==0||Eo(this.h)||oc(this))};function oc(h,x){var _;x?_=x.l:_=h.U++;const D=tn(h.I);wt(D,"SID",h.K),wt(D,"RID",_),wt(D,"AID",h.T),Di(h,D),h.m&&h.o&&us(D,h.m,h.o),_=new Os(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),x&&(h.i=x.D.concat(h.i)),x=dd(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),So(h.h,_),Mn(_,D,x)}function Di(h,x){h.H&&ie(h.H,function(_,D){wt(x,D,_)}),h.l&&ec({},function(_,D){wt(x,D,_)})}function dd(h,x,_){_=Math.min(h.i.length,_);var D=h.l?v(h.l.Na,h.l,h):null;e:{var J=h.i;let le=-1;for(;;){const we=["count="+_];le==-1?0<_?(le=J[0].g,we.push("ofs="+le)):le=0:we.push("ofs="+le);let at=!0;for(let rs=0;rs<_;rs++){let it=J[rs].g;const ds=J[rs].map;if(it-=le,0>it)le=Math.max(0,J[rs].g-100),at=!1;else try{ar(ds,we,"req"+it+"_")}catch{D&&D(ds)}}if(at){D=we.join("&");break e}}}return h=h.i.splice(0,_),x.D=h,D}function hd(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ye||k(),ve||(ye(),ve=!0),H.add(x,h),h.v=0}}function lc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Kt(v(h.Fa,h),cc(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Kt(v(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Do(this),fd(this))};function Mi(h){h.A!=null&&(p.clearTimeout(h.A),h.A=null)}function fd(h){h.g=new Os(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=tn(h.qa);wt(x,"RID","rpc"),wt(x,"SID",h.K),wt(x,"AID",h.T),wt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&wt(x,"TO",h.ja),wt(x,"TYPE","xmlhttp"),Di(h,x),h.m&&h.o&&us(x,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Si(tn(x)),_.m=null,_.P=!0,Dr(_,h)}s.Za=function(){this.C!=null&&(this.C=null,Do(this),lc(this),kt(19))};function Oo(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function md(h,x){var _=null;if(h.g==x){Oo(h),Mi(h),h.g=null;var D=2}else if(Zl(h.h,x))_=x.D,Ls(h.h,x),D=1;else return;if(h.G!=0){if(x.o)if(D==1){_=x.m?x.m.length:0,x=Date.now()-x.F;var J=h.B;D=ya(),Fe(D,new ns(D,_)),Mo(h)}else hd(h);else if(J=x.s,J==3||J==0&&0<x.X||!(D==1&&um(h,x)||D==2&&lc(h)))switch(_&&0<_.length&&(x=h.h,x.i=x.i.concat(_)),J){case 1:zr(h,5);break;case 4:zr(h,10);break;case 3:zr(h,6);break;default:zr(h,2)}}}function cc(h,x){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*x}function zr(h,x){if(h.j.info("Error code "+x),x==2){var _=v(h.fb,h),D=h.Xa;const J=!D;D=new Wt(D||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ti(D,"https"),Si(D),J?Ri(D.toString(),_):On(D.toString(),_)}else kt(2);h.G=0,h.l&&h.l.sa(x),pd(h),ud(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function pd(h){if(h.G=0,h.ka=[],h.l){const x=Jl(h.h);(x.length!=0||h.i.length!=0)&&(O(h.ka,x),O(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function gd(h,x,_){var D=_ instanceof Wt?tn(_):new Wt(_);if(D.g!="")x&&(D.g=x+"."+D.g),_a(D,D.s);else{var J=p.location;D=J.protocol,x=x?x+"."+J.hostname:J.hostname,J=+J.port;var le=new Wt(null);D&&Ti(le,D),x&&(le.g=x),J&&_a(le,J),_&&(le.l=_),D=le}return _=h.D,x=h.ya,_&&x&&wt(D,_,x),wt(D,"VER",h.la),Di(h,D),D}function yd(h,x,_){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new yt(new Na({eb:_})):new yt(h.pa),x.Ha(h.J),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xd(){}s=xd.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Lo(){}Lo.prototype.g=function(h,x){return new Us(h,x)};function Us(h,x){dt.call(this),this.g=new Po(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!U(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!U(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new cr(this)}A(Us,dt),Us.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Us.prototype.close=function(){ic(this.g)},Us.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Dn(h),h=_);x.i.push(new ad(x.Ya++,h)),x.G==3&&Mo(x)},Us.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,Us.aa.N.call(this)};function bd(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}A(bd,kr);function vd(){Yl.call(this),this.status=1}A(vd,Yl);function cr(h){this.g=h}A(cr,xd),cr.prototype.ua=function(){Fe(this.g,"a")},cr.prototype.ta=function(h){Fe(this.g,new bd(h))},cr.prototype.sa=function(h){Fe(this.g,new vd)},cr.prototype.ra=function(){Fe(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,Us.prototype.send=Us.prototype.o,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,g2=function(){return new Lo},p2=function(){return ya()},m2=er,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Dh=va,Pr.COMPLETE="complete",f2=Pr,Ql.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",dt.prototype.listen=dt.prototype.K,nu=Ql,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,h2=yt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const Ow="@firebase/firestore",Lw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Ef("@firebase/firestore");function fl(){return ao.logLevel}function Ae(s,...e){if(ao.logLevel<=st.DEBUG){const t=e.map(A0);ao.debug(`Firestore (${Ll}): ${s}`,...t)}}function ua(s,...e){if(ao.logLevel<=st.ERROR){const t=e.map(A0);ao.error(`Firestore (${Ll}): ${s}`,...t)}}function ai(s,...e){if(ao.logLevel<=st.WARN){const t=e.map(A0);ao.warn(`Firestore (${Ll}): ${s}`,...t)}}function A0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,y2(s,r,t)}function y2(s,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ua(r),new Error(r)}function xt(s,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,s||y2(e,o,r)}function qe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends kn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class u6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d6{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let c=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ia,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=c;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ia)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new x2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new Is(e)}}class h6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0,3512);const r=c=>{c.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=p6(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function Vg(s,e){let t=0;for(;t<s.length&&t<e.length;){const r=s.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Qe(r,o);{const c=b2(),d=g6(c.encode(Vw(s,t)),c.encode(Vw(e,t)));return d!==0?d:Qe(r,o)}}t+=r>65535?2:1}return Qe(s.length,e.length)}function Vw(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function g6(s,e){for(let t=0;t<s.length&&t<e.length;++t)if(s[t]!==e[t])return Qe(s[t],e[t]);return Qe(s.length,e.length)}function Tl(s,e,t){return s.length===e.length&&s.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="__name__";class gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=gr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Qe(e.length,t.length)}static compareSegments(e,t){const r=gr.isNumericId(e),o=gr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class Tt extends gr{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Es extends gr{construct(e,t,r){return new Es(e,t,r)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Es.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fg}static keyField(){return new Es([Fg])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(r.length===0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ee(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new Ee(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Es(t)}static emptyPath(){return new Es([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Tt.fromString(e))}static fromName(e){return new De(Tt.fromString(e).popFirst(5))}static empty(){return new De(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(s,e,t){if(!t)throw new Ee(fe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function x6(s,e,t,r){if(e===!0&&r===!0)throw new Ee(fe.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Fw(s){if(!De.isDocumentKey(s))throw new Ee(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zw(s){if(De.isDocumentKey(s))throw new Ee(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function v2(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ue(12329,{type:typeof s})}function mn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ee(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sf(s);throw new Ee(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function b6(s,e){if(e<=0)throw new Ee(fe.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(s,e){const t={typeString:s};return e&&(t.value=e),t}function Lu(s,e){if(!v2(s))throw new Ee(fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${r}' field to equal '${c.value}'`;break}}if(t)throw new Ee(fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-62135596800,qw=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qw);return new Rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bw)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qw}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:ss("string",Rt._jsonSchemaVersion),seconds:ss("number"),nanoseconds:ss("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Rt(0,0))}static max(){return new ze(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function v6(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new Rt(t+1,0):new Rt(t,r));return new ii(o,De.empty(),e)}function w6(s){return new ii(s.readTime,s.key,wu)}class ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ii(ze.min(),De.empty(),wu)}static max(){return new ii(ze.max(),De.empty(),wu)}}function _6(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(s.documentKey,e.documentKey),t!==0?t:Qe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s){if(s.code!==fe.FAILED_PRECONDITION||s.message!==N6)throw s;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&t()},m=>r(m))}),d=!0,c===o&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(o=>o?be.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new be((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let m=0;m<c;m++){const g=m;t(e[g]).next(b=>{d[g]=b,++p,p===c&&r(d)},b=>o(b))}})}static doWhile(e,t){return new be((r,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):r()};c()})}}function E6(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function Rf(s){return s==null}function Wh(s){return s===0&&1/s==-1/0}function T6(s){return typeof s=="number"&&Number.isInteger(s)&&!Wh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="";function S6(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=$w(e)),e=A6(s.get(t),e);return $w(e)}function A6(s,e){let t=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":t+="";break;case w2:t+="";break;default:t+=c}}return t}function $w(s){return s+w2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function mi(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function _2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||js.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class js{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??js.RED,this.left=o??js.EMPTY,this.right=c??js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new js(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return js.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1;js.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,o,c){return this}insert(e,t,r){return new js(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cs(this.comparator);return t.data=e,t}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Es.comparator)}static empty(){return new dn([])}unionWith(e){let t=new cs(Es.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N2("Invalid base64 string: "+c):c}}(e);return new Ts(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(s){if(xt(!!s,39018),typeof s=="string"){let e=0;const t=R6.exec(s);if(xt(!!t,46558,{timestamp:s}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(s.seconds),nanos:Qt(s.nanos)}}function Qt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function li(s){return typeof s=="string"?Ts.fromBase64String(s):Ts.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="server_timestamp",E2="__type__",T2="__previous_value__",S2="__local_write_time__";function k0(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[E2])===null||t===void 0?void 0:t.stringValue)===j2}function Cf(s){const e=s.mapValue.fields[T2];return k0(e)?Cf(e):e}function _u(s){const e=oi(s.mapValue.fields[S2].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t,r,o,c,d,p,m,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=b}}const Xh="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__type__",I6="__max__",Eh={mapValue:{}},R2="__vector__",Zh="value";function ci(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?k0(s)?4:P6(s)?9007199254740991:k6(s)?10:11:Ue(28295,{value:s})}function Sr(s,e){if(s===e)return!0;const t=ci(s);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return _u(s).isEqual(_u(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=oi(o.timestampValue),p=oi(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return li(o.bytesValue).isEqual(li(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return Qt(o.geoPointValue.latitude)===Qt(c.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Qt(o.integerValue)===Qt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Qt(o.doubleValue),p=Qt(c.doubleValue);return d===p?Wh(d)===Wh(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return Tl(s.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Hw(d)!==Hw(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!Sr(d[m],p[m])))return!1;return!0}(s,e);default:return Ue(52216,{left:s})}}function ju(s,e){return(s.values||[]).find(t=>Sr(t,e))!==void 0}function Sl(s,e){if(s===e)return 0;const t=ci(s),r=ci(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return function(c,d){const p=Qt(c.integerValue||c.doubleValue),m=Qt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(s,e);case 3:return Qw(s.timestampValue,e.timestampValue);case 4:return Qw(_u(s),_u(e));case 5:return Vg(s.stringValue,e.stringValue);case 6:return function(c,d){const p=li(c),m=li(d);return p.compareTo(m)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),m=d.split("/");for(let g=0;g<p.length&&g<m.length;g++){const b=Qe(p[g],m[g]);if(b!==0)return b}return Qe(p.length,m.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Qe(Qt(c.latitude),Qt(d.latitude));return p!==0?p:Qe(Qt(c.longitude),Qt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Yw(s.arrayValue,e.arrayValue);case 10:return function(c,d){var p,m,g,b;const w=c.fields||{},v=d.fields||{},j=(p=w[Zh])===null||p===void 0?void 0:p.arrayValue,A=(m=v[Zh])===null||m===void 0?void 0:m.arrayValue,F=Qe(((g=j?.values)===null||g===void 0?void 0:g.length)||0,((b=A?.values)===null||b===void 0?void 0:b.length)||0);return F!==0?F:Yw(j,A)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Eh.mapValue&&d===Eh.mapValue)return 0;if(c===Eh.mapValue)return 1;if(d===Eh.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=d.fields||{},b=Object.keys(g);m.sort(),b.sort();for(let w=0;w<m.length&&w<b.length;++w){const v=Vg(m[w],b[w]);if(v!==0)return v;const j=Sl(p[m[w]],g[b[w]]);if(j!==0)return j}return Qe(m.length,b.length)}(s.mapValue,e.mapValue);default:throw Ue(23264,{le:t})}}function Qw(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const t=oi(s),r=oi(e),o=Qe(t.seconds,r.seconds);return o!==0?o:Qe(t.nanos,r.nanos)}function Yw(s,e){const t=s.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=Sl(t[o],r[o]);if(c)return c}return Qe(t.length,r.length)}function Al(s){return zg(s)}function zg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=oi(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return li(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return De.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=zg(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${zg(t.fields[d])}`;return o+"}"}(s.mapValue):Ue(61005,{value:s})}function Mh(s){switch(ci(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(s);return e?16+Mh(e):16;case 5:return 2*s.stringValue.length;case 6:return li(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Mh(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return mi(r.fields,(c,d)=>{o+=c.length+Mh(d)}),o}(s.mapValue);default:throw Ue(13486,{value:s})}}function Kw(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bg(s){return!!s&&"integerValue"in s}function P0(s){return!!s&&"arrayValue"in s}function Ww(s){return!!s&&"nullValue"in s}function Xw(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oh(s){return!!s&&"mapValue"in s}function k6(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[A2])===null||t===void 0?void 0:t.stringValue)===R2}function lu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return mi(s.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lu(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(s.arrayValue.values[t]);return e}return Object.assign({},s)}function P6(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===I6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=Es.emptyPath(),r={},o=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=p.popLast()}d?r[p.lastSegment()]=lu(d):o.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){mi(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Xs(lu(this.value))}}function C2(s){const e=[];return mi(s.fields,(t,r)=>{const o=new Es([t]);if(Oh(r)){const c=C2(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r,o,c,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ks(e,0,ze.min(),ze.min(),ze.min(),Xs.empty(),0)}static newFoundDocument(e,t,r,o){return new ks(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new ks(e,2,t,ze.min(),ze.min(),Xs.empty(),0)}static newUnknownDocument(e,t){return new ks(e,3,t,ze.min(),ze.min(),Xs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ks&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ks(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function Zw(s,e,t){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=De.comparator(De.fromName(d.referenceValue),t.key):r=Sl(d,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Sr(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function D6(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{}class ts extends I2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new O6(e,t,r):t==="array-contains"?new V6(e,r):t==="in"?new F6(e,r):t==="not-in"?new z6(e,r):t==="array-contains-any"?new B6(e,r):new ts(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new L6(e,r):new U6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sl(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(Sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends I2{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Wn(e,t)}matches(e){return k2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function k2(s){return s.op==="and"}function P2(s){return M6(s)&&k2(s)}function M6(s){for(const e of s.filters)if(e instanceof Wn)return!1;return!0}function qg(s){if(s instanceof ts)return s.field.canonicalString()+s.op.toString()+Al(s.value);if(P2(s))return s.filters.map(e=>qg(e)).join(",");{const e=s.filters.map(t=>qg(t)).join(",");return`${s.op}(${e})`}}function D2(s,e){return s instanceof ts?function(r,o){return o instanceof ts&&r.op===o.op&&r.field.isEqual(o.field)&&Sr(r.value,o.value)}(s,e):s instanceof Wn?function(r,o){return o instanceof Wn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,p)=>c&&D2(d,o.filters[p]),!0):!1}(s,e):void Ue(19439)}function M2(s){return s instanceof ts?function(t){return`${t.field.canonicalString()} ${t.op} ${Al(t.value)}`}(s):s instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(M2).join(" ,")+"}"}(s):"Filter"}class O6 extends ts{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class L6 extends ts{constructor(e,t){super(e,"in",t),this.keys=O2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U6 extends ts{constructor(e,t){super(e,"not-in",t),this.keys=O2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O2(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class V6 extends ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return P0(t)&&ju(t.arrayValue,this.value)}}class F6 extends ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ju(this.value.arrayValue,t)}}class z6 extends ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ju(this.value.arrayValue,t)}}class B6 extends ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!P0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,t=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function e1(s,e=null,t=[],r=[],o=null,c=null,d=null){return new q6(s,e,t,r,o,c,d)}function D0(s){const e=qe(s);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Al(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Al(r)).join(",")),e.Pe=t}return e.Pe}function M0(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!D6(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!D2(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Jw(s.startAt,e.startAt)&&Jw(s.endAt,e.endAt)}function $g(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t=null,r=[],o=[],c=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $6(s,e,t,r,o,c,d,p){return new xo(s,e,t,r,o,c,d,p)}function O0(s){return new xo(s)}function t1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function L2(s){return s.collectionGroup!==null}function cu(s){const e=qe(s);if(e.Te===null){e.Te=[];const t=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new cs(Es.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Eu(c,r))}),t.has(Es.keyField().canonicalString())||e.Te.push(new Eu(Es.keyField(),r))}return e.Te}function vr(s){const e=qe(s);return e.Ie||(e.Ie=H6(e,cu(s))),e.Ie}function H6(s,e){if(s.limitType==="F")return e1(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Eu(o.field,c)});const t=s.endAt?new Jh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Jh(s.startAt.position,s.startAt.inclusive):null;return e1(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function Hg(s,e){const t=s.filters.concat([e]);return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function ef(s,e,t){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function If(s,e){return M0(vr(s),vr(e))&&s.limitType===e.limitType}function U2(s){return`${D0(vr(s))}|lt:${s.limitType}`}function ml(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>M2(o)).join(", ")}]`),Rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Al(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Al(o)).join(",")),`Target(${r})`}(vr(s))}; limitType=${s.limitType})`}function kf(s,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):De.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,e)&&function(r,o){for(const c of cu(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(d,p,m){const g=Zw(d,p,m);return d.inclusive?g<=0:g<0}(r.startAt,cu(r),o)||r.endAt&&!function(d,p,m){const g=Zw(d,p,m);return d.inclusive?g>=0:g>0}(r.endAt,cu(r),o))}(s,e)}function G6(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function V2(s){return(e,t)=>{let r=!1;for(const o of cu(s)){const c=Q6(o,e,t);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Q6(s,e,t){const r=s.field.isKeyField()?De.comparator(e.key,t.key):function(c,d,p){const m=d.data.field(c),g=p.data.field(c);return m!==null&&g!==null?Sl(m,g):Ue(42886)}(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return _2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Ft(De.comparator);function da(){return Y6}const F2=new Ft(De.comparator);function ru(...s){let e=F2;for(const t of s)e=e.insert(t.key,t);return e}function z2(s){let e=F2;return s.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zi(){return uu()}function B2(){return uu()}function uu(){return new bo(s=>s.toString(),(s,e)=>s.isEqual(e))}const K6=new Ft(De.comparator),W6=new cs(De.comparator);function nt(...s){let e=W6;for(const t of s)e=e.add(t);return e}const X6=new cs(Qe);function Z6(){return X6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function q2(s){return{integerValue:""+s}}function J6(s,e){return T6(e)?q2(e):L0(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function eC(s,e,t){return s instanceof Tu?function(o,c){const d={fields:{[E2]:{stringValue:j2},[S2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&k0(c)&&(c=Cf(c)),c&&(d.fields[T2]=c),{mapValue:d}}(t,e):s instanceof Rl?H2(s,e):s instanceof Cl?G2(s,e):function(o,c){const d=$2(o,c),p=s1(d)+s1(o.Ee);return Bg(d)&&Bg(o.Ee)?q2(p):L0(o.serializer,p)}(s,e)}function tC(s,e,t){return s instanceof Rl?H2(s,e):s instanceof Cl?G2(s,e):t}function $2(s,e){return s instanceof tf?function(r){return Bg(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class Tu extends Pf{}class Rl extends Pf{constructor(e){super(),this.elements=e}}function H2(s,e){const t=Q2(e);for(const r of s.elements)t.some(o=>Sr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cl extends Pf{constructor(e){super(),this.elements=e}}function G2(s,e){let t=Q2(e);for(const r of s.elements)t=t.filter(o=>!Sr(o,r));return{arrayValue:{values:t}}}class tf extends Pf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function s1(s){return Qt(s.integerValue||s.doubleValue)}function Q2(s){return P0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.field=e,this.transform=t}}function sC(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof Rl&&o instanceof Rl||r instanceof Cl&&o instanceof Cl?Tl(r.elements,o.elements,Sr):r instanceof tf&&o instanceof tf?Sr(r.Ee,o.Ee):r instanceof Tu&&o instanceof Tu}(s.transform,e.transform)}class nC{constructor(e,t){this.version=e,this.transformResults=t}}class qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qs}static exists(e){return new qs(void 0,e)}static updateTime(e){return new qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Df{}function Y2(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Mf(s.key,qs.none()):new Uu(s.key,s.data,qs.none());{const t=s.data,r=Xs.empty();let o=new cs(Es.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new pi(s.key,r,new dn(o.toArray()),qs.none())}}function rC(s,e,t){s instanceof Uu?function(o,c,d){const p=o.value.clone(),m=r1(o.fieldTransforms,c,d.transformResults);p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,t):s instanceof pi?function(o,c,d){if(!Lh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=r1(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(K2(o)),m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function du(s,e,t,r){return s instanceof Uu?function(c,d,p,m){if(!Lh(c.precondition,d))return p;const g=c.value.clone(),b=a1(c.fieldTransforms,m,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(s,e,t,r):s instanceof pi?function(c,d,p,m){if(!Lh(c.precondition,d))return p;const g=a1(c.fieldTransforms,m,d),b=d.data;return b.setAll(K2(c)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,t,r):function(c,d,p){return Lh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,t)}function aC(s,e){let t=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=$2(r.transform,o||null);c!=null&&(t===null&&(t=Xs.empty()),t.set(r.field,c))}return t||null}function n1(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Tl(r,o,(c,d)=>sC(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Uu extends Df{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pi extends Df{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function K2(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}}),e}function r1(s,e,t){const r=new Map;xt(s.length===t.length,32656,{Ae:t.length,Re:s.length});for(let o=0;o<t.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,tC(d,p,t[o]))}return r}function a1(s,e,t){const r=new Map;for(const o of s){const c=o.transform,d=t.data.field(o.field);r.set(o.field,eC(c,d,e))}return r}class Mf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rC(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=B2();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=t.has(o.key)?null:p;const m=Y2(d,p);m!==null&&r.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(t,r)=>n1(t,r))&&Tl(this.baseMutations,e.baseMutations,(t,r)=>n1(t,r))}}class V0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){xt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return K6}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new V0(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,lt;function uC(s){switch(s){case fe.OK:return Ue(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ue(15467,{code:s})}}function W2(s){if(s===void 0)return ua("GRPC error has no .code"),fe.UNKNOWN;switch(s){case Jt.OK:return fe.OK;case Jt.CANCELLED:return fe.CANCELLED;case Jt.UNKNOWN:return fe.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return fe.INTERNAL;case Jt.UNAVAILABLE:return fe.UNAVAILABLE;case Jt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Jt.NOT_FOUND:return fe.NOT_FOUND;case Jt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Jt.ABORTED:return fe.ABORTED;case Jt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Jt.DATA_LOSS:return fe.DATA_LOSS;default:return Ue(39323,{code:s})}}(lt=Jt||(Jt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new si([4294967295,4294967295],0);function i1(s){const e=b2().encode(s),t=new d2;return t.update(e),new Uint8Array(t.digest())}function o1(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new si([t,r],0),new si([o,c],0)]}class F0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=si.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(si.fromNumber(r)));return o.compare(dC)===1&&(o=new si([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=i1(e),[r,o]=o1(t);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);if(!this.ye(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new F0(c,o,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const t=i1(e),[r,o]=o1(t);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);this.we(d)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Of(ze.min(),o,new Ft(Qe),da(),nt())}}class Vu{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vu(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class X2{constructor(e,t){this.targetId=e,this.De=t}}class Z2{constructor(e,t,r=Ts.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class l1{constructor(){this.ve=0,this.Ce=c1(),this.Fe=Ts.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),t=nt(),r=nt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue(38017,{changeType:c})}}),new Vu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=c1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hC{constructor(e){this.We=e,this.Ge=new Map,this.ze=da(),this.je=Th(),this.Je=Th(),this.He=new Ft(Qe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const c=o.target;if($g(c))if(r===0){const d=new De(c.path);this.Xe(t,d,ks.newNoDocument(d,ze.min()))}else xt(r===1,20013,{expectedCount:r});else{const d=this.ot(t);if(d!==r){const p=this._t(e),m=p?this.ut(p,e,d):1;if(m!==0){this.rt(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let d,p;try{d=li(r).toUint8Array()}catch(m){if(m instanceof N2)return ai("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new F0(d,o,c)}catch(m){return ai(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.fe===0?null:p}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(t,c,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((c,d)=>{const p=this.st(d);if(p){if(c.current&&$g(p.target)){const m=new De(p.target.path);this.Tt(m).has(d)||this.It(d,m)||this.Xe(d,m,ks.newNoDocument(m,e))}c.Ne&&(t.set(d,c.Le()),c.ke())}});let r=nt();this.Je.forEach((c,d)=>{let p=!0;d.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Of(e,t,this.He,this.ze,r);return this.ze=da(),this.je=Th(),this.Je=Th(),this.He=new Ft(Qe),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new l1,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new cs(Qe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new cs(Qe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new l1),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Th(){return new Ft(De.comparator)}function c1(){return new Ft(De.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},mC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pC={and:"AND",or:"OR"};class gC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gg(s,e){return s.useProto3Json||Rf(e)?e:{value:e}}function sf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J2(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yC(s,e){return sf(s,e.toTimestamp())}function wr(s){return xt(!!s,49232),ze.fromTimestamp(function(t){const r=oi(t);return new Rt(r.seconds,r.nanos)}(s))}function z0(s,e){return Qg(s,e).canonicalString()}function Qg(s,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?t:t.child(e)}function eN(s){const e=Tt.fromString(s);return xt(aN(e),10190,{key:e.toString()}),e}function Yg(s,e){return z0(s.databaseId,e.path)}function mg(s,e){const t=eN(e);if(t.get(1)!==s.databaseId.projectId)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new De(sN(t))}function tN(s,e){return z0(s.databaseId,e)}function xC(s){const e=eN(s);return e.length===4?Tt.emptyPath():sN(e)}function Kg(s){return new Tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sN(s){return xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function u1(s,e,t){return{name:Yg(s,e),fields:t.value.mapValue.fields}}function bC(s,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,b){return g.useProto3Json?(xt(b===void 0||typeof b=="string",58123),Ts.fromBase64String(b||"")):(xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ts.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const b=g.code===void 0?fe.UNKNOWN:W2(g.code);return new Ee(b,g.message||"")}(d);t=new Z2(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=mg(s,r.document.name),c=wr(r.document.updateTime),d=r.document.createTime?wr(r.document.createTime):ze.min(),p=new Xs({mapValue:{fields:r.document.fields}}),m=ks.newFoundDocument(o,c,d,p),g=r.targetIds||[],b=r.removedTargetIds||[];t=new Uh(g,b,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=mg(s,r.document),c=r.readTime?wr(r.readTime):ze.min(),d=ks.newNoDocument(o,c),p=r.removedTargetIds||[];t=new Uh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=mg(s,r.document),c=r.removedTargetIds||[];t=new Uh([],c,o,null)}else{if(!("filter"in e))return Ue(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new cC(o,c),p=r.targetId;t=new X2(p,d)}}return t}function vC(s,e){let t;if(e instanceof Uu)t={update:u1(s,e.key,e.value)};else if(e instanceof Mf)t={delete:Yg(s,e.key)};else if(e instanceof pi)t={update:u1(s,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof iC))return Ue(16599,{Rt:e.type});t={verify:Yg(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,d){const p=d.transform;if(p instanceof Tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Rl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tf)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw Ue(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:yC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ue(27497)}(s,e.precondition)),t}function wC(s,e){return s&&s.length>0?(xt(e!==void 0,14353),s.map(t=>function(o,c){let d=o.updateTime?wr(o.updateTime):wr(c);return d.isEqual(ze.min())&&(d=wr(c)),new nC(d,o.transformResults||[])}(t,e))):[]}function _C(s,e){return{documents:[tN(s,e.path)]}}function NC(s,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tN(s,o);const c=function(g){if(g.length!==0)return rN(Wn.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(g){if(g.length!==0)return g.map(b=>function(v){return{field:pl(v.field),direction:TC(v.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Gg(s,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function jC(s){let e=xC(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){xt(r===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];t.where&&(c=function(w){const v=nN(w);return v instanceof Wn&&P2(v)?v.getFilters():[v]}(t.where));let d=[];t.orderBy&&(d=function(w){return w.map(v=>function(A){return new Eu(gl(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let p=null;t.limit&&(p=function(w){let v;return v=typeof w=="object"?w.value:w,Rf(v)?null:v}(t.limit));let m=null;t.startAt&&(m=function(w){const v=!!w.before,j=w.values||[];return new Jh(j,v)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const v=!w.before,j=w.values||[];return new Jh(j,v)}(t.endAt)),$6(e,o,d,c,p,"F",m,g)}function EC(s,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nN(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gl(t.unaryFilter.field);return ts.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(t.unaryFilter.field);return ts.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gl(t.unaryFilter.field);return ts.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(t.unaryFilter.field);return ts.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(s):s.fieldFilter!==void 0?function(t){return ts.create(gl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(r=>nN(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(s):Ue(30097,{filter:s})}function TC(s){return fC[s]}function SC(s){return mC[s]}function AC(s){return pC[s]}function pl(s){return{fieldPath:s.canonicalString()}}function gl(s){return Es.fromServerFormat(s.fieldPath)}function rN(s){return s instanceof ts?function(t){if(t.op==="=="){if(Xw(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(Ww(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xw(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(Ww(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:SC(t.op),value:t.value}}}(s):s instanceof Wn?function(t){const r=t.getFilters().map(o=>rN(o));return r.length===1?r[0]:{compositeFilter:{op:AC(t.op),filters:r}}}(s):Ue(54877,{filter:s})}function RC(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aN(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t,r,o,c=ze.min(),d=ze.min(),p=Ts.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.gt=e}}function IC(s){const e=jC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Dn=new PC}addToCollectionParentIndex(e,t){return this.Dn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(ii.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class PC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new cs(Tt.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new cs(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iN=41943040;class Ks{static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(iN,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Il(0)}static ur(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="LruGarbageCollector",DC=1048576;function f1([s,e],[t,r]){const o=Qe(s,t);return o===0?Qe(e,r):o}class MC{constructor(e){this.Tr=e,this.buffer=new cs(f1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();f1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ae(h1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?Ae(h1,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.Rr(3e5)})}}class LC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return be.resolve(Af.ue);const r=new MC(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(d1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,c,d,p,m,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,p=Date.now(),this.removeTargets(e,r,t))).next(w=>(c=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(g=Date.now(),fl()<=st.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-b}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function UC(s,e){return new LC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ks.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&du(r.mutation,o,dn.empty(),Rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nt()){const o=Zi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=ru();return c.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nt()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,o){let c=da();const d=uu(),p=function(){return uu()}();return t.forEach((m,g)=>{const b=r.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof pi)?c=c.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),du(b.mutation,g,b.mutation.getFieldMask(),Rt.now())):d.set(g.key,dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(m=>(m.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var w;return p.set(g,new FC(b,(w=d.get(g))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,t){const r=uu();let o=new Ft((d,p)=>d-p),c=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let b=r.get(m)||dn.empty();b=p.applyToLocalView(g,b),r.set(m,b);const w=(o.get(p.batchId)||nt()).add(m);o=o.insert(p.batchId,w)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,b=m.value,w=B2();b.forEach(v=>{if(!c.has(v)){const j=Y2(t.get(v),r.get(v));j!==null&&w.set(v,j),c=c.add(v)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,w))}return be.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return De.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):be.resolve(Zi());let p=wu,m=c;return d.next(g=>be.forEach(g,(b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?be.resolve():this.remoteDocumentCache.getEntry(e,b).next(v=>{m=m.insert(b,v)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,m,g,nt())).next(b=>({batchId:p,changes:z2(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let d=ru();return this.indexManager.getCollectionParents(e,c).next(p=>be.forEach(p,m=>{const g=function(w,v){return new xo(v,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next(b=>{b.forEach((w,v)=>{d=d.insert(w,v)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o))).next(d=>{c.forEach((m,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,ks.newInvalidDocument(b)))});let p=ru();return d.forEach((m,g)=>{const b=c.get(m);b!==void 0&&du(b.mutation,g,dn.empty(),Rt.now()),kf(t,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return be.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:IC(o.bundledQuery),readTime:wr(o.readTime)}}(t)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.overlays=new Ft(De.comparator),this.kr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zi();return be.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.wt(e,t,c)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const o=Zi(),c=t.length+1,d=new De(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return be.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new Ft((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let b=c.get(g.largestBatchId);b===null&&(b=Zi(),c=c.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=Zi(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,b)=>p.set(g,b)),!(p.size()>=o)););return be.resolve(p)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lC(t,r));let c=this.kr.get(t);c===void 0&&(c=nt(),this.kr.set(t,c)),this.kr.set(t,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Ts.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.qr=new cs(ps.Qr),this.$r=new cs(ps.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new ps(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ps(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new De(new Tt([])),r=new ps(t,e),o=new ps(t,e+1),c=[];return this.$r.forEachInRange([r,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new De(new Tt([])),r=new ps(t,e),o=new ps(t,e+1);let c=nt();return this.$r.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new ps(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ps{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return De.comparator(e.key,t.key)||Qe(e.Hr,t.Hr)}static Ur(e,t){return Qe(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new cs(ps.Qr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oC(c,t,r,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new ps(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),c=o<0?0:o;return be.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?I0:this.er-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ps(t,0),o=new ps(t,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([r,o],d=>{const p=this.Zr(d.Hr);c.push(p)}),be.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cs(Qe);return t.forEach(o=>{const c=new ps(o,0),d=new ps(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],p=>{r=r.add(p.Hr)})}),be.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;De.isDocumentKey(c)||(c=c.child(""));const d=new ps(new De(c),0);let p=new cs(Qe);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Hr)),!0)},d),be.resolve(this.ei(p))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){xt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return be.forEach(t.mutations,o=>{const c=new ps(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new ps(t,0),o=this.Yr.firstAfterOrEqual(r);return be.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ni=e,this.docs=function(){return new Ft(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():ks.newInvalidDocument(t))}getEntries(e,t){let r=da();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():ks.newInvalidDocument(o))}),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=da();const d=t.path,p=new De(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:b}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||_6(w6(b),r)<=0||(o.has(b.key)||kf(t,b))&&(c=c.insert(b.key,b.mutableCopy()))}return be.resolve(c)}getAllFromCollectionGroup(e,t,r,o){Ue(9500)}ri(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new QC(this)}getSize(e){return be.resolve(this.size)}}class QC extends VC{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.persistence=e,this.ii=new bo(t=>D0(t),M0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new B0,this.targetCount=0,this._i=Il.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),be.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.hr(t),be.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),be.waitFor(c).next(()=>o)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),be.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.ai={},this.overlays={},this.ui=new Af(0),this.ci=!1,this.ci=!0,this.li=new $C,this.referenceDelegate=e(this),this.hi=new YC(this),this.indexManager=new kC,this.remoteDocumentCache=function(o){return new GC(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new CC(t),this.Ti=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new HC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const o=new KC(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,t){return be.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class KC extends j6{constructor(e){super(),this.currentSequenceNumber=e}}class q0{constructor(e){this.persistence=e,this.Ai=new B0,this.Ri=null}static Vi(e){return new q0(e)}get mi(){if(this.Ri)return this.Ri;throw Ue(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.mi,r=>{const o=De.fromPath(r);return this.fi(e,o).next(c=>{c||t.removeEntry(o,ze.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return be.or([()=>be.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.gi=new bo(r=>S6(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=UC(this,t)}static Vi(e,t){return new nf(e,t)}Ii(){}di(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return be.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(c=>c?be.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,t).next(p=>{p||(r++,c.removeEntry(d,ze.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),be.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}Sr(e,t,r){return be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return be.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=nt(),o=nt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $0(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return q3()?8:E6(Ms())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.ps(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,t,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new WC;return this.ws(e,t,d).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,t,d,p.size)})}).next(()=>c.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(fl()<=st.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),be.resolve()):(fl()<=st.DEBUG&&Ae("QueryEngine","Query:",ml(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(fl()<=st.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):be.resolve())}ps(e,t){if(t1(t))return be.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ef(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=nt(...c);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(m=>{const g=this.bs(t,p);return this.Ds(t,g,d,m.readTime)?this.ps(e,ef(t,null,"F")):this.vs(e,g,t,m)}))})))}ys(e,t,r,o){return t1(t)||o.isEqual(ze.min())?be.resolve(null):this.gs.getDocuments(e,r).next(c=>{const d=this.bs(t,c);return this.Ds(t,d,r,o)?be.resolve(null):(fl()<=st.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ml(t)),this.vs(e,d,t,v6(o,wu)).next(p=>p))})}bs(e,t){let r=new cs(V2(e));return t.forEach((o,c)=>{kf(e,c)&&(r=r.add(c))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,t,r){return fl()<=st.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",ml(t)),this.gs.getDocumentsMatchingQuery(e,t,ii.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LocalStore",ZC=3e8;class JC{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new Ft(Qe),this.Ms=new bo(c=>D0(c),M0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function eI(s,e,t,r){return new JC(s,e,t,r)}async function lN(s,e){const t=qe(s);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],p=[];let m=nt();for(const g of o){d.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}for(const g of c){p.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(r,m).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:p}))})})}function tI(s,e){const t=qe(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Os.newChangeBuffer({trackRemovals:!0});return function(p,m,g,b){const w=g.batch,v=w.keys();let j=be.resolve();return v.forEach(A=>{j=j.next(()=>b.getEntry(m,A)).next(F=>{const O=g.docVersions.get(A);xt(O!==null,48541),F.version.compareTo(O)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),b.addEntry(F)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(m,w))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let m=nt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function cN(s){const e=qe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sI(s,e){const t=qe(s),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const p=[];e.targetChanges.forEach((b,w)=>{const v=o.get(w);if(!v)return;p.push(t.hi.removeMatchingKeys(c,b.removedDocuments,w).next(()=>t.hi.addMatchingKeys(c,b.addedDocuments,w)));let j=v.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Ts.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,r)),o=o.insert(w,j),function(F,O,q){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=ZC?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(v,j,b)&&p.push(t.hi.updateTargetData(c,j))});let m=da(),g=nt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,b))}),p.push(nI(c,d,e.documentUpdates).next(b=>{m=b.Ls,g=b.ks})),!r.isEqual(ze.min())){const b=t.hi.getLastRemoteSnapshotVersion(c).next(w=>t.hi.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(b)}return be.waitFor(p).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,m,g)).next(()=>m)}).then(c=>(t.Fs=o,c))}function nI(s,e,t){let r=nt(),o=nt();return t.forEach(c=>r=r.add(c)),e.getEntries(s,r).next(c=>{let d=da();return t.forEach((p,m)=>{const g=c.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):Ae(H0,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Ls:d,ks:o}})}function rI(s,e){const t=qe(s);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aI(s,e){const t=qe(s);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(c=>c?(o=c,be.resolve(o)):t.hi.allocateTargetId(r).next(d=>(o=new Wa(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Wg(s,e,t){const r=qe(s),o=r.Fs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Vl(d))throw d;Ae(H0,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function m1(s,e,t){const r=qe(s);let o=ze.min(),c=nt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(m,g,b){const w=qe(m),v=w.Ms.get(b);return v!==void 0?be.resolve(w.Fs.get(v)):w.hi.getTargetData(g,b)}(r,d,vr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(d,p.targetId).next(m=>{c=m})}).next(()=>r.Cs.getDocumentsMatchingQuery(d,e,t?o:ze.min(),t?c:nt())).next(p=>(iI(r,G6(e),p),{documents:p,qs:c})))}function iI(s,e,t){let r=s.xs.get(e)||ze.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.xs.set(e,r)}class p1{constructor(){this.activeTargetIds=Z6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oI{constructor(){this.Fo=new p1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new p1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="ConnectivityMonitor";class y1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ae(g1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ae(g1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function Xg(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uI{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,c){const d=Xg(),p=this.Go(e,t.toUriEncodedString());Ae(pg,`Sending RPC '${e}' ${d}:`,p,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,c);const{host:g}=new URL(p),b=hi(g);return this.jo(e,p,m,r,b).then(w=>(Ae(pg,`Received RPC '${e}' ${d}: `,w),w),w=>{throw ai(pg,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w})}Jo(e,t,r,o,c,d){return this.Wo(e,t,r,o,c)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}Go(e,t){const r=cI[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="WebChannelConnection";class hI extends uI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,c){const d=Xg();return new Promise((p,m)=>{const g=new h2;g.setWithCredentials(!0),g.listenOnce(f2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Dh.NO_ERROR:const w=g.getResponseJson();Ae(Rs,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Dh.TIMEOUT:Ae(Rs,`RPC '${e}' ${d} timed out`),m(new Ee(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const v=g.getStatus();if(Ae(Rs,`RPC '${e}' ${d} failed with status:`,v,"response text:",g.getResponseText()),v>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const A=j?.error;if(A&&A.status&&A.message){const F=function(q){const U=q.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(U)>=0?U:fe.UNKNOWN}(A.status);m(new Ee(F,A.message))}else m(new Ee(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ee(fe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ae(Rs,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);Ae(Rs,`RPC '${e}' ${d} sending request:`,o),g.send(t,"POST",b,r,15)})}P_(e,t,r){const o=Xg(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=g2(),p=p2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=c.join("");Ae(Rs,`Creating RPC '${e}' stream ${o}: ${b}`,m);const w=d.createWebChannel(b,m);this.T_(w);let v=!1,j=!1;const A=new dI({Ho:O=>{j?Ae(Rs,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(v||(Ae(Rs,`Opening RPC '${e}' stream ${o} transport.`),w.open(),v=!0),Ae(Rs,`RPC '${e}' stream ${o} sending:`,O),w.send(O))},Yo:()=>w.close()}),F=(O,q,U)=>{O.listen(q,P=>{try{U(P)}catch(B){setTimeout(()=>{throw B},0)}})};return F(w,nu.EventType.OPEN,()=>{j||(Ae(Rs,`RPC '${e}' stream ${o} transport opened.`),A.s_())}),F(w,nu.EventType.CLOSE,()=>{j||(j=!0,Ae(Rs,`RPC '${e}' stream ${o} transport closed`),A.__(),this.I_(w))}),F(w,nu.EventType.ERROR,O=>{j||(j=!0,ai(Rs,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),A.__(new Ee(fe.UNAVAILABLE,"The operation could not be completed")))}),F(w,nu.EventType.MESSAGE,O=>{var q;if(!j){const U=O.data[0];xt(!!U,16349);const P=U,B=P?.error||((q=P[0])===null||q===void 0?void 0:q.error);if(B){Ae(Rs,`RPC '${e}' stream ${o} received error:`,B);const Q=B.status;let ie=function(T){const L=Jt[T];if(L!==void 0)return W2(L)}(Q),M=B.message;ie===void 0&&(ie=fe.INTERNAL,M="Unknown error status: "+Q+" with message "+B.message),j=!0,A.__(new Ee(ie,M)),w.close()}else Ae(Rs,`RPC '${e}' stream ${o} received:`,U),A.a_(U)}}),F(p,m2.STAT_EVENT,O=>{O.stat===Ug.PROXY?Ae(Rs,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Ug.NOPROXY&&Ae(Rs,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(s){return new gC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="PersistentStream";class dN{constructor(e,t,r,o,c,d,p,m){this.Fi=e,this.w_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new uN(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new Ee(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ae(x1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ae(x1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fI extends dN{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=bC(this.serializer,e),r=function(c){if(!("targetChange"in c))return ze.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ze.min():d.readTime?wr(d.readTime):ze.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Kg(this.serializer),t.addTarget=function(c,d){let p;const m=d.target;if(p=$g(m)?{documents:_C(c,m)}:{query:NC(c,m).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=J2(c,d.resumeToken);const g=Gg(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(ze.min())>0){p.readTime=sf(c,d.snapshotVersion.toTimestamp());const g=Gg(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const r=EC(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Kg(this.serializer),t.removeTarget=e,this.k_(t)}}class mI extends dN{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=wC(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Kg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vC(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{}class gI extends pI{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Qg(t,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(fe.UNKNOWN,c.toString())})}Jo(e,t,r,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Qg(t,r),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(fe.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class yI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ua(t),this._a=!1):Ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class xI{constructor(e,t,r,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{r.enqueueAndForget(async()=>{vo(this)&&(Ae(io,"Restarting streams for network reachability change."),await async function(m){const g=qe(m);g.Ia.add(4),await Fu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Uf(g)}(this))})}),this.Aa=new yI(r,o)}}async function Uf(s){if(vo(s))for(const e of s.da)await e(!0)}async function Fu(s){for(const e of s.da)await e(!1)}function hN(s,e){const t=qe(s);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),K0(t)?Y0(t):Fl(t).x_()&&Q0(t,e))}function G0(s,e){const t=qe(s),r=Fl(t);t.Ta.delete(e),r.x_()&&fN(t,e),t.Ta.size===0&&(r.x_()?r.B_():vo(t)&&t.Aa.set("Unknown"))}function Q0(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fl(s).H_(e)}function fN(s,e){s.Ra.$e(e),Fl(s).Y_(e)}function Y0(s){s.Ra=new hC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Fl(s).start(),s.Aa.aa()}function K0(s){return vo(s)&&!Fl(s).M_()&&s.Ta.size>0}function vo(s){return qe(s).Ia.size===0}function mN(s){s.Ra=void 0}async function bI(s){s.Aa.set("Online")}async function vI(s){s.Ta.forEach((e,t)=>{Q0(s,e)})}async function wI(s,e){mN(s),K0(s)?(s.Aa.la(e),Y0(s)):s.Aa.set("Unknown")}async function _I(s,e,t){if(s.Aa.set("Online"),e instanceof Z2&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))}(s,e)}catch(r){Ae(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(s,r)}else if(e instanceof Uh?s.Ra.Ye(e):e instanceof X2?s.Ra.it(e):s.Ra.et(e),!t.isEqual(ze.min()))try{const r=await cN(s.localStore);t.compareTo(r)>=0&&await function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const b=c.Ta.get(g);b&&c.Ta.set(g,b.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,g)=>{const b=c.Ta.get(m);if(!b)return;c.Ta.set(m,b.withResumeToken(Ts.EMPTY_BYTE_STRING,b.snapshotVersion)),fN(c,m);const w=new Wa(b.target,m,g,b.sequenceNumber);Q0(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(s,t)}catch(r){Ae(io,"Failed to raise snapshot:",r),await rf(s,r)}}async function rf(s,e,t){if(!Vl(e))throw e;s.Ia.add(1),await Fu(s),s.Aa.set("Offline"),t||(t=()=>cN(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Ae(io,"Retrying IndexedDB access"),await t(),s.Ia.delete(1),await Uf(s)})}function pN(s,e){return e().catch(t=>rf(s,t,e))}async function Vf(s){const e=qe(s),t=ui(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:I0;for(;NI(e);)try{const o=await rI(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,jI(e,o)}catch(o){await rf(e,o)}gN(e)&&yN(e)}function NI(s){return vo(s)&&s.Pa.length<10}function jI(s,e){s.Pa.push(e);const t=ui(s);t.x_()&&t.Z_&&t.X_(e.mutations)}function gN(s){return vo(s)&&!ui(s).M_()&&s.Pa.length>0}function yN(s){ui(s).start()}async function EI(s){ui(s).na()}async function TI(s){const e=ui(s);for(const t of s.Pa)e.X_(t.mutations)}async function SI(s,e,t){const r=s.Pa.shift(),o=V0.from(r,e,t);await pN(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Vf(s)}async function AI(s,e){e&&ui(s).Z_&&await async function(r,o){if(function(d){return uC(d)&&d!==fe.ABORTED}(o.code)){const c=r.Pa.shift();ui(r).N_(),await pN(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Vf(r)}}(s,e),gN(s)&&yN(s)}async function b1(s,e){const t=qe(s);t.asyncQueue.verifyOperationInProgress(),Ae(io,"RemoteStore received new credentials");const r=vo(t);t.Ia.add(3),await Fu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Uf(t)}async function RI(s,e){const t=qe(s);e?(t.Ia.delete(2),await Uf(t)):e||(t.Ia.add(2),await Fu(t),t.Aa.set("Unknown"))}function Fl(s){return s.Va||(s.Va=function(t,r,o){const c=qe(t);return c.ia(),new fI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:bI.bind(null,s),e_:vI.bind(null,s),n_:wI.bind(null,s),J_:_I.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),K0(s)?Y0(s):s.Aa.set("Unknown")):(await s.Va.stop(),mN(s))})),s.Va}function ui(s){return s.ma||(s.ma=function(t,r,o){const c=qe(t);return c.ia(),new mI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:EI.bind(null,s),n_:AI.bind(null,s),ea:TI.bind(null,s),ta:SI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await Vf(s)):(await s.ma.stop(),s.Pa.length>0&&(Ae(io,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,p=new W0(e,t,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X0(s,e){if(ua("AsyncQueue",`${e}: ${s}`),Vl(s))return new Ee(fe.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.fa=new Ft(De.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class kl{constructor(e,t,r,o,c,d,p,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new kl(e,t,bl.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class II{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=qe(t),c=o.queries;o.queries=w1(),c.forEach((d,p)=>{for(const m of p.wa)m.onError(r)})})(this,new Ee(fe.ABORTED,"Firestore shutting down"))}}function w1(){return new bo(s=>U2(s),If)}async function xN(s,e){const t=qe(s);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.ba()&&(r=2):(c=new CI,r=e.ba()?0:1);try{switch(r){case 0:c.ya=await t.onListen(o,!0);break;case 1:c.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=X0(d,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.wa.push(e),e.va(t.onlineState),c.ya&&e.Ca(c.ya)&&Z0(t)}async function bN(s,e){const t=qe(s),r=e.query;let o=3;const c=t.queries.get(r);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kI(s,e){const t=qe(s);let r=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const p of d.wa)p.Ca(o)&&(r=!0);d.ya=o}}r&&Z0(t)}function PI(s,e,t){const r=qe(s),o=r.queries.get(e);if(o)for(const c of o.wa)c.onError(t);r.queries.delete(e)}function Z0(s){s.Da.forEach(e=>{e.next()})}var Zg,_1;(_1=Zg||(Zg={})).Fa="default",_1.Cache="cache";class vN{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.key=e}}class _N{constructor(e){this.key=e}}class DI{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=V2(e),this.eu=new bl(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new v1,o=t?t.eu:this.eu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const v=o.get(b),j=kf(this.query,w)?w:null,A=!!v&&this.mutatedKeys.has(v.key),F=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let O=!1;v&&j?v.data.isEqual(j.data)?A!==F&&(r.track({type:3,doc:j}),O=!0):this.iu(v,j)||(r.track({type:2,doc:j}),O=!0,(m&&this.Xa(j,m)>0||g&&this.Xa(j,g)<0)&&(p=!0)):!v&&j?(r.track({type:0,doc:j}),O=!0):v&&!j&&(r.track({type:1,doc:v}),O=!0,(m||g)&&(p=!0)),O&&(j?(d=d.add(j),c=F?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{eu:d,ru:r,Ds:p,mutatedKeys:c}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,w)=>function(j,A){const F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{At:O})}};return F(j)-F(A)}(b.type,w.type)||this.Xa(b.doc,w.doc)),this.su(r),o=o!=null&&o;const p=t&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,g=m!==this.Ya;return this.Ya=m,d.length!==0||g?{snapshot:new kl(this.query,e.eu,c,d,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new v1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new _N(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new wN(r))}),t}uu(e){this.Ha=e.qs,this.Za=nt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return kl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const J0="SyncEngine";class MI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OI{constructor(e){this.key=e,this.lu=!1}}class LI{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new bo(p=>U2(p),If),this.Tu=new Map,this.Iu=new Set,this.du=new Ft(De.comparator),this.Eu=new Map,this.Au=new B0,this.Ru={},this.Vu=new Map,this.mu=Il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function UI(s,e,t=!0){const r=AN(s);let o;const c=r.Pu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await NN(r,e,t,!0),o}async function VI(s,e){const t=AN(s);await NN(t,e,!0,!1)}async function NN(s,e,t,r){const o=await aI(s.localStore,vr(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,t);let p;return r&&(p=await FI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&t&&hN(s.remoteStore,o),p}async function FI(s,e,t,r,o){s.gu=(w,v,j)=>async function(F,O,q,U){let P=O.view.nu(q);P.Ds&&(P=await m1(F.localStore,O.query,!1).then(({documents:M})=>O.view.nu(M,P)));const B=U&&U.targetChanges.get(O.targetId),Q=U&&U.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(P,F.isPrimaryClient,B,Q);return j1(F,O.targetId,ie._u),ie.snapshot}(s,w,v,j);const c=await m1(s.localStore,e,!0),d=new DI(e,c.qs),p=d.nu(c.documents),m=Vu.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",o),g=d.applyChanges(p,s.isPrimaryClient,m);j1(s,t,g._u);const b=new MI(e,t,d);return s.Pu.set(e,b),s.Tu.has(t)?s.Tu.get(t).push(e):s.Tu.set(t,[e]),g.snapshot}async function zI(s,e,t){const r=qe(s),o=r.Pu.get(e),c=r.Tu.get(o.targetId);if(c.length>1)return r.Tu.set(o.targetId,c.filter(d=>!If(d,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Wg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&G0(r.remoteStore,o.targetId),Jg(r,o.targetId)}).catch(Ul)):(Jg(r,o.targetId),await Wg(r.localStore,o.targetId,!0))}async function BI(s,e){const t=qe(s),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),G0(t.remoteStore,r.targetId))}async function qI(s,e,t){const r=WI(s);try{const o=await function(d,p){const m=qe(d),g=Rt.now(),b=p.reduce((j,A)=>j.add(A.key),nt());let w,v;return m.persistence.runTransaction("Locally write mutations","readwrite",j=>{let A=da(),F=nt();return m.Os.getEntries(j,b).next(O=>{A=O,A.forEach((q,U)=>{U.isValidDocument()||(F=F.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(j,A)).next(O=>{w=O;const q=[];for(const U of p){const P=aC(U,w.get(U.key).overlayedDocument);P!=null&&q.push(new pi(U.key,P,C2(P.value.mapValue),qs.exists(!0)))}return m.mutationQueue.addMutationBatch(j,g,q,p)}).next(O=>{v=O;const q=O.applyToLocalDocumentSet(w,F);return m.documentOverlayCache.saveOverlays(j,O.batchId,q)})}).then(()=>({batchId:v.batchId,changes:z2(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let g=d.Ru[d.currentUser.toKey()];g||(g=new Ft(Qe)),g=g.insert(p,m),d.Ru[d.currentUser.toKey()]=g}(r,o.batchId,t),await zu(r,o.changes),await Vf(r.remoteStore)}catch(o){const c=X0(o,"Failed to persist write");t.reject(c)}}async function jN(s,e){const t=qe(s);try{const r=await sI(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Eu.get(c);d&&(xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?xt(d.lu,14607):o.removedDocuments.size>0&&(xt(d.lu,42227),d.lu=!1))}),await zu(t,r,e)}catch(r){await Ul(r)}}function N1(s,e,t){const r=qe(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=qe(d);m.onlineState=p;let g=!1;m.queries.forEach((b,w)=>{for(const v of w.wa)v.va(p)&&(g=!0)}),g&&Z0(m)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $I(s,e,t){const r=qe(s);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),c=o&&o.key;if(c){let d=new Ft(De.comparator);d=d.insert(c,ks.newNoDocument(c,ze.min()));const p=nt().add(c),m=new Of(ze.min(),new Map,new Ft(Qe),d,p);await jN(r,m),r.du=r.du.remove(c),r.Eu.delete(e),ey(r)}else await Wg(r.localStore,e,!1).then(()=>Jg(r,e,t)).catch(Ul)}async function HI(s,e){const t=qe(s),r=e.batch.batchId;try{const o=await tI(t.localStore,e);TN(t,r,null),EN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zu(t,o)}catch(o){await Ul(o)}}async function GI(s,e,t){const r=qe(s);try{const o=await function(d,p){const m=qe(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return m.mutationQueue.lookupMutationBatch(g,p).next(w=>(xt(w!==null,37113),b=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,b,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>m.localDocuments.getDocuments(g,b))})}(r.localStore,e);TN(r,e,t),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zu(r,o)}catch(o){await Ul(o)}}function EN(s,e){(s.Vu.get(e)||[]).forEach(t=>{t.resolve()}),s.Vu.delete(e)}function TN(s,e,t){const r=qe(s);let o=r.Ru[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Jg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Tu.get(e))s.Pu.delete(r),t&&s.hu.pu(r,t);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(r=>{s.Au.containsKey(r)||SN(s,r)})}function SN(s,e){s.Iu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(G0(s.remoteStore,t),s.du=s.du.remove(e),s.Eu.delete(t),ey(s))}function j1(s,e,t){for(const r of t)r instanceof wN?(s.Au.addReference(r.key,e),QI(s,r)):r instanceof _N?(Ae(J0,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,e),s.Au.containsKey(r.key)||SN(s,r.key)):Ue(19791,{yu:r})}function QI(s,e){const t=e.key,r=t.path.canonicalString();s.du.get(t)||s.Iu.has(r)||(Ae(J0,"New document in limbo: "+t),s.Iu.add(r),ey(s))}function ey(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const t=new De(Tt.fromString(e)),r=s.mu.next();s.Eu.set(r,new OI(t)),s.du=s.du.insert(t,r),hN(s.remoteStore,new Wa(vr(O0(t.path)),r,"TargetPurposeLimboResolution",Af.ue))}}async function zu(s,e,t){const r=qe(s),o=[],c=[],d=[];r.Pu.isEmpty()||(r.Pu.forEach((p,m)=>{d.push(r.gu(m,e,t).then(g=>{var b;if((g||t)&&r.isPrimaryClient){const w=g?!g.fromCache:(b=t?.targetChanges.get(m.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=$0.Es(m.targetId,g);c.push(w)}}))}),await Promise.all(d),r.hu.J_(o),await async function(m,g){const b=qe(m);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>be.forEach(g,v=>be.forEach(v.Is,j=>b.persistence.referenceDelegate.addReference(w,v.targetId,j)).next(()=>be.forEach(v.ds,j=>b.persistence.referenceDelegate.removeReference(w,v.targetId,j)))))}catch(w){if(!Vl(w))throw w;Ae(H0,"Failed to update sequence numbers: "+w)}for(const w of g){const v=w.targetId;if(!w.fromCache){const j=b.Fs.get(v),A=j.snapshotVersion,F=j.withLastLimboFreeSnapshotVersion(A);b.Fs=b.Fs.insert(v,F)}}}(r.localStore,c))}async function YI(s,e){const t=qe(s);if(!t.currentUser.isEqual(e)){Ae(J0,"User change. New user:",e.toKey());const r=await lN(t.localStore,e);t.currentUser=e,function(c,d){c.Vu.forEach(p=>{p.forEach(m=>{m.reject(new Ee(fe.CANCELLED,d))})}),c.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(t,r.Bs)}}function KI(s,e){const t=qe(s),r=t.Eu.get(e);if(r&&r.lu)return nt().add(r.key);{let o=nt();const c=t.Tu.get(e);if(!c)return o;for(const d of c){const p=t.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function AN(s){const e=qe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=jN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.hu.J_=kI.bind(null,e.eventManager),e.hu.pu=PI.bind(null,e.eventManager),e}function WI(s){const e=qe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return eI(this.persistence,new XC,e.initialUser,this.serializer)}Du(e){return new oN(q0.Vi,this.serializer)}bu(e){return new oI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class XI extends af{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){xt(this.persistence.referenceDelegate instanceof nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OC(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new oN(r=>nf.Vi(r,t),this.serializer)}}class e0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await RI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new II}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(c){return new hI(c)}(e.databaseInfo);return function(c,d,p,m){return new gI(c,d,p,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,c,d,p){return new xI(r,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>N1(this.syncEngine,t,0),function(){return y1.C()?new y1:new lI}())}createSyncEngine(e,t){return function(o,c,d,p,m,g,b){const w=new LI(o,c,d,p,m,g);return b&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=qe(o);Ae(io,"RemoteStore shutting down."),c.Ia.add(5),await Fu(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}e0.provider={build:()=>new e0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class ZI{constructor(e,t,r,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Is.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{Ae(di,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(Ae(di,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=X0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yg(s,e){s.asyncQueue.verifyOperationInProgress(),Ae(di,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await lN(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{ai("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{Ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ai("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function E1(s,e){s.asyncQueue.verifyOperationInProgress();const t=await JI(s);Ae(di,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(r=>b1(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>b1(e.remoteStore,o)),s._onlineComponents=e}async function JI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Ae(di,"Using user provided OfflineComponentProvider");try{await yg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ai("Error using user provided cache. Falling back to memory cache: "+t),await yg(s,new af)}}else Ae(di,"Using default OfflineComponentProvider"),await yg(s,new XI(void 0));return s._offlineComponents}async function CN(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Ae(di,"Using user provided OnlineComponentProvider"),await E1(s,s._uninitializedComponentsProvider._online)):(Ae(di,"Using default OnlineComponentProvider"),await E1(s,new e0))),s._onlineComponents}function e5(s){return CN(s).then(e=>e.syncEngine)}async function IN(s){const e=await CN(s),t=e.eventManager;return t.onListen=UI.bind(null,e.syncEngine),t.onUnlisten=zI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BI.bind(null,e.syncEngine),t}function t5(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,g){const b=new RN({next:v=>{b.Ou(),d.enqueueAndForget(()=>bN(c,w));const j=v.docs.has(p);!j&&v.fromCache?g.reject(new Ee(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&v.fromCache&&m&&m.source==="server"?g.reject(new Ee(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(v)},error:v=>g.reject(v)}),w=new vN(O0(p.path),b,{includeMetadataChanges:!0,ka:!0});return xN(c,w)}(await IN(s),s.asyncQueue,e,t,r)),r.promise}function s5(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,g){const b=new RN({next:v=>{b.Ou(),d.enqueueAndForget(()=>bN(c,w)),v.fromCache&&m.source==="server"?g.reject(new Ee(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(v)},error:v=>g.reject(v)}),w=new vN(p,b,{includeMetadataChanges:!0,ka:!0});return xN(c,w)}(await IN(s),s.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firestore.googleapis.com",S1=!0;class A1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PN,this.ssl=S1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:S1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DC)throw new Ee(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c6;switch(r.type){case"firstParty":return new f6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=T1.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),T1.delete(t),r.terminate())}(this),Promise.resolve()}}function n5(s,e,t,r={}){var o;s=mn(s,Bu);const c=hi(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c&&(E0(`https://${m}`),T0("Firestore",!0)),d.host!==PN&&d.host!==m&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:m,ssl:c,emulatorOptions:r});if(!Tr(g,p)&&(s._setSettings(g),r.mockUserToken)){let b,w;if(typeof r.mockUserToken=="string")b=r.mockUserToken,w=Is.MOCK_USER;else{b=t2(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ee(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Is(v)}s._authCredentials=new u6(new x2(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Lu(t,Yt._jsonSchema))return new Yt(e,r||null,new De(Tt.fromString(t.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:ss("string",Yt._jsonSchemaVersion),referencePath:ss("string")};class ni extends ma{constructor(e,t,r){super(e,t,O0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new De(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function pt(s,e,...t){if(s=St(s),C0("collection","path",e),s instanceof Bu){const r=Tt.fromString(e,...t);return zw(r),new ni(s,null,r)}{if(!(s instanceof Yt||s instanceof ni))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...t));return zw(r),new ni(s.firestore,null,r)}}function oo(s,e){if(s=mn(s,Bu),C0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ma(s,null,function(r){return new xo(Tt.emptyPath(),r)}(e))}function ct(s,e,...t){if(s=St(s),arguments.length===1&&(e=R0.newId()),C0("doc","path",e),s instanceof Bu){const r=Tt.fromString(e,...t);return Fw(r),new Yt(s,null,new De(r))}{if(!(s instanceof Yt||s instanceof ni))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...t));return Fw(r),new Yt(s.firestore,s instanceof ni?s.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class C1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new uN(this,"async_queue_retry"),this.oc=()=>{const r=gg();r&&Ae(R1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ia;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vl(e))throw e;Ae(R1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ua("INTERNAL UNHANDLED ERROR: ",I1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=W0.createAndSchedule(this,e,t,r,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Ue(47125,{hc:I1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function I1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}let gi=class extends Bu{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new C1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C1(e),this._firestoreClient=void 0,await e}}};function gt(s,e){const t=typeof s=="object"?s:Tf(),r=typeof s=="string"?s:Xh,o=fi(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Z_("firestore");c&&n5(o,...c)}return o}function Ff(s){if(s._terminated)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||r5(s),s._firestoreClient}function r5(s){var e,t,r;const o=s._freezeSettings(),c=function(p,m,g,b){return new C6(p,m,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,kN(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new ZI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const m=p?._online.build();return{_offline:p?._offline.build(m),_online:m}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Ts.fromBase64String(e))}catch(t){throw new Ee(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(Ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:ss("string",Sn._jsonSchemaVersion),bytes:ss("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Es(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function k1(){return new zl(Fg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:ss("string",_r._jsonSchemaVersion),latitude:ss("number"),longitude:ss("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Nr(e.vectorValues);throw new Ee(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:ss("string",Nr._jsonSchemaVersion),vectorValues:ss("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class i5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class DN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MN(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ec:s})}}class zf{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return of(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(MN(this.Ec)&&a5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class o5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Dc(e,t,r,o=!1){return new zf({Ec:e,methodName:t,bc:r,path:Es.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(s){const e=s._freezeSettings(),t=Lf(s._databaseId);return new o5(s._databaseId,!!e.ignoreUndefinedProperties,t)}function ty(s,e,t,r,o,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,e,t,o);ay("Data must be an object, but it was:",d,r);const p=VN(r,d);let m,g;if(c.merge)m=new dn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const v=t0(e,w,t);if(!d.contains(v))throw new Ee(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zN(b,v)||b.push(v)}m=new dn(b),g=d.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=d.fieldTransforms;return new i5(new Xs(p),m,g)}class Bf extends Bl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}function ON(s,e,t){return new zf({Ec:3,bc:e.settings.bc,methodName:s._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sy extends Bl{_toFieldTransform(e){return new U0(e.path,new Tu)}isEqual(e){return e instanceof sy}}class ny extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ON(this,e,!0),r=this.vc.map(c=>wo(c,t)),o=new Rl(r);return new U0(e.path,o)}isEqual(e){return e instanceof ny&&Tr(this.vc,e.vc)}}class ry extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ON(this,e,!0),r=this.vc.map(c=>wo(c,t)),o=new Cl(r);return new U0(e.path,o)}isEqual(e){return e instanceof ry&&Tr(this.vc,e.vc)}}function LN(s,e,t,r){const o=s.Dc(1,e,t);ay("Data must be an object, but it was:",o,r);const c=[],d=Xs.empty();mi(r,(m,g)=>{const b=iy(e,m,t);g=St(g);const w=o.gc(b);if(g instanceof Bf)c.push(b);else{const v=wo(g,w);v!=null&&(c.push(b),d.set(b,v))}});const p=new dn(c);return new DN(d,p,o.fieldTransforms)}function UN(s,e,t,r,o,c){const d=s.Dc(1,e,t),p=[t0(e,r,t)],m=[o];if(c.length%2!=0)throw new Ee(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<c.length;v+=2)p.push(t0(e,c[v])),m.push(c[v+1]);const g=[],b=Xs.empty();for(let v=p.length-1;v>=0;--v)if(!zN(g,p[v])){const j=p[v];let A=m[v];A=St(A);const F=d.gc(j);if(A instanceof Bf)g.push(j);else{const O=wo(A,F);O!=null&&(g.push(j),b.set(j,O))}}const w=new dn(g);return new DN(b,w,d.fieldTransforms)}function l5(s,e,t,r=!1){return wo(t,s.Dc(r?4:3,e))}function wo(s,e){if(FN(s=St(s)))return ay("Unsupported field value:",e,s),VN(s,e);if(s instanceof Bl)return function(r,o){if(!MN(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const p of r){let m=wo(p,o.yc(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(s,e)}return function(r,o){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J6(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Rt.fromDate(r);return{timestampValue:sf(o.serializer,c)}}if(r instanceof Rt){const c=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(o.serializer,c)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:J2(o.serializer,r._byteString)};if(r instanceof Yt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:z0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Nr)return function(d,p){return{mapValue:{fields:{[A2]:{stringValue:R2},[Zh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.wc("VectorValues must only contain numeric values.");return L0(p.serializer,g)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Sf(r)}`)}(s,e)}function VN(s,e){const t={};return _2(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(s,(r,o)=>{const c=wo(o,e.Vc(r));c!=null&&(t[r]=c)}),{mapValue:{fields:t}}}function FN(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Rt||s instanceof _r||s instanceof Sn||s instanceof Yt||s instanceof Bl||s instanceof Nr)}function ay(s,e,t){if(!FN(t)||!v2(t)){const r=Sf(t);throw r==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+r)}}function t0(s,e,t){if((e=St(e))instanceof zl)return e._internalPath;if(typeof e=="string")return iy(s,e);throw of("Field path arguments must be of type string or ",s,!1,void 0,t)}const c5=new RegExp("[~\\*/\\[\\]]");function iy(s,e,t){if(e.search(c5)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function of(s,e,t,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${o}`),m+=")"),new Ee(fe.INVALID_ARGUMENT,p+s+m)}function zN(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class u5 extends BN{data(){return super.data()}}function qf(s,e){return typeof e=="string"?iy(s,e):e instanceof zl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ee(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class ly extends oy{}function Vt(s,e,...t){let r=[];e instanceof oy&&r.push(e),r=r.concat(t),function(c){const d=c.filter(m=>m instanceof cy).length,p=c.filter(m=>m instanceof $f).length;if(d>1||d>0&&p>0)throw new Ee(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)s=o._apply(s);return s}class $f extends ly{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new $f(e,t,r)}_apply(e){const t=this._parse(e);return qN(e._query,t),new ma(e.firestore,e.converter,Hg(e._query,t))}_parse(e){const t=qu(e.firestore);return function(c,d,p,m,g,b,w){let v;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ee(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){D1(w,b);const A=[];for(const F of w)A.push(P1(m,c,F));v={arrayValue:{values:A}}}else v=P1(m,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||D1(w,b),v=l5(p,d,w,b==="in"||b==="not-in");return ts.create(g,b,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function gs(s,e,t){const r=e,o=qf("where",s);return $f._create(o,r,t)}class cy extends oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const p=c.getFlattenedFilters();for(const m of p)qN(d,m),d=Hg(d,m)}(e._query,t),new ma(e.firestore,e.converter,Hg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uy extends ly{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new uy(e,t)}_apply(e){const t=function(o,c,d){if(o.startAt!==null)throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(c,d)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new xo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function dy(s,e="asc"){const t=e,r=qf("orderBy",s);return uy._create(r,t)}class hy extends ly{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hy(e,t,r)}_apply(e){return new ma(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function s0(s){return b6("limit",s),hy._create("limit",s,"F")}function P1(s,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L2(e)&&t.indexOf("/")!==-1)throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!De.isDocumentKey(r))throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kw(s,new De(r))}if(t instanceof Yt)return Kw(s,t._key);throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(t)}.`)}function D1(s,e){if(!Array.isArray(s)||s.length===0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qN(s,e){const t=function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class h5{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mi(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertVectorValue(e){var t,r,o;const c=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Zh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>Qt(d.doubleValue));return new Nr(c)}convertGeoPoint(e){return new _r(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=oi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);xt(aN(r),9688,{name:e});const o=new Nu(r.get(1),r.get(3)),c=new De(r.popFirst(5));return o.isEqual(t)||ua(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends BN{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=to._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:ss("string",to._jsonSchemaVersion),bundleSource:ss("string","DocumentSnapshot"),bundleName:ss("string"),bundle:ss("string")};class Vh extends to{data(e={}){return super.data(e)}}class vl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:f5(p.type),doc:m,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(s){s=mn(s,Yt);const e=mn(s.firestore,gi);return t5(Ff(e),s._key).then(t=>p5(e,s,t))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:ss("string",vl._jsonSchemaVersion),bundleSource:ss("string","QuerySnapshot"),bundleName:ss("string"),bundle:ss("string")};class $N extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function ut(s){s=mn(s,ma);const e=mn(s.firestore,gi),t=Ff(e),r=new $N(e);return d5(s._query),s5(t,s._query).then(o=>new vl(e,r,s,o))}function n0(s,e,t){s=mn(s,Yt);const r=mn(s.firestore,gi),o=fy(s.converter,e,t);return $u(r,[ty(qu(r),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,qs.none())])}function Ps(s,e,t,...r){s=mn(s,Yt);const o=mn(s.firestore,gi),c=qu(o);let d;return d=typeof(e=St(e))=="string"||e instanceof zl?UN(c,"updateDoc",s._key,e,t,r):LN(c,"updateDoc",s._key,e),$u(o,[d.toMutation(s._key,qs.exists(!0))])}function m5(s){return $u(mn(s.firestore,gi),[new Mf(s._key,qs.none())])}function hu(s,e){const t=mn(s.firestore,gi),r=ct(s),o=fy(s.converter,e);return $u(t,[ty(qu(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,qs.exists(!1))]).then(()=>r)}function $u(s,e){return function(r,o){const c=new ia;return r.asyncQueue.enqueueAndForget(async()=>qI(await e5(r),o,c)),c.promise}(Ff(s),e)}function p5(s,e,t){const r=t.docs.get(e._key),o=new $N(s);return new to(s,o,e._key,r,new iu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qu(e)}set(e,t,r){this._verifyNotCommitted();const o=xg(e,this._firestore),c=fy(o.converter,t,r),d=ty(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,qs.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=xg(e,this._firestore);let d;return d=typeof(t=St(t))=="string"||t instanceof zl?UN(this._dataReader,"WriteBatch.update",c._key,t,r,o):LN(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xg(e,this._firestore);return this._mutations=this._mutations.concat(new Mf(t._key,qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xg(s,e){if((s=St(s)).firestore!==e)throw new Ee(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Ys(){return new sy("serverTimestamp")}function Hu(...s){return new ny("arrayUnion",s)}function lo(...s){return new ry("arrayRemove",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(s){return Ff(s=mn(s,gi)),new g5(s,e=>$u(s,e))}(function(e,t=!0){(function(o){Ll=o})(yo),Kn(new Rn("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new gi(new d6(r.getProvider("auth-internal")),new m6(d,r.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,b)}(d,o),d);return c=Object.assign({useFetchStreams:t},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Zs(Ow,Lw,e),Zs(Ow,Lw,"esm2017")})();var y5="firebase",x5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(y5,x5,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebasestorage.googleapis.com",GN="storageBucket",b5=2*60*1e3,v5=10*60*1e3,w5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends kn{constructor(e,t,r=0){super(bg(e),`Firebase Storage: ${t} (${bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function bg(s){return"storage/"+s}function my(){const s="An unknown error occurred, please check the error payload for server response.";return new zt(It.UNKNOWN,s)}function _5(s){return new zt(It.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function N5(s){return new zt(It.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j5(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(It.UNAUTHENTICATED,s)}function E5(){return new zt(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T5(s){return new zt(It.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function QN(){return new zt(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YN(){return new zt(It.CANCELED,"User canceled the upload/download.")}function S5(s){return new zt(It.INVALID_URL,"Invalid URL '"+s+"'.")}function A5(s){return new zt(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function R5(){return new zt(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GN+"' property when initializing the app?")}function KN(){return new zt(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C5(){return new zt(It.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function I5(){return new zt(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k5(s){return new zt(It.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function r0(s){return new zt(It.INVALID_ARGUMENT,s)}function WN(){return new zt(It.APP_DELETED,"The Firebase app was deleted.")}function P5(s){return new zt(It.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fu(s,e){return new zt(It.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function eu(s){throw new zt(It.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=hn.makeFromUrl(e,t)}catch{return new hn(e,"")}if(r.path==="")return r;throw A5(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function g(B){B.path_=decodeURIComponent(B.path)}const b="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${b}/b/${o}/o${v}`,"i"),A={bucket:1,path:3},F=t===HN?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",q=new RegExp(`^https?://${F}/${o}/${O}`,"i"),P=[{regex:p,indices:m,postModify:c},{regex:j,indices:A,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let B=0;B<P.length;B++){const Q=P[B],ie=Q.regex.exec(e);if(ie){const M=ie[Q.indices.bucket];let R=ie[Q.indices.path];R||(R=""),r=new hn(M,R),Q.postModify(r);break}}if(r==null)throw S5(e);return r}}class D5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(s,e,t){let r=1,o=null,c=null,d=!1,p=0;function m(){return p===2}let g=!1;function b(...O){g||(g=!0,e.apply(null,O))}function w(O){o=setTimeout(()=>{o=null,s(j,m())},O)}function v(){c&&clearTimeout(c)}function j(O,...q){if(g){v();return}if(O){v(),b.call(null,O,...q);return}if(m()||d){v(),b.call(null,O,...q);return}r<64&&(r*=2);let P;p===1?(p=2,P=0):P=(r+Math.random())*1e3,w(P)}let A=!1;function F(O){A||(A=!0,v(),!g&&(o!==null?(O||(p=2),clearTimeout(o),w(0)):O||(p=1)))}return w(0),c=setTimeout(()=>{d=!0,F(!0)},t),F}function O5(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(s){return s!==void 0}function U5(s){return typeof s=="function"}function V5(s){return typeof s=="object"&&!Array.isArray(s)}function Hf(s){return typeof s=="string"||s instanceof String}function O1(s){return py()&&s instanceof Blob}function py(){return typeof Blob<"u"}function L1(s,e,t,r){if(r<e)throw r0(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>t)throw r0(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(s,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${s}`}function XN(s){const e=encodeURIComponent;let t="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var so;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(s,e){const t=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,t,r,o,c,d,p,m,g,b,w,v=!0,j=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=w,this.retry=v,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,F)=>{this.resolve_=A,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Ah(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===so.NO_ERROR,m=c.getStatus();if(!p||ZN(m,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===so.ABORT;r(!1,new Ah(!1,null,b));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Ah(g,c))})},t=(r,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());L5(m)?c(m):c()}catch(m){d(m)}else if(p!==null){const m=my();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?WN():YN();d(m)}else{const m=QN();d(m)}};this.canceled_?t(!1,new Ah(!1,null,!0)):this.backoffId_=M5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ah{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function z5(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function B5(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q5(s,e){e&&(s["X-Firebase-GMPID"]=e)}function $5(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function H5(s,e,t,r,o,c,d=!0,p=!1){const m=XN(s.urlParams),g=s.url+m,b=Object.assign({},s.headers);return q5(b,e),z5(b,t),B5(b,c),$5(b,r),new F5(g,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Q5(...s){const e=G5();if(e!==void 0){const t=new e;for(let r=0;r<s.length;r++)t.append(s[r]);return t.getBlob()}else{if(py())return new Blob(s);throw new zt(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y5(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(s){if(typeof atob>"u")throw k5("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,t){this.data=e,this.contentType=t||null}}function W5(s,e){switch(s){case yr.RAW:return new vg(JN(e));case yr.BASE64:case yr.BASE64URL:return new vg(ej(s,e));case yr.DATA_URL:return new vg(Z5(e),J5(e))}throw my()}function JN(s){const e=[];for(let t=0;t<s.length;t++){let r=s.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=r,d=s.charCodeAt(++t);r=65536|(c&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function X5(s){let e;try{e=decodeURIComponent(s)}catch{throw fu(yr.DATA_URL,"Malformed data URL.")}return JN(e)}function ej(s,e){switch(s){case yr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fu(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fu(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=K5(e)}catch(o){throw o.message.includes("polyfill")?o:fu(s,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class tj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fu(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=ek(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z5(s){const e=new tj(s);return e.base64?ej(yr.BASE64,e.rest):X5(e.rest)}function J5(s){return new tj(s).contentType}function ek(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){let r=0,o="";O1(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(O1(this.data_)){const r=this.data_,o=Y5(r,e,t);return o===null?null:new Ga(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ga(r,!0)}}static getBlob(...e){if(py()){const t=e.map(r=>r instanceof Ga?r.data_:r);return new Ga(Q5.apply(null,t))}else{const t=e.map(d=>Hf(d)?W5(yr.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)o[c++]=d[p]}),new Ga(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(s){let e;try{e=JSON.parse(s)}catch{return null}return V5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function sk(s,e){const t=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?t:s+"/"+t}function nj(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(s,e){return e}class Fs{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||nk}}let Rh=null;function rk(s){return!Hf(s)||s.length<2?s:nj(s)}function rj(){if(Rh)return Rh;const s=[];s.push(new Fs("bucket")),s.push(new Fs("generation")),s.push(new Fs("metageneration")),s.push(new Fs("name","fullPath",!0));function e(c,d){return rk(d)}const t=new Fs("name");t.xform=e,s.push(t);function r(c,d){return d!==void 0?Number(d):d}const o=new Fs("size");return o.xform=r,s.push(o),s.push(new Fs("timeCreated")),s.push(new Fs("updated")),s.push(new Fs("md5Hash",null,!0)),s.push(new Fs("cacheControl",null,!0)),s.push(new Fs("contentDisposition",null,!0)),s.push(new Fs("contentEncoding",null,!0)),s.push(new Fs("contentLanguage",null,!0)),s.push(new Fs("contentType",null,!0)),s.push(new Fs("metadata","customMetadata",!0)),Rh=s,Rh}function ak(s,e){function t(){const r=s.bucket,o=s.fullPath,c=new hn(r,o);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function ik(s,e,t){const r={};r.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];r[d.local]=d.xform(r,e[d.server])}return ak(r,s),r}function aj(s,e,t){const r=sj(e);return r===null?null:ik(s,r,t)}function ok(s,e,t,r){const o=sj(e);if(o===null||!Hf(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(g=>{const b=s.bucket,w=s.fullPath,v="/b/"+d(b)+"/o/"+d(w),j=Gu(v,t,r),A=XN({alt:"media",token:g});return j+A})[0]}function ij(s,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class ql{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(s){if(!s)throw my()}function gy(s,e){function t(r,o){const c=aj(s,o,e);return oa(c!==null),c}return t}function lk(s,e){function t(r,o){const c=aj(s,o,e);return oa(c!==null),ok(c,o,s.host,s._protocol)}return t}function Qu(s){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=E5():o=j5():t.getStatus()===402?o=N5(s.bucket):t.getStatus()===403?o=T5(s.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function oj(s){const e=Qu(s);function t(r,o){let c=e(r,o);return r.getStatus()===404&&(c=_5(s.path)),c.serverResponse=o.serverResponse,c}return t}function ck(s,e,t){const r=e.fullServerUrl(),o=Gu(r,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new ql(o,c,gy(s,t),d);return p.errorHandler=oj(e),p}function uk(s,e,t){const r=e.fullServerUrl(),o=Gu(r,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new ql(o,c,lk(s,t),d);return p.errorHandler=oj(e),p}function dk(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function lj(s,e,t){const r=Object.assign({},t);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=dk(null,e)),r}function hk(s,e,t,r,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let P="";for(let B=0;B<2;B++)P=P+Math.random().toString().slice(2);return P}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const g=lj(e,r,o),b=ij(g,t),w="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,v=`\r
--`+m+"--",j=Ga.getBlob(w,r,v);if(j===null)throw KN();const A={name:g.fullPath},F=Gu(c,s.host,s._protocol),O="POST",q=s.maxUploadRetryTime,U=new ql(F,O,gy(s,t),q);return U.urlParams=A,U.headers=d,U.body=j.uploadData(),U.errorHandler=Qu(e),U}class lf{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function yy(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{oa(!1)}return oa(!!t&&(e||["active"]).indexOf(t)!==-1),t}function fk(s,e,t,r,o){const c=e.bucketOnlyServerUrl(),d=lj(e,r,o),p={name:d.fullPath},m=Gu(c,s.host,s._protocol),g="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},w=ij(d,t),v=s.maxUploadRetryTime;function j(F){yy(F);let O;try{O=F.getResponseHeader("X-Goog-Upload-URL")}catch{oa(!1)}return oa(Hf(O)),O}const A=new ql(m,g,j,v);return A.urlParams=p,A.headers=b,A.body=w,A.errorHandler=Qu(e),A}function mk(s,e,t,r){const o={"X-Goog-Upload-Command":"query"};function c(g){const b=yy(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oa(!1)}w||oa(!1);const v=Number(w);return oa(!isNaN(v)),new lf(v,r.size(),b==="final")}const d="POST",p=s.maxUploadRetryTime,m=new ql(t,d,c,p);return m.headers=o,m.errorHandler=Qu(e),m}const U1=256*1024;function pk(s,e,t,r,o,c,d,p){const m=new lf(0,0);if(d?(m.current=d.current,m.total=d.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw C5();const g=m.total-m.current;let b=g;o>0&&(b=Math.min(b,o));const w=m.current,v=w+b;let j="";b===0?j="finalize":g===b?j="upload, finalize":j="upload";const A={"X-Goog-Upload-Command":j,"X-Goog-Upload-Offset":`${m.current}`},F=r.slice(w,v);if(F===null)throw KN();function O(B,Q){const ie=yy(B,["active","final"]),M=m.current+b,R=r.size();let T;return ie==="final"?T=gy(e,c)(B,Q):T=null,new lf(M,R,ie==="final",T)}const q="POST",U=e.maxUploadRetryTime,P=new ql(t,q,O,U);return P.headers=A,P.body=F.uploadData(),P.progressCallback=p||null,P.errorHandler=Qu(s),P}const Ws={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wg(s){switch(s){case"running":case"pausing":case"canceling":return Ws.RUNNING;case"paused":return Ws.PAUSED;case"success":return Ws.SUCCESS;case"canceled":return Ws.CANCELED;case"error":return Ws.ERROR;default:return Ws.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,r){if(U5(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class yk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,c){if(this.sent_)throw eu("cannot .send() more than once");if(hi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xk extends yk{initXhr(){this.xhr_.responseType="text"}}function yl(){return new xk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=rj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(It.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(ZN(o.status,[]))if(c)o=QN();else{this.sleepTime=Math.max(this.sleepTime*2,w5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(It.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=fk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=mk(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,yl,t,r);this._request=c,c.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=U1*this._chunkMultiplier,t=new lf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let d;try{d=pk(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const p=this._ref.storage._makeRequest(d,yl,o,c,!1);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){U1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ck(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=hk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new gk(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wg(this._state)){case Ws.SUCCESS:hl(this._resolve.bind(null,this.snapshot))();break;case Ws.CANCELED:case Ws.ERROR:const t=this._reject;hl(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wg(this._state)){case Ws.RUNNING:case Ws.PAUSED:e.next&&hl(e.next.bind(e,this.snapshot))();break;case Ws.SUCCESS:e.complete&&hl(e.complete.bind(e))();break;case Ws.CANCELED:case Ws.ERROR:e.error&&hl(e.error.bind(e,this._error))();break;default:e.error&&hl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){this._service=e,t instanceof hn?this._location=t:this._location=hn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new co(e,t)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nj(this._location.path)}get storage(){return this._service}get parent(){const e=tk(this._location.path);if(e===null)return null;const t=new hn(this._location.bucket,e);return new co(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw P5(e)}}function vk(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new bk(s,new Ga(e),t)}function wk(s){s._throwIfRoot("getDownloadURL");const e=uk(s.storage,s._location,rj());return s.storage.makeRequestWithTokens(e,yl).then(t=>{if(t===null)throw I5();return t})}function _k(s,e){const t=sk(s._location.path,e),r=new hn(s._location.bucket,t);return new co(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(s){return/^[A-Za-z]+:\/\//.test(s)}function jk(s,e){return new co(s,e)}function cj(s,e){if(s instanceof xy){const t=s;if(t._bucket==null)throw R5();const r=new co(t,t._bucket);return e!=null?cj(r,e):r}else return e!==void 0?_k(s,e):s}function Ek(s,e){if(e&&Nk(e)){if(s instanceof xy)return jk(s,e);throw r0("To use ref(service, url), the first argument must be a Storage instance.")}else return cj(s,e)}function V1(s,e){const t=e?.[GN];return t==null?null:hn.makeFromBucketSpec(t,s)}function Tk(s,e,t,r={}){s.host=`${e}:${t}`;const o=hi(e);o&&(E0(`https://${s.host}/b`),T0("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:t2(c,s.app.options.projectId))}class xy{constructor(e,t,r,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=HN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b5,this._maxUploadRetryTime=v5,this._requests=new Set,o!=null?this._bucket=hn.makeFromBucketSpec(o,this._host):this._bucket=V1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=V1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,t,r,o,c=!0){if(this._deleted)return new D5(WN());{const d=H5(e,this._appId,r,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const F1="@firebase/storage",z1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="storage";function dj(s,e,t){return s=St(s),vk(s,e,t)}function hj(s){return s=St(s),wk(s)}function fj(s,e){return s=St(s),Ek(s,e)}function mj(s=Tf(),e){s=St(s);const r=fi(s,uj).getImmediate({identifier:e}),o=Z_("storage");return o&&Sk(r,...o),r}function Sk(s,e,t,r={}){Tk(s,e,t,r)}function Ak(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new xy(t,r,o,e,yo)}function Rk(){Kn(new Rn(uj,Ak,"PUBLIC").setMultipleInstances(!0)),Zs(F1,z1,""),Zs(F1,z1,"esm2017")}Rk();const pj="@firebase/installations",by="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=1e4,yj=`w:${by}`,xj="FIS_v2",Ck="https://firebaseinstallations.googleapis.com/v1",Ik=60*60*1e3,kk="installations",Pk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uo=new go(kk,Pk,Dk);function bj(s){return s instanceof kn&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj({projectId:s}){return`${Ck}/projects/${s}/installations`}function wj(s){return{token:s.token,requestStatus:2,expiresIn:Ok(s.expiresIn),creationTime:Date.now()}}async function _j(s,e){const r=(await e.json()).error;return uo.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Nj({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function Mk(s,{refreshToken:e}){const t=Nj(s);return t.append("Authorization",Lk(e)),t}async function jj(s){const e=await s();return e.status>=500&&e.status<600?s():e}function Ok(s){return Number(s.replace("s","000"))}function Lk(s){return`${xj} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk({appConfig:s,heartbeatServiceProvider:e},{fid:t}){const r=vj(s),o=Nj(s),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={fid:t,authVersion:xj,appId:s.appId,sdkVersion:yj},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await jj(()=>fetch(r,p));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:wj(g.authToken)}}else throw await _j("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^[cdef][\w-]{21}$/,a0="";function zk(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const t=Bk(s);return Fk.test(t)?t:a0}catch{return a0}}function Bk(s){return Vk(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Map;function Sj(s,e){const t=Gf(s);Aj(t,e),qk(t,e)}function Aj(s,e){const t=Tj.get(s);if(t)for(const r of t)r(e)}function qk(s,e){const t=$k();t&&t.postMessage({key:s,fid:e}),Hk()}let Ji=null;function $k(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=s=>{Aj(s.data.key,s.data.fid)}),Ji}function Hk(){Tj.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-installations-database",Qk=1,ho="firebase-installations-store";let _g=null;function vy(){return _g||(_g=o2(Gk,Qk,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(ho)}}})),_g}async function cf(s,e){const t=Gf(s),o=(await vy()).transaction(ho,"readwrite"),c=o.objectStore(ho),d=await c.get(t);return await c.put(e,t),await o.done,(!d||d.fid!==e.fid)&&Sj(s,e.fid),e}async function Rj(s){const e=Gf(s),r=(await vy()).transaction(ho,"readwrite");await r.objectStore(ho).delete(e),await r.done}async function Qf(s,e){const t=Gf(s),o=(await vy()).transaction(ho,"readwrite"),c=o.objectStore(ho),d=await c.get(t),p=e(d);return p===void 0?await c.delete(t):await c.put(p,t),await o.done,p&&(!d||d.fid!==p.fid)&&Sj(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(s){let e;const t=await Qf(s.appConfig,r=>{const o=Yk(r),c=Kk(s,o);return e=c.registrationPromise,c.installationEntry});return t.fid===a0?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Yk(s){const e=s||{fid:zk(),registrationStatus:0};return Cj(e)}function Kk(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(uo.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Wk(s,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Xk(s)}:{installationEntry:e}}async function Wk(s,e){try{const t=await Uk(s,e);return cf(s.appConfig,t)}catch(t){throw bj(t)&&t.customData.serverCode===409?await Rj(s.appConfig):await cf(s.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Xk(s){let e=await B1(s.appConfig);for(;e.registrationStatus===1;)await Ej(100),e=await B1(s.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await wy(s);return r||t}return e}function B1(s){return Qf(s,e=>{if(!e)throw uo.create("installation-not-found");return Cj(e)})}function Cj(s){return Zk(s)?{fid:s.fid,registrationStatus:0}:s}function Zk(s){return s.registrationStatus===1&&s.registrationTime+gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk({appConfig:s,heartbeatServiceProvider:e},t){const r=eP(s,t),o=Mk(s,t),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={installation:{sdkVersion:yj,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await jj(()=>fetch(r,p));if(m.ok){const g=await m.json();return wj(g)}else throw await _j("Generate Auth Token",m)}function eP(s,{fid:e}){return`${vj(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _y(s,e=!1){let t;const r=await Qf(s.appConfig,c=>{if(!Ij(c))throw uo.create("not-registered");const d=c.authToken;if(!e&&nP(d))return c;if(d.requestStatus===1)return t=tP(s,e),c;{if(!navigator.onLine)throw uo.create("app-offline");const p=aP(c);return t=sP(s,p),p}});return t?await t:r.authToken}async function tP(s,e){let t=await q1(s.appConfig);for(;t.authToken.requestStatus===1;)await Ej(100),t=await q1(s.appConfig);const r=t.authToken;return r.requestStatus===0?_y(s,e):r}function q1(s){return Qf(s,e=>{if(!Ij(e))throw uo.create("not-registered");const t=e.authToken;return iP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sP(s,e){try{const t=await Jk(s,e),r=Object.assign(Object.assign({},e),{authToken:t});return await cf(s.appConfig,r),t}catch(t){if(bj(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Rj(s.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cf(s.appConfig,r)}throw t}}function Ij(s){return s!==void 0&&s.registrationStatus===2}function nP(s){return s.requestStatus===2&&!rP(s)}function rP(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+Ik}function aP(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function iP(s){return s.requestStatus===1&&s.requestTime+gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(s){const e=s,{installationEntry:t,registrationPromise:r}=await wy(e);return r?r.catch(console.error):_y(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(s,e=!1){const t=s;return await cP(t),(await _y(t,e)).token}async function cP(s){const{registrationPromise:e}=await wy(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(s){if(!s||!s.options)throw Ng("App Configuration");if(!s.name)throw Ng("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!s.options[t])throw Ng(t);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ng(s){return uo.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="installations",dP="installations-internal",hP=s=>{const e=s.getProvider("app").getImmediate(),t=uP(e),r=fi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fP=s=>{const e=s.getProvider("app").getImmediate(),t=fi(e,kj).getImmediate();return{getId:()=>oP(t),getToken:o=>lP(t,o)}};function mP(){Kn(new Rn(kj,hP,"PUBLIC")),Kn(new Rn(dP,fP,"PRIVATE"))}mP();Zs(pj,by);Zs(pj,by,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="analytics",pP="firebase_id",gP="origin",yP=60*1e3,xP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ny="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Ef("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new go("analytics","Analytics",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(s){if(!s.startsWith(Ny)){const e=fn.create("invalid-gtag-resource",{gtagURL:s});return Js.warn(e.message),""}return s}function Pj(s){return Promise.all(s.map(e=>e.catch(t=>t)))}function wP(s,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(s,e)),t}function _P(s,e){const t=wP("firebase-js-sdk-policy",{createScriptURL:vP}),r=document.createElement("script"),o=`${Ny}?l=${s}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function NP(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function jP(s,e,t,r,o,c){const d=r[o];try{if(d)await e[d];else{const m=(await Pj(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(p){Js.error(p)}s("config",o,c)}async function EP(s,e,t,r,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await Pj(t);for(const m of d){const g=p.find(w=>w.measurementId===m),b=g&&e[g.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){Js.error(c)}}function TP(s,e,t,r){async function o(c,...d){try{if(c==="event"){const[p,m]=d;await EP(s,e,t,p,m)}else if(c==="config"){const[p,m]=d;await jP(s,e,t,r,p,m)}else if(c==="consent"){const[p,m]=d;s("consent",p,m)}else if(c==="get"){const[p,m,g]=d;s("get",p,m,g)}else if(c==="set"){const[p]=d;s("set",p)}else s(c,...d)}catch(p){Js.error(p)}}return o}function SP(s,e,t,r,o){let c=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=TP(c,s,e,t),{gtagCore:c,wrappedGtag:window[o]}}function AP(s){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ny)&&t.src.includes(s))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=30,CP=1e3;class IP{constructor(e={},t=CP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Dj=new IP;function kP(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function PP(s){var e;const{appId:t,apiKey:r}=s,o={method:"GET",headers:kP(r)},c=xP.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let p="";try{const m=await d.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function DP(s,e=Dj,t){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw fn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw fn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new LP;return setTimeout(async()=>{p.abort()},yP),Mj({appId:r,apiKey:o,measurementId:c},d,p,e)}async function Mj(s,{throttleEndTimeMillis:e,backoffCount:t},r,o=Dj){var c;const{appId:d,measurementId:p}=s;try{await MP(r,e)}catch(m){if(p)return Js.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:d,measurementId:p};throw m}try{const m=await PP(s);return o.deleteThrottleMetadata(d),m}catch(m){const g=m;if(!OP(g)){if(o.deleteThrottleMetadata(d),p)return Js.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:d,measurementId:p};throw m}const b=Number((c=g?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Tw(t,o.intervalMillis,RP):Tw(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return o.setThrottleMetadata(d,w),Js.debug(`Calling attemptFetch again in ${b} millis`),Mj(s,w,r,o)}}function MP(s,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);s.addEventListener(()=>{clearTimeout(c),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OP(s){if(!(s instanceof kn)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class LP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UP(s,e,t,r,o){if(o&&o.global){s("event",t,r);return}else{const c=await e,d=Object.assign(Object.assign({},r),{send_to:c});s("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(){if(n2())try{await r2()}catch(s){return Js.warn(fn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return Js.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FP(s,e,t,r,o,c,d){var p;const m=DP(s);m.then(j=>{t[j.measurementId]=j.appId,s.options.measurementId&&j.measurementId!==s.options.measurementId&&Js.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>Js.error(j)),e.push(m);const g=VP().then(j=>{if(j)return r.getId()}),[b,w]=await Promise.all([m,g]);AP(c)||_P(c,b.measurementId),o("js",new Date);const v=(p=d?.config)!==null&&p!==void 0?p:{};return v[gP]="firebase",v.update=!0,w!=null&&(v[pP]=w),o("config",b.measurementId,v),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.app=e}_delete(){return delete mu[this.app.options.appId],Promise.resolve()}}let mu={},$1=[];const H1={};let jg="dataLayer",BP="gtag",G1,Oj,Q1=!1;function qP(){const s=[];if(s2()&&s.push("This is a browser extension environment."),$3()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=fn.create("invalid-analytics-context",{errorInfo:e});Js.warn(t.message)}}function $P(s,e,t){qP();const r=s.options.appId;if(!r)throw fn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Js.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(mu[r]!=null)throw fn.create("already-exists",{id:r});if(!Q1){NP(jg);const{wrappedGtag:c,gtagCore:d}=SP(mu,$1,H1,jg,BP);Oj=c,G1=d,Q1=!0}return mu[r]=FP(s,$1,H1,e,G1,jg,t),new zP(s)}function HP(s=Tf()){s=St(s);const e=fi(s,uf);return e.isInitialized()?e.getImmediate():GP(s)}function GP(s,e={}){const t=fi(s,uf);if(t.isInitialized()){const o=t.getImmediate();if(Tr(e,t.getOptions()))return o;throw fn.create("already-initialized")}return t.initialize({options:e})}function QP(s,e,t,r){s=St(s),UP(Oj,mu[s.app.options.appId],e,t,r).catch(o=>Js.error(o))}const Y1="@firebase/analytics",K1="0.10.17";function YP(){Kn(new Rn(uf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return $P(r,o,t)},"PUBLIC")),Kn(new Rn("analytics-internal",s,"PRIVATE")),Zs(Y1,K1),Zs(Y1,K1,"esm2017");function s(e){try{const t=e.getProvider(uf).getImmediate();return{logEvent:(r,o,c)=>QP(t,r,o,c)}}catch(t){throw fn.create("interop-component-reg-failed",{reason:t})}}}YP();function jy(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(t[r[o]]=s[r[o]]);return t}function Lj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KP=Lj,Uj=new go("auth","Firebase",Lj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Ef("@firebase/auth");function WP(s,...e){df.logLevel<=st.WARN&&df.warn(`Auth (${yo}): ${s}`,...e)}function Fh(s,...e){df.logLevel<=st.ERROR&&df.error(`Auth (${yo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(s,...e){throw Ty(s,...e)}function Hn(s,...e){return Ty(s,...e)}function Ey(s,e,t){const r=Object.assign(Object.assign({},KP()),{[e]:t});return new go("auth","Firebase",r).create(e,{appName:s.name})}function jr(s){return Ey(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vj(s,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(s,"argument-error"),Ey(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ty(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return Uj.create(s,...e)}function Le(s,e,...t){if(!s)throw Ty(e,...t)}function na(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fh(e),new Error(e)}function ha(s,e){s||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function XP(){return W1()==="http:"||W1()==="https:"}function W1(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XP()||s2()||"connection"in navigator)?navigator.onLine:!0}function JP(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ha(t>e,"Short delay should be less than long delay!"),this.isMobile=U3()||z3()}get(){return ZP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(s,e){ha(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new Yu(3e4,6e4);function yi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function pa(s,e,t,r,o={}){return zj(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Ou(Object.assign({key:s.config.apiKey},d)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const g=Object.assign({method:e,headers:m},c);return F3()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&hi(s.emulatorConfig.host)&&(g.credentials="include"),Fj.fetch()(await Bj(s,s.config.apiHost,t,p),g)})}async function zj(s,e,t){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},eD),e);try{const o=new rD(s),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ch(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Ch(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Ch(s,"user-disabled",d);const b=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ey(s,b,g);Cn(s,b)}}catch(o){if(o instanceof kn)throw o;Cn(s,"network-request-failed",{message:String(o)})}}async function Ku(s,e,t,r,o={}){const c=await pa(s,e,t,r,o);return"mfaPendingCredential"in c&&Cn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Bj(s,e,t,r){const o=`${e}${t}?${r}`,c=s,d=c.config.emulator?Sy(s.config,o):`${s.config.apiScheme}://${o}`;return tD.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),sD.get())})}}function Ch(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Hn(s,e,r);return o.customData._tokenResponse=t,o}function X1(s){return s!==void 0&&s.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(s,e){return pa(s,"GET","/v2/recaptchaConfig",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(s,e){return pa(s,"POST","/v1/accounts:delete",e)}async function hf(s,e){return pa(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(s,e=!1){const t=St(s),r=await t.getIdToken(e),o=Ay(r);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:pu(Eg(o.auth_time)),issuedAtTime:pu(Eg(o.iat)),expirationTime:pu(Eg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Eg(s){return Number(s)*1e3}function Ay(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=W_(t);return o?JSON.parse(o):(Fh("Failed to decode base64 JWT payload"),null)}catch(o){return Fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z1(s){const e=Ay(s);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof kn&&cD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(s){var e;const t=s.auth,r=await s.getIdToken(),o=await Pl(s,hf(t,{idToken:r}));Le(o?.users.length,t,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?qj(c.providerUserInfo):[],p=hD(s.providerData,d),m=s.isAnonymous,g=!(s.email&&c.passwordHash)&&!p?.length,b=m?g:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new o0(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(s,w)}async function dD(s){const e=St(s);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function qj(s){return s.map(e=>{var{providerId:t}=e,r=jy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(s,e){const t=await zj(s,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Bj(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:r};return s.emulatorConfig&&hi(s.emulatorConfig.host)&&(m.credentials="include"),Fj.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(s,e){return pa(s,"POST","/v2/accounts:revokeToken",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=Z1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:c}=await fD(e,t);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,d=new wl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Le(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Le(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(s,e){Le(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,c=jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new o0(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lD(this,e)}reload(){return dD(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zs(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await Pl(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,c,d,p,m,g,b;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(o=t.email)!==null&&o!==void 0?o:void 0,j=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,A=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(p=t.tenantId)!==null&&p!==void 0?p:void 0,O=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,U=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:P,emailVerified:B,isAnonymous:Q,providerData:ie,stsTokenManager:M}=t;Le(P&&M,e,"internal-error");const R=wl.fromJSON(this.name,M);Le(typeof P=="string",e,"internal-error"),Ha(w,e.name),Ha(v,e.name),Le(typeof B=="boolean",e,"internal-error"),Le(typeof Q=="boolean",e,"internal-error"),Ha(j,e.name),Ha(A,e.name),Ha(F,e.name),Ha(O,e.name),Ha(q,e.name),Ha(U,e.name);const T=new zn({uid:P,auth:e,email:v,emailVerified:B,displayName:w,isAnonymous:Q,photoURL:A,phoneNumber:j,tenantId:F,stsTokenManager:R,createdAt:q,lastLoginAt:U});return ie&&Array.isArray(ie)&&(T.providerData=ie.map(L=>Object.assign({},L))),O&&(T._redirectEventId=O),T}static async _fromIdTokenResponse(e,t,r=!1){const o=new wl;o.updateFromServerResponse(t);const c=new zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ff(c),c}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?qj(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new wl;p.updateFromIdToken(r);const m=new zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new o0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;function ra(s){ha(s instanceof Function,"Expected a class definition");let e=J1.get(s);return e?(ha(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,J1.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$j.type="NONE";const e_=$j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(s,e,t){return`firebase:${s}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=zh(this.userKey,o.apiKey,c),this.fullPersistenceKey=zh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hf(this.auth,{idToken:e}).catch(()=>{});return t?zn._fromGetAccountInfoResponse(this.auth,t,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(ra(e_),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ra(e_);const d=zh(r,e.config.apiKey,e.name);let p=null;for(const g of t)try{const b=await g._get(d);if(b){let w;if(typeof b=="string"){const v=await hf(e,{idToken:b}).catch(()=>{});if(!v)break;w=await zn._fromGetAccountInfoResponse(e,v,b)}else w=zn._fromJSON(e,b);g!==c&&(p=w),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new _l(c,e,r):(c=m[0],p&&await c._set(d,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new _l(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wj(e))return"Blackberry";if(Xj(e))return"Webos";if(Gj(e))return"Safari";if((e.includes("chrome/")||Qj(e))&&!e.includes("edge/"))return"Chrome";if(Kj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function Hj(s=Ms()){return/firefox\//i.test(s)}function Gj(s=Ms()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qj(s=Ms()){return/crios\//i.test(s)}function Yj(s=Ms()){return/iemobile/i.test(s)}function Kj(s=Ms()){return/android/i.test(s)}function Wj(s=Ms()){return/blackberry/i.test(s)}function Xj(s=Ms()){return/webos/i.test(s)}function Ry(s=Ms()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pD(s=Ms()){var e;return Ry(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gD(){return B3()&&document.documentMode===10}function Zj(s=Ms()){return Ry(s)||Kj(s)||Xj(s)||Wj(s)||/windows phone/i.test(s)||Yj(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(s,e=[]){let t;switch(s){case"Browser":t=t_(Ms());break;case"Worker":t=`${t_(Ms())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,p)=>{try{const m=e(c);d(m)}catch(m){p(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(s,e={}){return pa(s,"GET","/v2/passwordPolicy",yi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class vD{constructor(e){var t,r,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:bD,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,c,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s_(this),this.idTokenSubscription=new s_(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ra(t)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hf(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zs(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m?.user&&(o=m.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zs(this.app))return Promise.reject(jr(this));const t=e?St(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zs(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zs(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xD(this),t=new vD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new go("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ra(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[ra(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&WP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rr(s){return St(s)}class s_{constructor(e){this.auth=e,this.observer=null,this.addObserver=K3(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(s){Yf=s}function eE(s){return Yf.loadJS(s)}function ND(){return Yf.recaptchaEnterpriseScript}function jD(){return Yf.gapiScript}function ED(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class TD{constructor(){this.enterprise=new SD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AD="recaptcha-enterprise",tE="NO_RECAPTCHA";class RD{constructor(e){this.type=AD,this.auth=Rr(e)}async verify(e="verify",t=!1){async function r(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{iD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new aD(m);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(m=>{p(m)})})}function o(c,d,p){const m=window.grecaptcha;X1(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(tE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TD().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!t&&X1(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ND();m.length!==0&&(m+=p),eE(m).then(()=>{o(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function n_(s,e,t,r=!1,o=!1){const c=new RD(s);let d;if(o)d=tE;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function l0(s,e,t,r,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await n_(s,e,t,t==="getOobCode");return r(s,d)}else return r(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await n_(s,e,t,t==="getOobCode");return r(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(s,e){const t=fi(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Tr(c,e??{}))return o;Cn(o,"already-initialized")}return t.initialize({options:e})}function ID(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ra);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function kD(s,e,t){const r=Rr(s);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=sE(e),{host:d,port:p}=PD(e),m=p===null?"":`:${p}`,g={url:`${c}//${d}${m}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Tr(g,r.config.emulator)&&Tr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,hi(d)?(E0(`${c}//${d}${m}`),T0("Auth",!0)):DD()}function sE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PD(s){const e=sE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:r_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:r_(d)}}}function r_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function DD(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,t){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function MD(s,e){return pa(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(s,e){return Ku(s,"POST","/v1/accounts:signInWithPassword",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(s,e){return Ku(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}async function UD(s,e){return Ku(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Cy{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Su(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Su(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l0(e,t,"signInWithPassword",OD);case"emailLink":return LD(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l0(e,r,"signUpPassword",MD);case"emailLink":return UD(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s,e){return Ku(s,"POST","/v1/accounts:signInWithIdp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="http://localhost";class fo extends Cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,c=jy(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new fo(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Nl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Nl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}buildRequest(){const e={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(s){const e=tu(su(s)).link,t=e?tu(su(e)).deep_link_id:null,r=tu(su(s)).deep_link_id;return(r?tu(su(r)).link:null)||r||t||e||s}class Iy{constructor(e){var t,r,o,c,d,p;const m=tu(su(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,b=(r=m.oobCode)!==null&&r!==void 0?r:null,w=FD((o=m.mode)!==null&&o!==void 0?o:null);Le(g&&b&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=b,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=zD(e);try{return new Iy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return Su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Iy.parseLink(t);return Le(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Kf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Wu{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sa.credential(t,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Wu{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Wu{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ka.credential(t,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(s,e){return Ku(s,"POST","/v1/accounts:signUp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const c=await zn._fromIdTokenResponse(e,r,o),d=a_(r);return new mo({user:c,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=a_(r);return new mo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function a_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends kn{constructor(e,t,r,o){var c;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new mf(e,t,r,o)}}function nE(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(s,c,e,r):c})}async function qD(s,e,t=!1){const r=await Pl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return mo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(s,e,t=!1){const{auth:r}=s;if(zs(r.app))return Promise.reject(jr(r));const o="reauthenticate";try{const c=await Pl(s,nE(r,o,e,s),t);Le(c.idToken,r,"internal-error");const d=Ay(c.idToken);Le(d,r,"internal-error");const{sub:p}=d;return Le(s.uid===p,r,"user-mismatch"),mo._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(s,e,t=!1){if(zs(s.app))return Promise.reject(jr(s));const r="signIn",o=await nE(s,r,e),c=await mo._fromIdTokenResponse(s,r,o);return t||await s._updateCurrentUser(c.user),c}async function HD(s,e){return rE(Rr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(s){const e=Rr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GD(s,e,t){if(zs(s.app))return Promise.reject(jr(s));const r=Rr(s),d=await l0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&aE(s),m}),p=await mo._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function QD(s,e,t){return zs(s.app)?Promise.reject(jr(s)):HD(St(s),$l.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aE(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(s,e){return pa(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=St(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Pl(r,YD(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function WD(s,e,t,r){return St(s).onIdTokenChanged(e,t,r)}function XD(s,e,t){return St(s).beforeAuthStateChanged(e,t)}function ZD(s,e,t,r){return St(s).onAuthStateChanged(e,t,r)}function JD(s){return St(s).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1e3,tM=10;class oE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);gD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tM):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const sM=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lE.type="SESSION";const cE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async g=>g(t.origin,c)),m=await nM(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,m)=>{const g=ky("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const v=w;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(v.data.response);break;default:clearTimeout(b),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function aM(s){Er().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function iM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function lM(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",cM=1,gf="firebaseLocalStorage",hE="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xf(s,e){return s.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function uM(){const s=indexedDB.deleteDatabase(dE);return new Xu(s).toPromise()}function c0(){const s=indexedDB.open(dE,cM);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gf,{keyPath:hE})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await uM(),e(await c0()))})})}async function i_(s,e,t){const r=Xf(s,!0).put({[hE]:e,value:t});return new Xu(r).toPromise()}async function dM(s,e){const t=Xf(s,!1).get(e),r=await new Xu(t).toPromise();return r===void 0?null:r.value}function o_(s,e){const t=Xf(s,!0).delete(e);return new Xu(t).toPromise()}const hM=800,fM=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(lM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await i_(e,pf,"1"),await o_(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>i_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>o_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Xf(o,!1).getAll();return new Xu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const mM=fE;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(s,e){return e?ra(e):(Le(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pM(s){return rE(s.auth,new Dy(s),s.bypassAuthState)}function gM(s){const{auth:e,user:t}=s;return Le(t,e,"internal-error"),$D(t,new Dy(s),s.bypassAuthState)}async function yM(s){const{auth:e,user:t}=s;return Le(t,e,"internal-error"),qD(t,new Dy(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pM;case"linkViaPopup":case"linkViaRedirect":return yM;case"reauthViaPopup":case"reauthViaRedirect":return gM;default:Cn(this.auth,"internal-error")}}resolve(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Yu(2e3,1e4);async function bM(s,e,t){if(zs(s.app))return Promise.reject(Hn(s,"operation-not-supported-in-this-environment"));const r=Rr(s);Vj(s,e,Kf);const o=Py(r,t);return new eo(r,"signInViaPopup",e,o).executeNotNull()}class eo extends mE{constructor(e,t,r,o,c){super(e,t,o,c),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="pendingRedirect",Bh=new Map;class wM extends mE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const r=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(s,e){const t=gE(e),r=pE(s);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}async function NM(s,e){return pE(s)._set(gE(e),"true")}function jM(s,e){Bh.set(s._key(),e)}function pE(s){return ra(s._redirectPersistence)}function gE(s){return zh(vM,s.config.apiKey,s.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(s,e,t){return TM(s,e,t)}async function TM(s,e,t){if(zs(s.app))return Promise.reject(jr(s));const r=Rr(s);Vj(s,e,Kf),await r._initializationPromise;const o=Py(r,t);return await NM(o,r),o._openRedirect(r,e,"signInViaRedirect")}async function SM(s,e){return await Rr(s)._initializationPromise,yE(s,e,!1)}async function yE(s,e,t=!1){if(zs(s.app))return Promise.reject(jr(s));const r=Rr(s),o=Py(r,e),d=await new wM(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=10*60*1e3;class RM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AM&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function xE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function CM(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(s,e={}){return pa(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PM=/^https?/;async function DM(s){if(s.config.emulator)return;const{authorizedDomains:e}=await IM(s);for(const t of e)try{if(MM(t))return}catch{}Cn(s,"unauthorized-domain")}function MM(s){const e=i0(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!PM.test(t))return!1;if(kM.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Yu(3e4,6e4);function c_(){const s=Er().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function LM(s){return new Promise((e,t)=>{var r,o,c;function d(){c_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c_(),t(Hn(s,"network-request-failed"))},timeout:OM.get()})}if(!((o=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Er().gapi)===null||c===void 0)&&c.load)d();else{const p=ED("iframefcb");return Er()[p]=()=>{gapi.load?d():t(Hn(s,"network-request-failed"))},eE(`${jD()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw qh=null,e})}let qh=null;function UM(s){return qh=qh||LM(s),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Yu(5e3,15e3),FM="__/auth/iframe",zM="emulator/auth/iframe",BM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $M(s){const e=s.config;Le(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Sy(e,zM):`https://${s.config.authDomain}/${FM}`,r={apiKey:e.apiKey,appName:s.name,v:yo},o=qM.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${Ou(r).slice(1)}`}async function HM(s){const e=await UM(s),t=Er().gapi;return Le(t,s,"internal-error"),e.open({where:document.body,url:$M(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BM,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Hn(s,"network-request-failed"),p=Er().setTimeout(()=>{c(d)},VM.get());function m(){Er().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,YM=600,KM="_blank",WM="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XM(s,e,t,r=QM,o=YM){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m=Object.assign(Object.assign({},GM),{width:r.toString(),height:o.toString(),top:c,left:d}),g=Ms().toLowerCase();t&&(p=Qj(g)?KM:t),Hj(g)&&(e=e||WM,m.scrollbars="yes");const b=Object.entries(m).reduce((v,[j,A])=>`${v}${j}=${A},`,"");if(pD(g)&&p!=="_self")return ZM(e||"",p),new u_(null);const w=window.open(e||"",p,b);Le(w,s,"popup-blocked");try{w.focus()}catch{}return new u_(w)}function ZM(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function d_(s,e,t,r,o,c){Le(s.config.authDomain,s,"auth-domain-config-required"),Le(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:yo,eventId:o};if(e instanceof Kf){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Y3(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Wu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const m=await s._getAppCheckToken(),g=m?`#${tO}=${encodeURIComponent(m)}`:"";return`${sO(s)}?${Ou(p).slice(1)}${g}`}function sO({config:s}){return s.emulator?Sy(s,eO):`https://${s.authDomain}/${JM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="webStorageSupport";class nO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=yE,this._overrideRedirectResult=jM}async _openPopup(e,t,r,o){var c;ha((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await d_(e,t,r,i0(),o);return XM(e,d,ky())}async _openRedirect(e,t,r,o){await this._originValidation(e);const c=await d_(e,t,r,i0(),o);return aM(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ha(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await HM(e),r=new RM(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},o=>{var c;const d=(c=o?.[0])===null||c===void 0?void 0:c[Tg];d!==void 0&&t(!!d),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zj()||Gj()||Ry()}}const rO=nO;var h_="@firebase/auth",f_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oO(s){Kn(new Rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Le(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jj(s)},g=new wD(r,o,c,m);return ID(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Rn("auth-internal",e=>{const t=Rr(e.getProvider("auth").getImmediate());return(r=>new aO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(h_,f_,iO(s)),Zs(h_,f_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,cO=e2("authIdTokenMaxAge")||lO;let m_=null;const uO=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cO)return;const o=t?.token;m_!==o&&(m_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dO(s=Tf()){const e=fi(s,"auth");if(e.isInitialized())return e.getImmediate();const t=CD(s,{popupRedirectResolver:rO,persistence:[mM,sM,cE]}),r=e2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=uO(c.toString());XD(t,d,()=>d(t.currentUser)),WD(t,p=>d(p))}}const o=X_("auth");return o&&kD(t,`http://${o}`),t}function hO(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}_D({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Hn("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",hO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oO("Browser");const fO={apiKey:"AIzaSyDBgJGytsQvvYIEwNgbIbogkjcHZAwHzb8",authDomain:"properties-a2d2b.firebaseapp.com",projectId:"properties-a2d2b",storageBucket:"properties-a2d2b.firebasestorage.app",messagingSenderId:"546687848025",appId:"1:546687848025:web:783fefc052108b80206b48",measurementId:"G-J5VRQ6NBK3"},Zf=l2(fO);HP(Zf);const In=dO(Zf),My=new sa,mO=mj(Zf),ft=gt(Zf);My.setCustomParameters({prompt:"select_account"});const Jf=async(s,e={})=>{if(!s)return null;try{const t=ct(ft,"users",s.uid),r=await ls(t);if(r.exists())return console.log("User profile already exists"),r.data();{const o={uid:s.uid,email:s.email,displayName:s.displayName||"",firstName:e.firstName||"",lastName:e.lastName||"",primaryPhone:e.primaryPhone||"",whatsappPhone:e.whatsappPhone||"",alternateEmail:e.alternateEmail||"",profileImage:e.profileImage||"",isRealEstateProfessional:e.isRealEstateProfessional||!1,companyName:e.companyName||"",companyPhone:e.companyPhone||"",category:e.category||"",website:e.website||"",country:e.country||"Nigeria",state:e.state||"",city:e.city||"",address:e.address||"",aboutUs:e.aboutUs||"",createdAt:Ys(),updatedAt:Ys(),isActive:!0,productCount:0};return await n0(t,o),console.log("User profile created successfully"),o}}catch(t){throw console.error("Error creating user profile:",t),t}},Oy=async s=>{if(!s)return null;try{const e=ct(ft,"users",s),t=await ls(e);return t.exists()?t.data():(console.log("User profile not found"),null)}catch(e){throw console.error("Error getting user profile:",e),e}},pO=async(s,e,t={})=>{try{const o=(await GD(In,s,e)).user;return t.displayName&&await KD(o,{displayName:t.displayName}),await Jf(o,t),console.log("User signed up successfully:",o),o}catch(r){throw console.error("Error signing up:",r),r}},gO=async(s,e)=>{try{const r=(await QD(In,s,e)).user;return await Jf(r),console.log("User signed in:",r),r}catch(t){throw console.error("Error signing in:",t),t}},bE=async()=>{try{const e=(await bM(In,My)).user;return await Jf(e),console.log("User signed in:",e),e}catch(s){throw console.error("Error signing in:",s),s}},vE=()=>{EM(In,My)},wE=async()=>{try{const s=await SM(In);if(s){const e=s.user;return await Jf(e),console.log("User signed in through redirect:",e),e}}catch(s){throw console.error("Error handling redirect:",s),s}},Pn=s=>ZD(In,e=>{e?console.log("Auth state changed: User is signed in",e):console.log("Auth state changed: User is signed out"),s(e)}),yO=async()=>{try{await JD(In),console.log("User signed out successfully")}catch(s){throw console.error("Error signing out:",s),s}},em=()=>In.currentUser,xO=async(s,e=null)=>{if(!s||!In.currentUser)return null;const t=In.currentUser,r=fj(mO,`profile-images/${t.uid}/${Date.now()}_${s.name}`),o={contentType:s.type,customMetadata:{originalName:s.name,uploadedBy:t.uid,uploadedAt:new Date().toISOString()}};try{const c=dj(r,s,o);return new Promise((d,p)=>{c.on("state_changed",m=>{const g=m.bytesTransferred/m.totalBytes*100;e&&e(g)},m=>{console.error("Upload failed:",m),p(m)},async()=>{try{const m=await hj(c.snapshot.ref);d({url:m,path:c.snapshot.ref.fullPath})}catch(m){p(m)}})})}catch(c){throw console.error("Error uploading profile image:",c),c}},bO=()=>{const[s,e]=S.useState(null),[t,r]=S.useState(null),[o,c]=S.useState(null),[d,p]=S.useState(0),[m,g]=S.useState(!1),[b,w]=S.useState(!1),[v,j]=S.useState(null),[A,F]=S.useState(!1),[O,q]=S.useState(!1),[U,P]=S.useState(""),[B,Q]=S.useState(!1),[ie,M]=S.useState([]),[R,T]=S.useState(!1),[L,z]=S.useState(-1),[C,E]=S.useState(!1),re=S.useRef(null),de=S.useRef(null),K=[{name:"Buy",a:"/property_for_sale"},{name:"Rent",a:"/rent-property"},{name:"Shortlet",a:"/shortlet-property"},{name:"Estate Agent",a:"/Agents"}],ye=[{name:"Services",a:"/services"},{name:"About",a:"/about"},{name:"Blog",a:"/blogPage"}],ve={Buy:[{name:"Houses for Sale",href:"/houses-for-sale",icon:"🏠"},{name:"Apartments for Sale",href:"/apartments-for-sale",icon:"🏢"},{name:"Commercial Properties",href:"/commercial-sale",icon:"🏪"},{name:"Land for Sale",href:"/land-for-sale",icon:"🏞️"},{name:"New Developments",href:"/new-developments",icon:"🏗️"}],Rent:[{name:"Houses for Rent",href:"/houses-for-rent",icon:"🏡"},{name:"Apartments for Rent",href:"/apartments-for-rent",icon:"🏢"},{name:"Office Spaces",href:"/office-rent",icon:"🏢"},{name:"Student Housing",href:"/student-housing",icon:"🎓"},{name:"Furnished Rentals",href:"/furnished-rentals",icon:"🛏️"}],"Estate Agent":[{name:"Find an Agent",href:"/find-agent",icon:"👨‍💼"},{name:"Agent Services",href:"/agent-services",icon:"🤝"},{name:"Property Valuation",href:"/property-valuation",icon:"💰"},{name:"Market Reports",href:"/market-reports",icon:"📊"},{name:"Become an Agent",href:"/become-agent",icon:"💼"}]},H=[{name:"Sign up",className:" font-medium text-[#306] rounded-md hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/signup"},{name:"Log in",className:" font-medium text-[#306] rounded-md hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/login"}],k=[{name:"Dashboard",icon:Pu,href:"/dashboard",description:"View your dashboard"},{name:"Wishlist",icon:Qn,href:"/wishlist",description:`${d} saved properties`,badge:d>0?d:null},{name:"Profile",icon:c4,href:"dashboard/my-account",description:"Manage your profile"},{name:"Settings",icon:r3,href:"dashboard/Setting",description:"Account settings"}],G=[...K,...ye],ee=async X=>{try{const ge=gt(),Ie=ct(ge,"users",X,"profiles","userProfile"),Ke=await ls(Ie);if(Ke.exists()){const rt=Ke.data();e(rt),p(rt.wishlist?.length||0)}else{const rt=ct(ge,"users",X),Ce=await ls(rt);if(Ce.exists()){const Be=Ce.data();e(Be),p(Be.wishlist?.length||0)}}}catch(ge){console.error("Error fetching profile from Firestore:",ge)}},V=async X=>{if(!X.trim()||X.length<2)return[];try{const ge=gt(),Ie=new Set,Ke=Vt(pt(ge,"properties"),gs("status","==","active"),s0(20));(await ut(Ke)).forEach(Ce=>{const Be=Ce.data(),ce=X.toLowerCase();Be.title&&Be.title.toLowerCase().includes(ce)&&Ie.add(Be.title),Be.city&&Be.city.toLowerCase().includes(ce)&&(Ie.add(`${Be.city}, ${Be.state}`),Ie.add(Be.city)),Be.state&&Be.state.toLowerCase().includes(ce)&&Ie.add(Be.state),Be.country&&Be.country.toLowerCase().includes(ce)&&Ie.add(Be.country),Be.propertyType&&Be.propertyType.toLowerCase().includes(ce)&&(Ie.add(`${Be.propertyType} for ${Be.advertisingFor}`),Ie.add(Be.propertyType)),Be.bedroom&&ce.includes("bedroom")&&Ie.add(`${Be.bedroom} bedroom ${Be.propertyType}`),Be.showAddress&&Be.address&&Be.address.toLowerCase().includes(ce)&&Ie.add(Be.address)});try{const Ce=Vt(oo(ge,"properties"),gs("status","==","active"),s0(10));(await ut(Ce)).forEach(ce=>{const Te=ce.data(),_e=X.toLowerCase();Te.title&&Te.title.toLowerCase().includes(_e)&&Ie.add(Te.title),Te.city&&Te.city.toLowerCase().includes(_e)&&Ie.add(`${Te.city}, ${Te.state}`)})}catch(Ce){console.log("Collection group query not available:",Ce)}return Array.from(Ie).slice(0,8)}catch(ge){return console.error("Error fetching search suggestions:",ge),[]}},ue=X=>{X.preventDefault(),U.trim()&&(window.location.href=`/Property_Premium/search?q=${encodeURIComponent(U.trim())}`)},W=X=>{const ge=X.target.value;P(ge),z(-1),ge.trim()||(T(!1),M([]))},se=X=>{X.key==="ArrowDown"?(X.preventDefault(),z(ge=>ge<ie.length-1?ge+1:ge)):X.key==="ArrowUp"?(X.preventDefault(),z(ge=>ge>-1?ge-1:-1)):X.key==="Enter"?(X.preventDefault(),L>=0&&ie[L]?(P(ie[L]),T(!1),z(-1),window.location.href=`/Property_Premium/search?q=${encodeURIComponent(ie[L])}`):U.trim()&&ue(X)):X.key==="Escape"&&(T(!1),z(-1))},Ne=X=>{P(X),T(!1),z(-1),window.location.href=`/Property_Premium/search?q=${encodeURIComponent(X)}`},Se=(X,ge)=>{const[Ie,Ke]=S.useState(X);return S.useEffect(()=>{const rt=setTimeout(()=>{Ke(X)},ge);return()=>{clearTimeout(rt)}},[X,ge]),Ie},$e=async()=>{w(!0);try{await yO(),localStorage.removeItem("Status"),localStorage.removeItem("userToken"),localStorage.removeItem("userData"),console.log("User signed out successfully"),q(!1),window.location.href="/"}catch(X){console.error("Error signing out:",X),alert("Error signing out. Please try again.")}finally{w(!1)}},Ye=()=>s?.firstName&&s?.lastName?`${s.firstName} ${s.lastName}`:s?.firstName?s.firstName:v?.displayName?v.displayName:v?.email||s?.email?(v?.email||s?.email).split("@")[0]:"User",me=Se(U,300);return S.useEffect(()=>{(async()=>{if(me.trim()&&me.length>=2){E(!0);try{const ge=await V(me);M(ge),T(ge.length>0)}catch(ge){console.error("Error fetching suggestions:",ge),M([]),T(!1)}finally{E(!1)}}else M([]),T(!1)})()},[me]),S.useEffect(()=>{const X=ge=>{de.current&&!de.current.contains(ge.target)&&q(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]),S.useEffect(()=>{const X=Pn(ge=>{j(ge),F(!!ge),ge?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:ge.uid,email:ge.email,displayName:ge.displayName,photoURL:ge.photoURL})),ee(ge.uid)):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"),p(0),e(null))});return()=>X()},[]),S.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),a.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xs,{className:"h-7 w-7 text-blue-600"}),a.jsx(es,{to:"/",className:"ml-2 text-xl font-bold text-gray-800",children:"Property Premium"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[K.map((X,ge)=>a.jsxs("div",{className:"relative group",onMouseEnter:()=>{o&&(clearTimeout(o),c(null)),r(X.name)},onMouseLeave:()=>{const Ie=setTimeout(()=>{r(null)},150);c(Ie)},children:[a.jsxs(es,{to:X.a,className:"relative text-sm font-medium text-gray-700 hover:text-blue-600 transition-all duration-300 group py-2 flex items-center",children:[a.jsx("span",{className:"relative z-10",children:X.name}),a.jsx(Xa,{className:`ml-1 h-3 w-3 transition-transform duration-200 ${t===X.name?"rotate-180":""}`}),a.jsx("div",{className:"absolute inset-0 bg-blue-50 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200 origin-center"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"})]}),t===X.name&&ve[X.name]&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 py-3 z-50 transform animate-in slide-in-from-top-2 duration-200 z-50",onMouseEnter:()=>{o&&(clearTimeout(o),c(null))},onMouseLeave:()=>{const Ie=setTimeout(()=>{r(null)},150);c(Ie)},children:[a.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:a.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),X.name," Options"]})}),a.jsx("div",{className:"py-2",children:ve[X.name].map((Ie,Ke)=>a.jsxs(es,{to:Ie.href,className:"flex items-center gap-1 px-4 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 hover:translate-x-1 group",onClick:()=>r(null),children:[a.jsx("span",{className:"text-lg",children:Ie.icon}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium group-hover:text-blue-600 transition-colors duration-200",children:Ie.name})}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},Ke))}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs(es,{to:X.a,className:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 transition-all duration-200 rounded-lg mx-2",onClick:()=>r(null),children:["View All ",X.name,a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]},ge)),a.jsx("span",{className:"text-gray-300 mx-2",children:"|"}),ye.map((X,ge)=>a.jsxs(es,{to:X.a,className:"relative text-sm font-medium text-gray-700 hover:text-blue-600 transition-all duration-300 group py-2",children:[a.jsx("span",{className:"relative z-10",children:X.name}),a.jsx("div",{className:"absolute inset-0 bg-blue-50 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200 origin-center"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"})]},ge)),a.jsxs("div",{className:"relative",children:[a.jsxs("form",{onSubmit:ue,className:"relative",children:[a.jsx("input",{ref:re,type:"text",value:U,onChange:W,onKeyDown:se,onFocus:()=>{U.trim()&&ie.length>0&&T(!0)},onBlur:()=>{setTimeout(()=>{T(!1),z(-1)},200)},placeholder:"Search properties...",className:`w-64 pl-10 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ${B?"w-72 bg-white shadow-lg":""}`}),a.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),U&&!C&&a.jsx("button",{type:"button",onClick:()=>{P(""),T(!1),M([])},className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-gray-600",children:a.jsx(ys,{className:"h-3 w-3"})}),C&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full"})})]}),R&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-2xl border border-gray-100 py-2 z-50 max-h-80 overflow-y-auto",children:[a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 font-medium border-b border-gray-100 flex items-center gap-2",children:[a.jsx(un,{className:"w-3 h-3"}),"Search Suggestions",C&&a.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full ml-auto"})]}),ie.length>0?ie.map((X,ge)=>a.jsxs("button",{onClick:()=>Ne(X),className:`w-full text-left px-4 py-3 text-sm hover:bg-blue-50 transition-colors duration-150 flex items-center gap-3 ${L===ge?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[a.jsx(un,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"flex-1",children:X}),L===ge&&a.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"↵"})]},ge)):!C&&U.length>=2&&a.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center gap-3",children:[a.jsx(un,{className:"w-4 h-4 text-gray-400"}),"No suggestions found"]})]})]})]}),a.jsx("div",{className:`hidden md:flex items-center gap-2 ${A?"md:hidden":""}`,children:H.map((X,ge)=>a.jsxs(es,{to:X.a,className:"relative overflow-hidden px-4 py-2 font-medium text-sm rounded-md border-1 border-blue-600 text-blue-600 hover:text-white transition-all duration-300 group",children:[a.jsx("span",{className:"relative z-10",children:X.name}),a.jsx("div",{className:"absolute inset-0 bg-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},ge))}),a.jsxs("div",{className:`relative hidden md:flex ${A?"md:flex":"md:hidden"}`,ref:de,children:[a.jsxs("button",{onClick:()=>q(!O),className:"flex items-center p-2 rounded-xl hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-300 transform hover:scale-105 border-2 border-transparent hover:border-blue-200",children:[s?.profileImage||v?.photoURL?a.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-9 w-9 rounded-full border-2 border-gray-200 hover:border-blue-400 transition-all duration-300 shadow-md hover:shadow-lg"}):a.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center hover:from-blue-200 hover:to-purple-200 transition-all duration-300 shadow-md hover:shadow-lg",children:a.jsx(br,{className:"h-5 w-5 text-blue-600"})}),a.jsx(Xa,{className:`ml-1 h-4 w-4 text-gray-500 transition-transform duration-200 ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-3 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 py-2 z-50 transform animate-in slide-in-from-top-2 duration-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-2xl",children:a.jsxs("div",{className:"flex items-center gap-2",children:[s?.profileImage||v?.photoURL?a.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-12 w-12 rounded-full border-3 border-white shadow-md"}):a.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center shadow-md",children:a.jsx(br,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:Ye()}),(s?.email||v?.email)&&a.jsx("p",{className:"text-xs text-gray-600",children:s?.email||v.email})]})]})}),a.jsx("div",{className:"py-2",children:k.map((X,ge)=>a.jsxs(es,{to:X.href,className:"flex items-center gap-4 px-6 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 hover:translate-x-1 group",onClick:()=>q(!1),children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-blue-100 transition-colors duration-200",children:a.jsx(X.icon,{className:"h-4 w-4 text-gray-600 group-hover:text-blue-600 transition-colors duration-200"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:X.name}),a.jsx("p",{className:"text-xs text-gray-500",children:X.description})]}),X.badge&&a.jsx("span",{className:"bg-gradient-to-r from-red-100 to-pink-100 text-red-600 text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:X.badge})]},ge))}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs("button",{onClick:$e,disabled:b,className:"flex items-center gap-4 px-6 py-3 text-sm text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 transition-all duration-200 w-full text-left disabled:opacity-50 disabled:cursor-not-allowed hover:translate-x-1 group",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-100 group-hover:bg-red-200 transition-colors duration-200",children:a.jsx(gw,{className:"h-4 w-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:b?"Logging out...":"Logout"}),a.jsx("p",{className:"text-xs text-red-500",children:"Sign out of your account"})]})]})})]})]}),a.jsx("div",{className:"flex md:hidden",children:a.jsx("button",{onClick:()=>g(!m),className:"text-gray-700 focus:outline-none hover:text-blue-600 transition-colors p-2",children:m?a.jsx(ys,{className:"h-6 w-6"}):a.jsx($_,{className:"h-6 w-6"})})})]})}),a.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ${m?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:a.jsxs("div",{className:"px-4 pb-4 space-y-3 bg-white border-t border-gray-100",children:[A&&a.jsxs("div",{className:"py-3 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s?.profileImage||v?.photoURL?a.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-10 w-10 rounded-full border-2 border-gray-200"}):a.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(br,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-800",children:Ye()}),s?.email||v?.email&&a.jsx("p",{className:"text-xs text-gray-500",children:s?.email||v.email})]})]}),a.jsx("div",{className:"space-y-2",children:k.map((X,ge)=>a.jsxs(es,{to:X.href,className:"flex items-center gap-3 text-sm text-gray-700 hover:text-blue-700 transition-colors duration-200 py-1",onClick:()=>g(!1),children:[a.jsx(X.icon,{className:"h-4 w-4 text-gray-500"}),X.name]},ge))})]}),a.jsx("div",{className:"py-3 border-b border-gray-100",children:a.jsxs("form",{onSubmit:ue,className:"relative",children:[a.jsx("input",{type:"text",value:U,onChange:W,placeholder:"Search properties...",className:"w-full pl-10 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),U&&a.jsx("button",{type:"button",onClick:()=>P(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx(ys,{className:"h-3 w-3 text-gray-400"})})]})}),G.map((X,ge)=>a.jsx(es,{to:X.a,className:"block text-sm text-gray-700 hover:text-blue-600 hover:bg-blue-50 hover:translate-x-2 transition-all duration-300 py-3 px-2 rounded-lg font-medium",onClick:()=>g(!1),children:a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3 opacity-0 hover:opacity-100 transition-opacity duration-200"}),X.name]})},ge)),a.jsx("hr",{className:"border-gray-100"}),!A&&H.map((X,ge)=>a.jsx(es,{to:X.a,className:"block text-sm font-semibold text-blue-600 hover:text-white hover:bg-blue-600 border-2 border-blue-600 rounded-lg py-2 px-4 text-center transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg",onClick:()=>g(!1),children:X.name},ge)),A&&a.jsxs("button",{onClick:()=>{$e(),g(!1)},disabled:b,className:"flex items-center gap-3 text-red-600 hover:text-white hover:bg-red-600 transition-all duration-300 text-sm w-full text-left py-3 px-4 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg border-2 border-red-200 hover:border-red-600 transform hover:scale-105",children:[a.jsx(gw,{className:"h-4 w-4"}),b?"Logging out...":"Logout"]})]})})]})},vO=()=>a.jsx("section",{id:"hero",children:a.jsxs("div",{className:"bg-[url('https://img.freepik.com/free-photo/analog-landscape-city-with-buildings_23-2149661456.jpg?t=st=1756123910~exp=1756127510~hmac=6c244a93b8833948fcf8f1caa7809e43a6561a27790ad324d0d31652125ba684&w=1060')] bg-no-repeat bg-center bg-cover w-full h-screen flex items-center justify-center relative",children:[a.jsx("div",{className:"absolute inset-0 bg-black/[0.4]"}),a.jsxs("div",{className:"relative z-10 text-center text-white max-w-4xl mx-auto px-6",children:[a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Sell Your Property with",a.jsx("span",{className:"text-blue-400 block mt-2",children:"Confidence"})]}),a.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-200 max-w-2xl mx-auto",children:"Connect with serious buyers and get the best price for your property. Fast, secure, and hassle-free selling experience."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(es,{to:"/dashboard/post_a_listing",children:[" ",a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-colors duration-300 shadow-lg hover:shadow-xl",children:"List Your Property"})]}),a.jsx("button",{className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-300",children:"Browse Properties"})]}),a.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-gray-300",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{children:"10,000+ Properties Sold"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{children:"Trusted by 50,000+ Users"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{children:"Average 30 Days to Sell"})]})]})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:a.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:a.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2"})})})]})}),wO=()=>{const[s,e]=S.useState(0),[t,r]=S.useState(!1),[o,c]=S.useState(new Set),d=S.useRef(null),p=S.useRef([]),m=[{id:1,title:"Luxury Oceanfront Villa",price:"$2,850,000",originalPrice:"$3,200,000",location:"Malibu, CA",beds:5,baths:4,sqft:4200,type:"Villa",badge:"Luxury",badgeColor:"bg-purple-500",badgeIcon:fw,image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!0},{id:2,title:"Modern Downtown Penthouse",price:"$1,450,000",location:"Manhattan, NY",beds:3,baths:3,sqft:2800,type:"Penthouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:xw,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!0,isNew:!0,isHot:!1},{id:3,title:"Suburban Family Estate",price:"$875,000",location:"Beverly Hills, CA",beds:6,baths:5,sqft:5200,type:"Estate",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:pw,image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",rating:4.7,isVerified:!0,isNew:!1,isHot:!0},{id:4,title:"Contemporary Waterfront Home",price:"$1,200,000",location:"Miami Beach, FL",beds:4,baths:3,sqft:3200,type:"House",badge:"Verified",badgeColor:"bg-blue-500",badgeIcon:Fn,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!1},{id:5,title:"Historic Brownstone Renovation",price:"$980,000",location:"Brooklyn, NY",beds:3,baths:2,sqft:2100,type:"Townhouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:xw,image:"https://images.unsplash.com/photo-1449844908441-8829872d2607?w=500&h=400&fit=crop&q=80",rating:4.6,isVerified:!0,isNew:!0,isHot:!1},{id:6,title:"Mountain View Retreat",price:"$675,000",location:"Aspen, CO",beds:4,baths:3,sqft:2800,type:"Cabin",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:pw,image:"https://images.unsplash.com/photo-1520637736862-4197d17c90a?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!1,isNew:!1,isHot:!0}],g=2,b=Math.ceil(m.length/g);S.useEffect(()=>{const j=new IntersectionObserver(([A])=>{A.isIntersecting&&r(!0)},{threshold:.1});return d.current&&j.observe(d.current),()=>j.disconnect()},[]),S.useEffect(()=>{const j=setInterval(()=>{e(A=>(A+1)%b)},1e4);return()=>clearInterval(j)},[b]);const w=j=>{c(A=>new Set([...A,j]))},v=()=>{const j=s*g;return m.slice(j,j+g)};return a.jsxs("section",{ref:d,className:"py-20 bg-gradient-to-br from-gray-500 to-gray-900 via-gray-100 relative z-10",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[a.jsx(fw,{className:"w-4 h-4"}),"Premium Properties"]}),a.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Featured ",a.jsx("span",{className:"text-blue-600",children:"Listings"})]}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover handpicked premium properties from our exclusive collection. Each listing is carefully verified and represents exceptional value."})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 gap-8 px-16",children:v().map((j,A)=>{const F=j.badgeIcon;return a.jsxs("div",{ref:O=>p.current[A]=O,className:`group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden transform hover:-translate-y-2 ${t?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+A*.1}s`,animation:t?`slideInUp 0.8s ease-out ${.2+A*.1}s both`:"none"},children:[a.jsxs("div",{className:"relative overflow-hidden",children:[!o.has(j.id)&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),a.jsx("img",{src:j.image,alt:j.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onLoad:()=>w(j.id)}),a.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[a.jsxs("div",{className:`${j.badgeColor} text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg`,children:[a.jsx(F,{className:"w-3 h-3"}),j.badge]}),j.isVerified&&a.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[a.jsx(Fn,{className:"w-3 h-3 fill-current"}),"Verified"]})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg backdrop-blur-sm",children:[a.jsx("div",{className:"text-lg font-bold",children:j.price}),j.originalPrice&&a.jsx("div",{className:"text-xs text-gray-300 line-through",children:j.originalPrice})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 px-2 py-1 rounded-full flex items-center gap-1",children:[a.jsx(Fn,{className:"w-3 h-3 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-xs font-semibold",children:j.rating})]})]}),a.jsxs("div",{className:"flex ",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:j.title})}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[a.jsx(Ds,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:j.location})]}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:j.type})})]}),a.jsx("div",{children:a.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg",children:["View More",a.jsx(Bn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]},j.id)})})}),a.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:b}).map((j,A)=>a.jsx("button",{onClick:()=>e(A),className:`w-3 h-3 rounded-full transition-all duration-300 ${s===A?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400"}`},A))}),a.jsx("div",{className:`text-center mt-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"0.8s"},children:a.jsxs("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:["View All Properties",a.jsx(Bn,{className:"inline-block w-5 h-5 ml-2"})]})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(60px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})},_O=()=>{const[s,e]=S.useState(!1),[t,r]=S.useState(null),o=S.useRef(null),c=S.useRef([]),d=[{id:1,name:"Lagos",state:"Lagos State",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600&h=400&fit=crop&q=80",averagePrice:"₦85,000,000",priceRange:"₦25M - ₦500M",listings:2840,growth:"+15%",description:"Nigeria's commercial hub with luxury waterfront properties",highlights:["Victoria Island","Ikoyi","Lekki"],propertyTypes:["Luxury Apartments","Penthouses","Commercial"],trending:!0,popular:!0},{id:2,name:"Abuja",state:"Federal Capital Territory",image:"https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=600&h=400&fit=crop&q=80",averagePrice:"₦65,000,000",priceRange:"₦20M - ₦300M",listings:1650,growth:"+22%",description:"Federal capital with modern planned developments",highlights:["Maitama","Asokoro","Wuse 2"],propertyTypes:["Diplomatic Housing","Estates","Villas"],trending:!0,popular:!1},{id:3,name:"Ibadan",state:"Oyo State",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=600&h=400&fit=crop&q=80",averagePrice:"₦35,000,000",priceRange:"₦8M - ₦150M",listings:980,growth:"+12%",description:"Historic city with affordable family homes",highlights:["GRA","Bodija","UI Area"],propertyTypes:["Family Homes","Apartments","Land"],trending:!1,popular:!0},{id:4,name:"Port Harcourt",state:"Rivers State",image:"https://images.unsplash.com/photo-1566813558810-2c2b5cb62600?w=600&h=400&fit=crop&q=80",averagePrice:"₦45,000,000",priceRange:"₦12M - ₦200M",listings:740,growth:"+8%",description:"Oil city with growing real estate market",highlights:["GRA","D-Line","Trans Amadi"],propertyTypes:["Executive Homes","Apartments","Industrial"],trending:!1,popular:!1},{id:5,name:"Kano",state:"Kano State",image:"https://images.unsplash.com/photo-1570939274851-b6172e45834e?w=600&h=400&fit=crop&q=80",averagePrice:"₦28,000,000",priceRange:"₦5M - ₦120M",listings:650,growth:"+18%",description:"Northern commercial center with emerging opportunities",highlights:["Nassarawa","Fagge","Kano Municipal"],propertyTypes:["Traditional Homes","Modern Estates","Commercial"],trending:!0,popular:!1},{id:6,name:"Kaduna",state:"Kaduna State",image:"https://images.unsplash.com/photo-1582735689369-4fe89db7114c?w=600&h=400&fit=crop&q=80",averagePrice:"₦32,000,000",priceRange:"₦7M - ₦180M",listings:520,growth:"+14%",description:"Strategic location with growing infrastructure",highlights:["GRA","Barnawa","Ungwan Rimi"],propertyTypes:["Residential","Government Housing","New Developments"],trending:!1,popular:!1}];S.useEffect(()=>{const m=new IntersectionObserver(([g])=>{g.isIntersecting&&e(!0)},{threshold:.1});return o.current&&m.observe(o.current),()=>m.disconnect()},[]);const p=m=>m.toLocaleString();return a.jsxs("section",{ref:o,className:"py-20 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[a.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[a.jsx(Ds,{className:"w-4 h-4"}),"Top Locations in Nigeria"]}),a.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Explore Prime ",a.jsx("span",{className:"text-green-600",children:"Locations"})]}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the most sought-after cities across Nigeria. From bustling Lagos to the capital Abuja, find your perfect property in these thriving locations."})]}),a.jsx("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:d.slice(0,3).map((m,g)=>a.jsxs("div",{ref:b=>c.current[g]=b,className:`group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-700 overflow-hidden transform hover:-translate-y-3 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+g*.15}s`},onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:[a.jsxs("div",{className:"relative h-64 overflow-hidden",children:[a.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[m.trending&&a.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[a.jsx(xl,{className:"w-3 h-3"}),"Trending"]}),m.popular&&a.jsxs("div",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[a.jsx(Fn,{className:"w-3 h-3 fill-current"}),"Popular"]})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[a.jsx("h3",{className:"text-2xl font-bold mb-1",children:m.name}),a.jsx("p",{className:"text-sm text-gray-200",children:m.state})]}),a.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:m.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[a.jsx(F_,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.averagePrice}),a.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[a.jsx(xs,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:p(m.listings)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Properties"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Popular Areas:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:m.highlights.map((b,w)=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:b},w))})]}),a.jsxs("button",{className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg transform hover:scale-105",children:["Explore Properties",a.jsx(Bn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),a.jsxs("div",{className:`absolute inset-0 bg-white bg-opacity-95 backdrop-blur-sm p-6 flex flex-col justify-center transition-all duration-500 ${t===m.id?"opacity-100 visible":"opacity-0 invisible"}`,children:[a.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"Property Types"}),a.jsx("div",{className:"space-y-2 mb-4",children:m.propertyTypes.map((b,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O_,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-gray-700",children:b})]},w))}),a.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[a.jsx("strong",{children:"Price Range:"})," ",m.priceRange]}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"View All Listings"})]})]},m.id))}),a.jsx("div",{className:`grid md:grid-cols-3 gap-6 mb-12 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:"0.8s"},children:d.slice(3).map((m,g)=>a.jsxs("div",{className:"group bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-500 overflow-hidden transform hover:-translate-y-1",children:[a.jsxs("div",{className:"relative h-40 overflow-hidden",children:[a.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),a.jsxs("div",{className:"absolute bottom-2 left-3 text-white",children:[a.jsx("h4",{className:"text-lg font-bold",children:m.name}),a.jsx("p",{className:"text-xs text-gray-200",children:m.state})]}),m.trending&&a.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold text-gray-900",children:m.averagePrice}),a.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold text-gray-900",children:p(m.listings)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Listings"})]})]}),a.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:["Explore Properties",a.jsx(Bn,{className:"w-3 h-3"})]})]})]},m.id))}),a.jsx("div",{className:`text-center transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"1s"},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-2xl mx-auto",children:[a.jsx(Mu,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Can't Find Your Preferred Location?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We cover properties across all 36 states in Nigeria. Let us help you find the perfect property in your desired location."}),a.jsx("button",{className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:"Request Custom Search"})]})})]})]})},NO=()=>{const[s,e]=S.useState(null),t=[{id:1,title:"Modern Downtown Loft",location:"Manhattan, NY",price:"$2,850,000",beds:2,baths:2,sqft:"1,200",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=450&fit=crop",duration:"45s",views:"2.1k",featured:!0},{id:2,title:"Luxury Beachfront Villa",location:"Malibu, CA",price:"$5,200,000",beds:4,baths:3,sqft:"3,500",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=450&fit=crop",duration:"60s",views:"5.8k",featured:!1},{id:3,title:"Cozy Suburban Home",location:"Austin, TX",price:"$850,000",beds:3,baths:2,sqft:"2,100",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=450&fit=crop",duration:"38s",views:"1.3k",featured:!1},{id:4,title:"Urban Penthouse Suite",location:"Chicago, IL",price:"$3,100,000",beds:3,baths:3,sqft:"2,800",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=450&fit=crop",duration:"52s",views:"3.7k",featured:!0}],r=c=>{e(s===c?null:c)},o=({property:c})=>a.jsxs("div",{className:"group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[a.jsx("div",{className:"relative overflow-hidden",children:s===c.id?a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{src:c.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:a.jsx("button",{onClick:()=>r(c.id),className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300 shadow-xl",children:a.jsx(H_,{className:"w-8 h-8 text-gray-800 ml-1"})})}),a.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2",children:[a.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[a.jsx(N0,{className:"w-3 h-3"}),a.jsx("span",{children:c.duration})]}),a.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[a.jsx(Gn,{className:"w-3 h-3"}),a.jsx("span",{children:c.views})]})]}),c.featured&&a.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Featured"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-purple-600 transition-colors",children:c.title}),a.jsx("span",{className:"text-2xl font-bold text-purple-600",children:c.price})]}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-sm",children:c.location})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ku,{className:"w-4 h-4"}),a.jsxs("span",{children:[c.beds," beds"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Iu,{className:"w-4 h-4"}),a.jsxs("span",{children:[c.baths," baths"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ro,{className:"w-4 h-4"}),a.jsxs("span",{children:[c.sqft," sqft"]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Watch Full Tour"}),a.jsxs("button",{className:"flex-1 border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-semibold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 hover:bg-purple-50",children:[a.jsx("span",{children:"Book Viewing"}),a.jsx(Bn,{className:"w-4 h-4"})]})]})]})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Video Property Tours"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Bring properties to life visually with immersive video tours that showcase every detail"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:t.map(c=>a.jsx(o,{property:c},c.id))}),a.jsx("div",{className:"mt-20 text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Showcase Your Property?"}),a.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Create stunning video tours that capture buyers' attention and drive more viewings"}),a.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Creating Tours"})]})})]})})},jO=()=>{const[s,e]=S.useState(0),[t,r]=S.useState(null),o=[{id:1,name:"Sarah Johnson",title:"First-time Buyer",location:"Seattle, WA",profilePic:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",quote:"The video tours saved me so much time! I was able to narrow down my choices before visiting in person. Found my dream home in just 3 weeks.",rating:5,propertyType:"Condo",saleAmount:"$450,000"},{id:2,name:"Michael Chen",title:"Property Investor",location:"Austin, TX",profilePic:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",quote:"This platform revolutionized how I evaluate investment properties. The detailed video tours and analytics helped me make better decisions faster.",rating:5,propertyType:"Multi-family",saleAmount:"$1.2M"},{id:3,name:"Emma Rodriguez",title:"Real Estate Agent",location:"Miami, FL",profilePic:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",quote:"My listings get 3x more engagement with these video tours. Clients love the immersive experience, and I'm closing deals 40% faster!",rating:5,propertyType:"Luxury Homes",saleAmount:"$2.8M"},{id:4,name:"David Thompson",title:"Home Seller",location:"Denver, CO",profilePic:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",quote:"Sold our family home 2 weeks faster than expected! The video tour attracted serious buyers who were already pre-qualified when they visited.",rating:5,propertyType:"Family Home",saleAmount:"$680,000"},{id:5,name:"Lisa Park",title:"Relocating Professional",location:"San Francisco, CA",profilePic:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",quote:"Moving across the country was stressful, but the video tours let me house-hunt remotely. Made an offer sight unseen and couldn't be happier!",rating:5,propertyType:"Townhouse",saleAmount:"$950,000"},{id:6,name:"Robert Martinez",title:"Property Developer",location:"Phoenix, AZ",profilePic:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",quote:"The platform's video capabilities helped us showcase our new development beautifully. Pre-sales exceeded expectations by 200%!",rating:5,propertyType:"New Construction",saleAmount:"$15M"}],c=[{id:1,name:"Jennifer Walsh",title:"Happy Homeowner",location:"Portland, OR",thumbnailUrl:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:45",propertyType:"Modern Loft"},{id:2,name:"Carlos Mendez",title:"Real Estate Broker",location:"Los Angeles, CA",thumbnailUrl:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"2:10",propertyType:"Commercial Space"},{id:3,name:"Amanda Foster",title:"First-time Seller",location:"Nashville, TN",thumbnailUrl:"https://images.unsplash.com/photo-1551836022-8b2858c9c69b?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:30",propertyType:"Suburban Home"}];S.useEffect(()=>{const w=setInterval(()=>{e(v=>(v+1)%o.length)},5e3);return()=>clearInterval(w)},[o.length]);const d=()=>{e(w=>(w+1)%o.length)},p=()=>{e(w=>(w-1+o.length)%o.length)},m=({rating:w})=>a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((v,j)=>a.jsx(Fn,{className:`w-5 h-5 ${j<w?"text-yellow-400 fill-current":"text-gray-300"}`},j))}),g=({testimonial:w,isActive:v})=>a.jsx("div",{className:`transition-all duration-500 ${v?"opacity-100 scale-100":"opacity-70 scale-95"}`,children:a.jsx("div",{className:"bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100",children:a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("img",{src:w.profilePic,alt:w.name,className:"w-20 h-20 rounded-full object-cover border-4 border-purple-100"}),a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-400 to-green-500 rounded-full p-1",children:a.jsx(yu,{className:"w-4 h-4 text-white"})})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w.name}),a.jsx("p",{className:"text-purple-600 font-medium",children:w.title}),a.jsx("p",{className:"text-sm text-gray-500",children:w.location})]}),a.jsx(m,{rating:w.rating})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Z4,{className:"absolute -top-2 -left-2 w-8 h-8 text-purple-200"}),a.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed italic pl-6",children:['"',w.quote,'"']})]}),a.jsx("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-medium",children:w.propertyType}),a.jsx("span",{className:"font-bold text-green-600",children:w.saleAmount})]})})]})]})})}),b=({video:w})=>a.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"relative",children:t===w.id?a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{src:w.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):a.jsxs("div",{className:"relative aspect-video overflow-hidden cursor-pointer",onClick:()=>r(w.id),children:[a.jsx("img",{src:w.thumbnailUrl,alt:`${w.name} testimonial`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:a.jsx("div",{className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300",children:a.jsx(H_,{className:"w-8 h-8 text-purple-600 ml-1"})})}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm",children:w.duration})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-1",children:w.name}),a.jsx("p",{className:"text-purple-600 font-medium mb-1",children:w.title}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:w.location}),a.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:w.propertyType})]})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Success Stories"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Real stories from real people who found their perfect properties and achieved their real estate goals"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx(Mu,{className:"w-8 h-8 text-purple-600 mr-2"}),a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"50K+"})]}),a.jsx("p",{className:"text-gray-600",children:"Happy Customers"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx(yu,{className:"w-8 h-8 text-purple-600 mr-2"}),a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"4.9/5"})]}),a.jsx("p",{className:"text-gray-600",children:"Average Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx(xl,{className:"w-8 h-8 text-purple-600 mr-2"}),a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"40%"})]}),a.jsx("p",{className:"text-gray-600",children:"Faster Sales"})]})]})]}),a.jsxs("div",{className:"relative mb-20",children:[a.jsx("div",{className:"overflow-hidden",children:a.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:o.map((w,v)=>a.jsx("div",{className:"w-full flex-shrink-0 px-4",children:a.jsx(g,{testimonial:w,isActive:v===s})},w.id))})}),a.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:a.jsx(_0,{className:"w-6 h-6 text-purple-600"})}),a.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:a.jsx(vf,{className:"w-6 h-6 text-purple-600"})}),a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:o.map((w,v)=>a.jsx("button",{onClick:()=>e(v),className:`w-3 h-3 rounded-full transition-all duration-300 ${v===s?"bg-purple-600 w-8":"bg-purple-200"}`},v))})]}),a.jsxs("div",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Video Testimonials"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Hear directly from our customers about their experiences"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(w=>a.jsx(b,{video:w},w.id))})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Create Your Success Story?"}),a.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who've found their perfect properties with our platform"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Your Journey"}),a.jsx("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105",children:"View All Properties"})]})]})})]})})},EO=()=>{const[s,e]=S.useState({lagosPrice:0,abujaSearches:0,priceGrowth:0,totalProperties:0}),[t,r]=S.useState("6months"),[o,c]=S.useState(null),d={lagosPrice:125e6,abujaSearches:2847,priceGrowth:15.7,totalProperties:12840};S.useEffect(()=>{const A=(F,O,q=2e3)=>{const U=O/(q/16);let P=0;const B=setInterval(()=>{P+=U,P>=O&&(P=O,clearInterval(B)),e(Q=>({...Q,[F]:Math.floor(P)}))},16)};setTimeout(()=>A("lagosPrice",d.lagosPrice),200),setTimeout(()=>A("abujaSearches",d.abujaSearches),400),setTimeout(()=>A("priceGrowth",d.priceGrowth*10),600),setTimeout(()=>A("totalProperties",d.totalProperties),800)},[]);const p=[{name:"Abuja",searches:2847,growth:12.3,color:"from-blue-500 to-blue-600"},{name:"Lagos",searches:2156,growth:8.7,color:"from-purple-500 to-purple-600"},{name:"Port Harcourt",searches:1834,growth:15.2,color:"from-green-500 to-green-600"},{name:"Kano",searches:1245,growth:6.8,color:"from-orange-500 to-orange-600"},{name:"Ibadan",searches:987,growth:9.4,color:"from-pink-500 to-pink-600"}],m=[{type:"Apartments",percentage:35,trend:"up",change:5.2},{type:"Detached Houses",percentage:28,trend:"up",change:3.8},{type:"Terraced Houses",percentage:22,trend:"down",change:-2.1},{type:"Commercial",percentage:15,trend:"up",change:8.7}],g=[{month:"Jan",price:105},{month:"Feb",price:108},{month:"Mar",price:112},{month:"Apr",price:118},{month:"May",price:122},{month:"Jun",price:125}],b=A=>A>=1e6?`₦${(A/1e6).toFixed(1)}M`:`₦${A.toLocaleString()}`,w=({icon:A,title:F,value:O,subtitle:q,trend:U,color:P="purple"})=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r from-${P}-100 to-${P}-200`,children:a.jsx(A,{className:`w-6 h-6 text-${P}-600`})}),U&&a.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${U==="up"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[U==="up"?a.jsx(xl,{className:"w-3 h-3"}):a.jsx(vw,{className:"w-3 h-3"}),a.jsxs("span",{children:[U==="up"?"+":"",q]})]})]}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:O}),a.jsx("p",{className:"text-gray-600 text-sm",children:F})]}),v=({city:A,isHovered:F})=>{const O=Math.max(...p.map(U=>U.searches)),q=A.searches/O*100;return a.jsxs("div",{className:"mb-4 cursor-pointer transition-all duration-300",onMouseEnter:()=>c(A.name),onMouseLeave:()=>c(null),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ds,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-900",children:A.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm font-bold text-gray-700",children:A.searches.toLocaleString()}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A.growth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[A.growth>0?"+":"",A.growth,"%"]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${A.color} rounded-full transition-all duration-1000 ease-out ${F?"shadow-lg":""}`,style:{width:`${q}%`,transform:F?"scaleY(1.2)":"scaleY(1)"}})})]})},j=()=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Price Trends (Lagos)"}),a.jsx("div",{className:"flex space-x-2",children:["3months","6months","1year"].map(A=>a.jsx("button",{onClick:()=>r(A),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 ${t===A?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A==="3months"?"3M":A==="6months"?"6M":"1Y"},A))})]}),a.jsx("div",{className:"relative h-40 flex items-end justify-between space-x-2",children:g.map((A,F)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:"w-full bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-lg transition-all duration-1000 ease-out hover:from-purple-600 hover:to-purple-500 cursor-pointer relative group",style:{height:`${A.price/125*100}%`,animationDelay:`${F*100}ms`},children:a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:b(A.price*1e6)})}),a.jsx("span",{className:"text-xs text-gray-500 mt-2",children:A.month})]},A.month))})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Market Trends & Insights"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Stay informed with real-time data and comprehensive analysis of Nigeria's real estate market"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[a.jsx($A,{className:"w-4 h-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString("en-NG")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[a.jsx(w,{icon:xs,title:"Avg. House Price in Lagos",value:b(s.lagosPrice),subtitle:`${(s.priceGrowth/10).toFixed(1)}%`,trend:"up",color:"purple"}),a.jsx(w,{icon:Gn,title:"Most Searched Searches (Abuja)",value:s.abujaSearches.toLocaleString(),subtitle:"12.3%",trend:"up",color:"blue"}),a.jsx(w,{icon:xl,title:"Market Growth (YoY)",value:`${(s.priceGrowth/10).toFixed(1)}%`,subtitle:"vs last year",trend:"up",color:"green"}),a.jsx(w,{icon:Pu,title:"Active Properties",value:s.totalProperties.toLocaleString(),subtitle:"8.7%",trend:"up",color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[a.jsx(j,{}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Top Searched Cities"}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(Gn,{className:"w-4 h-4"}),a.jsx("span",{children:"Weekly searches"})]})]}),a.jsx("div",{className:"space-y-1",children:p.map(A=>a.jsx(v,{city:A,isHovered:o===A.name},A.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg mb-12",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Property Type Trends"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((A,F)=>a.jsxs("div",{className:"text-center group",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsxs("svg",{className:"w-24 h-24 mx-auto transform -rotate-90 group-hover:scale-110 transition-transform duration-300",children:[a.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),a.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeDasharray:`${A.percentage*2.51} 251`,className:"transition-all duration-1000 ease-out",style:{animationDelay:`${F*200}ms`}}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[A.percentage,"%"]})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:A.type}),a.jsxs("div",{className:`flex items-center justify-center space-x-1 text-sm ${A.trend==="up"?"text-green-600":"text-red-600"}`,children:[A.trend==="up"?a.jsx(xl,{className:"w-4 h-4"}):a.jsx(vw,{className:"w-4 h-4"}),a.jsxs("span",{children:[A.change>0?"+":"",A.change,"%"]})]})]},A.type))})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl p-12 text-white",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get Detailed Market Analysis"}),a.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Access comprehensive reports, neighborhood insights, and investment opportunities tailored to your needs"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"See Full Report"}),a.jsx(Bn,{className:"w-5 h-5"})]}),a.jsxs("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[a.jsx(z_,{className:"w-5 h-5"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})},TO=()=>{const[s,e]=S.useState([]),[t,r]=S.useState(null),o=[{id:1,icon:Mu,emoji:"💼",title:"Trusted Agents",description:"Verified professionals with proven track records and stellar client reviews",stats:"500+ Certified Agents",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",delay:0},{id:2,icon:Q_,emoji:"⚡",title:"Fast Transactions",description:"Streamlined processes that close deals 40% faster than industry average",stats:"24-48 Hour Response",color:"from-yellow-500 to-orange-500",bgColor:"from-yellow-50 to-orange-100",delay:200},{id:3,icon:F_,emoji:"💵",title:"No Hidden Charges",description:"Transparent pricing with all costs disclosed upfront - no surprises",stats:"100% Transparent Fees",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",delay:400},{id:4,icon:El,emoji:"🛡️",title:"Secure Listings",description:"Bank-level security with verified properties and protected transactions",stats:"256-bit SSL Encryption",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",delay:600}],c=[{icon:yu,title:"Industry Recognition",description:"Winner of 2024 Best Real Estate Platform Award"},{icon:N0,title:"24/7 Support",description:"Round-the-clock customer service and assistance"},{icon:xl,title:"Market Insights",description:"Real-time analytics and market trend reports"},{icon:Qn,title:"Client Satisfaction",description:"98% customer satisfaction rate and growing"}];S.useEffect(()=>{o.forEach((m,g)=>{setTimeout(()=>{e(b=>[...b,m.id])},m.delay)})},[]);const d=({item:m,isVisible:g})=>{const b=m.icon;return a.jsx("div",{className:`relative group cursor-pointer transition-all duration-700 transform ${g?"translate-y-0 opacity-100":"translate-y-8 opacity-0"} ${t===m.id?"scale-105 -translate-y-2":""}`,onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:a.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.bgColor} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${m.color} rounded-full opacity-10 group-hover:opacity-20 transition-opacity duration-500 group-hover:animate-pulse`})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:`relative p-4 rounded-2xl bg-gradient-to-br ${m.color} shadow-lg group-hover:shadow-xl transition-all duration-300`,children:[a.jsx(b,{className:"w-8 h-8 text-white"}),a.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce",children:m.emoji})]}),a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((w,v)=>a.jsx(Fn,{className:"w-4 h-4 text-yellow-400 fill-current"},v))})]}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors",children:m.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:m.description}),a.jsxs("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full bg-gradient-to-r ${m.color} text-white text-sm font-semibold shadow-md group-hover:shadow-lg transition-shadow duration-300`,children:[a.jsx(Ja,{className:"w-4 h-4"}),a.jsx("span",{children:m.stats})]}),a.jsx("div",{className:`absolute bottom-6 right-6 transform transition-all duration-300 ${t===m.id?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,children:a.jsx(Bn,{className:"w-6 h-6 text-gray-400"})})]})]})})},p=({feature:m,index:g})=>{const b=m.icon;return a.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl hover:bg-gray-50 transition-all duration-300 group",style:{animationDelay:`${g*100}ms`},children:[a.jsx("div",{className:"flex-shrink-0 p-2 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:a.jsx(b,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]})};return a.jsx("div",{className:"bg-gradient-to-br from-gray-50 via-white to-purple-50 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[a.jsx(yu,{className:"w-4 h-4"}),a.jsx("span",{children:"Why Choose Our Platform"})]}),a.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-6",children:"Your Success is Our Priority"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We've revolutionized real estate with cutting-edge technology, trusted partnerships, and unwavering commitment to transparency"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:o.map(m=>a.jsx(d,{item:m,isVisible:s.includes(m.id)},m.id))}),a.jsx("div",{className:"bg-white rounded-3xl p-12 shadow-xl border border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"More Reasons to Choose Us"}),a.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Beyond our core promises, we offer additional benefits that set us apart from the competition and ensure your real estate journey is smooth and successful."}),a.jsx("div",{className:"space-y-4",children:c.map((m,g)=>a.jsx(p,{feature:m,index:g},m.title))})]}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl p-8 text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h4",{className:"text-2xl font-bold mb-8",children:"Our Track Record"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"50K+"}),a.jsx("div",{className:"text-sm opacity-90",children:"Happy Clients"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"98%"}),a.jsx("div",{className:"text-sm opacity-90",children:"Satisfaction Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"₦50B+"}),a.jsx("div",{className:"text-sm opacity-90",children:"Properties Sold"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"24/7"}),a.jsx("div",{className:"text-sm opacity-90",children:"Support Available"})]})]})]})]})})]})}),a.jsxs("div",{className:"text-center mt-16",children:[a.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Get Started Today"}),a.jsx(Bn,{className:"w-5 h-5"})]}),a.jsx("button",{className:"border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-bold py-4 px-8 rounded-xl transition-all duration-300 hover:bg-purple-50",children:"Learn More About Us"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Join thousands of satisfied customers who made the smart choice"})]})]})})},SO=()=>a.jsxs(a.Fragment,{children:[a.jsx(vO,{}),a.jsx(wO,{}),a.jsx(_O,{}),a.jsx(NO,{}),a.jsx(jO,{}),a.jsx(EO,{}),a.jsx(TO,{})]}),AO=()=>{const[s,e]=S.useState({fullName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[t,r]=S.useState({}),[o,c]=S.useState(!1),[d,p]=S.useState({type:"",text:""}),[m,g]=S.useState(0),[b,w]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const Q=await wE();Q&&q(Q)}catch(Q){p({type:"error",text:Q.message})}})()},[]);const v=B=>{const{name:Q,value:ie,type:M,checked:R}=B.target,T=M==="checkbox"?R:ie;e(L=>({...L,[Q]:T})),t[Q]&&r(L=>({...L,[Q]:""})),Q==="password"&&j(ie)},j=B=>{let Q=0;B.length>=8&&(Q+=1),/[A-Z]/.test(B)&&(Q+=1),/[a-z]/.test(B)&&(Q+=1),/[0-9]/.test(B)&&(Q+=1),/[^A-Za-z0-9]/.test(B)&&(Q+=1),g(Q)},A=()=>{const B={};return s.fullName.trim()||(B.fullName="Name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(B.email="Email is invalid"):B.email="Email is required",s.password?s.password.length<8&&(B.password="Password must be at least 8 characters"):B.password="Password is required",s.password!==s.confirmPassword&&(B.confirmPassword="Passwords do not match"),s.agreeToTerms||(B.agreeToTerms="You must agree to the terms and conditions"),r(B),Object.keys(B).length===0},F=async B=>{if(B.preventDefault(),!!A()){c(!0),p({type:"",text:""});try{const Q=await pO(s.email,s.password,s.fullName);p({type:"success",text:"Registration successful! Redirecting to dashboard..."}),setTimeout(()=>{window.location.href="/Property_Premium/dashboard",localStorage.setItem("Status","Authenticated")},1500)}catch(Q){let ie="An error occurred during registration. Please try again.";Q.code==="auth/email-already-in-use"?ie="This email is already registered. Please use a different email or sign in.":Q.code==="auth/invalid-email"?ie="The email address is not valid.":Q.code==="auth/weak-password"&&(ie="Password is too weak. Please choose a stronger password."),p({type:"error",text:ie})}finally{c(!1)}}},O=async(B=!1)=>{c(!0);try{if(B)await vE();else{const Q=await bE();q(Q)}}catch(Q){p({type:"error",text:Q.message}),c(!1)}},q=B=>{p({type:"success",text:`Welcome, ${B.displayName||"User"}! Redirecting to dashboard...`}),setTimeout(()=>{window.location.href="/Property_Premium/dashboard"},1500),c(!1)},U=()=>{w(B=>!B)},P=()=>m===0?"bg-gray-200":m<=2?"bg-red-500":m<=3?"bg-yellow-500":"bg-green-500";return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&a.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{type:"button",onClick:()=>O(!1),disabled:o,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign up with Google"]})}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:s.fullName,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.fullName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.fullName&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.fullName})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:b?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:U,children:b?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]}),s.password&&a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:a.jsx("div",{className:`h-full rounded-full ${P()}`,style:{width:`${m/5*100}%`}})}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[m<=2&&"Weak password",m===3&&"Medium password",m>=4&&"Strong password"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.confirmPassword&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.confirmPassword})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:s.agreeToTerms,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",a.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," and ",a.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),t.agreeToTerms&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.agreeToTerms}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:o?"Creating account...":"Sign up"})})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})]})},RO=()=>{const[s,e]=S.useState({email:"",password:""}),[t,r]=S.useState({}),[o,c]=S.useState(!1),[d,p]=S.useState({type:"",text:""}),[m,g]=S.useState(!1),[b,w]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const R=await wE();R&&q(R)}catch(R){p({type:"error",text:A(R)})}})();const ie=Pn(R=>{R&&(window.location.href="/Property_Premium/dashboard",localStorage.setItem("Status","Authenticated"))});return localStorage.getItem("rememberMe")&&w(!0),()=>ie()},[]);const v=Q=>{const{name:ie,value:M}=Q.target;e(R=>({...R,[ie]:M})),t[ie]&&r(R=>({...R,[ie]:""}))},j=()=>{const Q={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(Q.email="Email is invalid"):Q.email="Email is required",s.password||(Q.password="Password is required"),r(Q),Object.keys(Q).length===0},A=Q=>{switch(Q.code){case"auth/user-not-found":case"auth/wrong-password":return"Invalid email or password. Please try again.";case"auth/too-many-requests":return"Too many failed login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/popup-closed-by-user":return"Sign-in popup was closed before completing the sign in process.";case"auth/cancelled-popup-request":return"The sign-in process was cancelled. Please try again.";case"auth/popup-blocked":return"The sign-in popup was blocked by your browser. Please allow popups for this site and try again.";default:return Q.message||"An error occurred during login. Please try again."}},F=async Q=>{if(Q.preventDefault(),!!j()){c(!0),p({type:"",text:""});try{const ie=await gO(s.email,s.password);q(ie)}catch(ie){p({type:"error",text:A(ie)}),c(!1)}}},O=async(Q=!1)=>{c(!0),p({type:"",text:""});try{if(Q)await vE();else{const ie=await bE();q(ie)}}catch(ie){p({type:"error",text:A(ie)}),c(!1)}},q=Q=>{p({type:"success",text:`Welcome back, ${Q.displayName||"User"}! Redirecting to dashboard...`}),b?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe"),setTimeout(()=>{window.location.href="/Property_Premium/dashboard"},1500),c(!1)},U=()=>{g(Q=>!Q)},P=()=>{w(Q=>!Q)},B=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&a.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{type:"button",onClick:()=>O(B()),disabled:o,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:U,children:m?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:b,onChange:P,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})})]})]})]})})]})},CO=({user:s})=>a.jsx(a.Fragment,{children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(es,{to:"/post_a_listing",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(Yn,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]})}),a.jsx(es,{to:"/dashboard/my-account",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(j0,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Upadet Profile"})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(V_,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subcription"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),a.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",a.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})})]}),a.jsxs("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 p-6 ",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"₦160,000"}),a.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[a.jsx("span",{children:"Olamax suites"}),a.jsx("span",{children:"|"}),a.jsx("span",{children:"📅 2 days ago"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx(qn,{className:"w-3 h-3"}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx($n,{className:"w-3 h-3"}),a.jsx("span",{children:"Phone"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[a.jsx(xr,{className:"w-3 h-3"}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx(Hh,{className:"w-3 h-3"}),a.jsx("span",{children:"Save"})]})]})]})]})]})]})}),IO=()=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(Yn,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),a.jsxs(es,{href:"/post_a_listing",children:["  ",a.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})]})})});gt();mj();const _E=async(s=!1)=>{try{const e=em();if(!e?.uid)throw new Error("User not authenticated");const t=gt(),r=pt(t,"users",e.uid,"properties");if(!s)return(await ut(r)).size;const o=await ut(r);let c=0,d=0,p=0;return o.forEach(m=>{const g=m.data();c++,g.status==="active"?d++:p++}),{total:c,active:d,inactive:p}}catch(e){throw console.error("Error fetching property count:",e),e}},NE=async(s=!1,e="createdAt",t="desc")=>{try{const r=em();if(!r?.uid)throw new Error("User not authenticated");const o=gt(),c=pt(o,"users",r.uid,"properties"),d=Vt(c,dy(e,t)),p=await ut(d),m=[];return p.forEach(g=>{const b=g.data();if(!s&&b.status!=="active")return;let w=0;if(b.createdAt){const v=b.createdAt.toDate?b.createdAt.toDate():new Date(b.createdAt);w=Math.floor((new Date-v)/(1e3*60*60*24))}m.push({id:g.id,...b,daysSinceCreated:w})}),e!=="createdAt"&&m.sort((g,b)=>{let w=g[e],v=b[e];return typeof w=="string"&&(w=w.toLowerCase(),v=v.toLowerCase()),w<v?t==="asc"?-1:1:w>v?t==="asc"?1:-1:0}),m}catch(r){throw console.error("Error fetching user properties:",r),r}},jE=async s=>{try{const e=em();if(!e?.uid)throw new Error("User not authenticated");if(!s)throw new Error("Property ID is required");const t=gt(),r=ct(t,"users",e.uid,"properties",s),o=await ls(r);if(!o.exists())throw new Error("Property not found");if(o.data().userId!==e.uid)throw new Error("You do not have permission to delete this property");return await m5(r),{success:!0,message:"Property deleted successfully"}}catch(e){throw console.error("Error deleting property:",e),e}},kO=Object.freeze(Object.defineProperty({__proto__:null,arrayRemove:lo,arrayUnion:Hu,deleteProperty:jE,getDownloadURL:hj,getUserProperties:NE,getUserPropertyCount:_E,ref:fj,serverTimestamp:Ys,uploadBytesResumable:dj},Symbol.toStringTag,{value:"Module"})),PO=({onPreviewProperty:s})=>{const[e,t]=S.useState("all"),[r,o]=S.useState(null),[c,d]=S.useState([]),[p,m]=S.useState(!0),[g,b]=S.useState(""),[w,v]=S.useState(null),[j,A]=S.useState(!1),[F,O]=S.useState(null),[q,U]=S.useState(null),P=()=>e==="all"?c:c.filter(H=>{const k=H.status?.toLowerCase()||"active";return e==="active"?k==="active"||k==="pending":e==="inactive"?k==="sold"||k==="rented"||k==="inactive"||k==="draft":!0}),[B,Q]=S.useState({total:0,active:0,inactive:0}),ie=S.useRef({});S.useEffect(()=>()=>{ie.current={}},[]),S.useEffect(()=>{let H;try{H=Pn(k=>{console.log("Auth state changed:",k),o(k)})}catch(k){console.error("Error setting up auth listener:",k),b("Failed to initialize authentication. Please refresh the page."),m(!1)}return()=>{H&&typeof H=="function"&&H()}},[]),S.useEffect(()=>{r?(M(),R()):(d([]),Q({total:0,active:0,inactive:0}),m(!1))},[r]),S.useEffect(()=>{const H=k=>{q&&ie.current[q]&&(ie.current[q].contains(k.target)||U(null))};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[q]);const M=async()=>{if(!r?.uid){console.warn("No user UID available for fetching properties");return}m(!0),b("");try{console.log("Fetching properties for user:",r.uid);const H=await NE(),k=Array.isArray(H)?H:[];d(k),console.log("Fetched properties:",k.length)}catch(H){console.error("Error fetching user properties:",H);let k="Failed to load your properties. Please try again.";H.message.includes("permission")?k="You don't have permission to view these properties.":H.message.includes("network")?k="Network error. Please check your connection and try again.":H.message.includes("auth")&&(k="Authentication error. Please sign in again."),b(k)}finally{m(!1)}},R=async()=>{try{const H=await _E(!0);Q(H)}catch(H){console.error("Error fetching property stats:",H)}},T=async H=>{if(!H){console.error("No property ID provided for deletion"),b("Invalid property ID. Cannot delete property.");return}v(H);try{console.log("Deleting property:",H),await jE(H),d(k=>k.filter(G=>G.id!==H)),await R(),A(!1),O(null),console.log("Property deleted successfully")}catch(k){console.error("Error deleting property:",k);let G="Failed to delete property. Please try again.";k.message.includes("permission")?G="You don't have permission to delete this property.":k.message.includes("not found")&&(G="Property not found. It may have already been deleted.",d(ee=>ee.filter(V=>V.id!==H)),A(!1),O(null)),b(G)}finally{v(null)}},L=(H,k,G)=>{try{if(!H||isNaN(H))return"Price not available";const ee=new Intl.NumberFormat("en-US"),ue=`${k==="Nigeria Naira"?"₦":"$"}${ee.format(Number(H))}`;return G?`${ue}${G.toLowerCase()==="not applicable"?"":"/"}${G.toLowerCase()==="not applicable"?"":G.toLowerCase()}`:ue}catch(ee){return console.error("Error formatting price:",ee),"Price error"}},z=H=>{try{if(!H)return"N/A";let k;if(H&&typeof H.toDate=="function")k=H.toDate();else if(H instanceof Date)k=H;else if(typeof H=="string"||typeof H=="number")k=new Date(H);else return"Invalid date";return isNaN(k.getTime())?"Invalid date":k.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(k){return console.error("Error formatting date:",k),"Date error"}},C=H=>{const k=H?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[k]||"bg-gray-100 text-gray-800"},E=(H,k)=>{k.stopPropagation(),U(q===H?null:H)},re=(H,k)=>{switch(U(null),H){case"preview":s&&typeof s=="function"?(s(k),M()):console.warn("onPreviewProperty callback not provided");break;case"edit":de(k),M();break;case"delete":O(k),A(!0);break;default:console.warn("Unknown menu action:",H)}},de=H=>{window.location.href=`/Property_Premium/post_a_listing?edit=${H.id}`},K=({property:H})=>{if(!H||!H.id)return console.warn("Invalid property data:",H),null;const k=q===H.id;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"relative h-48 bg-gray-200",children:[H.images&&Array.isArray(H.images)&&H.images.length>0?a.jsx("img",{src:H.images[0],alt:H.title||"Property image",className:"w-full h-full object-cover",onError:G=>{G.target.onerror=null,G.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiAxNkw4IDEySDEwVjhIMTRWMTJIMTZMMTIgMTZaIiBmaWxsPSIjOUI5QkExIi8+Cjwvc3ZnPgo="}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ro,{className:"w-12 h-12 text-gray-400"})}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C(H.status)}`,children:H.status||"Active"})}),H.daysSinceCreated!==void 0&&a.jsx("div",{className:"absolute bottom-3 left-3",children:a.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-xs rounded",children:[H.daysSinceCreated," days ago"]})}),a.jsx("div",{className:"absolute top-3 right-3",ref:G=>{G?ie.current[H.id]=G:delete ie.current[H.id]},children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:G=>E(H.id,G),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full transition-all","aria-label":"Property actions",children:a.jsx(v4,{className:"w-4 h-4 text-gray-600"})}),k&&a.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[120px]",children:[a.jsxs("button",{onClick:G=>{G.stopPropagation(),re("preview",H)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"}),"Preview"]}),a.jsxs("button",{onClick:G=>{G.stopPropagation(),re("edit",H)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Qh,{className:"w-4 h-4"}),"Edit"]}),a.jsxs("button",{onClick:G=>{G.stopPropagation(),re("delete",H)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(Nf,{className:"w-4 h-4"}),"Delete"]})]})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:H.title||"Untitled Property"}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:H.location||(H.city&&H.state?`${H.city}, ${H.state}`:"Location not specified")})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:L(H.price,H.currency,H.pricePer)}),a.jsx("div",{className:"text-sm text-gray-500",children:H.advertisingFor||"For Sale"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[H.bedroom&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ku,{className:"w-4 h-4"}),a.jsx("span",{children:H.bedroom})]}),H.bathroom&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Iu,{className:"w-4 h-4"}),a.jsx("span",{children:H.bathroom})]}),H.totalArea&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ro,{className:"w-4 h-4"}),a.jsxs("span",{children:[H.totalArea," ",H.totalAreaUnit||"sqft"]})]})]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(ri,{className:"w-3 h-3 mr-1"}),a.jsxs("span",{children:["Listed ",z(H.createdAt)]})]})]})]})},ye=()=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2  gap-4 mb-6",children:[a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="all"?"bg-blue-100 border-blue-300":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,onClick:()=>t("all"),children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:B.total}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]}),a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="active"?"bg-green-100 border-green-300":"bg-green-50 border-green-200 hover:bg-green-100"}`,onClick:()=>t("active"),children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:B.active}),a.jsx("div",{className:"text-sm text-green-600",children:"Active"})]}),a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e!=="active"?"bg-gray-100 border-gray-300":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t("inactive"),children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:B.inactive}),a.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]})]}),ve=()=>a.jsx("div",{className:"fixed inset-0 bg-black/[0.5] bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Za,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Delete Property"})]}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',F?.title||"this property",'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{A(!1),O(null)},disabled:w,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>T(F?.id),disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w===F?.id?a.jsxs(a.Fragment,{children:[a.jsx(bu,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})});return!r&&!p?a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx(Za,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),a.jsx("p",{className:"text-yellow-700",children:"Please sign in to view your property listings."})]})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:" rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{children:a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your property listings"})}),a.jsx(es,{to:"/post_a_listing",children:a.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",disabled:p,children:[a.jsx(Yn,{className:"w-4 h-4"}),"New Listing"]})})]}),r&&B.total>0&&a.jsx(ye,{}),g&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:g}),a.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-500 hover:text-red-700","aria-label":"Close error",children:"×"})]})}),p?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):P().length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Du,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e==="all"?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"You don't have any listings yet."}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first listing to get started."}),a.jsx(es,{to:"/post_a_listing",children:a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-gray-600 mb-2",children:["No ",e," listings found."]}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try viewing all listings or create a new one."}),a.jsxs("div",{className:"space-x-3",children:[a.jsx("button",{onClick:()=>t("all"),className:"text-blue-600 hover:text-blue-700 underline",children:"Show all listings"}),a.jsx(es,{to:"/post_a_listing",children:a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[P().length," listing",P().length!==1?"s":""," found",e!=="all"&&a.jsxs("span",{className:"ml-2 text-blue-600",children:["• Showing ",e," properties"]})]}),e!=="all"&&a.jsx("button",{onClick:()=>t("all"),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Show all"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P().map(H=>a.jsx(K,{property:H},H.id))})]})]}),j&&a.jsx(ve,{})]})},DO=()=>{const[s,e]=S.useState([]),[t,r]=S.useState(!0),[o,c]=S.useState(null),[d,p]=S.useState(!1),m="963871356ba532833088d07c8e8d15c6",g="https://gnews.io/api/v4/search",b=async(A=!1)=>{try{A?p(!0):r(!0),c(null);const O=["real estate market","property prices","housing market","property investment","real estate trends"].join(" OR "),q=await fetch(`${g}?q=${encodeURIComponent(O)}&token=${m}&lang=en&country=any&max=20&sortby=publishedAt`);if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const U=await q.json();if(U.articles){const P=U.articles.filter(B=>{const Q=(B.title+" "+B.description).toLowerCase();return Q.includes("real estate")||Q.includes("property")||Q.includes("housing")||Q.includes("market")||Q.includes("investment")});e(P.slice(0,12))}else throw new Error("No articles found")}catch(F){console.error("Error fetching news:",F),c(F.message)}finally{r(!1),p(!1)}};S.useEffect(()=>{b()},[]);const w=()=>{b(!0)},v=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=(A,F=120)=>A.length<=F?A:A.substr(0,F)+"...";return t?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[a.jsx(_h,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]})}),a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]})]}):o?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[a.jsx(_h,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),a.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(yw,{className:"h-4 w-4 mr-2"}),"Retry"]})]}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Za,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load property news"}),a.jsx("p",{className:"text-gray-500 text-sm",children:o}),a.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Make sure your GNews API key is valid"})]})]}):a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[a.jsx(_h,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),a.jsxs("button",{onClick:w,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[a.jsx(yw,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),d?"Refreshing...":"Refresh"]})]}),s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(_h,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No property news available at the moment."}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try refreshing to load the latest articles."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((A,F)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[A.image&&a.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:a.jsx("img",{src:A.image,alt:A.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:O=>{O.target.style.display="none"}})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[a.jsx(ri,{className:"h-3 w-3 mr-1"}),v(A.publishedAt)]}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:A.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:j(A.description)}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center text-xs text-gray-500",children:a.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:A.source.name})}),a.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center transition-colors",children:["Read more",a.jsx(B_,{className:"h-3 w-3 ml-1"})]})]})]})]},F))}),s.length>0&&a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-gray-500 text-sm",children:["Showing latest property news • Last updated: ",new Date().toLocaleTimeString()]})})]})},MO=()=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:a.jsx("p",{className:"text-blue-800 text-sm",children:"🚀 Coming Soon!"})})]})})}),Qs={getCurrentUser:()=>em(),getUserProfile:async s=>{try{const e=ct(ft,"users",s,"profiles","userProfile"),t=await ls(e);if(console.log("Profile document exists:",t.exists()),t.exists()){const r=t.data();return console.log("Profile data from Firestore:",r),console.log("Uploaded files from Firestore:",r.uploadedFiles),r.uploadedFiles||(r.uploadedFiles={govtId:null,selfiePhoto:null,businessCAC:null}),r}else{console.log("No profile document found, creating new structure");const r=await Oy(s);if(r){const o={firstName:r.firstName||"",lastName:r.lastName||"",primaryPhone:r.primaryPhone||"",email:r.email||"",whatsappPhone:r.whatsappPhone||"",alternateEmail:r.alternateEmail||"",isRealEstateProfessional:r.isRealEstateProfessional||!1,profileImage:r.profileImage||"",companyName:r.companyName||"",companyPhone:r.companyPhone||"",category:r.category||"",website:r.website||"",country:r.country||"Nigeria",state:r.state||"",city:r.city||"",address:r.address||"",aboutUs:r.aboutUs||"",uploadedFiles:{govtId:null,selfiePhoto:null,businessCAC:null}};return await n0(e,o),console.log("Migrated profile data:",o),o}return null}}catch(e){throw console.error("Error in getUserProfile:",e),e}},updateUserProfile:async(s,e)=>{try{const t=ct(ft,"users",s,"profiles","userProfile");console.log("Saving profile data:",e),console.log("Uploaded files in save:",e.uploadedFiles);const r={...e,uploadedFiles:e.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null},updatedAt:new Date().toISOString()};return console.log("Data being saved to Firestore:",r),await n0(t,r,{merge:!0}),console.log("Profile saved successfully to Firestore"),!0}catch(t){throw console.error("Error in updateUserProfile:",t),t}},uploadImage:async(s,e)=>{try{return await xO(s,e)}catch(t){throw console.error("Upload error:",t),t}},subscribeToAuthChanges:Pn};function OO(){const[s,e]=S.useState(null),[t,r]=S.useState(!0),[o,c]=S.useState(!1),[d,p]=S.useState({show:!1,message:"",type:"success"}),m=["govtId","selfiePhoto"],[g,b]=S.useState({govtId:null,selfiePhoto:null,businessCAC:null}),[w,v]=S.useState(!1),[j,A]=S.useState({firstName:"",lastName:"",primaryPhone:"",email:"",whatsappPhone:"",alternateEmail:"",isRealEstateProfessional:!1,companyName:"",companyPhone:"",category:"",website:"",country:"Nigeria",state:"",city:"",address:"",aboutUs:"",profileImage:""}),[F,O]=S.useState(null),[q,U]=S.useState(0),[P,B]=S.useState({}),Q=["Lagos","Abuja","Rivers","Ogun","Kano","Kaduna","Oyo","Delta","Edo","Anambra"],ie={Lagos:["Lagos Island","Victoria Island","Ikeja","Lekki","Surulere","Yaba"],Abuja:["Garki","Wuse","Maitama","Gwarinpa","Kubwa","Nyanya"],Rivers:["Port Harcourt","Obio-Akpor","Eleme","Ikwerre","Oyigbo"],Ogun:["Abeokuta","Sagamu","Ijebu-Ode","Ota","Ilaro"]};S.useEffect(()=>{const H=Qs.subscribeToAuthChanges(async k=>{k?(e(k),await L(k.uid)):(e(null),r(!1))});return()=>H()},[]),S.useEffect(()=>{console.log("uploadedFiles state changed:",g)},[g]),S.useEffect(()=>{const H=R(g,j.isRealEstateProfessional);v(H)},[j.isRealEstateProfessional,g]);const M=async(H,k)=>{if(k){if(k.size>5*1024*1024){C("File size must be less than 5MB","error");return}try{const G=await K(k),ee={...g,[H]:{name:k.name,data:G,type:k.type,size:k.size}};b(ee);const V=R(ee,j.isRealEstateProfessional);if(v(V),s){const W={...await Qs.getUserProfile(s.uid),uploadedFiles:ee,validation:V,updatedAt:new Date().toISOString()};await Qs.updateUserProfile(s.uid,W)}C(`${H} uploaded successfully!`)}catch(G){console.error("File upload error:",G),C("Error uploading file: "+G.message,"error")}}},R=(H,k)=>{const G=["govtId","selfiePhoto"];return k&&G.push("businessCAC"),G.every(ee=>H[ee]!==null)},T=async H=>{if(s)try{const k={...g,[H]:null};b(k);const G=R(k,j.isRealEstateProfessional);v(G);const V={...await Qs.getUserProfile(s.uid),uploadedFiles:k,validation:G,updatedAt:new Date().toISOString()};await Qs.updateUserProfile(s.uid,V),C(`${H.replace(/([A-Z])/g," $1").toLowerCase()} removed successfully!`)}catch(k){console.error("Error removing file:",k),C("Error removing file: "+k.message,"error")}},L=async H=>{try{r(!0);const k=In.currentUser,G=await Qs.getUserProfile(H);if(G){A({...G,firstName:G.firstName||k?.displayName?.split(" ")[0]||"",lastName:G.lastName||k?.displayName?.split(" ")[1]||"",email:G.email||k?.email||""}),O(G.profileImage||null),b(G.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null});const ee=G.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null};b(ee);const V=R(ee,G.isRealEstateProfessional||!1);v(V)}else A({...j,firstName:k?.displayName?.split(" ")[0]||"",lastName:k?.displayName?.split(" ")[1]||"",email:k?.email||""}),b({govtId:null,selfiePhoto:null,businessCAC:null})}catch(k){console.error("Error loading user profile:",k),C("Error loading profile data","error")}finally{r(!1)}},z=async()=>{if(!s)return;const H={companyName:j.companyName||"",companyPhone:j.companyPhone||"",category:j.category||"",website:j.website||"",country:j.country||"Nigeria",state:j.state||"",city:j.city||"",address:j.address||"",aboutUs:j.aboutUs||""};if(!E(H,!0)){C("Please fix the errors in the company form","error");return}try{c(!0);const k=await Qs.getUserProfile(s.uid),G={...k,...H,uploadedFiles:g,firstName:k?.firstName||"",lastName:k?.lastName||"",primaryPhone:k?.primaryPhone||"",email:k?.email||"",whatsappPhone:k?.whatsappPhone||"",alternateEmail:k?.alternateEmail||"",isRealEstateProfessional:k?.isRealEstateProfessional||!1,profileImage:k?.profileImage||""};await Qs.updateUserProfile(s.uid,G),C("Company information saved successfully!")}catch(k){console.error("Error saving company profile:",k),C("Error saving company profile: "+k.message,"error")}finally{c(!1)}},C=(H,k="success")=>{p({show:!0,message:H,type:k}),setTimeout(()=>{p({show:!1,message:"",type:"success"})},3e3)},E=(H,k=!1)=>{const G={};return k?(H.companyName?.trim()||(G.companyName="Company name is required"),H.category||(G.category="Category is required"),H.state||(G.state="State is required"),H.city||(G.city="City is required")):(H.firstName?.trim()||(G.firstName="First name is required"),H.lastName?.trim()||(G.lastName="Last name is required"),H.primaryPhone?.trim()||(G.primaryPhone="Primary phone is required"),H.email?.trim()?/\S+@\S+\.\S+/.test(H.email)||(G.email="Email is invalid"):G.email="Email is required",console.log("Validating uploadedFiles:",g),m.forEach(ee=>{if(!g[ee]){const V=ee.replace(/([A-Z])/g," $1").toLowerCase();G[ee]=`${V} is required`,console.log(`Validation error for ${ee}:`,G[ee])}})),console.log("Validation errors:",G),B(G),Object.keys(G).length===0},re=H=>{const{name:k,value:G,type:ee,checked:V}=H.target;A(ue=>({...ue,[k]:ee==="checkbox"?V:G})),P[k]&&B(ue=>({...ue,[k]:""}))},de=async H=>{const k=H.target.files[0];if(!(!k||!s)){if(!k.type.startsWith("image/")){C("Please select a valid image file","error");return}if(k.size>1*1024*1024){C("Image size must be less than 1MB for profile pictures","error");return}try{U(10);const G=await K(k);U(50);const ee=await Qs.getUserProfile(s.uid)||{};U(70);const V={firstName:ee.firstName||j.firstName||"",lastName:ee.lastName||j.lastName||"",primaryPhone:ee.primaryPhone||j.primaryPhone||"",email:ee.email||j.email||"",whatsappPhone:ee.whatsappPhone||j.whatsappPhone||"",alternateEmail:ee.alternateEmail||j.alternateEmail||"",isRealEstateProfessional:ee.isRealEstateProfessional||j.isRealEstateProfessional||!1,profileImage:G,companyName:ee.companyName||j.companyName||"",companyPhone:ee.companyPhone||j.companyPhone||"",category:ee.category||j.category||"",website:ee.website||j.website||"",country:ee.country||j.country||"Nigeria",state:ee.state||j.state||"",city:ee.city||j.city||"",address:ee.address||j.address||"",aboutUs:ee.aboutUs||j.aboutUs||""};U(90),await Qs.updateUserProfile(s.uid,V),O(G),A(ue=>({...ue,profileImage:G})),U(100),setTimeout(()=>{U(0),C("Profile image uploaded successfully!")},500)}catch(G){console.error("Upload error:",G),C("Error uploading image: "+G.message,"error"),U(0)}}},K=H=>new Promise((k,G)=>{const ee=new FileReader;ee.onload=()=>k(ee.result),ee.onerror=V=>G(V),ee.readAsDataURL(H)}),ye=async()=>{if(s&&F)try{const H=await Qs.getUserProfile(s.uid)||{},k={...H,profileImage:"",firstName:H.firstName||j.firstName||"",lastName:H.lastName||j.lastName||"",primaryPhone:H.primaryPhone||j.primaryPhone||"",email:H.email||j.email||"",whatsappPhone:H.whatsappPhone||j.whatsappPhone||"",alternateEmail:H.alternateEmail||j.alternateEmail||"",isRealEstateProfessional:H.isRealEstateProfessional||j.isRealEstateProfessional||!1,companyName:H.companyName||j.companyName||"",companyPhone:H.companyPhone||j.companyPhone||"",category:H.category||j.category||"",website:H.website||j.website||"",country:H.country||j.country||"Nigeria",state:H.state||j.state||"",city:H.city||j.city||"",address:H.address||j.address||"",aboutUs:H.aboutUs||j.aboutUs||""};await Qs.updateUserProfile(s.uid,k),O(null),A(G=>({...G,profileImage:""})),C("Profile image deleted successfully!")}catch(H){console.error("Error deleting image:",H),C("Error deleting image: "+H.message,"error")}},ve=async()=>{if(!s)return;const H={firstName:j.firstName||"",lastName:j.lastName||"",primaryPhone:j.primaryPhone||"",email:j.email||"",whatsappPhone:j.whatsappPhone||"",alternateEmail:j.alternateEmail||"",isRealEstateProfessional:j.isRealEstateProfessional||!1};if(!E(H,!1)){C("Please fix the errors in the form","error");return}try{c(!0);const k=await Qs.getUserProfile(s.uid),G={...k,...H,uploadedFiles:g,companyName:k?.companyName||"",companyPhone:k?.companyPhone||"",category:k?.category||"",website:k?.website||"",country:k?.country||"Nigeria",state:k?.state||"",city:k?.city||"",address:k?.address||"",aboutUs:k?.aboutUs||"",profileImage:k?.profileImage||""};await Qs.updateUserProfile(s.uid,G),C("Profile information saved successfully!")}catch(k){console.error("Error saving profile:",k),C("Error saving profile: "+k.message,"error")}finally{c(!1)}};return t?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):s?a.jsxs("div",{className:" mx-auto p-2 md:p-6 bg-white min-h-screen",children:[d.show&&a.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${d.type==="error"?"bg-red-100 border border-red-300":"bg-green-100 border border-green-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[d.type==="error"?a.jsx(Za,{className:"h-5 w-5 text-red-600 mr-2"}):a.jsx(Ja,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("span",{className:d.type==="error"?"text-red-800":"text-green-800",children:d.message})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your personal and company information"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Image"}),a.jsxs("div",{className:" sm:flex items-center sm:space-x-6",children:[a.jsxs("div",{className:"relative",children:[F?a.jsx("img",{src:F,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(br,{className:"h-12 w-12 text-gray-400"})}),q>0&&q<100&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full",children:a.jsxs("div",{className:"text-white text-sm font-medium",children:[q,"%"]})})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("label",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[a.jsx(kg,{className:"inline h-4 w-4 mr-2"}),"Upload Photo",a.jsx("input",{type:"file",accept:"image/*",onChange:de,className:"hidden"})]}),F&&a.jsxs("button",{onClick:ye,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:[a.jsx(ys,{className:"inline h-4 w-4 mr-2"}),"Remove"]})]})})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),a.jsx("input",{type:"text",name:"firstName",value:j.firstName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.firstName?"border-red-500":"border-gray-300"}`}),P.firstName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",name:"lastName",value:j.lastName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.lastName?"border-red-500":"border-gray-300"}`}),P.lastName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.lastName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone *"}),a.jsx("input",{type:"tel",name:"primaryPhone",value:j.primaryPhone,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.primaryPhone?"border-red-500":"border-gray-300"}`}),P.primaryPhone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.primaryPhone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{type:"email",name:"email",value:j.email,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.email?"border-red-500":"border-gray-300"}`}),P.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Phone"}),a.jsx("input",{type:"tel",name:"whatsappPhone",value:j.whatsappPhone,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternate Email"}),a.jsx("input",{type:"email",name:"alternateEmail",value:j.alternateEmail,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isRealEstateProfessional",checked:j.isRealEstateProfessional,onChange:re,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I am a real estate professional",j.isRealEstateProfessional&&a.jsx("span",{className:"ml-2 text-blue-600 text-xs",children:"(Company form will appear below)"})]})]})}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:ve,disabled:o,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hh,{className:"inline h-4 w-4 mr-2"}),"Save Changes"]})})})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Documents"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Govt. Issued ID *"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.govtId?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Ph,{className:"inline h-4 w-4 mr-2"}),g.govtId?"File Uploaded":"Choose File",a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:H=>M("govtId",H.target.files[0]),className:"hidden"})]}),g.govtId&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:g.govtId.name}),a.jsx("button",{onClick:()=>T("govtId"),className:"text-red-600 hover:text-red-700",children:a.jsx(ys,{className:"h-4 w-4"})})]})]}),P.govtId&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.govtId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selfie Photo *"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.selfiePhoto?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Ph,{className:"inline h-4 w-4 mr-2"}),g.selfiePhoto?"File Uploaded":"Choose File",a.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:H=>M("selfiePhoto",H.target.files[0]),className:"hidden"})]}),g.selfiePhoto&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:g.selfiePhoto.name}),a.jsx("button",{onClick:()=>T("selfiePhoto"),className:"text-red-600 hover:text-red-700",children:a.jsx(ys,{className:"h-4 w-4"})})]})]}),P.selfiePhoto&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.selfiePhoto})]}),j.isRealEstateProfessional&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business CAC Document"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.businessCAC?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Ph,{className:"inline h-4 w-4 mr-2"}),g.businessCAC?"File Uploaded":"Choose File",a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:H=>M("businessCAC",H.target.files[0]),className:"hidden"})]}),g.businessCAC&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:g.businessCAC.name}),a.jsx("button",{onClick:()=>T("businessCAC"),className:"text-red-600 hover:text-red-700",children:a.jsx(ys,{className:"h-4 w-4"})})]})]}),P.businessCAC&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.businessCAC})]})]})]}),j.isRealEstateProfessional&&a.jsx("div",{className:"space-y-6 mt-8",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),a.jsx("input",{type:"text",name:"companyName",value:j.companyName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.companyName?"border-red-500":"border-gray-300"}`}),P.companyName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.companyName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Phone"}),a.jsx("input",{type:"tel",name:"companyPhone",value:j.companyPhone,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:j.category,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.category?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"real-estate-agent",children:"Real Estate Agent"}),a.jsx("option",{value:"real-estate-organization",children:"Real Estate Organization"}),a.jsx("option",{value:"estate-surverying-firm",children:"Estate Surveying Firm"}),a.jsx("option",{value:"developer",children:"Developer"}),a.jsx("option",{value:"property-manager",children:"Property Manager"}),a.jsx("option",{value:"broker",children:"Broker"})]}),P.category&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",name:"website",value:j.website,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsx("input",{type:"text",name:"country",value:j.country,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{name:"state",value:j.state,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.state?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select state"}),Q.map(H=>a.jsx("option",{value:H,children:H},H))]}),P.state&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.state})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsxs("select",{name:"city",value:j.city,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.city?"border-red-500":"border-gray-300"}`,disabled:!j.state,children:[a.jsx("option",{value:"",children:"Select city"}),j.state&&ie[j.state]?.map(H=>a.jsx("option",{value:H,children:H},H))]}),P.city&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.city})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:j.address,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Us"}),a.jsx("textarea",{name:"aboutUs",value:j.aboutUs,onChange:re,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:z,disabled:o,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hh,{className:"inline h-4 w-4 mr-2"}),"Save Company Info"]})})})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-white min-h-screen",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(br,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Please sign in to manage your profile"}),a.jsx("p",{className:"text-gray-600",children:"You need to be logged in to view and edit your profile information."})]})})}const LO=()=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:a.jsx("p",{className:"text-green-800 text-sm",children:"💎 Pro Feature"})})]})})}),UO=({property:s,isOpen:e,onClose:t,onEdit:r,onDelete:o,showActions:c=!0})=>{const[d,p]=S.useState(0),[m,g]=S.useState(!1);if(S.useEffect(()=>{p(0),g(!1)},[s]),S.useEffect(()=>{const U=P=>{P.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",U),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",U),document.body.style.overflow="unset"}},[e,t]),!e||!s)return null;const b=(U,P,B)=>{try{if(!U||isNaN(U))return"Price not available";const Q=new Intl.NumberFormat("en-US"),M=`${P==="Nigeria Naira"?"₦":"$"}${Q.format(Number(U))}`;return B?`${M}${B.toLowerCase()==="not applicable"?"":"/"}${B.toLowerCase()==="not applicable"?"":B.toLowerCase()}`:M}catch(Q){return console.error("Error formatting price:",Q),"Price error"}},w=U=>{try{if(!U)return"N/A";let P;if(U&&typeof U.toDate=="function")P=U.toDate();else if(U instanceof Date)P=U;else if(typeof U=="string"||typeof U=="number")P=new Date(U);else return"Invalid date";return isNaN(P.getTime())?"Invalid date":P.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(P){return console.error("Error formatting date:",P),"Date error"}},v=U=>{const P=U?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[P]||"bg-gray-100 text-gray-800"},j=()=>{s.images&&s.images.length>1&&p(U=>U===0?s.images.length-1:U-1)},A=()=>{s.images&&s.images.length>1&&p(U=>U===s.images.length-1?0:U+1)},F=()=>{g(!0)},O={parking:dw,wifi:_w,gym:mw,pool:ww,security:El,garden:bw,"gym/fitness":mw,"swimming pool":ww,"parking space":dw,"internet/wifi":_w,"security system":El,"garden/yard":bw,"community center":Mu,"coffee shop":f4},q=U=>{const P=U?.toLowerCase()||"";for(const[B,Q]of Object.entries(O))if(P.includes(B))return Q;return xs};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gn,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Property Preview"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r&&r(s),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Property",children:a.jsx(Qh,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>o&&o(s),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Property",children:a.jsx(Nf,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:a.jsx(ys,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[a.jsxs("div",{className:"relative h-64 md:h-80 bg-gray-200",children:[s.images&&s.images.length>0&&!m?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:s.images[d],alt:`Property image ${d+1}`,className:"w-full h-full object-cover",onError:F}),s.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(_0,{className:"w-5 h-5"})}),a.jsx("button",{onClick:A,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(vf,{className:"w-5 h-5"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:s.images.map((U,P)=>a.jsx("button",{onClick:()=>p(P),className:`w-2 h-2 rounded-full transition-all ${P===d?"bg-white":"bg-white bg-opacity-50"}`},P))})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ro,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${v(s.status)}`,children:s.status||"Active"})}),s.images&&s.images.length>0&&a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-sm rounded",children:[d+1," / ",s.images.length]})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:s.title||"Untitled Property"}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[a.jsx(Ds,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-lg",children:s.location||(s.city&&s.state?`${s.city}, ${s.state}`:"Location not specified")})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:b(s.price,s.currency,s.pricePer)}),a.jsx("div",{className:"text-lg text-blue-700 font-medium",children:s.advertisingFor||"For Sale"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Listed on"}),a.jsx("div",{className:"text-lg font-medium text-gray-800",children:w(s.createdAt)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.bedroom&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(ku,{className:"w-6 h-6 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:s.bedroom}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),s.bathroom&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(Iu,{className:"w-6 h-6 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:s.bathroom}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),s.totalArea&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(ro,{className:"w-6 h-6 text-gray-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-gray-800",children:[s.totalArea," ",s.totalAreaUnit||"sqft"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Area"})]})]}),s.propertyType&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(xs,{className:"w-6 h-6 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:s.propertyType}),a.jsx("div",{className:"text-sm text-gray-600",children:"Property Type"})]})]})]}),s.description&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 bg-gray-50 p-4 rounded-lg",children:s.description.split(`
`).map((U,P)=>U.trim()&&a.jsx("p",{className:"mb-2 last:mb-0",children:U},P))})]}),s.amenities&&s.amenities.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Amenities"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.amenities.map((U,P)=>{const B=q(U);return a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[a.jsx(B,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-green-800",children:U})]},P)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Property Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[s.yearBuilt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Year Built:"}),a.jsx("span",{className:"font-medium",children:s.yearBuilt})]}),s.furnished&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Furnished:"}),a.jsx("span",{className:"font-medium",children:s.furnished})]}),s.parkingSpaces&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Parking Spaces:"}),a.jsx("span",{className:"font-medium",children:s.parkingSpaces})]}),s.floors&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Number of Floors:"}),a.jsx("span",{className:"font-medium",children:s.floors})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"space-y-3",children:[s.contactPhone&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($n,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm",children:s.contactPhone})]}),s.contactEmail&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qn,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm",children:s.contactEmail})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[a.jsx($n,{className:"w-4 h-4"}),"Call"]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[a.jsx(xr,{className:"w-4 h-4"}),"Message"]})]})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ri,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",w(s.createdAt)]})]}),s.updatedAt&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ri,{className:"w-4 h-4"}),a.jsxs("span",{children:["Updated: ",w(s.updatedAt)]})]}),s.daysSinceCreated!==void 0&&a.jsx("div",{children:a.jsxs("span",{children:[s.daysSinceCreated," days ago"]})})]})})]})]})]})})},VO=s=>{},FO=({user:s})=>a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("a",{href:"/post_a_listing",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(Yn,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(V_,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subscription"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(_f,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Website"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),a.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",a.jsxs(es,{to:"/post_a_listing",children:["  ",a.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"₦160,000"}),a.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[a.jsx("span",{children:"Olamax suites"}),a.jsx("span",{children:"|"}),a.jsx("span",{children:"📅 2 days ago"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx(qn,{className:"w-3 h-3"}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx($n,{className:"w-3 h-3"}),a.jsx("span",{children:"Phone"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[a.jsx(xr,{className:"w-3 h-3"}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[a.jsx(Hh,{className:"w-3 h-3"}),a.jsx("span",{children:"Save"})]})]})]})]})]})]}),zO=()=>a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(Yn,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),a.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})}),BO=()=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"My Listings"}),a.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"New Listing"]})]}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Du,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"You don't have any listings yet."}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Create your first listing to get started."})]})]}),qO=()=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Listing Feed"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-600",children:"Browse the latest property listings in your area."}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Stay updated with new properties and market trends."})]})]}),$O=()=>a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:a.jsx("p",{className:"text-blue-800 text-sm",children:"🚀 Coming Soon!"})})]})}),HO=()=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"My Account"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(j0,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Omolaye Amoss"}),a.jsx("p",{className:"text-gray-600",children:"Individual Account"}),a.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full mt-1",children:"Free Plan"})]})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade Account"})]})]}),GO=()=>a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:a.jsx("p",{className:"text-green-800 text-sm",children:"💎 Pro Feature"})})]})}),p_=()=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Help & Support"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[a.jsx(U_,{className:"w-8 h-8 text-blue-600 mb-4"}),a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"FAQ"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Find answers to commonly asked questions."})]}),a.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[a.jsx(xr,{className:"w-8 h-8 text-green-600 mb-4"}),a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Contact Support"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Get help from our support team."})]})]})]}),QO=()=>a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600",children:"The requested page could not be found."})]})});function YO({externalComponents:s={},additionalRoutes:e={},additionalSidebarItems:t=[]}){const[r,o]=S.useState(null),[c,d]=S.useState(!0),[p,m]=S.useState(!1),[g,b]=S.useState(null),w=Jn(),j=Ar().pathname.replace("/dashboard/","")||"overview",A=re=>{b(re),m(!0)};S.useEffect(()=>{Pn(re=>{console.log(re.displayName),o(re.displayName)})},[]);const O={...{overview:{component:FO,title:"Your Dashboard",breadcrumb:"Dashboard"},"post-listing":{component:zO,title:"Post a Listing",breadcrumb:"Post Listing"},"my-listings":{component:BO,title:"My Listings",breadcrumb:"My Listings"},"listing-feed":{component:qO,title:"Listing Feed",breadcrumb:"Listing Feed"},reporting:{component:$O,title:"Reporting",breadcrumb:"Reporting"},"my-account":{component:HO,title:"My Account",breadcrumb:"My Account"},"property-requests":{component:GO,title:"Property Requests",breadcrumb:"Property Requests"},"help-support":{component:p_,title:"Help & Support",breadcrumb:"Help & Support"}},...e,...Object.keys(s).reduce((re,de)=>(re[de]={component:s[de].component,title:s[de].title||de,breadcrumb:s[de].breadcrumb||de},re),{})},U=[...[{id:"post-listing",label:"Post a Listing",icon:Yn,section:"general"},{id:"overview",label:"Dashboard",icon:xs,section:"general",hasSubmenu:!1},{id:"my-listings",label:"My Listings",icon:xu,section:"general"},{id:"listing-feed",label:"Listing Feed",icon:O_,section:"general"},{id:"my-account",label:"My Account",icon:br,section:"general",hasSubmenu:!1},{id:"reporting",label:"Reporting",icon:Pu,section:"general",badge:"Soon"},{id:"property-requests",label:"Property Requests",icon:xu,section:"general",badge:"Pro"},{id:"help-support",label:"Help and Support",icon:U_,section:"extra"}],...t],P=U.filter(re=>re.section==="general"),B=U.filter(re=>re.section==="extra"),Q=()=>a.jsx(CO,{user:r}),ie=()=>a.jsx(IO,{}),M=()=>a.jsxs(a.Fragment,{children:[a.jsx(PO,{onPreviewProperty:A}),a.jsx(UO,{property:g,isOpen:p,onClose:()=>m(!1),onEdit:VO,onDelete:re=>{}})]}),R=()=>a.jsx(DO,{}),T=()=>a.jsx(MO,{}),L=()=>a.jsx(OO,{}),z=()=>a.jsx(LO,{}),C=O[j]||O.overview,E=re=>{w(`/dashboard/${re}`),window.innerWidth<768&&d(!1)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c&&a.jsx("div",{className:"fixed inset-0 bg-black/[0.2] z-40 lg:hidden",onClick:()=>d(!1)}),a.jsxs("div",{className:`${c?"translate-x-0":"-translate-x-full"} fixed lg:relative  lg:translate-x-0 z-50 w-64 bg-gray-800 text-white flex flex-col transition-transform duration-300 ease-in-out`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[a.jsx("h1",{className:"text-xl font-bold",children:"Property Premium"}),a.jsx("button",{onClick:()=>d(!1),className:"lg:hidden",children:a.jsx(ys,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(j0,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r}),a.jsx("p",{className:"text-sm text-gray-400",children:"(individual account)"}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Free Plan (upgrade)"})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"General"}),a.jsx("nav",{className:"space-y-1",children:P.map(re=>{const de=re.icon;return a.jsx("div",{children:a.jsxs("button",{onClick:()=>E(re.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${j===re.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(de,{className:"w-4 h-4"}),a.jsx("span",{children:re.label})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[re.badge&&a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${re.badge==="Pro"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:re.badge}),re.hasSubmenu&&a.jsx(vf,{className:"w-4 h-4"})]})]})},re.id)})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Extra"}),a.jsx("nav",{className:"space-y-1",children:B.map(re=>{const de=re.icon;return a.jsxs("button",{onClick:()=>E(re.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-md transition-colors ${j===re.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[a.jsx(de,{className:"w-4 h-4"}),a.jsx("span",{children:re.label})]},re.id)})})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>d(!c),className:"lg:hidden p-2 rounded-md hover:bg-gray-100",children:a.jsx($_,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:C.title})]}),a.jsxs("div",{className:"md:flex items-center space-x-2 text-sm text-gray-600 hidden",children:[a.jsx("span",{children:"Help Line:"}),a.jsx(xr,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-blue-600 font-medium",children:"+234 806 193 6756"})]})]})}),a.jsx("div",{className:"p-3 md:p-6",children:a.jsxs(R_,{children:[a.jsx(Dt,{path:"/",element:a.jsx(xf,{to:"overview",replace:!0})}),a.jsx(Dt,{path:"overview",element:a.jsx(Q,{})}),a.jsx(Dt,{path:"post-listing",element:a.jsx(ie,{})}),a.jsx(Dt,{path:"my-listings",element:a.jsx(M,{})}),a.jsx(Dt,{path:"listing-feed",element:a.jsx(R,{})}),a.jsx(Dt,{path:"reporting",element:a.jsx(T,{})}),a.jsx(Dt,{path:"my-account",element:a.jsx(L,{})}),a.jsx(Dt,{path:"property-requests",element:a.jsx(z,{})}),a.jsx(Dt,{path:"help-support",element:a.jsx(p_,{})}),a.jsx(Dt,{path:"*",element:a.jsx(QO,{})})]})})]})]})}const KO="modulepreload",WO=function(s){return"/Property_Premium/"+s},g_={},XO=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let g=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=g;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");o=g(t.map(b=>{if(b=WO(b),b in g_)return;g_[b]=!0;const w=b.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${v}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":KO,w||(j.as="script"),j.crossOrigin="",j.href=b,m&&j.setAttribute("nonce",m),document.head.appendChild(j),w)return new Promise((A,F)=>{j.addEventListener("load",A),j.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return o.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},Cs=({label:s,value:e,onChange:t,options:r,required:o,className:c="",disabled:d=!1,placeholder:p})=>a.jsxs("div",{className:`space-y-2 ${c}`,children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s," ",o&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:e,onChange:m=>t(m.target.value),disabled:d,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-700 ${d?"bg-gray-100 cursor-not-allowed":""}`,required:o,children:[a.jsx("option",{value:"",children:p||`Select ${s}`}),r.map((m,g)=>a.jsx("option",{value:m,children:m},g))]})]}),ZO=({formData:s,handleInputChange:e,options:t,selectedOptions:r,handleCheckboxChange:o,addressViewer:c,priceViewer:d,locationData:p,availableStates:m,availableCities:g,getPriceDisplayText:b,disabled:w=!1})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"gap-6",children:[a.jsxs("section",{id:"listing_info",className:"grid md:grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Listing Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.listingTitle,onChange:v=>e("listingTitle",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 4 Bedroom Serviced Duplex with BQ",required:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[a.jsx(Cs,{label:"Advertising For",value:s.advertisingFor,onChange:v=>e("advertisingFor",v),options:["Sale","Rent","Lease","Shortlet"],disabled:w,required:!0}),a.jsx(Cs,{label:"Property Type",value:s.propertyType,onChange:v=>e("propertyType",v),options:["House","Apartment","Duplex","Bungalow","Commercial","Land","Penthouse","Studio","Warehouse","Office Space"],disabled:w,required:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-2 w-full",children:[a.jsx(Cs,{label:"Use of Property",value:s.useOfProperty,onChange:v=>e("useOfProperty",v),options:["Residential","Commercial","Industrial","Mixed Use","Unspecified"],className:"w-full",disabled:w,required:!0}),a.jsx(Cs,{label:"Market Status",value:s.marketStatus,onChange:v=>e("marketStatus",v),options:["Available","Under Offer","Sold","Let","Withdrawn"],className:"w-full",disabled:w,required:!0})]})]}),a.jsxs("section",{className:"my-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Additional Property Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsx(Cs,{label:"Property Condition",value:s.propertyCondition,onChange:v=>e("propertyCondition",v),options:["Newly Built","Renovated","Good Condition","Fair Condition","Needs Renovation"],disabled:w}),a.jsx(Cs,{label:"Furnishing Status",value:s.furnishingStatus,onChange:v=>e("furnishingStatus",v),options:["Fully Furnished","Semi Furnished","Unfurnished"],disabled:w}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available From"}),a.jsx("input",{type:"date",value:s.availableFrom,onChange:v=>e("availableFrom",v.target.value),disabled:w,min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),a.jsx(Cs,{label:"Minimum Rent Period",value:s.minimumRentPeriod,onChange:v=>e("minimumRentPeriod",v),options:["6 Months","1 Year","2 Years","3 Years","Negotiable"],disabled:w})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Provide information on location of property"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx(Cs,{label:"Country",value:s.country,onChange:v=>e("country",v),options:Object.keys(p),placeholder:"Select Country",disabled:w,required:!0}),a.jsx(Cs,{label:"State/Province",value:s.state,onChange:v=>e("state",v),options:m,placeholder:"Select State",disabled:!s.country||w,required:!0}),a.jsx(Cs,{label:"City",value:s.city,onChange:v=>e("city",v),options:g,placeholder:"Select City",disabled:!s.state||w,required:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Property Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.address,onChange:v=>e("address",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 70 Maintain Close",required:!0})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show address to viewers?"}),c.map((v,j)=>a.jsxs("label",{className:"flex items-center mb-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"showAddress",checked:s.showAddress===v,onChange:()=>e("showAddress",v),disabled:w,className:"mr-2"}),a.jsx("span",{className:"text-sm",children:v})]},j))]})]})]}),a.jsxs("section",{className:"w-full my-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Pricing"}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[a.jsx(Cs,{label:"Currency",value:s.currency,onChange:v=>e("currency",v),options:["Nigeria Naira","US Dollar","British Pounds","Euro","South African Rand","Ghanaian Cedi"],disabled:w,required:!0}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Price ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:s.price,onChange:v=>e("price",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Eg. 7,000,000",required:!0})]}),a.jsx(Cs,{label:"Price Per What?",value:s.price_per,onChange:v=>e("price_per",v),options:["Not Applicable","Unit","Year","Half Year","Month","Week","Day","Night","Square meter","Plot","Hectare","Acre"],disabled:w,required:!0}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show price to viewers?"}),d.map((v,j)=>a.jsxs("label",{className:"flex items-center mb-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"showPrice",checked:s.showPrice===v,onChange:()=>e("showPrice",v),disabled:w,className:"mr-2"}),a.jsx("span",{className:"text-xs",children:v})]},j)),s.price&&s.price!=="0"&&b&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:[a.jsx("strong",{children:"Preview:"})," ",b(s.showPrice,s.price)]})]})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Features"}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bedrooms"}),a.jsx("input",{type:"number",value:s.bedroom,onChange:v=>e("bedroom",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bedrooms",min:"0",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bathrooms"}),a.jsx("input",{type:"number",value:s.bathroom,onChange:v=>e("bathroom",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bathrooms",min:"0",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Toilets"}),a.jsx("input",{type:"number",value:s.toilet,onChange:v=>e("toilet",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Toilets",min:"0",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year Built"}),a.jsx("input",{type:"number",value:s.year_built,onChange:v=>e("year_built",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Year Property was built",min:"1900",max:new Date().getFullYear(),required:!0})]})]}),a.jsxs("div",{className:"p-4 w-full justify-center",children:[a.jsx("h2",{className:"text-md mb-4 font-medium",children:"Select Available facilities at this property"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:t.map((v,j)=>a.jsxs("label",{className:"flex items-center mb-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[a.jsx("input",{type:"checkbox",checked:r.includes(v),onChange:()=>o(v),disabled:w,className:"mr-2 rounded border-gray-300 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm",children:v})]},j))}),a.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded",children:[a.jsx("strong",{className:"text-green-800",children:"Selected Amenities:"}),a.jsx("span",{className:"text-green-700 ml-2",children:r.length>0?r.join(", "):"None selected"})]})]})]}),a.jsxs("section",{className:"my-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Policies"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsx(Cs,{label:"Pet Policy",value:s.petPolicy,onChange:v=>e("petPolicy",v),options:["Allowed","Not Allowed","Cats Only","Dogs Only","Negotiable"],disabled:w}),a.jsx(Cs,{label:"Smoking Policy",value:s.smokingPolicy,onChange:v=>e("smokingPolicy",v),options:["Not Allowed","Allowed","Outdoor Only","Designated Areas"],disabled:w})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Utilities Included"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Electricity","Water","Gas","Internet","Cable TV","Waste Management","Security","Maintenance"].map(v=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[a.jsx("input",{type:"checkbox",checked:s.utilitiesIncluded?.includes(v)||!1,onChange:j=>{const A=j.target.checked?[...s.utilitiesIncluded||[],v]:(s.utilitiesIncluded||[]).filter(F=>F!==v);e("utilitiesIncluded",A)},disabled:w,className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:v})]},v))}),s.utilitiesIncluded&&s.utilitiesIncluded.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[a.jsx("strong",{className:"text-blue-800",children:"Utilities Included:"}),a.jsx("span",{className:"text-blue-700 ml-2",children:s.utilitiesIncluded.join(", ")})]})]}),a.jsxs("section",{className:"w-full",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Measurements"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Area"}),a.jsx("input",{type:"number",value:s.totalArea,onChange:v=>e("totalArea",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Total Area",min:"0",required:!0})]}),a.jsx("div",{className:"flex-1",children:a.jsx(Cs,{label:"Unit",value:s.totalAreaUnit,onChange:v=>e("totalAreaUnit",v),options:["sqm","hectares","acres","plots","sqft"],disabled:w,required:!0})})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Covered Area"}),a.jsx("input",{type:"number",value:s.coveredArea,onChange:v=>e("coveredArea",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Covered Area",min:"0",required:!0})]}),a.jsx("div",{className:"flex-1",children:a.jsx(Cs,{label:"Unit",value:s.coveredAreaUnit,onChange:v=>e("coveredAreaUnit",v),options:["sqm","hectares","acres","plots","sqft"],disabled:w,required:!0})})]})]}),s.totalArea&&s.coveredArea&&a.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Area Summary:"}),a.jsxs("span",{className:"ml-2",children:["Total: ",s.totalArea," ",s.totalAreaUnit," | Covered: ",s.coveredArea," ",s.coveredAreaUnit," | Open: ",(parseFloat(s.totalArea)-parseFloat(s.coveredArea)).toFixed(2)," ",s.totalAreaUnit]})]})})]})]})}),JO=({formData:s,handleInputChange:e,handleDrop:t,handleDragOver:r,handleDragLeave:o,handleImageUpload:c,uploadedImages:d,removeImage:p,dragOver:m,disabled:g=!1})=>{const[b,w]=S.useState(""),[v,j]=S.useState(!1),A=async O=>{if(!(!O||O.length===0)){w(""),j(!0);try{if(d.length+O.length>20){w("Maximum 20 images allowed per property"),j(!1);return}const U=[];for(const P of Array.from(O)){if(P.size>10*1024*1024){w(`${P.name} is too large. Maximum size is 10MB.`);continue}if(!P.type.startsWith("image/")){w(`${P.name} is not a valid image file.`);continue}U.push(P)}U.length>0&&await c(U)}catch(q){console.error("Upload error:",q),w("Failed to upload images. Please try again.")}finally{j(!1)}}},F=()=>{w("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Images"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Upload high-quality images of your property. First image will be used as the main photo. Images will be automatically compressed to optimize storage."}),b&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Za,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-red-700 text-sm",children:b})}),a.jsx("button",{onClick:F,className:"text-red-500 hover:text-red-700 ml-2",children:a.jsx(ys,{className:"w-4 h-4"})})]})}),a.jsxs("div",{onDrop:t,onDragOver:r,onDragLeave:o,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-blue-500 bg-blue-50":g?"border-gray-200 bg-gray-50":"border-gray-300 hover:border-blue-400"} ${g?"cursor-not-allowed":"cursor-pointer"}`,children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O=>A(O.target.files),className:"hidden",id:"image-upload",disabled:g||v}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:v?a.jsx(bu,{className:"w-12 h-12 text-blue-500 animate-spin"}):a.jsx(Ph,{className:`w-12 h-12 ${g?"text-gray-300":"text-gray-400"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-lg font-medium ${g?"text-gray-400":"text-gray-700"}`,children:v?"Processing images...":"Drop images here or"}),a.jsx("label",{htmlFor:"image-upload",className:`inline-block mt-2 px-6 py-2 rounded-md transition-colors ${g||v?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer"}`,children:v?"Uploading...":"Browse Files"})]}),a.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-500"}`,children:"Supports: JPG, PNG, WebP (Max 10MB each, 20 images total)"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📸 Image Guidelines"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Upload clear, well-lit photos"}),a.jsx("li",{children:"• Include exterior, interior, and key features"}),a.jsx("li",{children:"• First image becomes your main listing photo"}),a.jsx("li",{children:"• Images are automatically compressed for optimal performance"}),a.jsx("li",{children:"• Avoid blurry or low-quality images"})]})]}),d.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium text-gray-800",children:["Uploaded Images (",d.length,"/20)"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Drag images to reorder • First image is main photo"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map((O,q)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:a.jsx("img",{src:O.preview||O.url,alt:`Property ${q+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:U=>{U.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMTJMMTEgMTRMMTUgMTBNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxQzcuMDI5NDQgMjEgMyAxNi45NzA2IDMgMTJDMyA3LjAyOTQ0IDcuMDI5NDQgMyAxMiAzQzE2Ljk3MDYgMyAyMSA3LjAyOTQ0IDIxIDEyWiIgc3Ryb2tlPSIjOTk5IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}})}),q===0&&a.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm",children:"Main"}),a.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black bg-opacity-60 text-white text-xs p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("p",{className:"truncate",children:O.name}),a.jsxs("p",{children:[(O.size/1024/1024).toFixed(1),"MB"]})]}),a.jsx("button",{onClick:()=>p(O.id),disabled:g,className:`absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity ${g?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,title:"Remove image",children:a.jsx(ys,{className:"w-3 h-3"})}),v&&!O.isExisting&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:a.jsx(bu,{className:"w-6 h-6 text-white animate-spin"})})]},O.id))}),d.length<20&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("label",{htmlFor:"image-upload",className:`flex items-center gap-2 px-4 py-2 border-2 border-dashed rounded-lg transition-colors ${g?"border-gray-200 text-gray-400 cursor-not-allowed":"border-blue-300 text-blue-600 hover:border-blue-400 hover:bg-blue-50 cursor-pointer"}`,children:[a.jsx(kg,{className:"w-4 h-4"}),"Add More Images"]})})]}),d.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No images uploaded yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Upload some high-quality photos to showcase your property"})]})]})})},e8=({formData:s,handleInputChange:e,handleListChange:t,addListItem:r,removeListItem:o})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Description"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),a.jsx("textarea",{value:s.description,onChange:c=>e("description",c.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",placeholder:"Provide a detailed description of your property, including its unique features, condition, and any special amenities..."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Be descriptive and highlight what makes your property special."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Features"}),a.jsx("p",{className:"text-sm text-gray-600",children:"List the key features and amenities of your property."}),a.jsxs("div",{className:"space-y-3",children:[s.features.map((c,d)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:c,onChange:p=>t("features",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Swimming pool, Parking space, Air conditioning"}),s.features.length>1&&a.jsx("button",{onClick:()=>o("features",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:a.jsx(ys,{className:"w-4 h-4"})})]},d)),a.jsxs("button",{onClick:()=>r("features"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Add Feature"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Nearby Amenities"}),a.jsx("p",{className:"text-sm text-gray-600",children:"List nearby schools, hospitals, shopping centers, and other amenities."}),a.jsxs("div",{className:"space-y-3",children:[s.nearbyAmenities.map((c,d)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:c,onChange:p=>t("nearbyAmenities",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Shoprite Mall (5 mins), Lagos University Teaching Hospital (10 mins)"}),s.nearbyAmenities.length>1&&a.jsx("button",{onClick:()=>o("nearbyAmenities",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:a.jsx(ys,{className:"w-4 h-4"})})]},d)),a.jsxs("button",{onClick:()=>r("nearbyAmenities"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Add Amenity"]})]})]})]})});function EE(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(e=0;e<o;e++)s[e]&&(t=EE(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function no(){for(var s,e,t=0,r="",o=arguments.length;t<o;t++)(s=arguments[t])&&(e=EE(s))&&(r&&(r+=" "),r+=e);return r}function t8(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}t8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Zu=s=>typeof s=="number"&&!isNaN(s),po=s=>typeof s=="string",fa=s=>typeof s=="function",s8=s=>po(s)||Zu(s),u0=s=>po(s)||fa(s)?s:null,n8=(s,e)=>s===!1||Zu(s)&&s>0?s:e,d0=s=>S.isValidElement(s)||po(s)||fa(s)||Zu(s);function r8(s,e,t=300){let{scrollHeight:r,style:o}=s;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function a8({enter:s,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:c,position:d,preventExitTransition:p,done:m,nodeRef:g,isIn:b,playToast:w}){let v=t?`${s}--${d}`:s,j=t?`${e}--${d}`:e,A=S.useRef(0);return S.useLayoutEffect(()=>{let F=g.current,O=v.split(" "),q=U=>{U.target===g.current&&(w(),F.removeEventListener("animationend",q),F.removeEventListener("animationcancel",q),A.current===0&&U.type!=="animationcancel"&&F.classList.remove(...O))};F.classList.add(...O),F.addEventListener("animationend",q),F.addEventListener("animationcancel",q)},[]),S.useEffect(()=>{let F=g.current,O=()=>{F.removeEventListener("animationend",O),r?r8(F,m,o):m()};b||(p?O():(A.current=1,F.className+=` ${j}`,F.addEventListener("animationend",O)))},[b]),Ct.createElement(Ct.Fragment,null,c)}}function y_(s,e){return{content:TE(s.content,s.props),containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,reason:s.removalReason,status:e}}function TE(s,e,t=!1){return S.isValidElement(s)&&!po(s.type)?S.cloneElement(s,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):fa(s)?s({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):s}function i8({closeToast:s,theme:e,ariaLabel:t="close"}){return Ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),s(!0)},"aria-label":t},Ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function o8({delay:s,isRunning:e,closeToast:t,type:r="default",hide:o,className:c,controlledProgress:d,progress:p,rtl:m,isIn:g,theme:b}){let w=o||d&&p===0,v={animationDuration:`${s}ms`,animationPlayState:e?"running":"paused"};d&&(v.transform=`scaleX(${p})`);let j=no("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":m}),A=fa(c)?c({rtl:m,type:r,defaultClassName:j}):no(j,c),F={[d&&p>=1?"onTransitionEnd":"onAnimationEnd"]:d&&p<1?null:()=>{g&&t()}};return Ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${r}`}),Ct.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:A,style:v,...F}))}var l8=1,SE=()=>`${l8++}`;function c8(s,e,t){let r=1,o=0,c=[],d=[],p=e,m=new Map,g=new Set,b=U=>(g.add(U),()=>g.delete(U)),w=()=>{d=Array.from(m.values()),g.forEach(U=>U())},v=({containerId:U,toastId:P,updateId:B})=>{let Q=U?U!==s:s!==1,ie=m.has(P)&&B==null;return Q||ie},j=(U,P)=>{m.forEach(B=>{var Q;(P==null||P===B.props.toastId)&&((Q=B.toggle)==null||Q.call(B,U))})},A=U=>{var P,B;(B=(P=U.props)==null?void 0:P.onClose)==null||B.call(P,U.removalReason),U.isActive=!1},F=U=>{if(U==null)m.forEach(A);else{let P=m.get(U);P&&A(P)}w()},O=()=>{o-=c.length,c=[]},q=U=>{var P,B;let{toastId:Q,updateId:ie}=U.props,M=ie==null;U.staleId&&m.delete(U.staleId),U.isActive=!0,m.set(Q,U),w(),t(y_(U,M?"added":"updated")),M&&((B=(P=U.props).onOpen)==null||B.call(P))};return{id:s,props:p,observe:b,toggle:j,removeToast:F,toasts:m,clearQueue:O,buildToast:(U,P)=>{if(v(P))return;let{toastId:B,updateId:Q,data:ie,staleId:M,delay:R}=P,T=Q==null;T&&o++;let L={...p,style:p.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([C,E])=>E!=null)),toastId:B,updateId:Q,data:ie,isIn:!1,className:u0(P.className||p.toastClassName),progressClassName:u0(P.progressClassName||p.progressClassName),autoClose:P.isLoading?!1:n8(P.autoClose,p.autoClose),closeToast(C){m.get(B).removalReason=C,F(B)},deleteToast(){let C=m.get(B);if(C!=null){if(t(y_(C,"removed")),m.delete(B),o--,o<0&&(o=0),c.length>0){q(c.shift());return}w()}}};L.closeButton=p.closeButton,P.closeButton===!1||d0(P.closeButton)?L.closeButton=P.closeButton:P.closeButton===!0&&(L.closeButton=d0(p.closeButton)?p.closeButton:!0);let z={content:U,props:L,staleId:M};p.limit&&p.limit>0&&o>p.limit&&T?c.push(z):Zu(R)?setTimeout(()=>{q(z)},R):q(z)},setProps(U){p=U},setToggle:(U,P)=>{let B=m.get(U);B&&(B.toggle=P)},isToastActive:U=>{var P;return(P=m.get(U))==null?void 0:P.isActive},getSnapshot:()=>d}}var Bs=new Map,Au=[],h0=new Set,u8=s=>h0.forEach(e=>e(s)),AE=()=>Bs.size>0;function d8(){Au.forEach(s=>CE(s.content,s.options)),Au=[]}var h8=(s,{containerId:e})=>{var t;return(t=Bs.get(e||1))==null?void 0:t.toasts.get(s)};function RE(s,e){var t;if(e)return!!((t=Bs.get(e))!=null&&t.isToastActive(s));let r=!1;return Bs.forEach(o=>{o.isToastActive(s)&&(r=!0)}),r}function f8(s){if(!AE()){Au=Au.filter(e=>s!=null&&e.options.toastId!==s);return}if(s==null||s8(s))Bs.forEach(e=>{e.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){let e=Bs.get(s.containerId);e?e.removeToast(s.id):Bs.forEach(t=>{t.removeToast(s.id)})}}var m8=(s={})=>{Bs.forEach(e=>{e.props.limit&&(!s.containerId||e.id===s.containerId)&&e.clearQueue()})};function CE(s,e){d0(s)&&(AE()||Au.push({content:s,options:e}),Bs.forEach(t=>{t.buildToast(s,e)}))}function p8(s){var e;(e=Bs.get(s.containerId||1))==null||e.setToggle(s.id,s.fn)}function IE(s,e){Bs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(s,e?.id)})}function g8(s){let e=s.containerId||1;return{subscribe(t){let r=c8(e,s,u8);Bs.set(e,r);let o=r.observe(t);return d8(),()=>{o(),Bs.delete(e)}},setProps(t){var r;(r=Bs.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Bs.get(e))==null?void 0:t.getSnapshot()}}}function y8(s){return h0.add(s),()=>{h0.delete(s)}}function x8(s){return s&&(po(s.toastId)||Zu(s.toastId))?s.toastId:SE()}function Ju(s,e){return CE(s,e),e.toastId}function tm(s,e){return{...e,type:e&&e.type||s,toastId:x8(e)}}function sm(s){return(e,t)=>Ju(e,tm(s,t))}function Ze(s,e){return Ju(s,tm("default",e))}Ze.loading=(s,e)=>Ju(s,tm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function b8(s,{pending:e,error:t,success:r},o){let c;e&&(c=po(e)?Ze.loading(e,o):Ze.loading(e.render,{...o,...e}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(g,b,w)=>{if(b==null){Ze.dismiss(c);return}let v={type:g,...d,...o,data:w},j=po(b)?{render:b}:b;return c?Ze.update(c,{...v,...j}):Ze(j.render,{...v,...j}),w},m=fa(s)?s():s;return m.then(g=>p("success",r,g)).catch(g=>p("error",t,g)),m}Ze.promise=b8;Ze.success=sm("success");Ze.info=sm("info");Ze.error=sm("error");Ze.warning=sm("warning");Ze.warn=Ze.warning;Ze.dark=(s,e)=>Ju(s,tm("default",{theme:"dark",...e}));function v8(s){f8(s)}Ze.dismiss=v8;Ze.clearWaitingQueue=m8;Ze.isActive=RE;Ze.update=(s,e={})=>{let t=h8(s,e);if(t){let{props:r,content:o}=t,c={delay:100,...r,...e,toastId:e.toastId||s,updateId:SE()};c.toastId!==s&&(c.staleId=s);let d=c.render||o;delete c.render,Ju(d,c)}};Ze.done=s=>{Ze.update(s,{progress:1})};Ze.onChange=y8;Ze.play=s=>IE(!0,s);Ze.pause=s=>IE(!1,s);function w8(s){var e;let{subscribe:t,getSnapshot:r,setProps:o}=S.useRef(g8(s)).current;o(s);let c=(e=S.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function d(p){if(!c)return[];let m=new Map;return s.newestOnTop&&c.reverse(),c.forEach(g=>{let{position:b}=g.props;m.has(b)||m.set(b,[]),m.get(b).push(g)}),Array.from(m,g=>p(g[0],g[1]))}return{getToastToRender:d,isToastActive:RE,count:c?.length}}function _8(s){let[e,t]=S.useState(!1),[r,o]=S.useState(!1),c=S.useRef(null),d=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:m,closeToast:g,onClick:b,closeOnClick:w}=s;p8({id:s.toastId,containerId:s.containerId,fn:t}),S.useEffect(()=>{if(s.pauseOnFocusLoss)return v(),()=>{j()}},[s.pauseOnFocusLoss]);function v(){document.hasFocus()||q(),window.addEventListener("focus",O),window.addEventListener("blur",q)}function j(){window.removeEventListener("focus",O),window.removeEventListener("blur",q)}function A(M){if(s.draggable===!0||s.draggable===M.pointerType){U();let R=c.current;d.canCloseOnClick=!0,d.canDrag=!0,R.style.transition="none",s.draggableDirection==="x"?(d.start=M.clientX,d.removalDistance=R.offsetWidth*(s.draggablePercent/100)):(d.start=M.clientY,d.removalDistance=R.offsetHeight*(s.draggablePercent===80?s.draggablePercent*1.5:s.draggablePercent)/100)}}function F(M){let{top:R,bottom:T,left:L,right:z}=c.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&s.pauseOnHover&&M.clientX>=L&&M.clientX<=z&&M.clientY>=R&&M.clientY<=T?q():O()}function O(){t(!0)}function q(){t(!1)}function U(){d.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",Q)}function P(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Q)}function B(M){let R=c.current;if(d.canDrag&&R){d.didMove=!0,e&&q(),s.draggableDirection==="x"?d.delta=M.clientX-d.start:d.delta=M.clientY-d.start,d.start!==M.clientX&&(d.canCloseOnClick=!1);let T=s.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;R.style.transform=`translate3d(${T},0)`,R.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){P();let M=c.current;if(d.canDrag&&d.didMove&&M){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){o(!0),s.closeToast(!0),s.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let ie={onPointerDown:A,onPointerUp:F};return p&&m&&(ie.onMouseEnter=q,s.stacked||(ie.onMouseLeave=O)),w&&(ie.onClick=M=>{b&&b(M),d.canCloseOnClick&&g(!0)}),{playToast:O,pauseToast:q,isRunning:e,preventExitTransition:r,toastRef:c,eventHandlers:ie}}var N8=typeof window<"u"?S.useLayoutEffect:S.useEffect,nm=({theme:s,type:e,isLoading:t,...r})=>Ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function j8(s){return Ct.createElement(nm,{...s},Ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function E8(s){return Ct.createElement(nm,{...s},Ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function T8(s){return Ct.createElement(nm,{...s},Ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function S8(s){return Ct.createElement(nm,{...s},Ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function A8(){return Ct.createElement("div",{className:"Toastify__spinner"})}var f0={info:E8,warning:j8,success:T8,error:S8,spinner:A8},R8=s=>s in f0;function C8({theme:s,type:e,isLoading:t,icon:r}){let o=null,c={theme:s,type:e};return r===!1||(fa(r)?o=r({...c,isLoading:t}):S.isValidElement(r)?o=S.cloneElement(r,c):t?o=f0.spinner():R8(e)&&(o=f0[e](c))),o}var I8=s=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:c}=_8(s),{closeButton:d,children:p,autoClose:m,onClick:g,type:b,hideProgressBar:w,closeToast:v,transition:j,position:A,className:F,style:O,progressClassName:q,updateId:U,role:P,progress:B,rtl:Q,toastId:ie,deleteToast:M,isIn:R,isLoading:T,closeOnClick:L,theme:z,ariaLabel:C}=s,E=no("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":L}),re=fa(F)?F({rtl:Q,position:A,type:b,defaultClassName:E}):no(E,F),de=C8(s),K=!!B||!m,ye={closeToast:v,type:b,theme:z},ve=null;return d===!1||(fa(d)?ve=d(ye):S.isValidElement(d)?ve=S.cloneElement(d,ye):ve=i8(ye)),Ct.createElement(j,{isIn:R,done:M,position:A,preventExitTransition:t,nodeRef:r,playToast:c},Ct.createElement("div",{id:ie,tabIndex:0,onClick:g,"data-in":R,className:re,...o,style:O,ref:r,...R&&{role:P,"aria-label":C}},de!=null&&Ct.createElement("div",{className:no("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},de),TE(p,s,!e),ve,!s.customProgressBar&&Ct.createElement(o8,{...U&&!K?{key:`p-${U}`}:{},rtl:Q,theme:z,delay:m,isRunning:e,isIn:R,closeToast:v,hide:w,type:b,className:q,controlledProgress:K,progress:B||0})))},k8=(s,e=!1)=>({enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:e}),P8=a8(k8("bounce",!0)),D8={position:"top-right",transition:P8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:s=>s.altKey&&s.code==="KeyT"};function M8(s){let e={...D8,...s},t=s.stacked,[r,o]=S.useState(!0),c=S.useRef(null),{getToastToRender:d,isToastActive:p,count:m}=w8(e),{className:g,style:b,rtl:w,containerId:v,hotKeys:j}=e;function A(O){let q=no("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":w});return fa(g)?g({position:O,rtl:w,defaultClassName:q}):no(q,u0(g))}function F(){t&&(o(!0),Ze.play())}return N8(()=>{var O;if(t){let q=c.current.querySelectorAll('[data-in="true"]'),U=12,P=(O=e.position)==null?void 0:O.includes("top"),B=0,Q=0;Array.from(q).reverse().forEach((ie,M)=>{let R=ie;R.classList.add("Toastify__toast--stacked"),M>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=P?"top":"bot");let T=B*(r?.2:1)+(r?0:U*M);R.style.setProperty("--y",`${P?T:T*-1}px`),R.style.setProperty("--g",`${U}`),R.style.setProperty("--s",`${1-(r?Q:0)}`),B+=R.offsetHeight,Q+=.025})}},[r,m,t]),S.useEffect(()=>{function O(q){var U;let P=c.current;j(q)&&((U=P.querySelector('[tabIndex="0"]'))==null||U.focus(),o(!1),Ze.pause()),q.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),Ze.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[j]),Ct.createElement("section",{ref:c,className:"Toastify",id:v,onMouseEnter:()=>{t&&(o(!1),Ze.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},d((O,q)=>{let U=q.length?{...b}:{...b,pointerEvents:"none"};return Ct.createElement("div",{tabIndex:-1,className:A(O),"data-stacked":t,style:U,key:`c-${O}`},q.map(({content:P,props:B})=>Ct.createElement(I8,{...B,stacked:t,collapseAll:F,isIn:p(B.toastId,B.containerId),key:`t-${B.key}`},P)))}))}const O8=({propertyId:s=null,existingProperty:e=null})=>{const t=["24/7 Electricity","Water facilities","Furnished","Serviced","Swimming pool","Parking Space","Elevator","Gym","Security","Generator","CCTV","Balcony","Garden","Laundry"],r=["YES, show it (recommended)","No, do not"],o=["YES, show it","No, do not show","Show price range only","Contact for price"],c={Nigeria:{Lagos:["Ikeja","Victoria Island","Lekki","Surulere","Yaba","Ajah","Ikoyi","Maryland","Gbagada","Festac"],Abuja:["Garki","Wuse","Maitama","Asokoro","Gwarinpa","Kubwa","Lugbe","Nyanya","Karu","Jahi"],Rivers:["Port Harcourt","Obio-Akpor","Eleme","Ikwerre","Oyigbo","Okrika","Ogu–Bolo","Degema"],Kano:["Kano Municipal","Fagge","Dala","Gwale","Tarauni","Nassarawa","Ungogo","Kumbotso"],Oyo:["Ibadan North","Ibadan South-West","Ibadan North-East","Ibadan North-West","Ibadan South-East","Egbeda","Akinyele","Lagelu"]},Ghana:{"Greater Accra":["Accra","Tema","Ga West","Ga East","Ga Central","Ga South","Ledzokuku-Krowor"],Ashanti:["Kumasi","Obuasi","Ejisu-Juaben","Bekwai","Oforikrom","Asokwa","Kwadaso"],Western:["Sekondi-Takoradi","Tarkwa-Nsuaem","Prestea Huni-Valley","Ellembelle","Nzema East"]},"South Africa":{Gauteng:["Johannesburg","Pretoria","Soweto","Randburg","Sandton","Midrand","Germiston","Benoni"],"Western Cape":["Cape Town","Stellenbosch","Paarl","George","Worcester","Hermanus","Mossel Bay"],"KwaZulu-Natal":["Durban","Pietermaritzburg","Newcastle","Richards Bay","Pinetown","Chatsworth"]}},d=async ce=>{try{const Te=gt(),_e=ct(Te,"users",ce,"profiles","userProfile"),Pe=await ls(_e);return Pe.exists()&&Pe.data().validation||!1}catch(Te){return console.error("Error checking profile validation:",Te),!1}},[p,m]=S.useState([]),[g,b]=S.useState(null),[w,v]=S.useState(!1),[j,A]=S.useState(""),[F,O]=S.useState(""),[q,U]=S.useState(!1),[P,B]=S.useState({listingTitle:e?.title||"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:e?.advertisingFor||"",propertyType:e?.propertyType||"House",useOfProperty:e?.useOfProperty||"Unspecified",marketStatus:e?.marketStatus||"Available",country:e?.country||"Nigeria",state:e?.state||"Lagos",city:e?.city||"Ikeja",address:e?.address||"No 14, adeshina street",currency:e?.currency||"Nigeria Naira",price:e?.price||"0",price_per:e?.price_per||"Year",bedroom:e?.bedroom||3,bathroom:e?.bathroom||4,toilet:e?.toilet||5,year_built:e?.year_built||"2014",totalArea:e?.totalArea||"3425",totalAreaUnit:e?.totalAreaUnit||"sqm",coveredArea:e?.coveredArea||1234,coveredAreaUnit:e?.coveredAreaUnit||"sqm",images:e?.images||[],description:e?.description||"",features:e?.features||[""],nearbyAmenities:e?.nearbyAmenities||[""],showAddress:e?.showAddress||"YES, show it (recommended)",showPrice:e?.showPrice||"YES, show it",propertyCondition:e?.propertyCondition||"Newly Built",furnishingStatus:e?.furnishingStatus||"Unfurnished",availableFrom:e?.availableFrom||"",minimumRentPeriod:e?.minimumRentPeriod||"1 Year",utilitiesIncluded:e?.utilitiesIncluded||[],petPolicy:e?.petPolicy||"Not Allowed",smokingPolicy:e?.smokingPolicy||"Not Allowed"}),[Q,ie]=S.useState(Object.keys(c.Nigeria||{})),[M,R]=S.useState(c.Nigeria?.Lagos||[]);S.useEffect(()=>{if(P.country&&c[P.country]){const ce=Object.keys(c[P.country]);ie(ce),ce.includes(P.state)||B(Te=>({...Te,state:ce[0]||"",city:""}))}},[P.country]),S.useEffect(()=>{if(P.country&&P.state&&c[P.country]?.[P.state]){const ce=c[P.country][P.state];R(ce),ce.includes(P.city)||B(Te=>({...Te,city:ce[0]||""}))}},[P.country,P.state]);const[T,L]=S.useState("details"),[z,C]=S.useState([]),[E,re]=S.useState(!1);S.useEffect(()=>{const Te=new URLSearchParams(window.location.search).get("edit");Te?de(Te):s&&e&&K(e)},[g]);const de=async ce=>{if(g)try{v(!0);const{getUserProperties:Te}=await XO(async()=>{const{getUserProperties:tt}=await Promise.resolve().then(()=>kO);return{getUserProperties:tt}},[]),Pe=(await Te()).find(tt=>tt.id===ce);if(Pe){if(Pe.userId!==g.uid){const tt="You do not have permission to edit this property.";A(tt),Ze.error(tt);return}K(Pe)}else A("Property not found."),Ze.error("Property not found.")}catch{A("Error loading property for editing.")}finally{v(!1)}},K=ce=>{if(U(!0),m(ce.amenities||[]),B({listingTitle:ce.title||"",advertisingFor:ce.advertisingFor||"",propertyType:ce.propertyType||"House",useOfProperty:ce.useOfProperty||"Unspecified",marketStatus:ce.marketStatus||"Available",country:ce.country||"Nigeria",state:ce.state||"Lagos",city:ce.city||"",address:ce.address||"",currency:ce.currency||"Nigeria Naira",price:ce.price?.toString()||"0",price_per:ce.pricePer||"Year",bedroom:ce.bedroom||0,bathroom:ce.bathroom||0,toilet:ce.toilet||0,year_built:ce.yearBuilt||"",totalArea:ce.totalArea?.toString()||"",totalAreaUnit:ce.totalAreaUnit||"sqm",coveredArea:ce.coveredArea||0,coveredAreaUnit:ce.coveredAreaUnit||"sqm",images:ce.images||[],description:ce.description||"",features:ce.features||[""],nearbyAmenities:ce.nearbyAmenities||[""],showAddress:ce.showAddress?"YES, show it (recommended)":"No, do not",showPrice:ce.showPrice?"YES, show it (recommended)":"No, do not",propertyCondition:ce.propertyCondition||"Newly Built",furnishingStatus:ce.furnishingStatus||"Unfurnished",availableFrom:ce.availableFrom||"",minimumRentPeriod:ce.minimumRentPeriod||"1 Year",utilitiesIncluded:ce.utilitiesIncluded||[],petPolicy:ce.petPolicy||"Not Allowed",smokingPolicy:ce.smokingPolicy||"Not Allowed"}),ce.images&&ce.images.length>0){const Te=ce.images.map((_e,Pe)=>({id:`existing-${Pe}`,name:`image-${Pe}`,size:0,type:"image/jpeg",preview:_e,isExisting:!0,url:_e}));C(Te)}};S.useEffect(()=>Pn(Te=>{b(Te)}),[]);const ye=ce=>{m(Te=>Te.includes(ce)?Te.filter(_e=>_e!==ce):[...Te,ce])},ve=(ce,Te)=>{B(_e=>({..._e,[ce]:Te})),ce==="images"&&B(_e=>({..._e,images:z.map(Pe=>Pe.preview||Pe.url)}))},H=(ce,Te,_e)=>{B(Pe=>({...Pe,[ce]:Pe[ce].map((tt,Ot)=>Ot===Te?_e:tt)}))},k=ce=>{B(Te=>({...Te,[ce]:[...Te[ce],""]}))},G=(ce,Te)=>{B(_e=>({..._e,[ce]:_e[ce].filter((Pe,tt)=>tt!==Te)}))},ee=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),V=ce=>new Promise((Te,_e)=>{const Pe=new FileReader;Pe.onload=tt=>Te(tt.target.result),Pe.onerror=_e,Pe.readAsDataURL(ce)}),ue=(ce,Te=800,_e=600,Pe=.8)=>new Promise((tt,Ot)=>{if(typeof window>"u"||typeof document>"u"){V(ce).then(tt).catch(Ot);return}const en=document.createElement("canvas"),dt=en.getContext("2d"),Fe=document.createElement("img");Fe.onload=()=>{try{let{width:We,height:Lt}=Fe;if(We>Te||Lt>_e){const ga=Math.min(Te/We,_e/Lt);We*=ga,Lt*=ga}en.width=We,en.height=Lt,dt.drawImage(Fe,0,0,We,Lt);const xi=en.toDataURL(ce.type,Pe);if(xi.length>200*1024*1.37){const ga=Math.max(.3,Pe-.2),Cr=en.toDataURL(ce.type,ga);tt(Cr)}else tt(xi);Fe.src&&Fe.src.startsWith("blob:")&&URL.revokeObjectURL(Fe.src)}catch(We){console.error("Error in image compression:",We),Fe.src&&Fe.src.startsWith("blob:")&&URL.revokeObjectURL(Fe.src),V(ce).then(tt).catch(Ot)}},Fe.onerror=We=>{console.error("Error loading image:",We),V(ce).then(tt).catch(Ot)};try{Fe.src=URL.createObjectURL(ce)}catch(We){console.error("Error creating object URL:",We),V(ce).then(tt).catch(Ot)}}),W=async ce=>{if(!ce)return;v(!0);const Te=[];try{for(const _e of Array.from(ce)){if(_e.size>10*1024*1024){Ze.error(`${_e.name} is too large. Maximum size is 10MB.`);continue}if(!_e.type.startsWith("image/")){Ze.error(`${_e.name} is not a valid image file.`);continue}try{const Pe=await ue(_e);Te.push({id:ee(),name:_e.name,size:_e.size,type:_e.type,preview:Pe,isExisting:!1,url:Pe})}catch(Pe){console.error(`Error compressing ${_e.name}:`,Pe),Ze.error("Failed to process images. Please try again.")}}Te.length>0&&(C(_e=>[..._e,...Te]),setTimeout(()=>{B(_e=>({..._e,images:[...z,...Te].map(Pe=>Pe.url||Pe.preview)}))},0))}catch(_e){console.error("Error processing images:",_e),alert("Failed to process images. Please try again.")}finally{v(!1)}},se=ce=>{const Te=z.filter(_e=>_e.id!==ce);C(Te),B(_e=>({..._e,images:Te.map(Pe=>Pe.url||Pe.preview)}))},Ne=ce=>{ce.preventDefault(),re(!1);const Te=ce.dataTransfer.files;W(Te)},Se=ce=>{ce.preventDefault(),re(!0)},$e=ce=>{ce.preventDefault(),re(!1)},Ye=()=>{T==="details"?L("media"):T==="media"?L("description"):T==="description"&&ge()},me=()=>{T==="media"?L("details"):T==="description"&&L("media")},X=()=>{const ce=[];return(!P.listingTitle||P.listingTitle.trim()===""||P.listingTitle==="e.g, 4 Bedroom Serviced Duplex with BQ")&&ce.push("Please enter a valid listing title"),P.advertisingFor||ce.push("Please select what you are advertising for"),(!P.price||P.price==="0")&&ce.push("Please enter a valid price"),(!P.description||P.description.trim()==="")&&ce.push("Please enter a property description"),z.length===0&&ce.push("Please upload at least one image"),P.country||ce.push("Please select a country"),P.state||ce.push("Please select a state"),P.city||ce.push("Please select a city"),P.availableFrom&&new Date(P.availableFrom)<new Date&&ce.push("Available from date cannot be in the past"),ce},ge=async()=>{if(!g){const _e="Please sign in to create a listing";A(_e),Ze.error(_e);return}if(!await d(g.uid)){const _e="Your profile is not validated yet. Please complete your profile validation by uploading required documents.";A(_e),Ze.error(_e,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{window.confirm("Would you like to go to Profile Management to complete validation?")&&(window.location.href="/Property_Premium/dashboard/my-account")},2e3);return}const Te=X();if(Te.length>0){const _e=Te.join(". ");A(_e),Ze.error(_e);return}v(!0),A(""),O("");try{const _e=z.map(We=>We.url||We.preview),Pe=new Date,tt={userId:g.uid,userEmail:g.email,userName:g.displayName||g.email?.split("@")[0]||"Anonymous",userPhotoURL:g.photoURL||null,title:P.listingTitle,advertisingFor:P.advertisingFor,propertyType:P.propertyType,useOfProperty:P.useOfProperty,marketStatus:P.marketStatus,country:P.country,state:P.state,city:P.city,address:P.address,showAddress:P.showAddress==="YES, show it (recommended)",currency:P.currency,price:parseFloat(P.price),pricePer:P.price_per,showPriceOption:P.showPrice,showPrice:P.showPrice==="YES, show it",bedroom:parseInt(P.bedroom),bathroom:parseInt(P.bathroom),toilet:parseInt(P.toilet),yearBuilt:P.year_built,totalArea:parseFloat(P.totalArea),totalAreaUnit:P.totalAreaUnit,coveredArea:parseFloat(P.coveredArea),coveredAreaUnit:P.coveredAreaUnit,images:_e,description:P.description,features:P.features.filter(We=>We.trim()!==""),nearbyAmenities:P.nearbyAmenities.filter(We=>We.trim()!==""),amenities:p,location:`${P.city}, ${P.state}, ${P.country}`,status:"active",propertyCondition:P.propertyCondition,furnishingStatus:P.furnishingStatus,availableFrom:P.availableFrom,minimumRentPeriod:P.minimumRentPeriod,utilitiesIncluded:P.utilitiesIncluded,petPolicy:P.petPolicy,smokingPolicy:P.smokingPolicy,locationHierarchy:{country:P.country,state:P.state,city:P.city,fullAddress:P.address},createdAt:q&&e?.createdAt||Pe,updatedAt:Pe,source:"web_app",version:"1.1",searchKeywords:[P.propertyType.toLowerCase(),P.city.toLowerCase(),P.state.toLowerCase(),P.advertisingFor.toLowerCase(),...p.map(We=>We.toLowerCase())],pricePerUnit:P.totalArea?parseFloat(P.price)/parseFloat(P.totalArea):0},Ot=gt(),dt=new URLSearchParams(window.location.search).get("edit");let Fe;if(q&&dt){const We=ct(Ot,"users",g.uid,"properties",dt);await Ps(We,tt),Fe={id:dt,...tt},O("Property updated successfully! 🎉"),Ze.success("Property updated successfully! 🎉"),setTimeout(()=>{window.location.href="/Property_Premium/dashboard/my-listings"},2e3)}else{const We=pt(Ot,"users",g.uid,"properties");Fe={id:(await hu(We,tt)).id,...tt},O("Property listing created successfully! 🎉"),Ze.success("Property listing created successfully! 🎉"),setTimeout(()=>{window.location.href="/Property_Premium/dashboard/my-listings"},1500)}console.log("Property saved:",Fe),console.log("Associated with user:",g.uid),setTimeout(()=>{q||Ke(),O("")},3e3)}catch(_e){console.error("Error submitting property:",_e);const Pe=_e.message||"Failed to submit property. Please try again.";A(Pe),Ze.error(Pe)}finally{v(!1)}},Ie=({user:ce,onCheckValidation:Te})=>{const[_e,Pe]=S.useState(null),[tt,Ot]=S.useState(!0);S.useEffect(()=>{ce&&en()},[ce]);const en=async()=>{try{const dt=await d(ce.uid);Pe(dt)}catch(dt){console.error("Error checking validation:",dt),Pe(!1)}finally{Ot(!1)}};return tt?a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-blue-700",children:"Checking profile validation..."})}):_e===!1?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Profile Validation Required"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:"You need to complete your profile validation before creating listings. Please upload your required documents."}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:()=>window.location.href="/Property_Premium/dashboard/my-account",className:"bg-red-100 text-red-800 px-3 py-2 rounded-md text-sm font-medium hover:bg-red-200 transition-colors",children:"Complete Profile Validation"})})]})]})}):_e===!0?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-700 font-medium",children:"✓ Profile validated - You can create listings"})})]})}):null},Ke=()=>{B({listingTitle:"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:"",propertyType:"House",useOfProperty:"Unspecified",marketStatus:"Available",country:"Nigeria",state:"Lagos",city:"Ikeja",address:"No 14, adeshina street",currency:"Nigeria Naira",price:"0",price_per:"Year",bedroom:3,bathroom:4,toilet:5,year_built:"2014",totalArea:"3425",totalAreaUnit:"sqm",coveredArea:1234,coveredAreaUnit:"sqm",images:[],description:"",features:[""],nearbyAmenities:[""],showAddress:"YES, show it (recommended)",showPrice:"YES, show it",propertyCondition:"Newly Built",furnishingStatus:"Unfurnished",availableFrom:"",minimumRentPeriod:"1 Year",utilitiesIncluded:[],petPolicy:"Not Allowed",smokingPolicy:"Not Allowed"}),C([]),m([]),L("details"),ie(Object.keys(c.Nigeria||{})),R(c.Nigeria?.Lagos||[])},rt=(ce,Te)=>{switch(ce){case"YES, show it":return Te;case"Show price range only":const _e=parseFloat(Te);return _e<1e5?"Under ₦100k":_e<5e5?"₦100k - ₦500k":_e<1e6?"₦500k - ₦1M":_e<5e6?"₦1M - ₦5M":"Above ₦5M";case"Contact for price":return"Contact for Price";default:return"Price not disclosed"}},Ce=({id:ce,icon:Te,label:_e,isActive:Pe})=>a.jsxs("button",{onClick:()=>L(ce),disabled:w,className:`flex flex-col items-center px-6 py-4 border-b-2 transition-colors ${Pe?"border-blue-500 text-blue-600":"border-gray-200 text-gray-500 hover:text-gray-700"} ${w?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Te,{className:"w-6 h-6 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:_e})]}),Be=({label:ce,value:Te,onChange:_e,options:Pe,placeholder:tt="--select--"})=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:ce}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:Te,onChange:Ot=>_e(Ot.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:tt}),Pe.map(Ot=>a.jsx("option",{value:Ot,children:Ot},Ot))]}),a.jsx(Xa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]});return g?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[a.jsxs("div",{className:"flex border-b border-gray-200",children:[a.jsx(Ce,{id:"details",icon:Du,label:"DETAILS",isActive:T==="details"}),a.jsx(Ce,{id:"media",icon:P4,label:"MEDIA",isActive:T==="media"}),a.jsx(Ce,{id:"description",icon:xu,label:"DESCRIPTION",isActive:T==="description"})]}),a.jsxs("div",{className:"p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:q?"EDIT PROPERTY":"CREATE NEW PROPERTY"}),g&&a.jsx(Ie,{user:g}),j&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ys,{className:"h-5 w-5 text-red-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:j})}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("div",{className:"-mx-1.5 -my-1.5",children:a.jsx("button",{onClick:()=>A(""),className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-400 hover:bg-red-100",children:a.jsx(ys,{className:"w-4 h-4"})})})})]})}),F&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-700",children:F})}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("div",{className:"-mx-1.5 -my-1.5",children:a.jsx("button",{onClick:()=>O(""),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-400 hover:bg-green-100",children:a.jsx(ys,{className:"w-4 h-4"})})})})]})}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[a.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Important notice"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"We do not allow the posting or marketing of properties that you do not have the legal authority to do so. Should we suspect potential scam or are reported to, we reserve the right to notify security operatives and share your information to the authorities before account is permanently closed. Thank you for your honesty."})]}),T==="details"&&a.jsx(ZO,{formData:P,handleInputChange:ve,options:t,addressViewer:r,selectedOptions:p,handleCheckboxChange:ye,SelectField:Be,priceViewer:o,disabled:w,locationData:c,availableStates:Q,availableCities:M,getPriceDisplayText:rt}),T==="media"&&a.jsx(JO,{handleDrop:Ne,handleDragOver:Se,handleDragLeave:$e,handleImageUpload:W,uploadedImages:z,removeImage:se,dragOver:E,disabled:w}),T==="description"&&a.jsx(e8,{formData:P,handleInputChange:ve,handleListChange:H,addListItem:k,removeListItem:G,disabled:w}),a.jsxs("div",{className:"flex justify-between items-center mt-12",children:[a.jsx("button",{onClick:me,disabled:T==="details"||w,className:`px-6 py-2 border rounded-md transition-colors ${T==="details"||w?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${T==="details"?"bg-blue-600":"bg-blue-200"}`}),a.jsx("div",{className:`w-3 h-3 rounded-full ${T==="media"?"bg-blue-600":"bg-blue-200"}`}),a.jsx("div",{className:`w-3 h-3 rounded-full ${T==="description"?"bg-blue-600":"bg-blue-200"}`})]}),a.jsx("button",{onClick:Ye,disabled:w,className:`px-8 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,children:w?a.jsxs(a.Fragment,{children:[a.jsx(bu,{className:"w-4 h-4 animate-spin"}),T==="description"?"Submitting...":"Processing..."]}):a.jsxs(a.Fragment,{children:[T==="description"?q?"Update":"Submit":"Next",T==="description"&&a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})})]})]}),a.jsx("div",{className:"fixed bottom-6 right-6",children:a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-lg shadow-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})}),a.jsx(M8,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",style:{zIndex:9999}})]})}):a.jsx("div",{className:"max-w-4xl mx-auto bg-white p-8",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),a.jsx("p",{className:"text-yellow-700",children:"Please sign in to create or edit property listings."})]})})})},L8=()=>{const[s,e]=S.useState([]),[t,r]=S.useState([]),[o,c]=S.useState([]),[d,p]=S.useState(!1),[m,g]=S.useState(!0),[b,w]=S.useState(""),[v,j]=S.useState(null),[A,F]=S.useState(1),[O]=S.useState(8),q=Jn(),U=async W=>{try{const se=gt(),Ne=ct(se,"users",W),Se=await ls(Ne);if(Se.exists()){const $e=Se.data();e($e.wishlist||[])}}catch(se){console.error("Error fetching wishlist:",se)}},P=async W=>{const se={title:W.title,text:`Check out this property: ${W.title} in ${W.city}, ${W.state}`,url:`${window.location.origin}/property/${W.id}`};try{navigator.share&&navigator.canShare&&navigator.canShare(se)?await navigator.share(se):(await navigator.clipboard.writeText(se.url),alert("Property link copied to clipboard!"))}catch(Ne){console.error("Error sharing:",Ne);try{await navigator.clipboard.writeText(se.url),alert("Property link copied to clipboard!")}catch(Se){console.error("Clipboard error:",Se),alert("Unable to share. Please copy the URL manually.")}}},B=W=>{const se=[...W];for(let Ne=se.length-1;Ne>0;Ne--){const Se=Math.floor(Math.random()*(Ne+1));[se[Ne],se[Se]]=[se[Se],se[Ne]]}return se},Q=A*O,ie=Q-O,M=o.slice(ie,Q),R=Math.ceil(o.length/O),[T,L]=S.useState({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:""}),[z,C]=S.useState("shuffle"),[E,re]=S.useState(!1),[de,K]=S.useState("grid");S.useEffect(()=>{F(1)},[T,z]),S.useEffect(()=>Pn(se=>{j(se),se?U(se.uid):e([])}),[]);const ye=async()=>{try{g(!0);const W=gt();let se;try{se=Vt(pt(W,"properties"),gs("advertisingFor","==","Sale"),gs("status","==","active"),dy("createdAt","desc"))}catch{console.log("Composite index not ready, using simpler query"),se=Vt(pt(W,"properties"),gs("advertisingFor","==","Sale"),gs("status","==","active"))}const Ne=await ut(se),Se=[];Ne.forEach(Ye=>{const me=Ye.data();Se.push({id:Ye.id,...me,createdAt:me.createdAt?.toDate?me.createdAt.toDate():new Date(me.createdAt)})}),Se.sort((Ye,me)=>new Date(me.createdAt)-new Date(Ye.createdAt));const $e=B(Se);r($e),c($e),re(!0),w("")}catch(W){console.error("Error fetching properties:",W);try{const se=gt(),Ne=Vt(pt(se,"properties")),Se=await ut(Ne),$e=[];Se.forEach(me=>{const X=me.data();X.advertisingFor==="Sale"&&X.status==="active"&&$e.push({id:me.id,...X,createdAt:X.createdAt?.toDate?X.createdAt.toDate():new Date(X.createdAt)})}),$e.sort((me,X)=>new Date(X.createdAt)-new Date(me.createdAt));const Ye=B($e);r(Ye),c(Ye),w("")}catch(se){console.error("Fallback query also failed:",se),w("Failed to load properties. The database index is still building. Please try again in a few minutes.")}}finally{g(!1)}},ve=async()=>{try{g(!0);const W=gt();try{const se=Vt(oo(W,"properties"),gs("advertisingFor","==","Sale"),gs("status","==","active")),Ne=await ut(se),Se=[];Ne.forEach(Ye=>{const me=Ye.data();Se.push({id:Ye.id,...me,createdAt:me.createdAt?.toDate?me.createdAt.toDate():new Date(me.createdAt)})}),Se.sort((Ye,me)=>new Date(me.createdAt)-new Date(Ye.createdAt));const $e=B(Se);r($e),c($e),re(!0),w("")}catch(se){console.error("Collection group query failed:",se),await H()}}catch(W){console.error("Error fetching properties from user collections:",W),w("Failed to load properties. The database is still setting up. Please try again in a few minutes.")}finally{g(!1)}},H=async()=>{const W=gt(),se=[];try{const Ne=await ut(pt(W,"users"));for(const $e of Ne.docs)try{(await ut(pt(W,"users",$e.id,"properties"))).forEach(me=>{const X=me.data();X.advertisingFor==="Sale"&&X.status==="active"&&se.push({id:me.id,...X,createdAt:X.createdAt?.toDate?X.createdAt.toDate():new Date(X.createdAt)})})}catch(Ye){console.log(`Error fetching properties for user ${$e.id}:`,Ye)}se.sort(($e,Ye)=>new Date(Ye.createdAt)-new Date($e.createdAt));const Se=B(se);r(Se),c(Se),re(!0)}catch(Ne){throw Ne}};S.useEffect(()=>{ve()},[]);const k=W=>`${W.currency==="Nigeria Naira"?"₦":"$"}${W.price?.toLocaleString()||"0"}`;S.useEffect(()=>{let W=t.filter(se=>{const Ne=!T.searchQuery||se.title?.toLowerCase().includes(T.searchQuery.toLowerCase())||se.location?.toLowerCase().includes(T.searchQuery.toLowerCase())||se.description?.toLowerCase().includes(T.searchQuery.toLowerCase()),Se=(!T.priceMin||se.price>=parseInt(T.priceMin))&&(!T.priceMax||se.price<=parseInt(T.priceMax)),$e=!T.location||se.city?.toLowerCase().includes(T.location.toLowerCase())||se.state?.toLowerCase().includes(T.location.toLowerCase())||se.country?.toLowerCase().includes(T.location.toLowerCase()),Ye=!T.propertyType||se.propertyType===T.propertyType,me=!T.bedrooms||se.bedroom>=parseInt(T.bedrooms),X=!T.bathrooms||se.bathroom>=parseInt(T.bathrooms),ge=!T.country||se.country===T.country,Ie=!T.state||se.state===T.state,Ke=!T.city||se.city===T.city;return Ne&&Se&&$e&&Ye&&me&&X&&ge&&Ie&&Ke});if(z==="shuffle")E||(W=B(W),re(!0));else switch(re(!1),z){case"newest":W.sort((se,Ne)=>{const Se=se.createdAt?.toDate?se.createdAt.toDate():new Date(se.createdAt);return(Ne.createdAt?.toDate?Ne.createdAt.toDate():new Date(Ne.createdAt))-Se});break;case"price-low":W.sort((se,Ne)=>se.price-Ne.price);break;case"price-high":W.sort((se,Ne)=>Ne.price-se.price);break;case"bedrooms":W.sort((se,Ne)=>Ne.bedroom-se.bedroom);break}c(W)},[T,z,t]);const G=(W,se)=>{L(Ne=>({...Ne,[W]:se}))},ee=()=>{L({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:""})},V=async W=>{if(!v){alert("Please log in to add properties to wishlist");return}try{const se=gt(),Ne=ct(se,"users",v.uid);s.includes(W)?(await Ps(Ne,{wishlist:lo(W)}),e($e=>$e.filter(Ye=>Ye!==W))):(await Ps(Ne,{wishlist:Hu(W)}),e($e=>[...$e,W]))}catch(se){console.error("Error updating wishlist:",se),alert("Failed to update wishlist. Please try again.")}},ue=({property:W,viewMode:se="grid"})=>se==="list"?a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 flex",children:[a.jsxs("div",{className:"relative w-32 sm:w-48 md:w-64 h-full flex-shrink-0",children:[a.jsx("img",{src:W.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:W.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-1 sm:top-2 md:top-3 left-1 sm:left-2 md:left-3",children:a.jsx("span",{className:"bg-blue-500 text-white px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-medium",children:W.propertyType})}),a.jsx("div",{className:"absolute top-1 sm:top-2 md:top-3 right-1 sm:right-2 md:right-3",children:a.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[a.jsx("button",{onClick:()=>P(W),className:"p-1 sm:p-1.5 md:p-2 rounded-full bg-white text-gray-600 hover:bg-gray-100 transition-colors",title:"Share property",children:a.jsx(Gh,{className:"w-3 sm:w-3.5 md:w-4 h-3 sm:h-3.5 md:h-4"})}),a.jsx("button",{onClick:()=>V(W.id),className:`p-1 sm:p-1.5 md:p-2 rounded-full transition-colors ${s.includes(W.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Add to wishlist",children:a.jsx(Qn,{className:"w-3 sm:w-3.5 md:w-4 h-3 sm:h-3.5 md:h-4",fill:s.includes(W.id)?"currentColor":"none"})})]})})]}),a.jsxs("div",{className:"p-2 sm:p-4 md:p-6 flex-1 flex flex-col justify-between min-w-0",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between gap-2 sm:gap-4 mb-2 sm:mb-3 md:mb-4",children:[a.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-800 truncate",children:W.title}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsx("div",{className:"text-sm sm:text-lg md:text-2xl font-bold text-blue-600",children:k(W)}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"For Sale"})]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2 sm:mb-3 md:mb-4",children:[a.jsx(Ds,{className:"w-3 sm:w-3.5 md:w-4 h-3 sm:h-3.5 md:h-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm truncate",children:W.showAddress?W.address:`${W.city}, ${W.state}`})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 md:gap-6 text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 md:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:["🛏️",a.jsxs("span",{className:"hidden sm:inline",children:[W.bedroom," Beds"]}),a.jsx("span",{className:"sm:hidden",children:W.bedroom})]}),a.jsxs("div",{className:"flex items-center gap-1",children:["🛁",a.jsxs("span",{className:"hidden sm:inline",children:[W.bathroom," Baths"]}),a.jsx("span",{className:"sm:hidden",children:W.bathroom})]}),W.totalArea&&a.jsxs("div",{className:"flex items-center gap-1",children:["📐",a.jsxs("span",{className:"hidden md:inline",children:[W.totalArea," ",W.totalAreaUnit]}),a.jsx("span",{className:"md:hidden",children:W.totalArea})]})]}),a.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 sm:mb-3 md:mb-4 line-clamp-1 sm:line-clamp-2 md:line-clamp-3",children:W.description})]}),a.jsxs("button",{onClick:()=>q(`/property/${W.id}`),className:"bg-blue-600 text-white py-1.5 sm:py-2 px-3 sm:px-6 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-1 sm:gap-2 self-start text-xs sm:text-sm",children:[a.jsx(Gn,{className:"w-3 sm:w-4 h-3 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"View Details"}),a.jsx("span",{className:"sm:hidden",children:"View"})]})]})]}):a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:W.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:W.title,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:W.propertyType})}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P(W),className:"p-2 rounded-full bg-white text-gray-600 hover:bg-gray-100 transition-colors",title:"Share property",children:a.jsx(Gh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>V(W.id),className:`p-2 rounded-full transition-colors ${s.includes(W.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Add to wishlist",children:a.jsx(Qn,{className:"w-4 h-4",fill:s.includes(W.id)?"currentColor":"none"})})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between gap-4",children:[a.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2",children:W.title}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xl font-semibold text-blue-600",children:k(W)}),a.jsx("div",{className:"text-sm text-gray-500",children:"For Sale"})]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-sm",children:W.showAddress?W.address:`${W.city}, ${W.state}`})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[a.jsxs("div",{className:"flex items-center",children:["🛏️",a.jsxs("span",{children:[W.bedroom," Beds"]})]}),a.jsxs("div",{className:"flex items-center",children:["🛁",a.jsxs("span",{children:[W.bathroom," Baths"]})]}),W.totalArea&&a.jsxs("div",{className:"flex items-center",children:["📐",a.jsxs("span",{children:[W.totalArea," ",W.totalAreaUnit]})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:W.description}),a.jsxs("button",{onClick:()=>q(`/property/${W.id}`),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"}),"View Details"]})]})]});return m?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):b?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx("p",{className:"text-red-700",children:b}),a.jsx("button",{onClick:ye,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 top-0 z-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(wf,{className:"w-5 h-5"}),"Filters"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:ee,className:"text-blue-600 text-sm hover:text-blue-700",children:"Clear Filters"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),a.jsxs("select",{value:z,onChange:W=>C(W.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"price-low",children:"Price ↑"}),a.jsx("option",{value:"price-high",children:"Price ↓"}),a.jsx("option",{value:"bedrooms",children:"Bedrooms"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>K("grid"),className:`p-2 rounded-lg ${de==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(q_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>K("list"),className:`p-2 rounded-lg ${de==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(Du,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Search properties...",value:T.searchQuery,onChange:W=>G("searchQuery",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),a.jsx("div",{children:a.jsx("input",{type:"number",placeholder:"Min Price",value:T.priceMin,onChange:W=>G("priceMin",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),a.jsx("div",{children:a.jsx("input",{type:"number",placeholder:"Max Price",value:T.priceMax,onChange:W=>G("priceMax",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:T.propertyType,onChange:W=>G("propertyType",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none text-sm",children:[a.jsx("option",{value:"",children:"Property Type"}),["House","Apartment","Condo","Townhouse","Land","Commercial","Office Space"].map(W=>a.jsx("option",{value:W,children:W},W))]}),a.jsx(Xa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",o.length," of ",t.length," properties"]})})]}),a.jsxs("div",{className:"p-4 lg:p-6",children:[o.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[a.jsx(un,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Properties Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters to find more properties."}),a.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}):a.jsx("div",{className:de==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6":"space-y-4",children:M.map(W=>a.jsx(ue,{property:W,viewMode:de},W.id))}),o.length>O&&a.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[a.jsxs("button",{onClick:()=>F(W=>Math.max(W-1,1)),disabled:A===1,className:`flex items-center px-3 py-2 rounded-md ${A===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[a.jsx(Xa,{className:"w-4 h-4 mr-1 rotate-90"}),"Previous"]}),Array.from({length:Math.min(5,R)},(W,se)=>{let Ne;return R<=5||A<=3?Ne=se+1:A>=R-2?Ne=R-4+se:Ne=A-2+se,a.jsx("button",{onClick:()=>F(Ne),className:`px-3 py-2 rounded-md ${A===Ne?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:Ne},Ne)}),a.jsxs("button",{onClick:()=>F(W=>Math.min(W+1,R)),disabled:A===R,className:`flex items-center px-3 py-2 rounded-md ${A===R?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:["Next",a.jsx(Xa,{className:"w-4 h-4 ml-1 -rotate-90"})]})]}),o.length>0&&a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",ie+1," to ",Math.min(Q,o.length)," of ",o.length," results"]})})]}),v&&a.jsx("div",{className:"fixed bottom-6 right-6",children:a.jsx("button",{onClick:()=>window.location.href="/Property_Premium/post_a_listing",className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110",title:"Create New Listing",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})})]})})},U8=({onBack:s,currentUser:e})=>{const t=Jn(),[r,o]=S.useState([]),[c,d]=S.useState(!1),[p,m]=S.useState(!1),[g,b]=S.useState({rating:5,comment:"",propertyTitle:""}),{userId:w}=T_(),[v,j]=S.useState(null),[A,F]=S.useState([]),[O,q]=S.useState(!0),[U,P]=S.useState(!0),[B,Q]=S.useState("overview"),[ie,M]=S.useState("grid"),[R,T]=S.useState("all"),[L,z]=S.useState(""),[C,E]=S.useState({totalListings:0,activeListings:0,soldListings:0,rentedListings:0});console.log("UserProfileView - userId from params:",w),console.log("UserProfileView - currentUser:",e);const re=()=>{t(-1)};S.useEffect(()=>{de(),K(),ye()},[w]);const de=async()=>{try{if(q(!0),console.log("Loading profile for userId:",w),!w){console.error("No userId provided"),j(null),q(!1);return}let V=null;try{const ue=ct(ft,"users",w,"profiles","userProfile"),W=await ls(ue);W.exists()&&(V=W.data(),console.log("Found profile in new structure:",V))}catch(ue){console.log("New structure failed:",ue.message)}if(!V)try{const ue=ct(ft,"users",w),W=await ls(ue);W.exists()&&(V=W.data(),console.log("Found profile in old structure:",V))}catch(ue){console.log("Old structure failed:",ue.message)}if(!V)try{V=await Oy(w),console.log("Found profile via getUserProfile:",V)}catch(ue){console.log("getUserProfile failed:",ue.message)}if(V){const ue={id:w,firstName:V.firstName||"",lastName:V.lastName||"",displayName:V.displayName||`${V.firstName||""} ${V.lastName||""}`.trim()||"User",primaryPhone:V.primaryPhone||V.phone||"Not provided",email:V.email||"Not provided",whatsappPhone:V.whatsappPhone||V.primaryPhone||V.phone||"Not provided",alternateEmail:V.alternateEmail||"",isRealEstateProfessional:V.isRealEstateProfessional||!1,profileImage:V.profileImage||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",companyName:V.companyName||"",companyPhone:V.companyPhone||"",category:V.category||"",website:V.website||"",country:V.country||"",state:V.state||"",city:V.city||"",address:V.address||"",aboutUs:V.aboutUs||"",joinedDate:V.createdAt?.toDate?V.createdAt.toDate():V.createdAt?new Date(V.createdAt):new Date,totalListings:V.totalListings||0,responseRate:V.responseRate||"95%",responseTime:V.responseTime||"Within an hour",verified:V.verified||!1,averageRating:V.averageRating||4.5,totalReviews:V.totalReviews||0,yearsExperience:V.yearsExperience||1};console.log("Transformed profile:",ue),j(ue)}else console.log("No profile found for userId:",w),j(null)}catch(V){console.error("Error loading user profile:",V),j(null)}finally{q(!1)}},K=async()=>{try{P(!0),console.log("Loading properties for userId:",w);let V=[];try{const ue=Vt(pt(ft,"properties"),gs("ownerId","==",w));V=(await ut(ue)).docs.map(se=>({id:se.id,...se.data(),createdAt:se.data().createdAt?.toDate?se.data().createdAt.toDate():new Date(se.data().createdAt)})),console.log("Properties found by ownerId:",V.length)}catch(ue){console.log("Query by ownerId failed:",ue.message)}if(V.length===0)try{const ue=Vt(pt(ft,"properties"),gs("userId","==",w));V=(await ut(ue)).docs.map(se=>({id:se.id,...se.data(),createdAt:se.data().createdAt?.toDate?se.data().createdAt.toDate():new Date(se.data().createdAt)})),console.log("Properties found by userId:",V.length)}catch(ue){console.log("Query by userId failed:",ue.message)}if(V.length===0)try{const ue=pt(ft,"users",w,"properties");V=(await ut(ue)).docs.map(se=>({id:se.id,...se.data(),createdAt:se.data().createdAt?.toDate?se.data().createdAt.toDate():new Date(se.data().createdAt)})),console.log("Properties found in subcollection:",V.length)}catch(ue){console.log("Subcollection query failed:",ue.message)}F(V),H(V)}catch(V){console.error("Error loading properties:",V),F([]),H([])}finally{P(!1)}},ye=async()=>{try{const V=Vt(pt(ft,"users",w,"reviews"),dy("createdAt","desc")),W=(await ut(V)).docs.map(se=>({id:se.id,...se.data(),createdAt:se.data().createdAt?.toDate?se.data().createdAt.toDate():new Date(se.data().createdAt)}));if(o(W),W.length>0){const Ne=W.reduce((Se,$e)=>Se+$e.rating,0)/W.length;j(Se=>({...Se,averageRating:Ne,totalReviews:W.length}))}}catch(V){console.error("Error loading reviews:",V),o([])}},ve=async V=>{if(e)try{m(!0);const ue=pt(ft,"users",w,"reviews");await hu(ue,{...V,reviewerId:e.uid,reviewerName:e.displayName||"Anonymous",createdAt:new Date,updatedAt:new Date}),await ye(),b({rating:5,comment:"",propertyTitle:""}),d(!1)}catch(ue){console.error("Error submitting review:",ue)}finally{m(!1)}};S.useEffect(()=>{console.log("=== UserProfileView Debug Info ==="),console.log("userId:",w),console.log("currentUser:",e),console.log("db instance:",ft),console.log("auth instance:",In),console.log("=================================")},[w,e]),S.useEffect(()=>{console.log("Profile state changed:",v)},[v]),S.useEffect(()=>{console.log("Properties state changed:",A)},[A]);const H=V=>{const ue={totalListings:V.length,activeListings:V.filter(W=>W.marketStatus==="Available").length,soldListings:V.filter(W=>W.marketStatus==="Sold").length,rentedListings:V.filter(W=>W.marketStatus==="Rented").length};E(ue)},k=(V,ue,W=null)=>{const Ne=`${ue==="Nigeria Naira"?"₦":"$"}${V?.toLocaleString()}`;return W&&W!=="Year"?`${Ne}/${W.toLowerCase()}`:Ne},G=A.filter(V=>{const ue=V.title.toLowerCase().includes(L.toLowerCase())||V.city.toLowerCase().includes(L.toLowerCase()),W=R==="all"||R==="available"&&V.marketStatus==="Available"||R==="sold"&&V.marketStatus==="Sold"||R==="rented"&&V.marketStatus==="Rented";return ue&&W}),ee=e&&e.uid===w;return O?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):v?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:re,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Ig,{className:"w-5 h-5"}),"Back"]}),ee&&a.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Qh,{className:"w-4 h-4"}),"Edit Profile"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:v.profileImage,alt:v.displayName,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),v.verified&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 text-white rounded-full p-1.5",children:a.jsx(El,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.displayName}),v.verified&&a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Verified"})]}),v.isRealEstateProfessional?a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-lg text-gray-700 font-medium",children:v.category}),v.companyName&&a.jsx("p",{className:"text-blue-600 font-medium",children:v.companyName}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[v.city,", ",v.state]})]}):a.jsx("p",{className:"text-gray-600 mb-3",children:"Property Owner"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ri,{className:"w-4 h-4"}),a.jsxs("span",{children:["Joined ",v.joinedDate.toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(L_,{className:"w-4 h-4"}),a.jsxs("span",{children:[v.totalListings," listings"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fn,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{children:[v.averageRating," (",v.totalReviews," reviews)"]})]})]})]}),!ee&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("a",{href:`https://wa.me/${v.whatsappPhone?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[a.jsx(xr,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs("a",{href:`tel:${v.primaryPhone}`,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx($n,{className:"w-4 h-4"}),"Call"]})]})]})}),a.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.totalListings}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Listings"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.activeListings}),a.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.soldListings}),a.jsx("div",{className:"text-sm text-gray-600",children:"Sold"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:C.rentedListings}),a.jsx("div",{className:"text-sm text-gray-600",children:"Rented"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex space-x-8 px-6",children:[a.jsx("button",{onClick:()=>Q("overview"),className:`py-3 border-b-2 font-medium text-sm ${B==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview"}),a.jsxs("button",{onClick:()=>Q("properties"),className:`py-3 border-b-2 font-medium text-sm ${B==="properties"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Properties (",A.length,")"]}),a.jsxs("button",{onClick:()=>Q("reviews"),className:`py-3 border-b-2 font-medium text-sm ${B==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Reviews (",v.totalReviews,")"]})]})}),a.jsxs("div",{className:"p-6",children:[B==="overview"&&a.jsxs("div",{className:"space-y-6",children:[v.aboutUs&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.aboutUs})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx($n,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Primary Phone"}),a.jsx("div",{className:"text-gray-600",children:v.primaryPhone})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(xr,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),a.jsx("div",{className:"text-gray-600",children:v.whatsappPhone})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(qn,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:v.email})]})]}),v.website&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(_f,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Website"}),a.jsx("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:v.website})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.responseRate}),a.jsx("div",{className:"text-sm text-gray-600",children:"Response Rate"})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.responseTime}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]}),a.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[v.yearsExperience," years"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Experience"})]})]})]})]}),B==="properties"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(un,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search properties...",value:L,onChange:V=>z(V.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:R,onChange:V=>T(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"sold",children:"Sold"}),a.jsx("option",{value:"rented",children:"Rented"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>M("grid"),className:`p-2 rounded-lg ${ie==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(q_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M("list"),className:`p-2 rounded-lg ${ie==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(Du,{className:"w-4 h-4"})}),ee&&a.jsxs("button",{className:"ml-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Add Property"]})]})]}),U?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading properties..."})]})}):G.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Properties Found"}),a.jsx("p",{className:"text-gray-600",children:L||R!=="all"?"Try adjusting your search or filter criteria.":"This user hasn't listed any properties yet."})]}):a.jsx("div",{className:ie==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:G.map(V=>a.jsxs("div",{className:`bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${ie==="list"?"flex":""}`,children:[a.jsxs("div",{className:`relative ${ie==="list"?"w-48 flex-shrink-0":""}`,children:[a.jsx("img",{src:V.images[0],alt:V.title,className:`object-cover ${ie==="list"?"w-full h-32":"w-full h-48"}`}),a.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${V.marketStatus==="Available"?"bg-green-500":V.marketStatus==="Sold"?"bg-blue-500":"bg-orange-500"}`,children:V.marketStatus}),V.featured&&a.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"})]}),ee&&a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[a.jsx("button",{className:"bg-white bg-opacity-80 p-1.5 rounded-full hover:bg-opacity-100 transition-all",children:a.jsx(Qh,{className:"w-3 h-3 text-gray-600"})}),a.jsx("button",{className:"bg-white bg-opacity-80 p-1.5 rounded-full hover:bg-opacity-100 transition-all",children:a.jsx(Nf,{className:"w-3 h-3 text-red-600"})})]})]}),a.jsxs("div",{className:`p-4 ${ie==="list"?"flex-1":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:V.title}),a.jsx("div",{className:"text-lg font-bold text-blue-600",children:k(V.price,V.currency,V.pricePer)})]}),a.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-3",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[V.city,", ",V.state]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[V.bedroom&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ku,{className:"w-4 h-4"}),a.jsx("span",{children:V.bedroom})]}),V.bathroom&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Iu,{className:"w-4 h-4"}),a.jsx("span",{children:V.bathroom})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ro,{className:"w-4 h-4"}),a.jsxs("span",{children:[V.totalArea," ",V.totalAreaUnit]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Gn,{className:"w-4 h-4"}),a.jsx("span",{children:V.views})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Qn,{className:"w-4 h-4"}),a.jsx("span",{children:V.favorites})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(N0,{className:"w-4 h-4"}),a.jsx("span",{children:V.createdAt.toLocaleDateString()})]})]})]})]},V.id))})]}),B==="reviews"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Reviews"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(V=>a.jsx(Fn,{className:`w-4 h-4 ${V<=Math.floor(v.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},V))}),a.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[v.averageRating.toFixed(1)," (",v.totalReviews," reviews)"]})]})]}),!ee&&e&&a.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Write Review"]})]}),c&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write a Review"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(V=>a.jsx("button",{onClick:()=>b(ue=>({...ue,rating:V})),className:"focus:outline-none",children:a.jsx(Fn,{className:`w-6 h-6 ${V<=g.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},V))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property (Optional)"}),a.jsx("input",{type:"text",value:g.propertyTitle,onChange:V=>b(ue=>({...ue,propertyTitle:V.target.value})),placeholder:"Which property did you interact with?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),a.jsx("textarea",{value:g.comment,onChange:V=>b(ue=>({...ue,comment:V.target.value})),placeholder:"Share your experience...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>ve(g),disabled:p||!g.comment.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[p&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submit Review"]}),a.jsx("button",{onClick:()=>d(!1),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-600",children:ee?"You haven't received any reviews yet.":"Be the first to leave a review!"})]}):a.jsx("div",{className:"space-y-4",children:r.map(V=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(br,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:V.reviewerName}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(ue=>a.jsx(Fn,{className:`w-3 h-3 ${ue<=V.rating?"text-yellow-400 fill-current":"text-gray-300"}`},ue))}),a.jsx("span",{className:"text-sm text-gray-500",children:V.createdAt.toLocaleDateString()})]})]})]})}),a.jsx("p",{className:"text-gray-700 mb-2",children:V.comment}),V.propertyTitle&&a.jsxs("div",{className:"text-sm text-blue-600",children:["Property: ",V.propertyTitle]})]},V.id))})]})]})]}),!ee&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Get in Touch"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("a",{href:`tel:${v.primaryPhone}`,className:"flex items-center justify-center gap-2 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx($n,{className:"w-4 h-4"}),"Call Now"]}),a.jsxs("a",{href:`https://wa.me/${v.whatsappPhone?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(xr,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs("a",{href:`mailto:${v.email}`,className:"flex items-center justify-center gap-2 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(qn,{className:"w-4 h-4"}),"Email"]})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(br,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Profile Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The user profile you're looking for doesn't exist."}),a.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})},V8=({currentPropertyId:s,preferredLocation:e=null,preferredType:t=null,maxProperties:r=6})=>{const[o,c]=S.useState([]),[d,p]=S.useState([]),[m,g]=S.useState(!0),[b,w]=S.useState(null),v=Jn(),j=B=>{const Q=[...B];for(let ie=Q.length-1;ie>0;ie--){const M=Math.floor(Math.random()*(ie+1));[Q[ie],Q[M]]=[Q[M],Q[ie]]}return Q};S.useEffect(()=>Pn(Q=>{w(Q),Q?A(Q.uid):p([])}),[]);const A=async B=>{try{const Q=gt(),ie=ct(Q,"users",B),M=await ls(ie);if(M.exists()){const R=M.data();p(R.wishlist||[])}}catch(Q){console.error("Error fetching wishlist:",Q)}},F=async()=>{try{g(!0);const B=gt();let Q=[];try{const T=Vt(oo(B,"properties"));(await ut(T)).forEach(z=>{const C=z.data();z.id!==s&&Q.push({id:z.id,...C,createdAt:C.createdAt?.toDate?C.createdAt.toDate():new Date(C.createdAt)})})}catch(T){console.log("Collection group query failed, trying main collection:",T);const L=Vt(pt(B,"properties"));(await ut(L)).forEach(C=>{const E=C.data();C.id!==s&&Q.push({id:C.id,...E,createdAt:E.createdAt?.toDate?E.createdAt.toDate():new Date(E.createdAt)})})}let ie=[...Q];if(e||t){const T=[],L=[];ie.forEach(z=>{let C=0;e&&(z.city===e.city?C+=3:z.state===e.state?C+=2:z.country===e.country&&(C+=1)),t&&z.propertyType===t&&(C+=2),C>0?T.push({...z,score:C}):L.push(z)}),T.sort((z,C)=>C.score-z.score),ie=[...T,...L]}const R=j(ie).slice(0,r);c(R)}catch(B){console.error("Error fetching recommended properties:",B)}finally{g(!1)}};S.useEffect(()=>{F()},[s,e,t]);const O=async B=>{if(!b){alert("Please log in to add properties to wishlist");return}try{const Q=gt(),ie=ct(Q,"users",b.uid);d.includes(B)?(await Ps(ie,{wishlist:lo(B)}),p(R=>R.filter(T=>T!==B))):(await Ps(ie,{wishlist:Hu(B)}),p(R=>[...R,B]))}catch(Q){console.error("Error updating wishlist:",Q),alert("Failed to update wishlist. Please try again.")}},q=B=>{const Q=B.currency==="Nigeria Naira"?"₦":"$",ie=B.price||0;return ie>=1e6?`${Q}${(ie/1e6).toFixed(1)}M`:ie>=1e3?`${Q}${(ie/1e3).toFixed(0)}K`:`${Q}${ie.toLocaleString()}`},U=B=>B==="Sale"?"For Sale":"For Rent",P=({property:B})=>a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:B.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:B.title,className:"w-full h-40 sm:h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:B.propertyType})}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>O(B.id),className:`p-1.5 rounded-full transition-colors ${d.includes(B.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:a.jsx(Qn,{className:"w-3 h-3",fill:d.includes(B.id)?"currentColor":"none"})})})]}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:q(B)}),a.jsx("div",{className:"text-xs text-gray-500",children:U(B.advertisingFor)})]}),a.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2 text-sm",children:B.title}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(Ds,{className:"w-3 h-3 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs truncate",children:B.showAddress?B.address:`${B.city}, ${B.state}`})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[B.bedroom&&a.jsxs("span",{children:["🛏️ ",B.bedroom]}),B.bathroom&&a.jsxs("span",{children:["🛁 ",B.bathroom]})]}),B.totalArea&&a.jsxs("span",{children:["📐 ",B.totalArea," ",B.totalAreaUnit]})]}),a.jsxs("button",{onClick:()=>v(`/property/${B.id}`),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-1 text-sm",children:[a.jsx(Gn,{className:"w-3 h-3"}),"View Details"]})]})]});return m?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):o.length===0?a.jsx("div",{className:"py-8 text-center text-gray-500",children:a.jsx("p",{children:"No recommended properties available at the moment."})}):a.jsxs("div",{className:"py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recommended Properties"}),a.jsxs("button",{onClick:F,className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.map(B=>a.jsx(P,{property:B},`${B.id}-${Math.random()}`))}),o.length===r&&a.jsx("div",{className:"text-center mt-6",children:a.jsx("button",{onClick:()=>v("/properties"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"View All Properties →"})})]})},F8=()=>{const{id:s}=T_(),e=Jn(),[t,r]=S.useState(null),[o,c]=S.useState([]),[d,p]=S.useState(null),[m,g]=S.useState(0),[b,w]=S.useState(!1),[v,j]=S.useState({name:"",email:"",phone:"",message:""}),[A,F]=S.useState(!1),[O,q]=S.useState(!0),U=s;S.useEffect(()=>{ie()},[U]),S.useEffect(()=>{(async()=>{if(!U){q(!1);return}try{q(!0);const E=gt();let re=await ls(ct(E,"properties",U));if(!re.exists()){const de=await ut(pt(E,"users"));for(const K of de.docs)try{if(re=await ls(ct(E,"users",K.id,"properties",U)),re.exists())break}catch{continue}}if(re.exists()){const de=re.data();let K=null;const ye=de.ownerId||de.userId||de.createdBy;ye&&(K=await P(ye)),p({id:re.id,...de,createdAt:de.createdAt?.toDate?de.createdAt.toDate():new Date(de.createdAt),owner:K?{id:ye,name:K.displayName||`${K.firstName} ${K.lastName}`.trim()||"Property Owner",profilePicture:K.profileImage||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",phone:K.primaryPhone||"Not provided",whatsapp:K.whatsappPhone||K.primaryPhone||"Not provided",email:K.email||"Not provided",joinedDate:K.createdAt?.toDate?K.createdAt.toDate():new Date,totalListings:K.totalListings||1,responseRate:K.responseRate||"95%",responseTime:K.responseTime||"Within an hour",verified:K.verified||!1,isRealEstateProfessional:K.isRealEstateProfessional||!1,companyName:K.companyName||"",category:K.category||"",website:K.website||"",aboutUs:K.aboutUs||"",city:K.city||"",state:K.state||""}:{id:"unknown",name:"Property Owner",profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",phone:"Not provided",whatsapp:"Not provided",email:"Not provided",joinedDate:new Date,totalListings:1,responseRate:"95%",responseTime:"Within an hour",verified:!1,isRealEstateProfessional:!1,companyName:"",category:"",website:"",aboutUs:"",city:"",state:""}})}else console.log("Property not found"),p(null)}catch(E){console.error("Error fetching property details:",E),p(null)}finally{q(!1)}})()},[U]),S.useEffect(()=>Pn(E=>{r(E),E?B(E.uid):(c([]),w(!1))}),[U]),S.useEffect(()=>{console.log("Property loaded:",d),d?.owner&&console.log("Property owner ID:",d?.owner?.id)},[d]);const P=async C=>{try{const E=ct(ft,"users",C,"profiles","userProfile"),re=await ls(E);if(re.exists())return re.data();{const de=await Oy(C);return de?{firstName:de.firstName||"",lastName:de.lastName||"",displayName:de.displayName||`${de.firstName} ${de.lastName}`.trim(),primaryPhone:de.primaryPhone||de.phone||"",email:de.email||"",whatsappPhone:de.whatsappPhone||de.primaryPhone||de.phone||"",alternateEmail:de.alternateEmail||"",isRealEstateProfessional:de.isRealEstateProfessional||!1,profileImage:de.profileImage||"",companyName:de.companyName||"",companyPhone:de.companyPhone||"",category:de.category||"",website:de.website||"",country:de.country||"",state:de.state||"",city:de.city||"",address:de.address||"",aboutUs:de.aboutUs||"",createdAt:de.createdAt||new Date,totalListings:de.totalListings||1,responseRate:de.responseRate||"95%",responseTime:de.responseTime||"Within an hour",verified:de.verified||!1}:null}}catch(E){return console.error("Error fetching user profile:",E),null}},B=async C=>{try{const E=gt(),re=ct(E,"users",C),de=await ls(re);if(de.exists()){const K=de.data();c(K.wishlist||[]),U&&w((K.wishlist||[]).includes(U))}}catch(E){console.error("Error fetching wishlist:",E)}},Q=async()=>{if(!t){alert("Please log in to add properties to wishlist");return}try{const C=gt(),E=ct(C,"users",t.uid);o.includes(U)?(await Ps(E,{wishlist:lo(U)}),c(de=>de.filter(K=>K!==U)),w(!1)):(await Ps(E,{wishlist:Hu(U)}),c(de=>[...de,U]),w(!0))}catch(C){console.error("Error updating wishlist:",C),alert("Failed to update wishlist. Please try again.")}},ie=async()=>{try{console.log("Testing database connection...");const C=pt(ft,"users"),E=await ut(Vt(C,limit(1)));if(console.log("Can read users collection:",!E.empty),userId){const K=await ls(ct(ft,"users",userId));console.log("User document exists:",K.exists()),K.exists()&&console.log("User document data:",K.data())}const re=pt(ft,"properties"),de=await ut(Vt(re,limit(1)));console.log("Can read properties collection:",!de.empty)}catch(C){console.error("Database connection test failed:",C)}},M=(C,E,re=null)=>{const K=`${E==="Nigeria Naira"?"₦":E==="Ghana Cedis"?"₵":E==="South African Rand"?"R":"$"}${C?.toLocaleString()}`;return re&&re!=="Year"?`${K}${re=="Not Applicable"?"":`/${re}`}`:K},R=(C,E)=>{j(re=>({...re,[C]:E}))},T=async()=>{if(!v.name.trim()||!v.email.trim()||!v.message.trim()){alert("Please fill in all required fields");return}try{const C=gt();alert("Message sent successfully!"),j({name:"",email:"",phone:"",message:""}),F(!1)}catch(C){console.error("Error sending message:",C),alert("Failed to send message. Please try again.")}},L=()=>{g(C=>C===d.images.length-1?0:C+1)},z=()=>{g(C=>C===0?d.images.length-1:C-1)};return O?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading property details..."})]})}):d?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Ig,{className:"w-5 h-5"}),"Back to listings"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Q,className:`p-2 rounded-full transition-colors ${b?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:b?"Remove from wishlist":"Add to wishlist",children:a.jsx(Qn,{className:"w-5 h-5",fill:b?"currentColor":"none"})}),a.jsx("button",{className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:a.jsx(Gh,{className:"w-5 h-5"})})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-4 md:py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[a.jsxs("div",{className:" lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"relative",children:[t&&a.jsxs("div",{className:"flex items-center absolute right-0 gap-2 text-md",children:[a.jsx(Qn,{className:`w-4 h-4 ${b?"text-red-500 fill-current":"text-gray-400"}`}),a.jsx("span",{className:b?"text-red-600":"text-gray-500",children:b?"Saved to wishlist":"Not in wishlist"})]}),a.jsx("img",{src:d.images[m],alt:d.title,className:"w-full h-64 sm:h-80 md:h-96 object-cover"}),a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[a.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:d.propertyType}),d.marketStatus&&d.marketStatus!=="Available"&&a.jsx("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:d.marketStatus})]}),d.propertyCondition==="Newly Built"&&a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"New"})}),d.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:z,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:a.jsx(_0,{className:"w-5 h-5"})}),a.jsx("button",{onClick:L,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:a.jsx(vf,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:d.images.map((C,E)=>a.jsx("button",{onClick:()=>g(E),className:`w-2 h-2 rounded-full transition-all ${E===m?"bg-white":"bg-white bg-opacity-50"}`},E))})]}),a.jsx("div",{className:"p-3 sm:p-4 flex gap-2 overflow-x-auto",children:d.images.map((C,E)=>a.jsx("button",{onClick:()=>g(E),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${E===m?"border-blue-600":"border-gray-200"}`,children:a.jsx("img",{src:C,alt:`View ${E+1}`,className:"w-full h-full object-cover"})},E))})]}),a.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-sm ",children:[a.jsx("h2",{className:"font-bold text-2xl text-blue-500",children:"Safety Tips "}),a.jsxs("ol",{className:"flex flex-col gap-1 text-gray-600 pt-2 list-decimal pl-5",children:[a.jsx("li",{children:"Do not make any inspection fee without seeing the agent and property."}),a.jsx("li",{children:"Only pay Rental fee, Sales fee or any upfront payment after you verify the Landlord."}),a.jsx("li",{children:"Ensure you meet the Agent in an open location."}),a.jsx("li",{children:"The Agent does not represent Proerty Preprium and Property Preprium is not liable for any monetary transaction between you and the Agent."})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:d.title}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:d.showAddress?d.address:`${d.city}, ${d.state}`})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:d.showPriceOption==="Contact for price"?"Contact for Price":M(d.price,d.currency,d.pricePer)}),a.jsx("div",{className:"text-sm text-gray-500",children:d.advertisingFor==="Sale"?"For Sale":d.advertisingFor==="Rent"?"For Rent":d.advertisingFor||"Available"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 py-4 sm:py-6 border-y border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:["🛏️",a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.bedroom}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:["🛁",a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.bathroom}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:["🏠",a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.toilet||"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Toilets"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:["📐",a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.totalArea}),a.jsx("div",{className:"text-sm text-gray-600",children:d.totalAreaUnit})]})]})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]}),a.jsxs("div",{className:"py-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Property Type"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.propertyType||"Not specified"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Use of Property"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.useOfProperty||"Not specified"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Market Status"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.marketStatus||"Available"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Location"}),a.jsxs("span",{className:"font-medium text-gray-800",children:[d.city,", ",d.state,", ",d.country]})]}),d.yearBuilt&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Year Built"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.yearBuilt})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Condition"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.propertyCondition||"Not specified"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Furnishing Status"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.furnishingStatus||"Not specified"})]}),d.coveredArea&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Covered Area"}),a.jsxs("span",{className:"font-medium text-gray-800",children:[d.coveredArea," ",d.coveredAreaUnit]})]}),d.availableFrom&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Available From"}),a.jsx("span",{className:"font-medium text-gray-800",children:new Date(d.availableFrom).toLocaleDateString()})]}),d.minimumRentPeriod&&d.advertisingFor==="Rent"&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Minimum Rent Period"}),a.jsx("span",{className:"font-medium text-gray-800",children:d.minimumRentPeriod})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Pet Policy"}),a.jsx("span",{className:"font-medium text-gray-800 flex items-center gap-1",children:d.petPolicy==="Allowed"?a.jsxs(a.Fragment,{children:[a.jsx(Ja,{className:"w-4 h-4 text-green-500"})," Pets Allowed"]}):a.jsxs(a.Fragment,{children:[a.jsx(hw,{className:"w-4 h-4 text-red-500"})," No Pets"]})})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600",children:"Smoking Policy"}),a.jsx("span",{className:"font-medium text-gray-800 flex items-center gap-1",children:d.smokingPolicy==="Allowed"?a.jsxs(a.Fragment,{children:[a.jsx(Ja,{className:"w-4 h-4 text-green-500"})," Smoking Allowed"]}):a.jsxs(a.Fragment,{children:[a.jsx(hw,{className:"w-4 h-4 text-red-500"})," No Smoking"]})})]})]})]}),d.utilitiesIncluded&&d.utilitiesIncluded.length>0&&a.jsxs("div",{className:"py-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Utilities Included"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:d.utilitiesIncluded.map((C,E)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Q_,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.amenities&&d.amenities.length>0&&a.jsxs("div",{className:"py-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Amenities"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.amenities.map((C,E)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),a.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.features&&d.features.length>0&&a.jsxs("div",{className:"py-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Features"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.features.map((C,E)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),a.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.nearbyAmenities&&d.nearbyAmenities.length>0&&d.nearbyAmenities.some(C=>C.trim()!=="")&&a.jsxs("div",{className:"py-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Nearby Amenities"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.nearbyAmenities.filter(C=>C.trim()!=="").map((C,E)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Ds,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm",children:C})]},E))})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"https://propertypro.ng/assets/new_public/images/8356a8ec6fcfe71b646ae827967e7d06-shield.webp",alt:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-xl py-3 text-gray-800",children:"Property is verified as real "}),a.jsx("p",{className:"text-gray-600",children:"if reported as fake, we will investigate to comfirm if this property isn't real  "})]})]}),a.jsx("button",{className:"border-1 p-3 rounded-md font-medium text-blue-500 hover:bg-blue-500 hover:text-white animation-all duration-300",children:"Report Property "})]}),a.jsx(V8,{currentPropertyId:U,preferredLocation:{city:d.city,state:d.state,country:d.country},preferredType:d.propertyType,maxProperties:3})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm lg:sticky lg:top-24",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-block cursor-pointer",onClick:()=>e(`/profile/${d.owner.id}`),children:[a.jsx("img",{src:d.owner.profilePicture,alt:d.owner.name,className:"w-20 h-20 rounded-full object-cover mx-auto mb-3 hover:opacity-80 transition-opacity"}),d.owner.verified&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 text-white rounded-full p-1",children:a.jsx(El,{className:"w-3 h-3"})})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>e(`/profile/${d.owner.id}`),children:d.owner.name}),d.owner.isRealEstateProfessional?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:d.owner.category||"Real Estate Professional"}),d.owner.companyName&&a.jsx("p",{className:"text-sm font-medium text-blue-600",children:d.owner.companyName}),d.owner.city&&d.owner.state&&a.jsxs("p",{className:"text-xs text-gray-500",children:[d.owner.city,", ",d.owner.state]})]}):a.jsx("p",{className:"text-sm text-gray-600",children:"Property Owner"})]}),d.owner.aboutUs&&a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:d.owner.aboutUs})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.owner.totalListings}),a.jsx("div",{className:"text-xs text-gray-600",children:"Total Listings"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:d.owner.responseRate}),a.jsx("div",{className:"text-xs text-gray-600",children:"Response Rate"})]})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:d.owner.phone})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(xr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:d.owner.whatsapp})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(qn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:d.owner.email})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(ri,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Responds ",d.owner.responseTime]})]}),d.owner.website&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(_f,{className:"w-4 h-4"}),a.jsx("a",{href:d.owner.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"Visit Website"})]})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("a",{href:`https://wa.me/${d.owner.whatsapp?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-600 text-white py-2 sm:py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[a.jsx(xr,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs("a",{href:`tel:${d.owner.phone}`,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx($n,{className:"w-4 h-4"}),"Call Now"]}),a.jsxs("button",{onClick:()=>F(!A),className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[a.jsx(G4,{className:"w-4 h-4"}),"Send Message"]}),a.jsxs("button",{onClick:()=>{const C=d?.owner?.id;C?e(`/profile/${C}`):alert("Owner information not available")},className:"w-full border border-blue-300 text-blue-600 py-3 rounded-lg hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[a.jsx(br,{className:"w-4 h-4"}),"View Profile"]})]}),A&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Send a Message"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Your Name",value:v.name,onChange:C=>R("name",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm touch-manipulation"}),a.jsx("input",{type:"email",placeholder:"Your Email",value:v.email,onChange:C=>R("email",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),a.jsx("input",{type:"tel",placeholder:"Your Phone",value:v.phone,onChange:C=>R("phone",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),a.jsx("textarea",{placeholder:"Your message...",value:v.message,onChange:C=>R("message",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm resize-none"}),a.jsxs("button",{onClick:T,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(G_,{className:"w-4 h-4"}),"Send Message"]})]})]})]})})]})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-600",children:"Property not found"}),a.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Ig,{className:"w-5 h-5"}),"Back to listings"]})]})},z8=()=>{const s=Jn(),[e,t]=S.useState(null),[r,o]=S.useState([]),[c,d]=S.useState(!0),[p,m]=S.useState(""),[g,b]=S.useState(""),[w,v]=S.useState("dateAdded"),[j,A]=S.useState(""),[F,O]=S.useState([]),[q,U]=S.useState(!1),P=async E=>{try{d(!0);const re=gt(),de=ct(re,"users",E),K=await ls(de);if(!K.exists()||!K.data().wishlist?.length){o([]),d(!1);return}const ye=K.data().wishlist,ve=[];try{const H=Vt(oo(re,"properties"),gs(k1(),"in",ye.slice(0,10)));if((await ut(H)).forEach(G=>{const ee=G.data();ve.push({id:G.id,...ee,createdAt:ee.createdAt?.toDate?ee.createdAt.toDate():new Date(ee.createdAt),dateAddedToWishlist:new Date})}),ye.length>10)for(let G=10;G<ye.length;G+=10){const ee=ye.slice(G,G+10),V=Vt(oo(re,"properties"),gs(k1(),"in",ee));(await ut(V)).forEach(W=>{const se=W.data();ve.push({id:W.id,...se,createdAt:se.createdAt?.toDate?se.createdAt.toDate():new Date(se.createdAt),dateAddedToWishlist:new Date})})}}catch(H){console.error("CollectionGroup query failed, trying manual fetch:",H);const k=await ut(pt(re,"users"));for(const G of k.docs)try{(await ut(pt(re,"users",G.id,"properties"))).forEach(V=>{if(ye.includes(V.id)){const ue=V.data();ve.push({id:V.id,...ue,createdAt:ue.createdAt?.toDate?ue.createdAt.toDate():new Date(ue.createdAt),dateAddedToWishlist:new Date})}})}catch(ee){console.log(`Error fetching properties for user ${G.id}:`,ee)}}o(ve),m("")}catch(re){console.error("Error fetching wishlist properties:",re),m("Failed to load wishlist properties. Please try again.")}finally{d(!1)}};S.useEffect(()=>Pn(re=>{t(re),re?P(re.uid):(o([]),d(!1))}),[]);const B=async E=>{if(e)try{const re=gt(),de=ct(re,"users",e.uid);await Ps(de,{wishlist:lo(E)}),o(K=>K.filter(ye=>ye.id!==E)),O(K=>K.filter(ye=>ye!==E))}catch(re){console.error("Error removing from wishlist:",re),alert("Failed to remove property from wishlist. Please try again.")}},Q=async()=>{if(!(!e||F.length===0))try{const E=gt(),re=ct(E,"users",e.uid);for(const de of F)await Ps(re,{wishlist:lo(de)});o(de=>de.filter(K=>!F.includes(K.id))),O([])}catch(E){console.error("Error removing multiple from wishlist:",E),alert("Failed to remove properties from wishlist. Please try again.")}},ie=async E=>{if(navigator.share)try{await navigator.share({title:E.title,text:`Check out this property: ${E.title}`,url:`${window.location.origin}/property/${E.id}`})}catch(re){console.log("Error sharing:",re)}else{const re=`${window.location.origin}/property/${E.id}`;navigator.clipboard.writeText(re).then(()=>{alert("Property link copied to clipboard!")}).catch(()=>{alert("Unable to copy link. Please copy manually: "+re)})}},M=E=>{s(`Property_Premium/property/${E}`)},R=()=>{s("/properties-for-sale")},T=(E,re)=>`${re==="Nigeria Naira"?"₦":"$"}${E?.toLocaleString()||"0"}`,L=r.filter(E=>{const re=!g||E.title?.toLowerCase().includes(g.toLowerCase())||E.city?.toLowerCase().includes(g.toLowerCase())||E.state?.toLowerCase().includes(g.toLowerCase()),de=!j||E.propertyType===j;return re&&de}).sort((E,re)=>{switch(w){case"dateAdded":return new Date(re.dateAddedToWishlist)-new Date(E.dateAddedToWishlist);case"price-low":return E.price-re.price;case"price-high":return re.price-E.price;case"newest":return new Date(re.createdAt)-new Date(E.createdAt);default:return 0}}),z=[...new Set(r.map(E=>E.propertyType).filter(Boolean))],C=({property:E})=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:E.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:E.title,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("input",{type:"checkbox",checked:F.includes(E.id),onChange:re=>{re.target.checked?O(de=>[...de,E.id]):O(de=>de.filter(K=>K!==E.id))},className:"w-4 h-4 text-blue-600 bg-white border-2 border-gray-300 rounded focus:ring-blue-500"})}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:E.propertyType})}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[a.jsx("button",{onClick:()=>ie(E),className:"p-2 bg-white/90 hover:bg-white rounded-full shadow-sm transition-colors",title:"Share property",children:a.jsx(Gh,{className:"w-4 h-4 text-gray-600"})}),a.jsx("button",{onClick:()=>B(E.id),className:"p-2 bg-white/90 hover:bg-red-50 rounded-full shadow-sm transition-colors",title:"Remove from wishlist",children:a.jsx(Nf,{className:"w-4 h-4 text-red-600"})})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T(E.price,E.currency)}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(ri,{className:"w-3 h-3"}),"Added ",new Date(E.dateAddedToWishlist).toLocaleDateString()]})]}),a.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2",children:E.title}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-sm",children:E.showAddress?E.address:`${E.city}, ${E.state}`})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ku,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[E.bedroom," Beds"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Iu,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[E.bathroom," Baths"]})]}),E.totalArea&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ro,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[E.totalArea," ",E.totalAreaUnit]})]})]}),a.jsxs("button",{onClick:()=>M(E.id),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"}),"View Details"]})]})]});return e?c?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):p?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md",children:[a.jsx("p",{className:"text-red-700 mb-4",children:p}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Qn,{className:"w-8 h-8 text-red-500",fill:"currentColor"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Wishlist"})]}),a.jsxs("p",{className:"text-gray-600",children:[r.length," ",r.length===1?"property":"properties"," saved for later"]})]}),r.length===0?a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"bg-white rounded-lg p-12 shadow-sm border border-gray-200 max-w-md mx-auto",children:[a.jsx(Qn,{className:"w-16 h-16 text-gray-300 mx-auto mb-6"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-4",children:"Your wishlist is empty"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Start browsing properties and save your favorites to see them here."}),a.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search your saved properties...",value:g,onChange:E=>b(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),g&&a.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx(ys,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsxs("button",{onClick:()=>U(!q),className:`px-4 py-2 rounded-lg border transition-colors ${q||j?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(wf,{className:"w-4 h-4 inline mr-2"}),"Filter"]}),a.jsxs("select",{value:w,onChange:E=>v(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"dateAdded",children:"Recently Added"}),a.jsx("option",{value:"newest",children:"Newest Listings"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),F.length>0&&a.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:["Remove Selected (",F.length,")"]})]})]}),q&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),a.jsxs("select",{value:j,onChange:E=>A(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Types"}),z.map(E=>a.jsx("option",{value:E,children:E},E))]})]})}),(j||g)&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{A(""),b("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear all filters"})})]})]}),r.length>0&&a.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:F.length===L.length&&L.length>0,onChange:E=>{E.target.checked?O(L.map(re=>re.id)):O([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),"Select all visible (",L.length,")"]}),F.length>0&&a.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[F.length," selected"]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-gray-600",children:["Showing ",L.length," of ",r.length," properties"]})}),L.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[a.jsx(un,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No properties found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria."}),a.jsx("button",{onClick:()=>{b(""),A(""),U(!1)},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(E=>a.jsx(C,{property:E},E.id))}),a.jsx("div",{className:"mt-12 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),a.jsx("div",{className:"text-gray-600 text-sm",children:"Properties Saved"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:T(Math.min(...r.map(E=>E.price||0)),r[0]?.currency||"Nigeria Naira")}),a.jsx("div",{className:"text-gray-600 text-sm",children:"Lowest Price"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:T(Math.max(...r.map(E=>E.price||0)),r[0]?.currency||"Nigeria Naira")}),a.jsx("div",{className:"text-gray-600 text-sm",children:"Highest Price"})]})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bu,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Please log in to view your wishlist"})]})})};class B8{constructor(){this.subscribersCollection="newsletter_subscribers",this.campaignsCollection="newsletter_campaigns",this.templatesCollection="newsletter_templates"}async subscribe(e,t="website"){try{if(!this.isValidEmail(e))throw new Error("Invalid email address");const r=await this.getSubscriber(e);if(r){if(r.status==="active")throw new Error("Email is already subscribed");if(r.status==="unsubscribed")return await this.resubscribe(e)}const o={email:e.toLowerCase().trim(),status:"active",source:t,subscribeDate:Ys(),lastUpdated:Ys(),preferences:{propertyUpdates:!0,marketInsights:!0,newsletters:!0,promotions:!1},metadata:{ipAddress:null,userAgent:navigator.userAgent,referrer:document.referrer}},c=await hu(pt(ft,this.subscribersCollection),o);return await this.logEvent("subscribe",e,{source:t}),{success:!0,message:"Successfully subscribed to newsletter",subscriberId:c.id}}catch(r){throw console.error("Newsletter subscription error:",r),new Error(r.message||"Failed to subscribe to newsletter")}}async unsubscribe(e,t="user_request"){try{const r=await this.getSubscriber(e);if(!r)throw new Error("Email not found in subscribers list");return await Ps(ct(ft,this.subscribersCollection,r.id),{status:"unsubscribed",unsubscribeDate:Ys(),unsubscribeReason:t,lastUpdated:Ys()}),await this.logEvent("unsubscribe",e,{reason:t}),{success:!0,message:"Successfully unsubscribed from newsletter"}}catch(r){throw console.error("Newsletter unsubscribe error:",r),new Error(r.message||"Failed to unsubscribe from newsletter")}}async resubscribe(e){try{const t=await this.getSubscriber(e);if(!t)throw new Error("Email not found in subscribers list");return await Ps(ct(ft,this.subscribersCollection,t.id),{status:"active",resubscribeDate:Ys(),lastUpdated:Ys()}),await this.logEvent("resubscribe",e),{success:!0,message:"Successfully resubscribed to newsletter"}}catch(t){throw console.error("Newsletter resubscribe error:",t),new Error(t.message||"Failed to resubscribe to newsletter")}}async getSubscriber(e){try{const t=Vt(pt(ft,this.subscribersCollection),gs("email","==",e.toLowerCase().trim())),r=await ut(t);if(r.empty)return null;const o=r.docs[0];return{id:o.id,...o.data()}}catch(t){return console.error("Get subscriber error:",t),null}}async getActiveSubscribers(){try{const e=Vt(pt(ft,this.subscribersCollection),gs("status","==","active"));return(await ut(e)).docs.map(r=>({id:r.id,...r.data()})).sort((r,o)=>{const c=r.subscribeDate?.toDate?.()||new Date(0);return(o.subscribeDate?.toDate?.()||new Date(0))-c})}catch(e){throw console.error("Get active subscribers error:",e),new Error("Failed to fetch subscribers")}}async updatePreferences(e,t){try{const r=await this.getSubscriber(e);if(!r)throw new Error("Subscriber not found");return await Ps(ct(ft,this.subscribersCollection,r.id),{preferences:{...r.preferences,...t},lastUpdated:Ys()}),{success:!0,message:"Preferences updated successfully"}}catch(r){throw console.error("Update preferences error:",r),new Error("Failed to update preferences")}}async createCampaign(e){try{const t={...e,createdAt:Ys(),status:"draft",stats:{sent:0,delivered:0,opened:0,clicked:0,bounced:0,unsubscribed:0}};return{success:!0,message:"Campaign created successfully",campaignId:(await hu(pt(ft,this.campaignsCollection),t)).id}}catch(t){throw console.error("Create campaign error:",t),new Error("Failed to create campaign")}}async sendNewsletter(e,t=null){try{const r=await getDoc(ct(ft,this.campaignsCollection,e));if(!r.exists())throw new Error("Campaign not found");const o=r.data(),c=await this.getActiveSubscribers();if(c.length===0)throw new Error("No active subscribers found");await Ps(ct(ft,this.campaignsCollection,e),{status:"sending",sentAt:Ys()}),console.log(`Sending newsletter to ${c.length} subscribers`);const d=M1(ft);let p=0;for(const m of c)try{await this.sendEmailToSubscriber(m.email,o,t),p++,await this.logEvent("sent",m.email,{campaignId:e})}catch(g){console.error(`Failed to send to ${m.email}:`,g),await this.logEvent("bounced",m.email,{campaignId:e,error:g.message})}return await Ps(ct(ft,this.campaignsCollection,e),{status:"sent","stats.sent":p,completedAt:Ys()}),{success:!0,message:`Newsletter sent to ${p} subscribers`,sentCount:p}}catch(r){throw console.error("Send newsletter error:",r),new Error("Failed to send newsletter")}}async sendEmailToSubscriber(e,t,r=null){return console.log(`Sending email to: ${e}`),console.log(`Subject: ${t.subject}`),console.log(`Content: ${t.content}`),await new Promise(o=>setTimeout(o,100)),!0}async getNewsletterStats(){try{const e=Vt(pt(ft,this.subscribersCollection)),t=await ut(e),r={totalSubscribers:t.size,activeSubscribers:0,unsubscribedSubscribers:0,recentSubscribers:0},o=new Date;o.setDate(o.getDate()-30),t.forEach(p=>{const m=p.data();m.status==="active"?(r.activeSubscribers++,m.subscribeDate&&m.subscribeDate.toDate()>o&&r.recentSubscribers++):m.status==="unsubscribed"&&r.unsubscribedSubscribers++});const c=Vt(pt(ft,this.campaignsCollection)),d=await ut(c);return r.totalCampaigns=d.size,r.campaignStats={totalSent:0,totalOpened:0,totalClicked:0},d.forEach(p=>{const m=p.data();m.stats&&(r.campaignStats.totalSent+=m.stats.sent||0,r.campaignStats.totalOpened+=m.stats.opened||0,r.campaignStats.totalClicked+=m.stats.clicked||0)}),r}catch(e){throw console.error("Get newsletter stats error:",e),new Error("Failed to fetch newsletter statistics")}}async logEvent(e,t,r={}){try{await hu(pt(ft,"newsletter_events"),{event:e,email:t,timestamp:Ys(),metadata:r})}catch(o){console.error("Log event error:",o)}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async cleanupOldUnsubscribers(e=365){try{const t=new Date;t.setDate(t.getDate()-e);const r=Vt(pt(ft,this.subscribersCollection),gs("status","==","unsubscribed"),gs("unsubscribeDate","<",t)),o=await ut(r),c=M1(ft);return o.docs.forEach(d=>{c.delete(d.ref)}),await c.commit(),{success:!0,message:`Cleaned up ${o.size} old unsubscribed users`}}catch(t){throw console.error("Cleanup error:",t),new Error("Failed to cleanup old subscribers")}}async exportSubscribers(){try{const e=await this.getActiveSubscribers(),t=`Email,Status,Subscribe Date,Source,Preferences
`,r=e.map(o=>{const c=o.subscribeDate?.toDate?.()||new Date,d=Object.entries(o.preferences||{}).filter(([p,m])=>m).map(([p,m])=>p).join(";");return`${o.email},${o.status},${c.toISOString()},${o.source},${d}`}).join(`
`);return t+r}catch(e){throw console.error("Export subscribers error:",e),new Error("Failed to export subscribers")}}}const jl=new B8,{subscribe:X8,unsubscribe:Z8,getSubscriber:J8,getActiveSubscribers:e9,updatePreferences:t9,createCampaign:s9,sendNewsletter:n9,getNewsletterStats:r9,exportSubscribers:a9}=jl,q8=()=>{const[s,e]=S.useState(!1),[t,r]=S.useState(null),[o,c]=S.useState(!1),d=S.useCallback(async(w,v="website")=>{e(!0),r(null),c(!1);try{const j=await jl.subscribe(w,v);return c(!0),setTimeout(()=>c(!1),3e3),j}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),p=S.useCallback(async(w,v)=>{e(!0),r(null);try{return await jl.unsubscribe(w,v)}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),m=S.useCallback(async(w,v)=>{e(!0),r(null);try{return await jl.updatePreferences(w,v)}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),g=S.useCallback(()=>{r(null)},[]),b=S.useCallback(()=>{c(!1)},[]);return{loading:s,error:t,success:o,subscribe:d,unsubscribe:p,updatePreferences:m,clearError:g,clearSuccess:b}},$8=()=>{const[s,e]=S.useState(""),{loading:t,error:r,success:o,subscribe:c,clearError:d}=q8(),p=async()=>{if(!s.trim())return;r&&d(),(await c(s.trim(),"footer")).success&&e("")},m=j=>{j.key==="Enter"&&p()},g=[{icon:j4,href:"https://facebook.com",label:"Facebook",color:"hover:text-blue-600"},{icon:g3,href:"https://twitter.com",label:"Twitter",color:"hover:text-blue-400"},{icon:M4,href:"https://instagram.com",label:"Instagram",color:"hover:text-pink-600"},{icon:L4,href:"https://linkedin.com",label:"LinkedIn",color:"hover:text-blue-700"},{icon:E3,href:"https://youtube.com",label:"YouTube",color:"hover:text-red-600"}],b=["Buy Properties","Rent Properties","Sell Property","Property Management","Market Analysis","Investment Properties"],w=["About Us","Our Team","Careers","Press","Blog","Contact"],v=["Help Center","Safety Tips","Community Guidelines","Terms of Service"];return a.jsxs("footer",{className:"bg-gray-900 text-white",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xs,{className:"w-8 h-8 text-blue-400"}),a.jsx("span",{className:"text-2xl font-bold",children:"Property Premium"})]}),a.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Your trusted partner in finding the perfect property. We connect buyers, sellers, and renters with premium real estate opportunities."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[a.jsx(Ds,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:"123 Real Estate St, Property City, PC 12345"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[a.jsx($n,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:"+1 (555) 123-4567"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[a.jsx(qn,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:"hello@propertypremium.com"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Follow Us"}),a.jsx("div",{className:"flex gap-3",children:g.map(({icon:j,href:A,label:F,color:O})=>a.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:`p-2 bg-gray-800 rounded-full transition-colors ${O} hover:bg-gray-700`,"aria-label":F,children:a.jsx(j,{className:"w-5 h-5"})},F))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Services"}),a.jsx("ul",{className:"space-y-3",children:b.map(j=>a.jsx("li",{children:a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[a.jsx(Bn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Company"}),a.jsx("ul",{className:"space-y-3",children:w.map(j=>a.jsx("li",{children:a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[a.jsx(Bn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Newsletter"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get property updates and market insights delivered weekly."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:s,onChange:j=>e(j.target.value),onKeyPress:m,placeholder:"Enter your email",className:`w-full px-3 py-2 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 text-sm transition-all ${r?"border-2 border-red-500 focus:ring-red-400":o?"border-2 border-green-500 focus:ring-green-400":"focus:ring-blue-400"}`,disabled:t}),r&&a.jsx(Za,{className:"absolute right-3 top-2.5 w-4 h-4 text-red-500"}),o&&a.jsx(Ja,{className:"absolute right-3 top-2.5 w-4 h-4 text-green-500"})]}),a.jsx("button",{onClick:p,disabled:t||o||!s.trim(),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:t?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o?a.jsxs(a.Fragment,{children:["Subscribed! ",a.jsx(Ja,{className:"w-3 h-3"})]}):a.jsxs(a.Fragment,{children:["Subscribe ",a.jsx(G_,{className:"w-3 h-3"})]})})]}),r&&a.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700 rounded text-red-400 text-xs flex items-center gap-2",children:[a.jsx(Za,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{children:r})]}),o&&a.jsxs("div",{className:"mt-2 p-2 bg-green-900/30 border border-green-700 rounded text-green-400 text-xs flex items-center gap-2",children:[a.jsx(Ja,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{children:"Check your email for confirmation!"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Support"}),a.jsx("ul",{className:"space-y-2",children:v.map(j=>a.jsx("li",{children:a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm flex items-center gap-2 group",children:[a.jsx(Bn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Why Choose Us"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[a.jsx(El,{className:"w-4 h-4 text-green-400"}),a.jsx("span",{children:"Verified Properties"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[a.jsx(Mu,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{children:"Trusted Agents"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[a.jsx(yu,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{children:"Award Winning Service"})]})]})]})]})]})}),a.jsx("div",{className:"border-t border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:"© 2025 Property Premiumb. All rights reserved. Made with ❤️ for property seekers."}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Unsubscribe"})]})]})})})]})},H8=()=>{const[s,e]=S.useState([]),[t,r]=S.useState(!0),[o,c]=S.useState(null);S.useEffect(()=>{(async()=>{try{r(!0),c(null);const m=await jl.getActiveSubscribers();console.log("Fetched subscribers:",m),e(m||[])}catch(m){console.error("Detailed error:",m),c(`Failed to load subscribers: ${m.message}`);try{console.log("Attempting fallback query..."),e([])}catch(g){console.error("Fallback also failed:",g)}}finally{r(!1)}})()},[]);const d=async()=>{try{const p=await jl.exportSubscribers(),m=new Blob([p],{type:"text/csv"}),g=window.URL.createObjectURL(m),b=document.createElement("a");b.href=g,b.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(g)}catch(p){console.error("Export error:",p),alert("Export failed. Please try again.")}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(qn,{className:"w-6 h-6 text-blue-600"}),"Newsletter Subscribers"]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",t?"...":s.length," subscribers"]})]}),a.jsxs("button",{onClick:d,disabled:t||s.length===0,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(z_,{className:"w-4 h-4"}),"Export CSV"]})]}),t&&a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(Home,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),o&&a.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-lg border border-red-200",children:[a.jsxs("div",{className:"text-red-600 mb-4",children:[a.jsx(qn,{className:"w-12 h-12 mx-auto mb-2 text-red-400"}),a.jsx("p",{className:"font-semibold",children:"Unable to load subscribers"}),a.jsx("p",{className:"text-sm mt-2 text-red-500",children:o})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}),!t&&!o&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"ID"}),a.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Email Address"}),a.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Subscription Date"}),a.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Source"})]})}),a.jsx("tbody",{children:s.map((p,m)=>a.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${m%2===0?"bg-white":"bg-gray-25"}`,children:[a.jsxs("td",{className:"p-4 border-b text-gray-900 font-medium",children:["#",m+1]}),a.jsx("td",{className:"p-4 border-b text-gray-900",children:p.email}),a.jsxs("td",{className:"p-4 border-b text-gray-700 flex items-center gap-2",children:[a.jsx(ri,{className:"w-4 h-4 text-gray-500"}),p.subscribeDate?.toDate?p.subscribeDate.toDate().toLocaleDateString():"N/A"]}),a.jsx("td",{className:"p-4 border-b",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.source==="footer"?"bg-blue-100 text-blue-800":p.source==="popup"?"bg-purple-100 text-purple-800":p.source==="website"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.source||"unknown"})})]},p.id))})]})}),!t&&!o&&s.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(qn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No subscribers found"})]})]})},G8=()=>{const s=Jn(),[e,t]=S.useState([]),[r,o]=S.useState(!0),[c,d]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState(""),[w,v]=S.useState(""),[j,A]=S.useState(1),[F,O]=S.useState(null),[q,U]=S.useState(!0),P=12,B=["Lagos","Abuja","Rivers","Ogun","Kano","Kaduna","Oyo","Delta","Edo","Anambra"],Q=["real-estate-agent","real-estate-organization","estate-surverying-firm","developer","property-manager","broker"],ie=C=>C.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),M=C=>{const E=[...C];for(let re=E.length-1;re>0;re--){const de=Math.floor(Math.random()*(re+1));[E[re],E[de]]=[E[de],E[re]]}return E},R=async(C=!1)=>{try{o(!0),d("");const E=gt(),re=pt(E,"users"),de=await ut(re),K=[];for(const ee of de.docs){const V=ee.id,ue=ee.data();try{const W=pt(E,"users",V,"profiles"),se=await ut(W);for(const Ne of se.docs){const Se=Ne.data();Se.isRealEstateProfessional===!0&&K.push({id:V,...ue,...Se,profileId:Ne.id,searchableText:`${Se.firstName||""} ${Se.lastName||""} ${Se.companyName||""} ${Se.city||""}`.toLowerCase()})}}catch(W){console.error(`Error fetching profiles for user ${V}:`,W)}}let ve=M(K);if(p.trim()){const ee=p.toLowerCase();ve=ve.filter(V=>V.searchableText.includes(ee))}g&&(ve=ve.filter(ee=>ee.state===g)),w&&(ve=ve.filter(ee=>ee.category===w));const H=C?0:e.length,k=H+P,G=ve.slice(H,k);t(C?G:ee=>[...ee,...G]),U(k<ve.length)}catch(E){console.error("Error fetching agents:",E),d("Failed to load agents. Please try again.")}finally{o(!1)}};S.useEffect(()=>{R(!0)},[]),S.useEffect(()=>{A(1),O(null),U(!0),R(!0)},[p,g,w]);const T=()=>{!r&&q&&R(!1)},L=({agent:C})=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[C.profileImage?a.jsx("img",{src:C.profileImage,alt:`${C.firstName} ${C.lastName}`,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(br,{className:"w-8 h-8 text-gray-400"})}),a.jsx("div",{className:`absolute -top-1 -right-1 rounded-full p-1 ${C.validation?"bg-green-500":"bg-yellow-500"}`,children:a.jsx(Ja,{className:"w-4 h-4 text-white"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{onClick:()=>s(`/profile/${C.id}`),className:"text-lg font-semibold text-gray-900 cursor-pointer hover:text-blue-600",children:[C.firstName," ",C.lastName]}),C.companyName&&a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:C.companyName}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:ie(C.category||"real-estate-agent")})]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[a.jsx(Ds,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:[C.city,", ",C.state]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[C.primaryPhone&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx($n,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-sm",children:C.primaryPhone})]}),C.email&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-sm",children:C.email})]}),C.website&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(_f,{className:"w-4 h-4 mr-2"}),a.jsxs("a",{href:C.website.startsWith("http")?C.website:`https://${C.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:["Visit Website ",a.jsx(B_,{className:"w-3 h-3 inline ml-1"})]})]})]}),C.aboutUs&&a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:C.aboutUs.length>120?`${C.aboutUs.substring(0,120)}...`:C.aboutUs})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Contact Agent"}),a.jsx("button",{onClick:()=>s(`/profile/${C.id}`),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Profile"})]})]}),z=()=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(wf,{className:"w-5 h-5 text-gray-500 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Agents"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search agents...",value:p,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:g,onChange:C=>b(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All States"}),B.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:w,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Categories"}),Q.map(C=>a.jsx("option",{value:C,children:ie(C)},C))]})]}),(p||g||w)&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{m(""),b(""),v("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Real Estate Professionals"}),a.jsx("p",{className:"text-gray-600",children:"Connect with verified real estate agents, brokers, and professionals"})]}),a.jsx(z,{}),c&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-red-700",children:c}),a.jsx("button",{onClick:()=>R(!0),className:"mt-2 text-red-600 hover:text-red-700 font-medium text-sm",children:"Try Again"})]}),!r&&a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-gray-600",children:e.length===0?"No agents found":e.length===1?"1 agent found":`${e.length} agents found`})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(C=>a.jsx(L,{agent:C},C.id))}),r&&e.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center max-h-lg",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),!r&&q&&e.length>0&&a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-8 py-3 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Load More Agents"})}),!r&&!q&&e.length>0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"You've reached the end of the list"})}),!r&&e.length===0&&!c&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(L_,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No agents found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:p||g||w?"Try adjusting your filters to see more results.":"No verified real estate professionals available at the moment."}),(p||g||w)&&a.jsx("button",{onClick:()=>{m(""),b(""),v("")},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]})]})},Q8=()=>{const[s,e]=kA(),[t,r]=S.useState([]),[o,c]=S.useState([]),[d,p]=S.useState([]),[m,g]=S.useState(!0),[b,w]=S.useState(""),[v,j]=S.useState(null),[A,F]=S.useState(1),[O]=S.useState(12),[q,U]=S.useState([]),[P,B]=S.useState(!1),[Q,ie]=S.useState(!1),M=Jn(),R=s.get("q")||"",[T,L]=S.useState({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:R,country:"",state:"",city:"",advertisingFor:""}),[z,C]=S.useState("newest"),[E,re]=S.useState(!1),de=async me=>{try{const X=gt(),ge=ct(X,"users",me,"profiles","userProfile"),Ie=await ls(ge);if(Ie.exists()){const Ke=Ie.data();r(Ke.wishlist||[])}else{const Ke=ct(X,"users",me),rt=await ls(Ke);if(rt.exists()){const Ce=rt.data();r(Ce.wishlist||[])}}}catch(X){console.error("Error fetching wishlist:",X)}},K=me=>{const X=[...me];for(let ge=X.length-1;ge>0;ge--){const Ie=Math.floor(Math.random()*(ge+1));[X[ge],X[Ie]]=[X[Ie],X[ge]]}return X},ve=((me,X)=>{const[ge,Ie]=S.useState(me);return S.useEffect(()=>{const Ke=setTimeout(()=>{Ie(me)},X);return()=>{clearTimeout(Ke)}},[me,X]),ge})(T.searchQuery,300),H=A*O,k=H-O,G=d.slice(k,H),ee=Math.ceil(d.length/O),V=async me=>{try{const X=gt(),ge=new Set,Ie=Vt(oo(X,"properties"),gs("status","==","active"),s0(50));return(await ut(Ie)).forEach(rt=>{const Ce=rt.data(),Be=me.toLowerCase();Ce.title&&Ce.title.toLowerCase().includes(Be)&&ge.add(Ce.title),Ce.city&&Ce.city.toLowerCase().includes(Be)&&ge.add(Ce.city),Ce.state&&Ce.state.toLowerCase().includes(Be)&&ge.add(Ce.state),Ce.address&&Ce.address.toLowerCase().includes(Be)&&ge.add(Ce.address),Ce.propertyType&&Ce.propertyType.toLowerCase().includes(Be)&&ge.add(Ce.propertyType)}),Array.from(ge).slice(0,8)}catch(X){return console.error("Error fetching search suggestions:",X),[]}};S.useEffect(()=>{(async()=>{if(ve.trim()&&ve.length>=2){ie(!0);try{const X=await V(ve);U(X),B(X.length>0)}catch(X){console.error("Error fetching filter suggestions:",X),U([]),B(!1)}finally{ie(!1)}}else U([]),B(!1)})()},[ve]),S.useEffect(()=>{F(1)},[T,z]),S.useEffect(()=>Pn(X=>{j(X),X?de(X.uid):r([])}),[]);const ue=async()=>{try{g(!0);const me=gt();try{const X=oo(me,"properties"),ge=await ut(X),Ie=[];ge.forEach(rt=>{const Ce=rt.data();Ce.status==="active"&&Ie.push({id:rt.id,docPath:rt.ref.path,...Ce,createdAt:Ce.createdAt?.toDate?Ce.createdAt.toDate():new Date(Ce.createdAt)})}),Ie.sort((rt,Ce)=>new Date(Ce.createdAt)-new Date(rt.createdAt));const Ke=K(Ie);c(Ke),p(Ke),w("")}catch(X){console.error("Collection group query failed:",X),await W()}}catch(me){console.error("Error fetching properties:",me),w("Failed to load properties. Please try again in a few minutes.")}finally{g(!1)}},W=async()=>{const me=gt();try{const X=Vt(pt(me,"properties"),gs("status","==","active")),ge=await ut(X),Ie=[];ge.forEach(rt=>{const Ce=rt.data();Ie.push({id:rt.id,...Ce,createdAt:Ce.createdAt?.toDate?Ce.createdAt.toDate():new Date(Ce.createdAt)})}),Ie.sort((rt,Ce)=>new Date(Ce.createdAt)-new Date(rt.createdAt));const Ke=K(Ie);c(Ke),p(Ke)}catch(X){throw X}};S.useEffect(()=>{ue()},[]);const se=me=>`${me.currency==="Nigeria Naira"?"₦":"$"}${me.price?.toLocaleString()||"0"}`;S.useEffect(()=>{let me=o.filter(X=>{const ge=!T.searchQuery||X.title?.toLowerCase().includes(T.searchQuery.toLowerCase())||X.location?.toLowerCase().includes(T.searchQuery.toLowerCase())||X.description?.toLowerCase().includes(T.searchQuery.toLowerCase())||X.address?.toLowerCase().includes(T.searchQuery.toLowerCase())||X.city?.toLowerCase().includes(T.searchQuery.toLowerCase())||X.state?.toLowerCase().includes(T.searchQuery.toLowerCase()),Ie=(!T.priceMin||X.price>=parseInt(T.priceMin))&&(!T.priceMax||X.price<=parseInt(T.priceMax)),Ke=!T.location||X.city?.toLowerCase().includes(T.location.toLowerCase())||X.state?.toLowerCase().includes(T.location.toLowerCase())||X.country?.toLowerCase().includes(T.location.toLowerCase())||X.address?.toLowerCase().includes(T.location.toLowerCase()),rt=!T.propertyType||X.propertyType===T.propertyType,Ce=!T.bedrooms||X.bedroom>=parseInt(T.bedrooms),Be=!T.bathrooms||X.bathroom>=parseInt(T.bathrooms),ce=!T.country||X.country===T.country,Te=!T.state||X.state===T.state,_e=!T.city||X.city===T.city,Pe=!T.advertisingFor||X.advertisingFor===T.advertisingFor;return ge&&Ie&&Ke&&rt&&Ce&&Be&&ce&&Te&&_e&&Pe});if(z==="shuffle"||E)me=K(me),re(!0);else switch(re(!1),z){case"newest":me.sort((X,ge)=>{const Ie=X.createdAt?.toDate?X.createdAt.toDate():new Date(X.createdAt);return(ge.createdAt?.toDate?ge.createdAt.toDate():new Date(ge.createdAt))-Ie});break;case"price-low":me.sort((X,ge)=>(X.price||0)-(ge.price||0));break;case"price-high":me.sort((X,ge)=>(ge.price||0)-(X.price||0));break;case"bedrooms":me.sort((X,ge)=>(ge.bedroom||0)-(X.bedroom||0));break}p(me)},[T,z,o]);const Ne=(me,X)=>{L(ge=>({...ge,[me]:X}))},Se=()=>{L({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:"",advertisingFor:""}),e({})},$e=async me=>{if(!v){alert("Please log in to add properties to wishlist");return}try{const X=gt(),ge=ct(X,"users",v.uid);t.includes(me)?(await Ps(ge,{wishlist:lo(me)}),r(Ke=>Ke.filter(rt=>rt!==me))):(await Ps(ge,{wishlist:Hu(me)}),r(Ke=>[...Ke,me]))}catch(X){console.error("Error updating wishlist:",X),alert("Failed to update wishlist. Please try again.")}},Ye=({property:me})=>(console.log("Property in card:",me.id),a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:me.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:me.title,className:"w-full h-48 object-cover"}),a.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[a.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:me.propertyType}),a.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-medium",children:["For ",me.advertisingFor]})]}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("button",{onClick:()=>$e(me.id),className:`p-2 rounded-full transition-colors ${t.includes(me.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:a.jsx(Qn,{className:"w-4 h-4",fill:t.includes(me.id)?"currentColor":"none"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between gap-4",children:[a.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2 flex-1",children:me.title}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xl font-semibold text-blue-600",children:se(me)}),a.jsx("div",{className:"text-sm text-gray-500",children:me.advertisingFor==="Rent"&&me.paymentFrequency&&`/${me.paymentFrequency.toLowerCase()}`})]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[a.jsx(Ds,{className:"w-4 h-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:me.showAddress?me.address:`${me.city}, ${me.state}`})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[a.jsxs("div",{className:"flex items-center",children:["🛏️",a.jsxs("span",{className:"ml-1",children:[me.bedroom||0," Beds"]})]}),a.jsxs("div",{className:"flex items-center",children:["🛁",a.jsxs("span",{className:"ml-1",children:[me.bathroom||0," Baths"]})]}),me.totalArea&&a.jsxs("div",{className:"flex items-center",children:["📐",a.jsxs("span",{className:"ml-1",children:[me.totalArea," ",me.totalAreaUnit]})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:me.description}),a.jsxs("button",{onClick:()=>{console.log("Navigating to property:",me.id),M(`/property/${me.id}`,{state:{property:me,returnTo:"/property-search"}})},className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"}),"View Details"]})]})]}));return m?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Searching Properties..."})]}):b?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md",children:[a.jsx("p",{className:"text-red-700 mb-4",children:b}),a.jsx("button",{onClick:ue,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Search"}),R&&a.jsxs("p",{className:"text-gray-600 mt-1",children:["Search results for: ",a.jsxs("span",{className:"font-medium",children:['"',R,'"']})]})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{onClick:Se,className:"text-blue-600 text-sm hover:text-blue-700 flex items-center gap-1",children:[a.jsx(ys,{className:"w-4 h-4"}),"Clear Filters"]})})]})}),a.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(wf,{className:"w-5 h-5"}),"Filters"]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),a.jsxs("select",{value:z,onChange:me=>C(me.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"price-low",children:"Price ↑"}),a.jsx("option",{value:"price-high",children:"Price ↓"}),a.jsx("option",{value:"bedrooms",children:"Bedrooms"}),a.jsx("option",{value:"shuffle",children:"Shuffle"})]})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search properties...",value:T.searchQuery,onChange:me=>{const X=me.target.value;Ne("searchQuery",X),X.trim()||(B(!1),U([]))},onFocus:()=>{T.searchQuery.trim()&&q.length>0&&B(!0)},onBlur:()=>{setTimeout(()=>B(!1),200)},className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),Q&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full"})})]}),P&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50 max-h-60 overflow-y-auto",children:[a.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 font-medium border-b border-gray-100",children:"Suggestions"}),q.length>0?q.map((me,X)=>a.jsxs("button",{onClick:()=>{Ne("searchQuery",me),B(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center gap-2",children:[a.jsx(un,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{children:me})]},X)):!Q&&T.searchQuery.length>=2&&a.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(un,{className:"w-3 h-3 text-gray-400"}),"No suggestions found"]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",d.length," of ",o.length," properties"]})})]}),a.jsxs("div",{className:"p-4 lg:p-6",children:[d.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[a.jsx(un,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Properties Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters to find more properties."}),a.jsx("button",{onClick:Se,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:G.map(me=>a.jsx(Ye,{property:me},me.id))}),d.length>O&&a.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[a.jsxs("button",{onClick:()=>F(me=>Math.max(me-1,1)),disabled:A===1,className:`flex items-center px-3 py-2 rounded-md ${A===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[a.jsx(Xa,{className:"w-4 h-4 mr-1 rotate-90"}),"Previous"]}),Array.from({length:Math.min(5,ee)},(me,X)=>{let ge;return ee<=5||A<=3?ge=X+1:A>=ee-2?ge=ee-4+X:ge=A-2+X,a.jsx("button",{onClick:()=>F(ge),className:`px-3 py-2 rounded-md ${A===ge?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:ge},ge)}),a.jsxs("button",{onClick:()=>F(me=>Math.min(me+1,ee)),disabled:A===ee,className:`flex items-center px-3 py-2 rounded-md ${A===ee?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:["Next",a.jsx(Xa,{className:"w-4 h-4 ml-1 -rotate-90"})]})]}),d.length>0&&a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",k+1," to ",Math.min(H,d.length)," of ",d.length," results"]})})]}),v&&a.jsx("div",{className:"fixed bottom-6 right-6",children:a.jsx("button",{onClick:()=>M("/post_a_listing"),className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110",title:"Create New Listing",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})})]})})},Ly=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(xs,{className:"text-blue-600 h-10 w-10 z-10"}),a.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),a.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),Sg=({children:s,isAuthenticated:e,isLoading:t})=>t?a.jsx(Ly,{}):e?s:a.jsx(xf,{to:"/Property_Premium/login",replace:!0}),x_=({children:s,isAuthenticated:e,isLoading:t})=>t?a.jsx(Ly,{}):e?a.jsx(xf,{to:"/Property_Premium/dashboard",replace:!0}):s,Y8=()=>{const[s,e]=S.useState(null),[t,r]=S.useState(!1),[o,c]=S.useState(!0);return S.useEffect(()=>{const d=Pn(p=>{e(p),r(!!p),c(!1),p?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL}))):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"))});return()=>d()},[]),o?a.jsx(Ly,{}):a.jsx(a.Fragment,{children:a.jsxs(SA,{basename:"/Property_Premium",children:[a.jsx(bO,{}),a.jsxs(R_,{children:[a.jsx(Dt,{path:"/",element:a.jsx(SO,{})}),a.jsx(Dt,{path:"/property_for_sale",element:a.jsx(L8,{})}),a.jsx(Dt,{path:"/newsletter_table",element:a.jsx(H8,{})}),a.jsx(Dt,{path:"/Agents",element:a.jsx(G8,{})}),a.jsx(Dt,{path:"/property/:id",element:a.jsx(F8,{})}),a.jsx(Dt,{path:"/profile/:userId",element:a.jsx(U8,{})}),a.jsx(Dt,{path:"/search",element:a.jsx(Q8,{})}),a.jsx(Dt,{path:"/signup",element:a.jsx(x_,{isAuthenticated:t,isLoading:o,children:a.jsx(AO,{})})}),a.jsx(Dt,{path:"/login",element:a.jsx(x_,{isAuthenticated:t,isLoading:o,children:a.jsx(RO,{})})}),a.jsx(Dt,{path:"/dashboard/*",element:a.jsx(Sg,{isAuthenticated:t,isLoading:o,children:a.jsx(YO,{})})}),a.jsx(Dt,{path:"/post_a_listing",element:a.jsx(Sg,{isAuthenticated:t,isLoading:o,children:a.jsx(O8,{})})}),a.jsx(Dt,{path:"/wishlist",element:a.jsx(Sg,{isAuthenticated:t,isLoading:o,children:a.jsx(z8,{})})}),a.jsx(Dt,{path:"*",element:a.jsx(xf,{to:"/",replace:!0})})]}),a.jsx($8,{})]})})};hS.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(Y8,{})}));

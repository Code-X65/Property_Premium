(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function tS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var eg={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function sS(){if(Qv)return Wc;Qv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Wc.Fragment=e,Wc.jsx=t,Wc.jsxs=t,Wc}var Yv;function nS(){return Yv||(Yv=1,eg.exports=sS()),eg.exports}var i=nS(),tg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function rS(){if(Kv)return $e;Kv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,F={};function L(k,Q,$){this.props=k,this.context=Q,this.refs=F,this.updater=$||j}L.prototype.isReactComponent={},L.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},L.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function q(){}q.prototype=L.prototype;function V(k,Q,$){this.props=k,this.context=Q,this.refs=F,this.updater=$||j}var P=V.prototype=new q;P.constructor=V,A(P,L.prototype),P.isPureReactComponent=!0;var B=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function O(k,Q,$,D,Z,xe){return $=xe.ref,{$$typeof:s,type:k,key:Q,ref:$!==void 0?$:null,props:xe}}function S(k,Q){return O(k.type,Q,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function U(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function($){return Q[$]})}var z=/\/+/g;function C(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):Q.toString(36)}function E(){}function re(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(E,E):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ce(k,Q,$,D,Z){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(xe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case s:case e:ye=!0;break;case b:return ye=k._init,ce(ye(k._payload),Q,$,D,Z)}}if(ye)return Z=Z(k),ye=D===""?"."+C(k,0):D,B(Z)?($="",ye!=null&&($=ye.replace(z,"$&/")+"/"),ce(Z,Q,$,"",function(pt){return pt})):Z!=null&&(R(Z)&&(Z=S(Z,$+(Z.key==null||k&&k.key===Z.key?"":(""+Z.key).replace(z,"$&/")+"/")+ye)),Q.push(Z)),1;ye=0;var De=D===""?".":D+":";if(B(k))for(var Te=0;Te<k.length;Te++)D=k[Te],xe=De+C(D,Te),ye+=ce(D,Q,$,xe,Z);else if(Te=v(k),typeof Te=="function")for(k=Te.call(k),Te=0;!(D=k.next()).done;)D=D.value,xe=De+C(D,Te++),ye+=ce(D,Q,$,xe,Z);else if(xe==="object"){if(typeof k.then=="function")return ce(re(k),Q,$,D,Z);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(k,Q,$){if(k==null)return k;var D=[],Z=0;return ce(k,D,"","",function(xe){return Q.call($,xe,Z++)}),D}function me(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function($){(k._status===0||k._status===-1)&&(k._status=1,k._result=$)},function($){(k._status===0||k._status===-1)&&(k._status=2,k._result=$)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var ve=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function G(){}return $e.Children={map:W,forEach:function(k,Q,$){W(k,function(){Q.apply(this,arguments)},$)},count:function(k){var Q=0;return W(k,function(){Q++}),Q},toArray:function(k){return W(k,function(Q){return Q})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},$e.Component=L,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=V,$e.StrictMode=r,$e.Suspense=m,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,$e.__COMPILER_RUNTIME={__proto__:null,c:function(k){return Y.H.useMemoCache(k)}},$e.cache=function(k){return function(){return k.apply(null,arguments)}},$e.cloneElement=function(k,Q,$){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var D=A({},k.props),Z=k.key,xe=void 0;if(Q!=null)for(ye in Q.ref!==void 0&&(xe=void 0),Q.key!==void 0&&(Z=""+Q.key),Q)!ae.call(Q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Q.ref===void 0||(D[ye]=Q[ye]);var ye=arguments.length-2;if(ye===1)D.children=$;else if(1<ye){for(var De=Array(ye),Te=0;Te<ye;Te++)De[Te]=arguments[Te+2];D.children=De}return O(k.type,Z,void 0,void 0,xe,D)},$e.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},$e.createElement=function(k,Q,$){var D,Z={},xe=null;if(Q!=null)for(D in Q.key!==void 0&&(xe=""+Q.key),Q)ae.call(Q,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(Z[D]=Q[D]);var ye=arguments.length-2;if(ye===1)Z.children=$;else if(1<ye){for(var De=Array(ye),Te=0;Te<ye;Te++)De[Te]=arguments[Te+2];Z.children=De}if(k&&k.defaultProps)for(D in ye=k.defaultProps,ye)Z[D]===void 0&&(Z[D]=ye[D]);return O(k,xe,void 0,void 0,null,Z)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(k){return{$$typeof:p,render:k}},$e.isValidElement=R,$e.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:me}},$e.memo=function(k,Q){return{$$typeof:g,type:k,compare:Q===void 0?null:Q}},$e.startTransition=function(k){var Q=Y.T,$={};Y.T=$;try{var D=k(),Z=Y.S;Z!==null&&Z($,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(G,ve)}catch(xe){ve(xe)}finally{Y.T=Q}},$e.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},$e.use=function(k){return Y.H.use(k)},$e.useActionState=function(k,Q,$){return Y.H.useActionState(k,Q,$)},$e.useCallback=function(k,Q){return Y.H.useCallback(k,Q)},$e.useContext=function(k){return Y.H.useContext(k)},$e.useDebugValue=function(){},$e.useDeferredValue=function(k,Q){return Y.H.useDeferredValue(k,Q)},$e.useEffect=function(k,Q,$){var D=Y.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(k,Q)},$e.useId=function(){return Y.H.useId()},$e.useImperativeHandle=function(k,Q,$){return Y.H.useImperativeHandle(k,Q,$)},$e.useInsertionEffect=function(k,Q){return Y.H.useInsertionEffect(k,Q)},$e.useLayoutEffect=function(k,Q){return Y.H.useLayoutEffect(k,Q)},$e.useMemo=function(k,Q){return Y.H.useMemo(k,Q)},$e.useOptimistic=function(k,Q){return Y.H.useOptimistic(k,Q)},$e.useReducer=function(k,Q,$){return Y.H.useReducer(k,Q,$)},$e.useRef=function(k){return Y.H.useRef(k)},$e.useState=function(k){return Y.H.useState(k)},$e.useSyncExternalStore=function(k,Q,$){return Y.H.useSyncExternalStore(k,Q,$)},$e.useTransition=function(){return Y.H.useTransition()},$e.version="19.1.0",$e}var Wv;function f0(){return Wv||(Wv=1,tg.exports=rS()),tg.exports}var T=f0();const Rt=tS(T);var sg={exports:{}},Xc={},ng={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function aS(){return Xv||(Xv=1,function(s){function e(W,me){var ve=W.length;W.push(me);e:for(;0<ve;){var G=ve-1>>>1,k=W[G];if(0<o(k,me))W[G]=me,W[ve]=k,ve=G;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var me=W[0],ve=W.pop();if(ve!==me){W[0]=ve;e:for(var G=0,k=W.length,Q=k>>>1;G<Q;){var $=2*(G+1)-1,D=W[$],Z=$+1,xe=W[Z];if(0>o(D,ve))Z<k&&0>o(xe,D)?(W[G]=xe,W[Z]=ve,G=Z):(W[G]=D,W[$]=ve,G=$);else if(Z<k&&0>o(xe,ve))W[G]=xe,W[Z]=ve,G=Z;else break e}}return me}function o(W,me){var ve=W.sortIndex-me.sortIndex;return ve!==0?ve:W.id-me.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],g=[],b=1,w=null,v=3,j=!1,A=!1,F=!1,L=!1,q=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var me=t(g);me!==null;){if(me.callback===null)r(g);else if(me.startTime<=W)r(g),me.sortIndex=me.expirationTime,e(m,me);else break;me=t(g)}}function Y(W){if(F=!1,B(W),!A)if(t(m)!==null)A=!0,ae||(ae=!0,C());else{var me=t(g);me!==null&&ce(Y,me.startTime-W)}}var ae=!1,O=-1,S=5,R=-1;function U(){return L?!0:!(s.unstable_now()-R<S)}function z(){if(L=!1,ae){var W=s.unstable_now();R=W;var me=!0;try{e:{A=!1,F&&(F=!1,V(O),O=-1),j=!0;var ve=v;try{t:{for(B(W),w=t(m);w!==null&&!(w.expirationTime>W&&U());){var G=w.callback;if(typeof G=="function"){w.callback=null,v=w.priorityLevel;var k=G(w.expirationTime<=W);if(W=s.unstable_now(),typeof k=="function"){w.callback=k,B(W),me=!0;break t}w===t(m)&&r(m),B(W)}else r(m);w=t(m)}if(w!==null)me=!0;else{var Q=t(g);Q!==null&&ce(Y,Q.startTime-W),me=!1}}break e}finally{w=null,v=ve,j=!1}me=void 0}}finally{me?C():ae=!1}}}var C;if(typeof P=="function")C=function(){P(z)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,re=E.port2;E.port1.onmessage=z,C=function(){re.postMessage(null)}}else C=function(){q(z,0)};function ce(W,me){O=q(function(){W(s.unstable_now())},me)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(W){switch(v){case 1:case 2:case 3:var me=3;break;default:me=v}var ve=v;v=me;try{return W()}finally{v=ve}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(W,me){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=v;v=W;try{return me()}finally{v=ve}},s.unstable_scheduleCallback=function(W,me,ve){var G=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?G+ve:G):ve=G,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ve+k,W={id:b++,callback:me,priorityLevel:W,startTime:ve,expirationTime:k,sortIndex:-1},ve>G?(W.sortIndex=ve,e(g,W),t(m)===null&&W===t(g)&&(F?(V(O),O=-1):F=!0,ce(Y,ve-G))):(W.sortIndex=k,e(m,W),A||j||(A=!0,ae||(ae=!0,C()))),W},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(W){var me=v;return function(){var ve=v;v=me;try{return W.apply(this,arguments)}finally{v=ve}}}}(rg)),rg}var Zv;function iS(){return Zv||(Zv=1,ng.exports=aS()),ng.exports}var ag={exports:{}},Ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function oS(){if(Jv)return Ss;Jv=1;var s=f0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ss.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,b)},Ss.flushSync=function(m){var g=d.T,b=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=b,r.d.f()}},Ss.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Ss.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ss.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:v,fetchPriority:j}):b==="script"&&r.d.X(m,{crossOrigin:w,integrity:v,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ss.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Ss.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin);r.d.L(m,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ss.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=p(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Ss.requestFormReset=function(m){r.d.r(m)},Ss.unstable_batchedUpdates=function(m,g){return m(g)},Ss.useFormState=function(m,g,b){return d.H.useFormState(m,g,b)},Ss.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ss.version="19.1.0",Ss}var ew;function lS(){if(ew)return ag.exports;ew=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ag.exports=oS(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function cS(){if(tw)return Xc;tw=1;var s=iS(),e=f0(),t=lS();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function d(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(r(188))}function m(n){var a=n.alternate;if(!a){if(a=c(n),a===null)throw Error(r(188));return a!==n?null:n}for(var l=n,u=a;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return p(f),n;if(y===u)return p(f),a;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=y;else{for(var N=!1,I=f.child;I;){if(I===l){N=!0,l=f,u=y;break}if(I===u){N=!0,u=f,l=y;break}I=I.sibling}if(!N){for(I=y.child;I;){if(I===l){N=!0,l=y,u=f;break}if(I===u){N=!0,u=y,l=f;break}I=I.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var E=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===E?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case Y:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case P:return(n.displayName||"Context")+".Provider";case V:return(n._context.displayName||"Context")+".Consumer";case B:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return a=n.displayName||null,a!==null?a:re(n.type)||"Memo";case S:a=n._payload,n=n._init;try{return re(n(a))}catch{}}return null}var ce=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},G=[],k=-1;function Q(n){return{current:n}}function $(n){0>k||(n.current=G[k],G[k]=null,k--)}function D(n,a){k++,G[k]=n.current,n.current=a}var Z=Q(null),xe=Q(null),ye=Q(null),De=Q(null);function Te(n,a){switch(D(ye,a),D(xe,n),D(Z,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?wv(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=wv(a),n=_v(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(Z),D(Z,n)}function pt(){$(Z),$(xe),$(ye)}function ys(n){n.memoizedState!==null&&D(De,n);var a=Z.current,l=_v(a,n.type);a!==l&&(D(xe,n),D(Z,l))}function be(n){xe.current===n&&($(Z),$(xe)),De.current===n&&($(De),Hc._currentValue=ve)}var J=Object.prototype.hasOwnProperty,fe=s.unstable_scheduleCallback,Ce=s.unstable_cancelCallback,Ze=s.unstable_shouldYield,st=s.unstable_requestPaint,Re=s.unstable_now,Be=s.unstable_getCurrentPriorityLevel,le=s.unstable_ImmediatePriority,Ee=s.unstable_UserBlockingPriority,_e=s.unstable_NormalPriority,ke=s.unstable_LowPriority,Je=s.unstable_IdlePriority,Mt=s.log,Js=s.unstable_setDisableYieldValue,ct=null,Fe=null;function Qe(n){if(typeof Mt=="function"&&Js(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ct,n)}catch{}}var Ot=Math.clz32?Math.clz32:Rr,xi=Math.log,ga=Math.LN2;function Rr(n){return n>>>=0,n===0?32:31-(xi(n)/ga|0)|0}var bi=256,vi=4194304;function Pn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _o(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var f=0,y=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?f=Pn(u):(N&=I,N!==0?f=Pn(N):l||(l=I&~n,l!==0&&(f=Pn(l))))):(I=u&~y,I!==0?f=Pn(I):N!==0?f=Pn(N):l||(l=u&~n,l!==0&&(f=Pn(l)))),f===0?0:a!==0&&a!==f&&(a&y)===0&&(y=f&-f,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:f}function wi(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Hl(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var n=bi;return bi<<=1,(bi&4194048)===0&&(bi=256),n}function Ql(){var n=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),n}function Cr(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Ir(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yl(n,a,l,u,f,y){var N=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var I=n.entanglements,H=n.expirationTimes,se=n.hiddenUpdates;for(l=N&~l;0<l;){var ue=31-Ot(l),pe=1<<ue;I[ue]=0,H[ue]=-1;var ne=se[ue];if(ne!==null)for(se[ue]=null,ue=0;ue<ne.length;ue++){var ie=ne[ue];ie!==null&&(ie.lane&=-536870913)}l&=~pe}u!==0&&Xn(n,u,0),y!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=y&~(N&~a))}function Xn(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Ot(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Kl(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Ot(l),f=1<<u;f&a|n[u]&a&&(n[u]|=a),l&=~f}}function ya(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function No(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xa(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:zv(n.type))}function Ju(n,a){var l=me.p;try{return me.p=n,a()}finally{me.p=l}}var It=Math.random().toString(36).slice(2),ts="__reactFiber$"+It,Yt="__reactProps$"+It,mn="__reactContainer$"+It,Wl="__reactEvents$"+It,nm="__reactListeners$"+It,ba="__reactHandles$"+It,ed="__reactResources$"+It,_i="__reactMarker$"+It;function va(n){delete n[ts],delete n[Yt],delete n[Wl],delete n[nm],delete n[ba]}function kr(n){var a=n[ts];if(a)return a;for(var l=n.parentNode;l;){if(a=l[mn]||l[ts]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Tv(n);n!==null;){if(l=n[ts])return l;n=Tv(n)}return a}n=l,l=n.parentNode}return null}function Zn(n){if(n=n[ts]||n[mn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Jn(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function Ds(n){var a=n[ed];return a||(a=n[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qt(n){n[_i]=!0}var Xl=new Set,jo={};function Dn(n,a){Pr(n,a),Pr(n+"Capture",a)}function Pr(n,a){for(jo[n]=a,n=0;n<a.length;n++)Xl.add(a[n])}var td=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},Ni={};function nd(n){return J.call(Ni,n)?!0:J.call(sd,n)?!1:td.test(n)?Ni[n]=!0:(sd[n]=!0,!1)}function wa(n,a,l){if(nd(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function er(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function xs(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}var ji,rd;function Dr(n){if(ji===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ji=a&&a[1]||"",rd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+n+rd}var Eo=!1;function To(n,a){if(!n||Eo)return"";Eo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ie){var ne=ie}Reflect.construct(n,[],pe)}else{try{pe.call()}catch(ie){ne=ie}n.call(pe.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(pe=n())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),N=y[0],I=y[1];if(N&&I){var H=N.split(`
`),se=I.split(`
`);for(f=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;if(u===H.length||f===se.length)for(u=H.length-1,f=se.length-1;1<=u&&0<=f&&H[u]!==se[f];)f--;for(;1<=u&&0<=f;u--,f--)if(H[u]!==se[f]){if(u!==1||f!==1)do if(u--,f--,0>f||H[u]!==se[f]){var ue=`
`+H[u].replace(" at new "," at ");return n.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",n.displayName)),ue}while(1<=u&&0<=f);break}}}finally{Eo=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Dr(l):""}function Zl(n){switch(n.tag){case 26:case 27:case 5:return Dr(n.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return To(n.type,!1);case 11:return To(n.type.render,!1);case 1:return To(n.type,!0);case 31:return Dr("Activity");default:return""}}function So(n){try{var a="";do a+=Zl(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ms(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rm(n){var a=Jl(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(N){u=""+N,y.call(this,N)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ao(n){n._valueTracker||(n._valueTracker=rm(n))}function ec(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Jl(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function Ei(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var am=/[\n"\\]/g;function Kt(n){return n.replace(am,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function en(n,a,l,u,f,y,N,I){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),a!=null?N==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Ms(a)):n.value!==""+Ms(a)&&(n.value=""+Ms(a)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),a!=null?_a(n,N,Ms(a)):l!=null?_a(n,N,Ms(l)):u!=null&&n.removeAttribute("value"),f==null&&y!=null&&(n.defaultChecked=!!y),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Ms(I):n.removeAttribute("name")}function Ti(n,a,l,u,f,y,N,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Ms(l):"",a=a!=null?""+Ms(a):l,I||a===n.value||(n.value=a),n.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=I?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N)}function _a(n,a,l){a==="number"&&Ei(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Mr(n,a,l,u){if(n=n.options,a){a={};for(var f=0;f<l.length;f++)a["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=a.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Ms(l),a=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function vt(n,a,l){if(a!=null&&(a=""+Ms(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Ms(l):""}function Si(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ms(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function pn(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||Ai.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function tc(n,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&l[f]!==u&&ad(n,f,u)}else for(var y in a)a.hasOwnProperty(y)&&ad(n,y,a[y])}function sc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(n){return om.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Or=null;function gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lr=null,Ur=null;function nc(n){var a=Zn(n);if(a&&(n=a.stateNode)){var l=n[Yt]||null;e:switch(n=a.stateNode,a.type){case"input":if(en(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var f=u[Yt]||null;if(!f)throw Error(r(90));en(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&ec(u)}break e;case"textarea":vt(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Mr(n,!!l.multiple,a,!1)}}}var tr=!1;function id(n,a,l){if(tr)return n(a,l);tr=!0;try{var u=n(a);return u}finally{if(tr=!1,(Lr!==null||Ur!==null)&&(Jd(),Lr&&(a=Lr,n=Ur,Ur=Lr=null,nc(a),n)))for(a=0;a<n.length;a++)nc(n[a])}}function Ri(n,a){var l=n.stateNode;if(l===null)return null;var u=l[Yt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Mn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{yn=!1}var sr=null,Na=null,Vr=null;function rc(){if(Vr)return Vr;var n,a=Na,l=a.length,u,f="value"in sr?sr.value:sr.textContent,y=f.length;for(n=0;n<l&&a[n]===f[n];n++);var N=l-n;for(u=1;u<=N&&a[l-u]===f[y-u];u++);return Vr=f.slice(n,1<u?1-u:void 0)}function nr(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function rr(){return!0}function ac(){return!1}function ls(n){function a(l,u,f,y,N){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(l=n[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?rr:ac,this.isPropagationStopped=ac,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),a}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=ls(gt),Ii=b({},gt,{view:0,detail:0}),od=ls(Ii),Io,ko,ar,ki=b({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ar&&(ar&&n.type==="mousemove"?(Io=n.screenX-ar.screenX,ko=n.screenY-ar.screenY):ko=Io=0,ar=n),Io)},movementY:function(n){return"movementY"in n?n.movementY:ko}}),xn=ls(ki),ld=b({},ki,{dataTransfer:0}),lm=ls(ld),Pi=b({},Ii,{relatedTarget:0}),Po=ls(Pi),ic=b({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=ls(ic),cd=b({},gt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Mo=ls(cd),cm=b({},gt,{data:0}),oc=ls(cm),Di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=dd[n])?!!a[n]:!1}function Mi(){return lc}var hd=b({},Ii,{key:function(n){if(n.key){var a=Di[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ud[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(n){return n.type==="keypress"?nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oo=ls(hd),fd=b({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=ls(fd),Fr=b({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),md=ls(Fr),pd=b({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gd=ls(pd),yd=b({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=ls(yd),Os=b({},gt,{newState:0,oldState:0}),xd=ls(Os),bd=[9,13,27,32],ir=Mn&&"CompositionEvent"in window,h=null;Mn&&"documentMode"in document&&(h=document.documentMode);var x=Mn&&"TextEvent"in window&&!h,_=Mn&&(!ir||h&&8<h&&11>=h),M=" ",ee=!1;function oe(n,a){switch(n){case"keyup":return bd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nt=!1;function ss(n,a){switch(n){case"compositionend":return we(a);case"keypress":return a.which!==32?null:(ee=!0,M);case"textInput":return n=a.data,n===M&&ee?null:n;default:return null}}function rt(n,a){if(nt)return n==="compositionend"||!ir&&oe(n,a)?(n=rc(),Vr=Na=sr=null,nt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var cs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ns(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!cs[n.type]:a==="textarea"}function zr(n,a,l,u){Lr?Ur?Ur.push(u):Ur=[u]:Lr=u,a=ah(a,"onChange"),0<a.length&&(l=new Co("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var bs=null,or=null;function uc(n){gv(n,0)}function vd(n){var a=Jn(n);if(ec(a))return n}function Ly(n,a){if(n==="change")return a}var Uy=!1;if(Mn){var um;if(Mn){var dm="oninput"in document;if(!dm){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),dm=typeof Vy.oninput=="function"}um=dm}else um=!1;Uy=um&&(!document.documentMode||9<document.documentMode)}function Fy(){bs&&(bs.detachEvent("onpropertychange",zy),or=bs=null)}function zy(n){if(n.propertyName==="value"&&vd(or)){var a=[];zr(a,or,n,gn(n)),id(uc,a)}}function IE(n,a,l){n==="focusin"?(Fy(),bs=a,or=l,bs.attachEvent("onpropertychange",zy)):n==="focusout"&&Fy()}function kE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vd(or)}function PE(n,a){if(n==="click")return vd(a)}function DE(n,a){if(n==="input"||n==="change")return vd(a)}function ME(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var tn=typeof Object.is=="function"?Object.is:ME;function dc(n,a){if(tn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!J.call(a,f)||!tn(n[f],a[f]))return!1}return!0}function By(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qy(n,a){var l=By(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=By(l)}}function $y(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?$y(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Ei(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Ei(n.document)}return a}function hm(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var OE=Mn&&"documentMode"in document&&11>=document.documentMode,Uo=null,fm=null,hc=null,mm=!1;function Gy(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mm||Uo==null||Uo!==Ei(u)||(u=Uo,"selectionStart"in u&&hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hc&&dc(hc,u)||(hc=u,u=ah(fm,"onSelect"),0<u.length&&(a=new Co("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Uo)))}function Oi(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Vo={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},pm={},Qy={};Mn&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Li(n){if(pm[n])return pm[n];if(!Vo[n])return n;var a=Vo[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Qy)return pm[n]=a[l];return n}var Yy=Li("animationend"),Ky=Li("animationiteration"),Wy=Li("animationstart"),LE=Li("transitionrun"),UE=Li("transitionstart"),VE=Li("transitioncancel"),Xy=Li("transitionend"),Zy=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function On(n,a){Zy.set(n,a),Dn(a,[n])}var Jy=new WeakMap;function bn(n,a){if(typeof n=="object"&&n!==null){var l=Jy.get(n);return l!==void 0?l:(a={value:n,source:a,stack:So(a)},Jy.set(n,a),a)}return{value:n,source:a,stack:So(a)}}var vn=[],Fo=0,ym=0;function wd(){for(var n=Fo,a=ym=Fo=0;a<n;){var l=vn[a];vn[a++]=null;var u=vn[a];vn[a++]=null;var f=vn[a];vn[a++]=null;var y=vn[a];if(vn[a++]=null,u!==null&&f!==null){var N=u.pending;N===null?f.next=f:(f.next=N.next,N.next=f),u.pending=f}y!==0&&ex(l,f,y)}}function _d(n,a,l,u){vn[Fo++]=n,vn[Fo++]=a,vn[Fo++]=l,vn[Fo++]=u,ym|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function xm(n,a,l,u){return _d(n,a,l,u),Nd(n)}function zo(n,a){return _d(n,null,null,a),Nd(n)}function ex(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var f=!1,y=n.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(f=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,f&&a!==null&&(f=31-Ot(l),n=y.hiddenUpdates,u=n[f],u===null?n[f]=[a]:u.push(a),a.lane=l|536870912),y):null}function Nd(n){if(50<Lc)throw Lc=0,jp=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Bo={};function FE(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(n,a,l,u){return new FE(n,a,l,u)}function bm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Br(n,a){var l=n.alternate;return l===null?(l=sn(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function tx(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function jd(n,a,l,u,f,y){var N=0;if(u=n,typeof n=="function")bm(n)&&(N=1);else if(typeof n=="string")N=BT(n,l,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=sn(31,l,a,f),n.elementType=R,n.lanes=y,n;case A:return Ui(l.children,f,y,a);case F:N=8,f|=24;break;case L:return n=sn(12,l,a,f|2),n.elementType=L,n.lanes=y,n;case Y:return n=sn(13,l,a,f),n.elementType=Y,n.lanes=y,n;case ae:return n=sn(19,l,a,f),n.elementType=ae,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case P:N=10;break e;case V:N=9;break e;case B:N=11;break e;case O:N=14;break e;case S:N=16,u=null;break e}N=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return a=sn(N,l,a,f),a.elementType=n,a.type=u,a.lanes=y,a}function Ui(n,a,l,u){return n=sn(7,n,u,a),n.lanes=l,n}function vm(n,a,l){return n=sn(6,n,null,a),n.lanes=l,n}function wm(n,a,l){return a=sn(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var qo=[],$o=0,Ed=null,Td=0,wn=[],_n=0,Vi=null,qr=1,$r="";function Fi(n,a){qo[$o++]=Td,qo[$o++]=Ed,Ed=n,Td=a}function sx(n,a,l){wn[_n++]=qr,wn[_n++]=$r,wn[_n++]=Vi,Vi=n;var u=qr;n=$r;var f=32-Ot(u)-1;u&=~(1<<f),l+=1;var y=32-Ot(a)+f;if(30<y){var N=f-f%5;y=(u&(1<<N)-1).toString(32),u>>=N,f-=N,qr=1<<32-Ot(a)+f|l<<f|u,$r=y+n}else qr=1<<y|l<<f|u,$r=n}function _m(n){n.return!==null&&(Fi(n,1),sx(n,1,0))}function Nm(n){for(;n===Ed;)Ed=qo[--$o],qo[$o]=null,Td=qo[--$o],qo[$o]=null;for(;n===Vi;)Vi=wn[--_n],wn[_n]=null,$r=wn[--_n],wn[_n]=null,qr=wn[--_n],wn[_n]=null}var Ls=null,zt=null,ht=!1,zi=null,lr=!1,jm=Error(r(519));function Bi(n){var a=Error(r(418,""));throw pc(bn(a,n)),jm}function nx(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[ts]=n,a[Yt]=u,l){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(l=0;l<Vc.length;l++)Xe(Vc[l],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),Ti(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ao(a);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),Si(a,u.value,u.defaultValue,u.children),Ao(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||vv(a.textContent,l)?(u.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),u.onScroll!=null&&Xe("scroll",a),u.onScrollEnd!=null&&Xe("scrollend",a),u.onClick!=null&&(a.onclick=ih),a=!0):a=!1,a||Bi(n)}function rx(n){for(Ls=n.return;Ls;)switch(Ls.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:Ls=Ls.return}}function fc(n){if(n!==Ls)return!1;if(!ht)return rx(n),ht=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Fp(n.type,n.memoizedProps)),l=!l),l&&zt&&Bi(n),rx(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){zt=Un(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}zt=null}}else a===27?(a=zt,Va(n.type)?(n=$p,$p=null,zt=n):zt=a):zt=Ls?Un(n.stateNode.nextSibling):null;return!0}function mc(){zt=Ls=null,ht=!1}function ax(){var n=zi;return n!==null&&(Hs===null?Hs=n:Hs.push.apply(Hs,n),zi=null),n}function pc(n){zi===null?zi=[n]:zi.push(n)}var Em=Q(null),qi=null,Hr=null;function ja(n,a,l){D(Em,a._currentValue),a._currentValue=l}function Gr(n){n._currentValue=Em.current,$(Em)}function Tm(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Sm(n,a,l,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){var N=f.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=f;for(var H=0;H<a.length;H++)if(I.context===a[H]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),Tm(y.return,l,n),u||(N=null);break e}y=I.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(r(341));N.lanes|=l,y=N.alternate,y!==null&&(y.lanes|=l),Tm(N,l,n),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===n){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function gc(n,a,l,u){n=null;for(var f=a,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=f.type;tn(f.pendingProps.value,N.value)||(n!==null?n.push(I):n=[I])}}else if(f===De.current){if(N=f.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hc):n=[Hc])}f=f.return}n!==null&&Sm(a,n,l,u),a.flags|=262144}function Sd(n){for(n=n.firstContext;n!==null;){if(!tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $i(n){qi=n,Hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ts(n){return ix(qi,n)}function Ad(n,a){return qi===null&&$i(n),ix(n,a)}function ix(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Hr===null){if(n===null)throw Error(r(308));Hr=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Hr=Hr.next=a;return l}var zE=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},BE=s.unstable_scheduleCallback,qE=s.unstable_NormalPriority,rs={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new zE,data:new Map,refCount:0}}function yc(n){n.refCount--,n.refCount===0&&BE(qE,function(){n.controller.abort()})}var xc=null,Rm=0,Ho=0,Go=null;function $E(n,a){if(xc===null){var l=xc=[];Rm=0,Ho=Ip(),Go={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Rm++,a.then(ox,ox),a}function ox(){if(--Rm===0&&xc!==null){Go!==null&&(Go.status="fulfilled");var n=xc;xc=null,Ho=0,Go=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function HE(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<l.length;f++)(0,l[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var lx=W.S;W.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&$E(n,a),lx!==null&&lx(n,a)};var Hi=Q(null);function Cm(){var n=Hi.current;return n!==null?n:St.pooledCache}function Rd(n,a){a===null?D(Hi,Hi.current):D(Hi,a.pool)}function cx(){var n=Cm();return n===null?null:{parent:rs._currentValue,pool:n}}var bc=Error(r(460)),ux=Error(r(474)),Cd=Error(r(542)),Im={then:function(){}};function dx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Id(){}function hx(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Id,Id),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,mx(n),n;default:if(typeof a.status=="string")a.then(Id,Id);else{if(n=St,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,mx(n),n}throw vc=a,bc}}var vc=null;function fx(){if(vc===null)throw Error(r(459));var n=vc;return vc=null,n}function mx(n){if(n===bc||n===Cd)throw Error(r(483))}var Ea=!1;function km(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sa(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(xt&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=Nd(n),ex(n,null,l),a}return _d(n,u,a,l),Nd(n)}function wc(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Kl(n,l)}}function Dm(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?f=y=N:y=y.next=N,l=l.next}while(l!==null);y===null?f=y=a:y=y.next=a}else f=y=a;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Mm=!1;function _c(){if(Mm){var n=Go;if(n!==null)throw n}}function Nc(n,a,l,u){Mm=!1;var f=n.updateQueue;Ea=!1;var y=f.firstBaseUpdate,N=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var H=I,se=H.next;H.next=null,N===null?y=se:N.next=se,N=H;var ue=n.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==N&&(I===null?ue.firstBaseUpdate=se:I.next=se,ue.lastBaseUpdate=H))}if(y!==null){var pe=f.baseState;N=0,ue=se=H=null,I=y;do{var ne=I.lane&-536870913,ie=ne!==I.lane;if(ie?(at&ne)===ne:(u&ne)===ne){ne!==0&&ne===Ho&&(Mm=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ve=n,Me=I;ne=a;var Nt=l;switch(Me.tag){case 1:if(Ve=Me.payload,typeof Ve=="function"){pe=Ve.call(Nt,pe,ne);break e}pe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Me.payload,ne=typeof Ve=="function"?Ve.call(Nt,pe,ne):Ve,ne==null)break e;pe=b({},pe,ne);break e;case 2:Ea=!0}}ne=I.callback,ne!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(se=ue=ie,H=pe):ue=ue.next=ie,N|=ne;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);ue===null&&(H=pe),f.baseState=H,f.firstBaseUpdate=se,f.lastBaseUpdate=ue,y===null&&(f.shared.lanes=0),Ma|=N,n.lanes=N,n.memoizedState=pe}}function px(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function gx(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)px(l[n],a)}var Qo=Q(null),kd=Q(0);function yx(n,a){n=Jr,D(kd,n),D(Qo,a),Jr=n|a.baseLanes}function Om(){D(kd,Jr),D(Qo,Qo.current)}function Lm(){Jr=kd.current,$(Qo),$(kd)}var Aa=0,He=null,wt=null,Wt=null,Pd=!1,Yo=!1,Gi=!1,Dd=0,jc=0,Ko=null,GE=0;function $t(){throw Error(r(321))}function Um(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!tn(n[l],a[l]))return!1;return!0}function Vm(n,a,l,u,f,y){return Aa=y,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=n===null||n.memoizedState===null?eb:tb,Gi=!1,y=l(u,f),Gi=!1,Yo&&(y=bx(a,l,u,f)),xx(n),y}function xx(n){W.H=Fd;var a=wt!==null&&wt.next!==null;if(Aa=0,Wt=wt=He=null,Pd=!1,jc=0,Ko=null,a)throw Error(r(300));n===null||us||(n=n.dependencies,n!==null&&Sd(n)&&(us=!0))}function bx(n,a,l,u){He=n;var f=0;do{if(Yo&&(Ko=null),jc=0,Yo=!1,25<=f)throw Error(r(301));if(f+=1,Wt=wt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=JE,y=a(l,u)}while(Yo);return y}function QE(){var n=W.H,a=n.useState()[0];return a=typeof a.then=="function"?Ec(a):a,n=n.useState()[0],(wt!==null?wt.memoizedState:null)!==n&&(He.flags|=1024),a}function Fm(){var n=Dd!==0;return Dd=0,n}function zm(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Bm(n){if(Pd){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Pd=!1}Aa=0,Wt=wt=He=null,Yo=!1,jc=Dd=0,Ko=null}function qs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?He.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function Xt(){if(wt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=wt.next;var a=Wt===null?He.memoizedState:Wt.next;if(a!==null)Wt=a,wt=n;else{if(n===null)throw He.alternate===null?Error(r(467)):Error(r(310));wt=n,n={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Wt===null?He.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function qm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(n){var a=jc;return jc+=1,Ko===null&&(Ko=[]),n=hx(Ko,n,a),a=He,(Wt===null?a.memoizedState:Wt.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?eb:tb),n}function Md(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ec(n);if(n.$$typeof===P)return Ts(n)}throw Error(r(438,String(n)))}function $m(n){var a=null,l=He.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=qm(),He.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=U;return a.index++,l}function Qr(n,a){return typeof a=="function"?a(n):a}function Od(n){var a=Xt();return Hm(a,wt,n)}function Hm(n,a,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=n.baseQueue,y=u.pending;if(y!==null){if(f!==null){var N=f.next;f.next=y.next,y.next=N}a.baseQueue=f=y,u.pending=null}if(y=n.baseState,f===null)n.memoizedState=y;else{a=f.next;var I=N=null,H=null,se=a,ue=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(at&pe)===pe:(Aa&pe)===pe){var ne=se.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===Ho&&(ue=!0);else if((Aa&ne)===ne){se=se.next,ne===Ho&&(ue=!0);continue}else pe={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(I=H=pe,N=y):H=H.next=pe,He.lanes|=ne,Ma|=ne;pe=se.action,Gi&&l(y,pe),y=se.hasEagerState?se.eagerState:l(y,pe)}else ne={lane:pe,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(I=H=ne,N=y):H=H.next=ne,He.lanes|=pe,Ma|=pe;se=se.next}while(se!==null&&se!==a);if(H===null?N=y:H.next=I,!tn(y,n.memoizedState)&&(us=!0,ue&&(l=Go,l!==null)))throw l;n.memoizedState=y,n.baseState=N,n.baseQueue=H,u.lastRenderedState=y}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Gm(n){var a=Xt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,f=l.pending,y=a.memoizedState;if(f!==null){l.pending=null;var N=f=f.next;do y=n(y,N.action),N=N.next;while(N!==f);tn(y,a.memoizedState)||(us=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function vx(n,a,l){var u=He,f=Xt(),y=ht;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var N=!tn((wt||f).memoizedState,l);N&&(f.memoizedState=l,us=!0),f=f.queue;var I=Nx.bind(null,u,f,n);if(Tc(2048,8,I,[n]),f.getSnapshot!==a||N||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,Wo(9,Ld(),_x.bind(null,u,f,l,a),null),St===null)throw Error(r(349));y||(Aa&124)!==0||wx(u,a,l)}return l}function wx(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=He.updateQueue,a===null?(a=qm(),He.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function _x(n,a,l,u){a.value=l,a.getSnapshot=u,jx(a)&&Ex(n)}function Nx(n,a,l){return l(function(){jx(a)&&Ex(n)})}function jx(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!tn(n,l)}catch{return!0}}function Ex(n){var a=zo(n,2);a!==null&&ln(a,n,2)}function Qm(n){var a=qs();if(typeof n=="function"){var l=n;if(n=l(),Gi){Qe(!0);try{l()}finally{Qe(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:n},a}function Tx(n,a,l,u){return n.baseState=l,Hm(n,wt,typeof u=="function"?u:Qr)}function YE(n,a,l,u,f){if(Vd(n))throw Error(r(485));if(n=a.action,n!==null){var y={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};W.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,Sx(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Sx(n,a){var l=a.action,u=a.payload,f=n.state;if(a.isTransition){var y=W.T,N={};W.T=N;try{var I=l(f,u),H=W.S;H!==null&&H(N,I),Ax(n,a,I)}catch(se){Ym(n,a,se)}finally{W.T=y}}else try{y=l(f,u),Ax(n,a,y)}catch(se){Ym(n,a,se)}}function Ax(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Rx(n,a,u)},function(u){return Ym(n,a,u)}):Rx(n,a,l)}function Rx(n,a,l){a.status="fulfilled",a.value=l,Cx(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Sx(n,l)))}function Ym(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Cx(a),a=a.next;while(a!==u)}n.action=null}function Cx(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Ix(n,a){return a}function kx(n,a){if(ht){var l=St.formState;if(l!==null){e:{var u=He;if(ht){if(zt){t:{for(var f=zt,y=lr;f.nodeType!==8;){if(!y){f=null;break t}if(f=Un(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){zt=Un(f.nextSibling),u=f.data==="F!";break e}}Bi(u)}u=!1}u&&(a=l[0])}}return l=qs(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ix,lastRenderedState:a},l.queue=u,l=Xx.bind(null,He,u),u.dispatch=l,u=Qm(!1),y=Jm.bind(null,He,!1,u.queue),u=qs(),f={state:a,dispatch:null,action:n,pending:null},u.queue=f,l=YE.bind(null,He,f,y,l),f.dispatch=l,u.memoizedState=n,[a,l,!1]}function Px(n){var a=Xt();return Dx(a,wt,n)}function Dx(n,a,l){if(a=Hm(n,a,Ix)[0],n=Od(Qr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ec(a)}catch(N){throw N===bc?Cd:N}else u=a;a=Xt();var f=a.queue,y=f.dispatch;return l!==a.memoizedState&&(He.flags|=2048,Wo(9,Ld(),KE.bind(null,f,l),null)),[u,y,n]}function KE(n,a){n.action=a}function Mx(n){var a=Xt(),l=wt;if(l!==null)return Dx(a,l,n);Xt(),a=a.memoizedState,l=Xt();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function Wo(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=He.updateQueue,a===null&&(a=qm(),He.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function Ld(){return{destroy:void 0,resource:void 0}}function Ox(){return Xt().memoizedState}function Ud(n,a,l,u){var f=qs();u=u===void 0?null:u,He.flags|=n,f.memoizedState=Wo(1|a,Ld(),l,u)}function Tc(n,a,l,u){var f=Xt();u=u===void 0?null:u;var y=f.memoizedState.inst;wt!==null&&u!==null&&Um(u,wt.memoizedState.deps)?f.memoizedState=Wo(a,y,l,u):(He.flags|=n,f.memoizedState=Wo(1|a,y,l,u))}function Lx(n,a){Ud(8390656,8,n,a)}function Ux(n,a){Tc(2048,8,n,a)}function Vx(n,a){return Tc(4,2,n,a)}function Fx(n,a){return Tc(4,4,n,a)}function zx(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Bx(n,a,l){l=l!=null?l.concat([n]):null,Tc(4,4,zx.bind(null,a,n),l)}function Km(){}function qx(n,a){var l=Xt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Um(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function $x(n,a){var l=Xt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Um(a,u[1]))return u[0];if(u=n(),Gi){Qe(!0);try{n()}finally{Qe(!1)}}return l.memoizedState=[u,a],u}function Wm(n,a,l){return l===void 0||(Aa&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=Qb(),He.lanes|=n,Ma|=n,l)}function Hx(n,a,l,u){return tn(l,a)?l:Qo.current!==null?(n=Wm(n,l,u),tn(n,a)||(us=!0),n):(Aa&42)===0?(us=!0,n.memoizedState=l):(n=Qb(),He.lanes|=n,Ma|=n,a)}function Gx(n,a,l,u,f){var y=me.p;me.p=y!==0&&8>y?y:8;var N=W.T,I={};W.T=I,Jm(n,!1,a,l);try{var H=f(),se=W.S;if(se!==null&&se(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=HE(H,u);Sc(n,a,ue,on(n))}else Sc(n,a,u,on(n))}catch(pe){Sc(n,a,{then:function(){},status:"rejected",reason:pe},on())}finally{me.p=y,W.T=N}}function WE(){}function Xm(n,a,l,u){if(n.tag!==5)throw Error(r(476));var f=Qx(n).queue;Gx(n,f,a,ve,l===null?WE:function(){return Yx(n),l(u)})}function Qx(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:ve},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Yx(n){var a=Qx(n).next.queue;Sc(n,a,{},on())}function Zm(){return Ts(Hc)}function Kx(){return Xt().memoizedState}function Wx(){return Xt().memoizedState}function XE(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=on();n=Ta(l);var u=Sa(a,n,l);u!==null&&(ln(u,a,l),wc(u,a,l)),a={cache:Am()},n.payload=a;return}a=a.return}}function ZE(n,a,l){var u=on();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(n)?Zx(a,l):(l=xm(n,a,l,u),l!==null&&(ln(l,n,u),Jx(l,a,u)))}function Xx(n,a,l){var u=on();Sc(n,a,l,u)}function Sc(n,a,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(n))Zx(a,f);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var N=a.lastRenderedState,I=y(N,l);if(f.hasEagerState=!0,f.eagerState=I,tn(I,N))return _d(n,a,f,0),St===null&&wd(),!1}catch{}finally{}if(l=xm(n,a,f,u),l!==null)return ln(l,n,u),Jx(l,a,u),!0}return!1}function Jm(n,a,l,u){if(u={lane:2,revertLane:Ip(),action:u,hasEagerState:!1,eagerState:null,next:null},Vd(n)){if(a)throw Error(r(479))}else a=xm(n,l,u,2),a!==null&&ln(a,n,2)}function Vd(n){var a=n.alternate;return n===He||a!==null&&a===He}function Zx(n,a){Yo=Pd=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Jx(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Kl(n,l)}}var Fd={readContext:Ts,use:Md,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},eb={readContext:Ts,use:Md,useCallback:function(n,a){return qs().memoizedState=[n,a===void 0?null:a],n},useContext:Ts,useEffect:Lx,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Ud(4194308,4,zx.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Ud(4194308,4,n,a)},useInsertionEffect:function(n,a){Ud(4,2,n,a)},useMemo:function(n,a){var l=qs();a=a===void 0?null:a;var u=n();if(Gi){Qe(!0);try{n()}finally{Qe(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=qs();if(l!==void 0){var f=l(a);if(Gi){Qe(!0);try{l(a)}finally{Qe(!1)}}}else f=a;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=ZE.bind(null,He,n),[u.memoizedState,n]},useRef:function(n){var a=qs();return n={current:n},a.memoizedState=n},useState:function(n){n=Qm(n);var a=n.queue,l=Xx.bind(null,He,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Km,useDeferredValue:function(n,a){var l=qs();return Wm(l,n,a)},useTransition:function(){var n=Qm(!1);return n=Gx.bind(null,He,n.queue,!0,!1),qs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=He,f=qs();if(ht){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),St===null)throw Error(r(349));(at&124)!==0||wx(u,a,l)}f.memoizedState=l;var y={value:l,getSnapshot:a};return f.queue=y,Lx(Nx.bind(null,u,y,n),[n]),u.flags|=2048,Wo(9,Ld(),_x.bind(null,u,y,l,a),null),l},useId:function(){var n=qs(),a=St.identifierPrefix;if(ht){var l=$r,u=qr;l=(u&~(1<<32-Ot(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Dd++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=GE++,a=""+a+"r"+l.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:Zm,useFormState:kx,useActionState:kx,useOptimistic:function(n){var a=qs();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Jm.bind(null,He,!0,l),l.dispatch=a,[n,a]},useMemoCache:$m,useCacheRefresh:function(){return qs().memoizedState=XE.bind(null,He)}},tb={readContext:Ts,use:Md,useCallback:qx,useContext:Ts,useEffect:Ux,useImperativeHandle:Bx,useInsertionEffect:Vx,useLayoutEffect:Fx,useMemo:$x,useReducer:Od,useRef:Ox,useState:function(){return Od(Qr)},useDebugValue:Km,useDeferredValue:function(n,a){var l=Xt();return Hx(l,wt.memoizedState,n,a)},useTransition:function(){var n=Od(Qr)[0],a=Xt().memoizedState;return[typeof n=="boolean"?n:Ec(n),a]},useSyncExternalStore:vx,useId:Kx,useHostTransitionStatus:Zm,useFormState:Px,useActionState:Px,useOptimistic:function(n,a){var l=Xt();return Tx(l,wt,n,a)},useMemoCache:$m,useCacheRefresh:Wx},JE={readContext:Ts,use:Md,useCallback:qx,useContext:Ts,useEffect:Ux,useImperativeHandle:Bx,useInsertionEffect:Vx,useLayoutEffect:Fx,useMemo:$x,useReducer:Gm,useRef:Ox,useState:function(){return Gm(Qr)},useDebugValue:Km,useDeferredValue:function(n,a){var l=Xt();return wt===null?Wm(l,n,a):Hx(l,wt.memoizedState,n,a)},useTransition:function(){var n=Gm(Qr)[0],a=Xt().memoizedState;return[typeof n=="boolean"?n:Ec(n),a]},useSyncExternalStore:vx,useId:Kx,useHostTransitionStatus:Zm,useFormState:Mx,useActionState:Mx,useOptimistic:function(n,a){var l=Xt();return wt!==null?Tx(l,wt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:$m,useCacheRefresh:Wx},Xo=null,Ac=0;function zd(n){var a=Ac;return Ac+=1,Xo===null&&(Xo=[]),hx(Xo,n,a)}function Rc(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Bd(n,a){throw a.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function sb(n){var a=n._init;return a(n._payload)}function nb(n){function a(X,K){if(n){var te=X.deletions;te===null?(X.deletions=[K],X.flags|=16):te.push(K)}}function l(X,K){if(!n)return null;for(;K!==null;)a(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function f(X,K){return X=Br(X,K),X.index=0,X.sibling=null,X}function y(X,K,te){return X.index=te,n?(te=X.alternate,te!==null?(te=te.index,te<K?(X.flags|=67108866,K):te):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function N(X){return n&&X.alternate===null&&(X.flags|=67108866),X}function I(X,K,te,he){return K===null||K.tag!==6?(K=vm(te,X.mode,he),K.return=X,K):(K=f(K,te),K.return=X,K)}function H(X,K,te,he){var Ae=te.type;return Ae===A?ue(X,K,te.props.children,he,te.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&sb(Ae)===K.type)?(K=f(K,te.props),Rc(K,te),K.return=X,K):(K=jd(te.type,te.key,te.props,null,X.mode,he),Rc(K,te),K.return=X,K)}function se(X,K,te,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=wm(te,X.mode,he),K.return=X,K):(K=f(K,te.children||[]),K.return=X,K)}function ue(X,K,te,he,Ae){return K===null||K.tag!==7?(K=Ui(te,X.mode,he,Ae),K.return=X,K):(K=f(K,te),K.return=X,K)}function pe(X,K,te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=vm(""+K,X.mode,te),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return te=jd(K.type,K.key,K.props,null,X.mode,te),Rc(te,K),te.return=X,te;case j:return K=wm(K,X.mode,te),K.return=X,K;case S:var he=K._init;return K=he(K._payload),pe(X,K,te)}if(ce(K)||C(K))return K=Ui(K,X.mode,te,null),K.return=X,K;if(typeof K.then=="function")return pe(X,zd(K),te);if(K.$$typeof===P)return pe(X,Ad(X,K),te);Bd(X,K)}return null}function ne(X,K,te,he){var Ae=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ae!==null?null:I(X,K,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Ae?H(X,K,te,he):null;case j:return te.key===Ae?se(X,K,te,he):null;case S:return Ae=te._init,te=Ae(te._payload),ne(X,K,te,he)}if(ce(te)||C(te))return Ae!==null?null:ue(X,K,te,he,null);if(typeof te.then=="function")return ne(X,K,zd(te),he);if(te.$$typeof===P)return ne(X,K,Ad(X,te),he);Bd(X,te)}return null}function ie(X,K,te,he,Ae){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(te)||null,I(K,X,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return X=X.get(he.key===null?te:he.key)||null,H(K,X,he,Ae);case j:return X=X.get(he.key===null?te:he.key)||null,se(K,X,he,Ae);case S:var Ye=he._init;return he=Ye(he._payload),ie(X,K,te,he,Ae)}if(ce(he)||C(he))return X=X.get(te)||null,ue(K,X,he,Ae,null);if(typeof he.then=="function")return ie(X,K,te,zd(he),Ae);if(he.$$typeof===P)return ie(X,K,te,Ad(K,he),Ae);Bd(K,he)}return null}function Ve(X,K,te,he){for(var Ae=null,Ye=null,Ie=K,Oe=K=0,hs=null;Ie!==null&&Oe<te.length;Oe++){Ie.index>Oe?(hs=Ie,Ie=null):hs=Ie.sibling;var ut=ne(X,Ie,te[Oe],he);if(ut===null){Ie===null&&(Ie=hs);break}n&&Ie&&ut.alternate===null&&a(X,Ie),K=y(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut,Ie=hs}if(Oe===te.length)return l(X,Ie),ht&&Fi(X,Oe),Ae;if(Ie===null){for(;Oe<te.length;Oe++)Ie=pe(X,te[Oe],he),Ie!==null&&(K=y(Ie,K,Oe),Ye===null?Ae=Ie:Ye.sibling=Ie,Ye=Ie);return ht&&Fi(X,Oe),Ae}for(Ie=u(Ie);Oe<te.length;Oe++)hs=ie(Ie,X,Oe,te[Oe],he),hs!==null&&(n&&hs.alternate!==null&&Ie.delete(hs.key===null?Oe:hs.key),K=y(hs,K,Oe),Ye===null?Ae=hs:Ye.sibling=hs,Ye=hs);return n&&Ie.forEach(function($a){return a(X,$a)}),ht&&Fi(X,Oe),Ae}function Me(X,K,te,he){if(te==null)throw Error(r(151));for(var Ae=null,Ye=null,Ie=K,Oe=K=0,hs=null,ut=te.next();Ie!==null&&!ut.done;Oe++,ut=te.next()){Ie.index>Oe?(hs=Ie,Ie=null):hs=Ie.sibling;var $a=ne(X,Ie,ut.value,he);if($a===null){Ie===null&&(Ie=hs);break}n&&Ie&&$a.alternate===null&&a(X,Ie),K=y($a,K,Oe),Ye===null?Ae=$a:Ye.sibling=$a,Ye=$a,Ie=hs}if(ut.done)return l(X,Ie),ht&&Fi(X,Oe),Ae;if(Ie===null){for(;!ut.done;Oe++,ut=te.next())ut=pe(X,ut.value,he),ut!==null&&(K=y(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return ht&&Fi(X,Oe),Ae}for(Ie=u(Ie);!ut.done;Oe++,ut=te.next())ut=ie(Ie,X,Oe,ut.value,he),ut!==null&&(n&&ut.alternate!==null&&Ie.delete(ut.key===null?Oe:ut.key),K=y(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return n&&Ie.forEach(function(eS){return a(X,eS)}),ht&&Fi(X,Oe),Ae}function Nt(X,K,te,he){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Ae=te.key;K!==null;){if(K.key===Ae){if(Ae=te.type,Ae===A){if(K.tag===7){l(X,K.sibling),he=f(K,te.props.children),he.return=X,X=he;break e}}else if(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&sb(Ae)===K.type){l(X,K.sibling),he=f(K,te.props),Rc(he,te),he.return=X,X=he;break e}l(X,K);break}else a(X,K);K=K.sibling}te.type===A?(he=Ui(te.props.children,X.mode,he,te.key),he.return=X,X=he):(he=jd(te.type,te.key,te.props,null,X.mode,he),Rc(he,te),he.return=X,X=he)}return N(X);case j:e:{for(Ae=te.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){l(X,K.sibling),he=f(K,te.children||[]),he.return=X,X=he;break e}else{l(X,K);break}else a(X,K);K=K.sibling}he=wm(te,X.mode,he),he.return=X,X=he}return N(X);case S:return Ae=te._init,te=Ae(te._payload),Nt(X,K,te,he)}if(ce(te))return Ve(X,K,te,he);if(C(te)){if(Ae=C(te),typeof Ae!="function")throw Error(r(150));return te=Ae.call(te),Me(X,K,te,he)}if(typeof te.then=="function")return Nt(X,K,zd(te),he);if(te.$$typeof===P)return Nt(X,K,Ad(X,te),he);Bd(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,K!==null&&K.tag===6?(l(X,K.sibling),he=f(K,te),he.return=X,X=he):(l(X,K),he=vm(te,X.mode,he),he.return=X,X=he),N(X)):l(X,K)}return function(X,K,te,he){try{Ac=0;var Ae=Nt(X,K,te,he);return Xo=null,Ae}catch(Ie){if(Ie===bc||Ie===Cd)throw Ie;var Ye=sn(29,Ie,null,X.mode);return Ye.lanes=he,Ye.return=X,Ye}finally{}}}var Zo=nb(!0),rb=nb(!1),Nn=Q(null),cr=null;function Ra(n){var a=n.alternate;D(as,as.current&1),D(Nn,n),cr===null&&(a===null||Qo.current!==null||a.memoizedState!==null)&&(cr=n)}function ab(n){if(n.tag===22){if(D(as,as.current),D(Nn,n),cr===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(cr=n)}}else Ca()}function Ca(){D(as,as.current),D(Nn,Nn.current)}function Yr(n){$(Nn),cr===n&&(cr=null),$(as)}var as=Q(0);function qd(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ep(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var tp={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=on(),f=Ta(u);f.payload=a,l!=null&&(f.callback=l),a=Sa(n,f,u),a!==null&&(ln(a,n,u),wc(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=on(),f=Ta(u);f.tag=1,f.payload=a,l!=null&&(f.callback=l),a=Sa(n,f,u),a!==null&&(ln(a,n,u),wc(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=on(),u=Ta(l);u.tag=2,a!=null&&(u.callback=a),a=Sa(n,u,l),a!==null&&(ln(a,n,l),wc(a,n,l))}};function ib(n,a,l,u,f,y,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,N):a.prototype&&a.prototype.isPureReactComponent?!dc(l,u)||!dc(f,y):!0}function ob(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&tp.enqueueReplaceState(a,a.state,null)}function Qi(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var f in n)l[f]===void 0&&(l[f]=n[f])}return l}var $d=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function lb(n){$d(n)}function cb(n){console.error(n)}function ub(n){$d(n)}function Hd(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function db(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sp(n,a,l){return l=Ta(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(n,a)},l}function hb(n){return n=Ta(n),n.tag=3,n}function fb(n,a,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;n.payload=function(){return f(y)},n.callback=function(){db(a,l,u)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){db(a,l,u),typeof f!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function eT(n,a,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&gc(a,l,f,!0),l=Nn.current,l!==null){switch(l.tag){case 13:return cr===null?Tp():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Im?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ap(n,u,f)),!1;case 22:return l.flags|=65536,u===Im?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ap(n,u,f)),!1}throw Error(r(435,l.tag))}return Ap(n,u,f),Tp(),!1}if(ht)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==jm&&(n=Error(r(422),{cause:u}),pc(bn(n,l)))):(u!==jm&&(a=Error(r(423),{cause:u}),pc(bn(a,l))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=bn(u,l),f=sp(n.stateNode,u,f),Dm(n,f),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:u});if(y=bn(y,l),Oc===null?Oc=[y]:Oc.push(y),Bt!==4&&(Bt=2),a===null)return!0;u=bn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=f&-f,l.lanes|=n,n=sp(l.stateNode,u,n),Dm(l,n),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))))return l.flags|=65536,f&=-f,l.lanes|=f,f=hb(f),fb(f,n,l,u),Dm(l,f),!1}l=l.return}while(l!==null);return!1}var mb=Error(r(461)),us=!1;function vs(n,a,l,u){a.child=n===null?rb(a,null,l,u):Zo(a,n.child,l,u)}function pb(n,a,l,u,f){l=l.render;var y=a.ref;if("ref"in u){var N={};for(var I in u)I!=="ref"&&(N[I]=u[I])}else N=u;return $i(a),u=Vm(n,a,l,N,y,f),I=Fm(),n!==null&&!us?(zm(n,a,f),Kr(n,a,f)):(ht&&I&&_m(a),a.flags|=1,vs(n,a,u,f),a.child)}function gb(n,a,l,u,f){if(n===null){var y=l.type;return typeof y=="function"&&!bm(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,yb(n,a,y,u,f)):(n=jd(l.type,null,u,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,!up(n,f)){var N=y.memoizedProps;if(l=l.compare,l=l!==null?l:dc,l(N,u)&&n.ref===a.ref)return Kr(n,a,f)}return a.flags|=1,n=Br(y,u),n.ref=a.ref,n.return=a,a.child=n}function yb(n,a,l,u,f){if(n!==null){var y=n.memoizedProps;if(dc(y,u)&&n.ref===a.ref)if(us=!1,a.pendingProps=u=y,up(n,f))(n.flags&131072)!==0&&(us=!0);else return a.lanes=n.lanes,Kr(n,a,f)}return np(n,a,l,u,f)}function xb(n,a,l){var u=a.pendingProps,f=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,n!==null){for(f=a.child=n.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return bb(n,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rd(a,y!==null?y.cachePool:null),y!==null?yx(a,y):Om(),ab(a);else return a.lanes=a.childLanes=536870912,bb(n,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Rd(a,y.cachePool),yx(a,y),Ca(),a.memoizedState=null):(n!==null&&Rd(a,null),Om(),Ca());return vs(n,a,f,l),a.child}function bb(n,a,l,u){var f=Cm();return f=f===null?null:{parent:rs._currentValue,pool:f},a.memoizedState={baseLanes:l,cachePool:f},n!==null&&Rd(a,null),Om(),ab(a),n!==null&&gc(n,a,u,!0),null}function Gd(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function np(n,a,l,u,f){return $i(a),l=Vm(n,a,l,u,void 0,f),u=Fm(),n!==null&&!us?(zm(n,a,f),Kr(n,a,f)):(ht&&u&&_m(a),a.flags|=1,vs(n,a,l,f),a.child)}function vb(n,a,l,u,f,y){return $i(a),a.updateQueue=null,l=bx(a,u,l,f),xx(n),u=Fm(),n!==null&&!us?(zm(n,a,y),Kr(n,a,y)):(ht&&u&&_m(a),a.flags|=1,vs(n,a,l,y),a.child)}function wb(n,a,l,u,f){if($i(a),a.stateNode===null){var y=Bo,N=l.contextType;typeof N=="object"&&N!==null&&(y=Ts(N)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},km(a),N=l.contextType,y.context=typeof N=="object"&&N!==null?Ts(N):Bo,y.state=a.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(ep(a,l,N,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&tp.enqueueReplaceState(y,y.state,null),Nc(a,u,y,f),_c(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){y=a.stateNode;var I=a.memoizedProps,H=Qi(l,I);y.props=H;var se=y.context,ue=l.contextType;N=Bo,typeof ue=="object"&&ue!==null&&(N=Ts(ue));var pe=l.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||se!==N)&&ob(a,y,u,N),Ea=!1;var ne=a.memoizedState;y.state=ne,Nc(a,u,y,f),_c(),se=a.memoizedState,I||ne!==se||Ea?(typeof pe=="function"&&(ep(a,l,pe,u),se=a.memoizedState),(H=Ea||ib(a,l,H,u,ne,se,N))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=se),y.props=u,y.state=se,y.context=N,u=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Pm(n,a),N=a.memoizedProps,ue=Qi(l,N),y.props=ue,pe=a.pendingProps,ne=y.context,se=l.contextType,H=Bo,typeof se=="object"&&se!==null&&(H=Ts(se)),I=l.getDerivedStateFromProps,(se=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==pe||ne!==H)&&ob(a,y,u,H),Ea=!1,ne=a.memoizedState,y.state=ne,Nc(a,u,y,f),_c();var ie=a.memoizedState;N!==pe||ne!==ie||Ea||n!==null&&n.dependencies!==null&&Sd(n.dependencies)?(typeof I=="function"&&(ep(a,l,I,u),ie=a.memoizedState),(ue=Ea||ib(a,l,ue,u,ne,ie,H)||n!==null&&n.dependencies!==null&&Sd(n.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===n.memoizedProps&&ne===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&ne===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ie),y.props=u,y.state=ie,y.context=H,u=ue):(typeof y.componentDidUpdate!="function"||N===n.memoizedProps&&ne===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&ne===n.memoizedState||(a.flags|=1024),u=!1)}return y=u,Gd(n,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,n!==null&&u?(a.child=Zo(a,n.child,null,f),a.child=Zo(a,null,l,f)):vs(n,a,l,f),a.memoizedState=y.state,n=a.child):n=Kr(n,a,f),n}function _b(n,a,l,u){return mc(),a.flags|=256,vs(n,a,l,u),a.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(n){return{baseLanes:n,cachePool:cx()}}function ip(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=jn),n}function Nb(n,a,l){var u=a.pendingProps,f=!1,y=(a.flags&128)!==0,N;if((N=y)||(N=n!==null&&n.memoizedState===null?!1:(as.current&2)!==0),N&&(f=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,n===null){if(ht){if(f?Ra(a):Ca(),ht){var I=zt,H;if(H=I){e:{for(H=I,I=lr;H.nodeType!==8;){if(!I){I=null;break e}if(H=Un(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(a.memoizedState={dehydrated:I,treeContext:Vi!==null?{id:qr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},H=sn(18,null,null,0),H.stateNode=I,H.return=a,a.child=H,Ls=a,zt=null,H=!0):H=!1}H||Bi(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return qp(I)?a.lanes=32:a.lanes=536870912,null;Yr(a)}return I=u.children,u=u.fallback,f?(Ca(),f=a.mode,I=Qd({mode:"hidden",children:I},f),u=Ui(u,f,l,null),I.return=a,u.return=a,I.sibling=u,a.child=I,f=a.child,f.memoizedState=ap(l),f.childLanes=ip(n,N,l),a.memoizedState=rp,u):(Ra(a),op(a,I))}if(H=n.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(y)a.flags&256?(Ra(a),a.flags&=-257,a=lp(n,a,l)):a.memoizedState!==null?(Ca(),a.child=n.child,a.flags|=128,a=null):(Ca(),f=u.fallback,I=a.mode,u=Qd({mode:"visible",children:u.children},I),f=Ui(f,I,l,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,Zo(a,n.child,null,l),u=a.child,u.memoizedState=ap(l),u.childLanes=ip(n,N,l),a.memoizedState=rp,a=f);else if(Ra(a),qp(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var se=N.dgst;N=se,u=Error(r(419)),u.stack="",u.digest=N,pc({value:u,source:null,stack:null}),a=lp(n,a,l)}else if(us||gc(n,a,l,!1),N=(l&n.childLanes)!==0,us||N){if(N=St,N!==null&&(u=l&-l,u=(u&42)!==0?1:ya(u),u=(u&(N.suspendedLanes|l))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,zo(n,u),ln(N,n,u),mb;I.data==="$?"||Tp(),a=lp(n,a,l)}else I.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=H.treeContext,zt=Un(I.nextSibling),Ls=a,ht=!0,zi=null,lr=!1,n!==null&&(wn[_n++]=qr,wn[_n++]=$r,wn[_n++]=Vi,qr=n.id,$r=n.overflow,Vi=a),a=op(a,u.children),a.flags|=4096);return a}return f?(Ca(),f=u.fallback,I=a.mode,H=n.child,se=H.sibling,u=Br(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,se!==null?f=Br(se,f):(f=Ui(f,I,l,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,I=n.child.memoizedState,I===null?I=ap(l):(H=I.cachePool,H!==null?(se=rs._currentValue,H=H.parent!==se?{parent:se,pool:se}:H):H=cx(),I={baseLanes:I.baseLanes|l,cachePool:H}),f.memoizedState=I,f.childLanes=ip(n,N,l),a.memoizedState=rp,u):(Ra(a),l=n.child,n=l.sibling,l=Br(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(N=a.deletions,N===null?(a.deletions=[n],a.flags|=16):N.push(n)),a.child=l,a.memoizedState=null,l)}function op(n,a){return a=Qd({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Qd(n,a){return n=sn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function lp(n,a,l){return Zo(a,n.child,null,l),n=op(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function jb(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Tm(n.return,a,l)}function cp(n,a,l,u,f){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=f)}function Eb(n,a,l){var u=a.pendingProps,f=u.revealOrder,y=u.tail;if(vs(n,a,u.children,l),u=as.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jb(n,l,a);else if(n.tag===19)jb(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(D(as,u),f){case"forwards":for(l=a.child,f=null;l!==null;)n=l.alternate,n!==null&&qd(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=a.child,a.child=null):(f=l.sibling,l.sibling=null),cp(a,!1,f,l,y);break;case"backwards":for(l=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&qd(n)===null){a.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}cp(a,!0,l,null,y);break;case"together":cp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Kr(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Ma|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(gc(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,l=Br(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Br(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function up(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Sd(n)))}function tT(n,a,l){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),ja(a,rs,n.memoizedState.cache),mc();break;case 27:case 5:ys(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:ja(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ra(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Nb(n,a,l):(Ra(a),n=Kr(n,a,l),n!==null?n.sibling:null);Ra(a);break;case 19:var f=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(gc(n,a,l,!1),u=(l&a.childLanes)!==0),f){if(u)return Eb(n,a,l);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),D(as,as.current),u)break;return null;case 22:case 23:return a.lanes=0,xb(n,a,l);case 24:ja(a,rs,n.memoizedState.cache)}return Kr(n,a,l)}function Tb(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)us=!0;else{if(!up(n,l)&&(a.flags&128)===0)return us=!1,tT(n,a,l);us=(n.flags&131072)!==0}else us=!1,ht&&(a.flags&1048576)!==0&&sx(a,Td,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")bm(u)?(n=Qi(u,n),a.tag=1,a=wb(null,a,u,n,l)):(a.tag=0,a=np(null,a,u,n,l));else{if(u!=null){if(f=u.$$typeof,f===B){a.tag=11,a=pb(null,a,u,n,l);break e}else if(f===O){a.tag=14,a=gb(null,a,u,n,l);break e}}throw a=re(u)||u,Error(r(306,a,""))}}return a;case 0:return np(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,f=Qi(u,a.pendingProps),wb(n,a,u,f,l);case 3:e:{if(Te(a,a.stateNode.containerInfo),n===null)throw Error(r(387));u=a.pendingProps;var y=a.memoizedState;f=y.element,Pm(n,a),Nc(a,u,null,l);var N=a.memoizedState;if(u=N.cache,ja(a,rs,u),u!==y.cache&&Sm(a,[rs],l,!0),_c(),u=N.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=_b(n,a,u,l);break e}else if(u!==f){f=bn(Error(r(424)),a),pc(f),a=_b(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(zt=Un(n.firstChild),Ls=a,ht=!0,zi=null,lr=!0,l=rb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mc(),u===f){a=Kr(n,a,l);break e}vs(n,a,u,l)}a=a.child}return a;case 26:return Gd(n,a),n===null?(l=Cv(a.type,null,a.pendingProps,null))?a.memoizedState=l:ht||(l=a.type,n=a.pendingProps,u=oh(ye.current).createElement(l),u[ts]=a,u[Yt]=n,_s(u,l,n),qt(u),a.stateNode=u):a.memoizedState=Cv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ys(a),n===null&&ht&&(u=a.stateNode=Sv(a.type,a.pendingProps,ye.current),Ls=a,lr=!0,f=zt,Va(a.type)?($p=f,zt=Un(u.firstChild)):zt=f),vs(n,a,a.pendingProps.children,l),Gd(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&ht&&((f=u=zt)&&(u=RT(u,a.type,a.pendingProps,lr),u!==null?(a.stateNode=u,Ls=a,zt=Un(u.firstChild),lr=!1,f=!0):f=!1),f||Bi(a)),ys(a),f=a.type,y=a.pendingProps,N=n!==null?n.memoizedProps:null,u=y.children,Fp(f,y)?u=null:N!==null&&Fp(f,N)&&(a.flags|=32),a.memoizedState!==null&&(f=Vm(n,a,QE,null,null,l),Hc._currentValue=f),Gd(n,a),vs(n,a,u,l),a.child;case 6:return n===null&&ht&&((n=l=zt)&&(l=CT(l,a.pendingProps,lr),l!==null?(a.stateNode=l,Ls=a,zt=null,n=!0):n=!1),n||Bi(a)),null;case 13:return Nb(n,a,l);case 4:return Te(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=Zo(a,null,u,l):vs(n,a,u,l),a.child;case 11:return pb(n,a,a.type,a.pendingProps,l);case 7:return vs(n,a,a.pendingProps,l),a.child;case 8:return vs(n,a,a.pendingProps.children,l),a.child;case 12:return vs(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ja(a,a.type,u.value),vs(n,a,u.children,l),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,$i(a),f=Ts(f),u=u(f),a.flags|=1,vs(n,a,u,l),a.child;case 14:return gb(n,a,a.type,a.pendingProps,l);case 15:return yb(n,a,a.type,a.pendingProps,l);case 19:return Eb(n,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},n===null?(l=Qd(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Br(n.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return xb(n,a,l);case 24:return $i(a),u=Ts(rs),n===null?(f=Cm(),f===null&&(f=St,y=Am(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=l),f=y),a.memoizedState={parent:u,cache:f},km(a),ja(a,rs,f)):((n.lanes&l)!==0&&(Pm(n,a),Nc(a,null,null,l),_c()),f=n.memoizedState,y=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ja(a,rs,u)):(u=y.cache,ja(a,rs,u),u!==f.cache&&Sm(a,[rs],l,!0))),vs(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Wr(n){n.flags|=4}function Sb(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mv(a)){if(a=Nn.current,a!==null&&((at&4194048)===at?cr!==null:(at&62914560)!==at&&(at&536870912)===0||a!==cr))throw vc=Im,ux;n.flags|=8192}}function Yd(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Ql():536870912,n.lanes|=a,sl|=a)}function Cc(n,a){if(!ht)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Lt(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function sT(n,a,l){var u=a.pendingProps;switch(Nm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(a),null;case 1:return Lt(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Gr(rs),pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(fc(a)?Wr(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ax())),Lt(a),null;case 26:return l=a.memoizedState,n===null?(Wr(a),l!==null?(Lt(a),Sb(a,l)):(Lt(a),a.flags&=-16777217)):l?l!==n.memoizedState?(Wr(a),Lt(a),Sb(a,l)):(Lt(a),a.flags&=-16777217):(n.memoizedProps!==u&&Wr(a),Lt(a),a.flags&=-16777217),null;case 27:be(a),l=ye.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Wr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Lt(a),null}n=Z.current,fc(a)?nx(a):(n=Sv(f,u,l),a.stateNode=n,Wr(a))}return Lt(a),null;case 5:if(be(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Wr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Lt(a),null}if(n=Z.current,fc(a))nx(a);else{switch(f=oh(ye.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}n[ts]=a,n[Yt]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(_s(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wr(a)}}return Lt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Wr(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(n=ye.current,fc(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,f=Ls,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[ts]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||vv(n.nodeValue,l)),n||Bi(a)}else n=oh(n).createTextNode(u),n[ts]=a,a.stateNode=n}return Lt(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fc(a),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ts]=a}else mc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),f=!1}else f=ax(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Yr(a),a):(Yr(a),null)}if(Yr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),Yd(a,a.updateQueue),Lt(a),null;case 4:return pt(),n===null&&Mp(a.stateNode.containerInfo),Lt(a),null;case 10:return Gr(a.type),Lt(a),null;case 19:if($(as),f=a.memoizedState,f===null)return Lt(a),null;if(u=(a.flags&128)!==0,y=f.rendering,y===null)if(u)Cc(f,!1);else{if(Bt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(y=qd(n),y!==null){for(a.flags|=128,Cc(f,!1),n=y.updateQueue,a.updateQueue=n,Yd(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)tx(l,n),l=l.sibling;return D(as,as.current&1|2),a.child}n=n.sibling}f.tail!==null&&Re()>Xd&&(a.flags|=128,u=!0,Cc(f,!1),a.lanes=4194304)}else{if(!u)if(n=qd(y),n!==null){if(a.flags|=128,u=!0,n=n.updateQueue,a.updateQueue=n,Yd(a,n),Cc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!ht)return Lt(a),null}else 2*Re()-f.renderingStartTime>Xd&&l!==536870912&&(a.flags|=128,u=!0,Cc(f,!1),a.lanes=4194304);f.isBackwards?(y.sibling=a.child,a.child=y):(n=f.last,n!==null?n.sibling=y:a.child=y,f.last=y)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Re(),a.sibling=null,n=as.current,D(as,u?n&1|2:n&1),a):(Lt(a),null);case 22:case 23:return Yr(a),Lm(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Lt(a),a.subtreeFlags&6&&(a.flags|=8192)):Lt(a),l=a.updateQueue,l!==null&&Yd(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&$(Hi),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Gr(rs),Lt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function nT(n,a){switch(Nm(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Gr(rs),pt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return be(a),null;case 13:if(Yr(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));mc()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return $(as),null;case 4:return pt(),null;case 10:return Gr(a.type),null;case 22:case 23:return Yr(a),Lm(),n!==null&&$(Hi),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Gr(rs),null;case 25:return null;default:return null}}function Ab(n,a){switch(Nm(a),a.tag){case 3:Gr(rs),pt();break;case 26:case 27:case 5:be(a);break;case 4:pt();break;case 13:Yr(a);break;case 19:$(as);break;case 10:Gr(a.type);break;case 22:case 23:Yr(a),Lm(),n!==null&&$(Hi);break;case 24:Gr(rs)}}function Ic(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&n)===n){u=void 0;var y=l.create,N=l.inst;u=y(),N.destroy=u}l=l.next}while(l!==f)}}catch(I){jt(a,a.return,I)}}function Ia(n,a,l){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&n)===n){var N=u.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,f=a;var H=l,se=I;try{se()}catch(ue){jt(f,H,ue)}}}u=u.next}while(u!==y)}}catch(ue){jt(a,a.return,ue)}}function Rb(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{gx(a,l)}catch(u){jt(n,n.return,u)}}}function Cb(n,a,l){l.props=Qi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){jt(n,a,u)}}function kc(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(f){jt(n,a,f)}}function ur(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){jt(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){jt(n,a,f)}else l.current=null}function Ib(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){jt(n,n.return,f)}}function dp(n,a,l){try{var u=n.stateNode;jT(u,n.type,l,a),u[Yt]=a}catch(f){jt(n,n.return,f)}}function kb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Va(n.type)||n.tag===4}function hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Va(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fp(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ih));else if(u!==4&&(u===27&&Va(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(fp(n,a,l),n=n.sibling;n!==null;)fp(n,a,l),n=n.sibling}function Kd(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&Va(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Kd(n,a,l),n=n.sibling;n!==null;)Kd(n,a,l),n=n.sibling}function Pb(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);_s(a,u,l),a[ts]=n,a[Yt]=l}catch(y){jt(n,n.return,y)}}var Xr=!1,Ht=!1,mp=!1,Db=typeof WeakSet=="function"?WeakSet:Set,ds=null;function rT(n,a){if(n=n.containerInfo,Up=fh,n=Hy(n),hm(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var N=0,I=-1,H=-1,se=0,ue=0,pe=n,ne=null;t:for(;;){for(var ie;pe!==l||f!==0&&pe.nodeType!==3||(I=N+f),pe!==y||u!==0&&pe.nodeType!==3||(H=N+u),pe.nodeType===3&&(N+=pe.nodeValue.length),(ie=pe.firstChild)!==null;)ne=pe,pe=ie;for(;;){if(pe===n)break t;if(ne===l&&++se===f&&(I=N),ne===y&&++ue===u&&(H=N),(ie=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=ie}l=I===-1||H===-1?null:{start:I,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vp={focusedElem:n,selectionRange:l},fh=!1,ds=a;ds!==null;)if(a=ds,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,ds=n;else for(;ds!==null;){switch(a=ds,y=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=a,f=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ve=Qi(l.type,f,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(Ve,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Me){jt(l,l.return,Me)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Bp(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,ds=n;break}ds=a.return}}function Mb(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ka(n,l),u&4&&Ic(5,l);break;case 1:if(ka(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(N){jt(l,l.return,N)}else{var f=Qi(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(N){jt(l,l.return,N)}}u&64&&Rb(l),u&512&&kc(l,l.return);break;case 3:if(ka(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{gx(n,a)}catch(N){jt(l,l.return,N)}}break;case 27:a===null&&u&4&&Pb(l);case 26:case 5:ka(n,l),a===null&&u&4&&Ib(l),u&512&&kc(l,l.return);break;case 12:ka(n,l);break;case 13:ka(n,l),u&4&&Ub(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=fT.bind(null,l),IT(n,l))));break;case 22:if(u=l.memoizedState!==null||Xr,!u){a=a!==null&&a.memoizedState!==null||Ht,f=Xr;var y=Ht;Xr=u,(Ht=a)&&!y?Pa(n,l,(l.subtreeFlags&8772)!==0):ka(n,l),Xr=f,Ht=y}break;case 30:break;default:ka(n,l)}}function Ob(n){var a=n.alternate;a!==null&&(n.alternate=null,Ob(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&va(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var kt=null,$s=!1;function Zr(n,a,l){for(l=l.child;l!==null;)Lb(n,a,l),l=l.sibling}function Lb(n,a,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ct,l)}catch{}switch(l.tag){case 26:Ht||ur(l,a),Zr(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||ur(l,a);var u=kt,f=$s;Va(l.type)&&(kt=l.stateNode,$s=!1),Zr(n,a,l),zc(l.stateNode),kt=u,$s=f;break;case 5:Ht||ur(l,a);case 6:if(u=kt,f=$s,kt=null,Zr(n,a,l),kt=u,$s=f,kt!==null)if($s)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(y){jt(l,a,y)}else try{kt.removeChild(l.stateNode)}catch(y){jt(l,a,y)}break;case 18:kt!==null&&($s?(n=kt,Ev(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Kc(n)):Ev(kt,l.stateNode));break;case 4:u=kt,f=$s,kt=l.stateNode.containerInfo,$s=!0,Zr(n,a,l),kt=u,$s=f;break;case 0:case 11:case 14:case 15:Ht||Ia(2,l,a),Ht||Ia(4,l,a),Zr(n,a,l);break;case 1:Ht||(ur(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Cb(l,a,u)),Zr(n,a,l);break;case 21:Zr(n,a,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Zr(n,a,l),Ht=u;break;default:Zr(n,a,l)}}function Ub(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kc(n)}catch(l){jt(a,a.return,l)}}function aT(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Db),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Db),a;default:throw Error(r(435,n.tag))}}function pp(n,a){var l=aT(n);a.forEach(function(u){var f=mT.bind(null,n,u);l.has(u)||(l.add(u),u.then(f,f))})}function nn(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],y=n,N=a,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Va(I.type)){kt=I.stateNode,$s=!1;break e}break;case 5:kt=I.stateNode,$s=!1;break e;case 3:case 4:kt=I.stateNode.containerInfo,$s=!0;break e}I=I.return}if(kt===null)throw Error(r(160));Lb(y,N,f),kt=null,$s=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Vb(a,n),a=a.sibling}var Ln=null;function Vb(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:nn(a,n),rn(n),u&4&&(Ia(3,n,n.return),Ic(3,n),Ia(5,n,n.return));break;case 1:nn(a,n),rn(n),u&512&&(Ht||l===null||ur(l,l.return)),u&64&&Xr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Ln;if(nn(a,n),rn(n),u&512&&(Ht||l===null||ur(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[_i]||y[ts]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),_s(y,u,l),y[ts]=n,qt(y),u=y;break e;case"link":var N=Pv("link","href",f).get(u+(l.href||""));if(N){for(var I=0;I<N.length;I++)if(y=N[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(I,1);break t}}y=f.createElement(u),_s(y,u,l),f.head.appendChild(y);break;case"meta":if(N=Pv("meta","content",f).get(u+(l.content||""))){for(I=0;I<N.length;I++)if(y=N[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(I,1);break t}}y=f.createElement(u),_s(y,u,l),f.head.appendChild(y);break;default:throw Error(r(468,u))}y[ts]=n,qt(y),u=y}n.stateNode=u}else Dv(f,n.type,n.stateNode);else n.stateNode=kv(f,u,n.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Dv(f,n.type,n.stateNode):kv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&dp(n,n.memoizedProps,l.memoizedProps)}break;case 27:nn(a,n),rn(n),u&512&&(Ht||l===null||ur(l,l.return)),l!==null&&u&4&&dp(n,n.memoizedProps,l.memoizedProps);break;case 5:if(nn(a,n),rn(n),u&512&&(Ht||l===null||ur(l,l.return)),n.flags&32){f=n.stateNode;try{pn(f,"")}catch(ie){jt(n,n.return,ie)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,dp(n,f,l!==null?l.memoizedProps:f)),u&1024&&(mp=!0);break;case 6:if(nn(a,n),rn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(ie){jt(n,n.return,ie)}}break;case 3:if(uh=null,f=Ln,Ln=lh(a.containerInfo),nn(a,n),Ln=f,rn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(ie){jt(n,n.return,ie)}mp&&(mp=!1,Fb(n));break;case 4:u=Ln,Ln=lh(n.stateNode.containerInfo),nn(a,n),rn(n),Ln=u;break;case 12:nn(a,n),rn(n);break;case 13:nn(a,n),rn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wp=Re()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,pp(n,u)));break;case 22:f=n.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,se=Xr,ue=Ht;if(Xr=se||f,Ht=ue||H,nn(a,n),Ht=ue,Xr=se,rn(n),u&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(l===null||H||Xr||Ht||Yi(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(y=H.stateNode,f)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=H.stateNode;var pe=H.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ie){jt(H,H.return,ie)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(ie){jt(H,H.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,pp(n,l))));break;case 19:nn(a,n),rn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,pp(n,u)));break;case 30:break;case 21:break;default:nn(a,n),rn(n)}}function rn(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(kb(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,y=hp(n);Kd(n,y,f);break;case 5:var N=l.stateNode;l.flags&32&&(pn(N,""),l.flags&=-33);var I=hp(n);Kd(n,I,N);break;case 3:case 4:var H=l.stateNode.containerInfo,se=hp(n);fp(n,se,H);break;default:throw Error(r(161))}}catch(ue){jt(n,n.return,ue)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Fb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Fb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ka(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Mb(n,a.alternate,a),a=a.sibling}function Yi(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ia(4,a,a.return),Yi(a);break;case 1:ur(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Cb(a,a.return,l),Yi(a);break;case 27:zc(a.stateNode);case 26:case 5:ur(a,a.return),Yi(a);break;case 22:a.memoizedState===null&&Yi(a);break;case 30:Yi(a);break;default:Yi(a)}n=n.sibling}}function Pa(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=n,y=a,N=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,l),Ic(4,y);break;case 1:if(Pa(f,y,l),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(se){jt(u,u.return,se)}if(u=y,f=u.updateQueue,f!==null){var I=u.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)px(H[f],I)}catch(se){jt(u,u.return,se)}}l&&N&64&&Rb(y),kc(y,y.return);break;case 27:Pb(y);case 26:case 5:Pa(f,y,l),l&&u===null&&N&4&&Ib(y),kc(y,y.return);break;case 12:Pa(f,y,l);break;case 13:Pa(f,y,l),l&&N&4&&Ub(f,y);break;case 22:y.memoizedState===null&&Pa(f,y,l),kc(y,y.return);break;case 30:break;default:Pa(f,y,l)}a=a.sibling}}function gp(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&yc(l))}function yp(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&yc(n))}function dr(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)zb(n,a,l,u),a=a.sibling}function zb(n,a,l,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:dr(n,a,l,u),f&2048&&Ic(9,a);break;case 1:dr(n,a,l,u);break;case 3:dr(n,a,l,u),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&yc(n)));break;case 12:if(f&2048){dr(n,a,l,u),n=a.stateNode;try{var y=a.memoizedProps,N=y.id,I=y.onPostCommit;typeof I=="function"&&I(N,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){jt(a,a.return,H)}}else dr(n,a,l,u);break;case 13:dr(n,a,l,u);break;case 23:break;case 22:y=a.stateNode,N=a.alternate,a.memoizedState!==null?y._visibility&2?dr(n,a,l,u):Pc(n,a):y._visibility&2?dr(n,a,l,u):(y._visibility|=2,Jo(n,a,l,u,(a.subtreeFlags&10256)!==0)),f&2048&&gp(N,a);break;case 24:dr(n,a,l,u),f&2048&&yp(a.alternate,a);break;default:dr(n,a,l,u)}}function Jo(n,a,l,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=n,N=a,I=l,H=u,se=N.flags;switch(N.tag){case 0:case 11:case 15:Jo(y,N,I,H,f),Ic(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Jo(y,N,I,H,f):Pc(y,N):(ue._visibility|=2,Jo(y,N,I,H,f)),f&&se&2048&&gp(N.alternate,N);break;case 24:Jo(y,N,I,H,f),f&&se&2048&&yp(N.alternate,N);break;default:Jo(y,N,I,H,f)}a=a.sibling}}function Pc(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,f=u.flags;switch(u.tag){case 22:Pc(l,u),f&2048&&gp(u.alternate,u);break;case 24:Pc(l,u),f&2048&&yp(u.alternate,u);break;default:Pc(l,u)}a=a.sibling}}var Dc=8192;function el(n){if(n.subtreeFlags&Dc)for(n=n.child;n!==null;)Bb(n),n=n.sibling}function Bb(n){switch(n.tag){case 26:el(n),n.flags&Dc&&n.memoizedState!==null&&$T(Ln,n.memoizedState,n.memoizedProps);break;case 5:el(n);break;case 3:case 4:var a=Ln;Ln=lh(n.stateNode.containerInfo),el(n),Ln=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Dc,Dc=16777216,el(n),Dc=a):el(n));break;default:el(n)}}function qb(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Mc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ds=u,Hb(u,n)}qb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$b(n),n=n.sibling}function $b(n){switch(n.tag){case 0:case 11:case 15:Mc(n),n.flags&2048&&Ia(9,n,n.return);break;case 3:Mc(n);break;case 12:Mc(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Wd(n)):Mc(n);break;default:Mc(n)}}function Wd(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ds=u,Hb(u,n)}qb(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ia(8,a,a.return),Wd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Wd(a));break;default:Wd(a)}n=n.sibling}}function Hb(n,a){for(;ds!==null;){var l=ds;switch(l.tag){case 0:case 11:case 15:Ia(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ds=u;else e:for(l=n;ds!==null;){u=ds;var f=u.sibling,y=u.return;if(Ob(u),u===l){ds=null;break e}if(f!==null){f.return=y,ds=f;break e}ds=y}}}var iT={getCacheForType:function(n){var a=Ts(rs),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},oT=typeof WeakMap=="function"?WeakMap:Map,xt=0,St=null,We=null,at=0,bt=0,an=null,Da=!1,tl=!1,xp=!1,Jr=0,Bt=0,Ma=0,Ki=0,bp=0,jn=0,sl=0,Oc=null,Hs=null,vp=!1,wp=0,Xd=1/0,Zd=null,Oa=null,ws=0,La=null,nl=null,rl=0,_p=0,Np=null,Gb=null,Lc=0,jp=null;function on(){if((xt&2)!==0&&at!==0)return at&-at;if(W.T!==null){var n=Ho;return n!==0?n:Ip()}return xa()}function Qb(){jn===0&&(jn=(at&536870912)===0||ht?Gl():536870912);var n=Nn.current;return n!==null&&(n.flags|=32),jn}function ln(n,a,l){(n===St&&(bt===2||bt===9)||n.cancelPendingCommit!==null)&&(al(n,0),Ua(n,at,jn,!1)),Ir(n,l),((xt&2)===0||n!==St)&&(n===St&&((xt&2)===0&&(Ki|=l),Bt===4&&Ua(n,at,jn,!1)),hr(n))}function Yb(n,a,l){if((xt&6)!==0)throw Error(r(327));var u=!l&&(a&124)===0&&(a&n.expiredLanes)===0||wi(n,a),f=u?uT(n,a):Sp(n,a,!0),y=u;do{if(f===0){tl&&!u&&Ua(n,a,0,!1);break}else{if(l=n.current.alternate,y&&!lT(l)){f=Sp(n,a,!1),y=!1;continue}if(f===2){if(y=a,n.errorRecoveryDisabledLanes&y)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var I=n;f=Oc;var H=I.current.memoizedState.isDehydrated;if(H&&(al(I,N).flags|=256),N=Sp(I,N,!1),N!==2){if(xp&&!H){I.errorRecoveryDisabledLanes|=y,Ki|=y,f=4;break e}y=Hs,Hs=f,y!==null&&(Hs===null?Hs=y:Hs.push.apply(Hs,y))}f=N}if(y=!1,f!==2)continue}}if(f===1){al(n,0),Ua(n,a,0,!0);break}e:{switch(u=n,y=f,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ua(u,a,jn,!Da);break e;case 2:Hs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=wp+300-Re(),10<f)){if(Ua(u,a,jn,!Da),_o(u,0,!0)!==0)break e;u.timeoutHandle=Nv(Kb.bind(null,u,l,Hs,Zd,vp,a,jn,Ki,sl,Da,y,2,-0,0),f);break e}Kb(u,l,Hs,Zd,vp,a,jn,Ki,sl,Da,y,0,-0,0)}}break}while(!0);hr(n)}function Kb(n,a,l,u,f,y,N,I,H,se,ue,pe,ne,ie){if(n.timeoutHandle=-1,pe=a.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&($c={stylesheets:null,count:0,unsuspend:qT},Bb(a),pe=HT(),pe!==null)){n.cancelPendingCommit=pe(sv.bind(null,n,a,y,l,u,f,N,I,H,ue,1,ne,ie)),Ua(n,y,N,!se);return}sv(n,a,y,l,u,f,N,I,H)}function lT(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],y=f.getSnapshot;f=f.value;try{if(!tn(y(),f))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(n,a,l,u){a&=~bp,a&=~Ki,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var f=a;0<f;){var y=31-Ot(f),N=1<<y;u[y]=-1,f&=~N}l!==0&&Xn(n,l,a)}function Jd(){return(xt&6)===0?(Uc(0),!1):!0}function Ep(){if(We!==null){if(bt===0)var n=We.return;else n=We,Hr=qi=null,Bm(n),Xo=null,Ac=0,n=We;for(;n!==null;)Ab(n.alternate,n),n=n.return;We=null}}function al(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,TT(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ep(),St=n,We=l=Br(n.current,null),at=a,bt=0,an=null,Da=!1,tl=wi(n,a),xp=!1,sl=jn=bp=Ki=Ma=Bt=0,Hs=Oc=null,vp=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var f=31-Ot(u),y=1<<f;a|=n[f],u&=~y}return Jr=a,wd(),l}function Wb(n,a){He=null,W.H=Fd,a===bc||a===Cd?(a=fx(),bt=3):a===ux?(a=fx(),bt=4):bt=a===mb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,an=a,We===null&&(Bt=1,Hd(n,bn(a,n.current)))}function Xb(){var n=W.H;return W.H=Fd,n===null?Fd:n}function Zb(){var n=W.A;return W.A=iT,n}function Tp(){Bt=4,Da||(at&4194048)!==at&&Nn.current!==null||(tl=!0),(Ma&134217727)===0&&(Ki&134217727)===0||St===null||Ua(St,at,jn,!1)}function Sp(n,a,l){var u=xt;xt|=2;var f=Xb(),y=Zb();(St!==n||at!==a)&&(Zd=null,al(n,a)),a=!1;var N=Bt;e:do try{if(bt!==0&&We!==null){var I=We,H=an;switch(bt){case 8:Ep(),N=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var se=bt;if(bt=0,an=null,il(n,I,H,se),l&&tl){N=0;break e}break;default:se=bt,bt=0,an=null,il(n,I,H,se)}}cT(),N=Bt;break}catch(ue){Wb(n,ue)}while(!0);return a&&n.shellSuspendCounter++,Hr=qi=null,xt=u,W.H=f,W.A=y,We===null&&(St=null,at=0,wd()),N}function cT(){for(;We!==null;)Jb(We)}function uT(n,a){var l=xt;xt|=2;var u=Xb(),f=Zb();St!==n||at!==a?(Zd=null,Xd=Re()+500,al(n,a)):tl=wi(n,a);e:do try{if(bt!==0&&We!==null){a=We;var y=an;t:switch(bt){case 1:bt=0,an=null,il(n,a,y,1);break;case 2:case 9:if(dx(y)){bt=0,an=null,ev(a);break}a=function(){bt!==2&&bt!==9||St!==n||(bt=7),hr(n)},y.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:dx(y)?(bt=0,an=null,ev(a)):(bt=0,an=null,il(n,a,y,7));break;case 5:var N=null;switch(We.tag){case 26:N=We.memoizedState;case 5:case 27:var I=We;if(!N||Mv(N)){bt=0,an=null;var H=I.sibling;if(H!==null)We=H;else{var se=I.return;se!==null?(We=se,eh(se)):We=null}break t}}bt=0,an=null,il(n,a,y,5);break;case 6:bt=0,an=null,il(n,a,y,6);break;case 8:Ep(),Bt=6;break e;default:throw Error(r(462))}}dT();break}catch(ue){Wb(n,ue)}while(!0);return Hr=qi=null,W.H=u,W.A=f,xt=l,We!==null?0:(St=null,at=0,wd(),Bt)}function dT(){for(;We!==null&&!Ze();)Jb(We)}function Jb(n){var a=Tb(n.alternate,n,Jr);n.memoizedProps=n.pendingProps,a===null?eh(n):We=a}function ev(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=vb(l,a,a.pendingProps,a.type,void 0,at);break;case 11:a=vb(l,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:Bm(a);default:Ab(l,a),a=We=tx(a,Jr),a=Tb(l,a,Jr)}n.memoizedProps=n.pendingProps,a===null?eh(n):We=a}function il(n,a,l,u){Hr=qi=null,Bm(a),Xo=null,Ac=0;var f=a.return;try{if(eT(n,f,a,l,at)){Bt=1,Hd(n,bn(l,n.current)),We=null;return}}catch(y){if(f!==null)throw We=f,y;Bt=1,Hd(n,bn(l,n.current)),We=null;return}a.flags&32768?(ht||u===1?n=!0:tl||(at&536870912)!==0?n=!1:(Da=n=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),tv(a,n)):eh(a)}function eh(n){var a=n;do{if((a.flags&32768)!==0){tv(a,Da);return}n=a.return;var l=sT(a.alternate,a,Jr);if(l!==null){We=l;return}if(a=a.sibling,a!==null){We=a;return}We=a=n}while(a!==null);Bt===0&&(Bt=5)}function tv(n,a){do{var l=nT(n.alternate,n);if(l!==null){l.flags&=32767,We=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){We=n;return}We=n=l}while(n!==null);Bt=6,We=null}function sv(n,a,l,u,f,y,N,I,H){n.cancelPendingCommit=null;do th();while(ws!==0);if((xt&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=ym,Yl(n,l,y,N,I,H),n===St&&(We=St=null,at=0),nl=a,La=n,rl=l,_p=y,Np=f,Gb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pT(_e,function(){return ov(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=me.p,me.p=2,N=xt,xt|=4;try{rT(n,a,l)}finally{xt=N,me.p=f,W.T=u}}ws=1,nv(),rv(),av()}}function nv(){if(ws===1){ws=0;var n=La,a=nl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=me.p;me.p=2;var f=xt;xt|=4;try{Vb(a,n);var y=Vp,N=Hy(n.containerInfo),I=y.focusedElem,H=y.selectionRange;if(N!==I&&I&&I.ownerDocument&&$y(I.ownerDocument.documentElement,I)){if(H!==null&&hm(I)){var se=H.start,ue=H.end;if(ue===void 0&&(ue=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(ue,I.value.length);else{var pe=I.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ve=I.textContent.length,Me=Math.min(H.start,Ve),Nt=H.end===void 0?Me:Math.min(H.end,Ve);!ie.extend&&Me>Nt&&(N=Nt,Nt=Me,Me=N);var X=qy(I,Me),K=qy(I,Nt);if(X&&K&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var te=pe.createRange();te.setStart(X.node,X.offset),ie.removeAllRanges(),Me>Nt?(ie.addRange(te),ie.extend(K.node,K.offset)):(te.setEnd(K.node,K.offset),ie.addRange(te))}}}}for(pe=[],ie=I;ie=ie.parentNode;)ie.nodeType===1&&pe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var he=pe[I];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}fh=!!Up,Vp=Up=null}finally{xt=f,me.p=u,W.T=l}}n.current=a,ws=2}}function rv(){if(ws===2){ws=0;var n=La,a=nl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=me.p;me.p=2;var f=xt;xt|=4;try{Mb(n,a.alternate,a)}finally{xt=f,me.p=u,W.T=l}}ws=3}}function av(){if(ws===4||ws===3){ws=0,st();var n=La,a=nl,l=rl,u=Gb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ws=5:(ws=0,nl=La=null,iv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Oa=null),No(l),a=a.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,f=me.p,me.p=2,W.T=null;try{for(var y=n.onRecoverableError,N=0;N<u.length;N++){var I=u[N];y(I.value,{componentStack:I.stack})}}finally{W.T=a,me.p=f}}(rl&3)!==0&&th(),hr(n),f=n.pendingLanes,(l&4194090)!==0&&(f&42)!==0?n===jp?Lc++:(Lc=0,jp=n):Lc=0,Uc(0)}}function iv(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,yc(a)))}function th(n){return nv(),rv(),av(),ov()}function ov(){if(ws!==5)return!1;var n=La,a=_p;_p=0;var l=No(rl),u=W.T,f=me.p;try{me.p=32>l?32:l,W.T=null,l=Np,Np=null;var y=La,N=rl;if(ws=0,nl=La=null,rl=0,(xt&6)!==0)throw Error(r(331));var I=xt;if(xt|=4,$b(y.current),zb(y,y.current,N,l),xt=I,Uc(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ct,y)}catch{}return!0}finally{me.p=f,W.T=u,iv(n,a)}}function lv(n,a,l){a=bn(l,a),a=sp(n.stateNode,a,2),n=Sa(n,a,2),n!==null&&(Ir(n,2),hr(n))}function jt(n,a,l){if(n.tag===3)lv(n,n,l);else for(;a!==null;){if(a.tag===3){lv(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oa===null||!Oa.has(u))){n=bn(l,n),l=hb(2),u=Sa(a,l,2),u!==null&&(fb(l,u,a,n),Ir(u,2),hr(u));break}}a=a.return}}function Ap(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new oT;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(l)||(xp=!0,f.add(l),n=hT.bind(null,n,a,l),a.then(n,n))}function hT(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,St===n&&(at&l)===l&&(Bt===4||Bt===3&&(at&62914560)===at&&300>Re()-wp?(xt&2)===0&&al(n,0):bp|=l,sl===at&&(sl=0)),hr(n)}function cv(n,a){a===0&&(a=Ql()),n=zo(n,a),n!==null&&(Ir(n,a),hr(n))}function fT(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),cv(n,l)}function mT(n,a){var l=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),cv(n,l)}function pT(n,a){return fe(n,a)}var sh=null,ol=null,Rp=!1,nh=!1,Cp=!1,Wi=0;function hr(n){n!==ol&&n.next===null&&(ol===null?sh=ol=n:ol=ol.next=n),nh=!0,Rp||(Rp=!0,yT())}function Uc(n,a){if(!Cp&&nh){Cp=!0;do for(var l=!1,u=sh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var N=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-Ot(42|n)+1)-1,y&=f&~(N&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,fv(u,y))}else y=at,y=_o(u,u===St?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||wi(u,y)||(l=!0,fv(u,y));u=u.next}while(l);Cp=!1}}function gT(){uv()}function uv(){nh=Rp=!1;var n=0;Wi!==0&&(ET()&&(n=Wi),Wi=0);for(var a=Re(),l=null,u=sh;u!==null;){var f=u.next,y=dv(u,a);y===0?(u.next=null,l===null?sh=f:l.next=f,f===null&&(ol=l)):(l=u,(n!==0||(y&3)!==0)&&(nh=!0)),u=f}Uc(n)}function dv(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var N=31-Ot(y),I=1<<N,H=f[N];H===-1?((I&l)===0||(I&u)!==0)&&(f[N]=Hl(I,a)):H<=a&&(n.expiredLanes|=I),y&=~I}if(a=St,l=at,l=_o(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(bt===2||bt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ce(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||wi(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&Ce(u),No(l)){case 2:case 8:l=Ee;break;case 32:l=_e;break;case 268435456:l=Je;break;default:l=_e}return u=hv.bind(null,n),l=fe(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&Ce(u),n.callbackPriority=2,n.callbackNode=null,2}function hv(n,a){if(ws!==0&&ws!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(th()&&n.callbackNode!==l)return null;var u=at;return u=_o(n,n===St?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Yb(n,u,a),dv(n,Re()),n.callbackNode!=null&&n.callbackNode===l?hv.bind(null,n):null)}function fv(n,a){if(th())return null;Yb(n,a,!0)}function yT(){ST(function(){(xt&6)!==0?fe(le,gT):uv()})}function Ip(){return Wi===0&&(Wi=Gl()),Wi}function mv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ro(""+n)}function pv(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function xT(n,a,l,u,f){if(a==="submit"&&l&&l.stateNode===f){var y=mv((f[Yt]||null).action),N=u.submitter;N&&(a=(a=N[Yt]||null)?mv(a.formAction):N.getAttribute("formAction"),a!==null&&(y=a,N=null));var I=new Co("action","action",null,u,f);n.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wi!==0){var H=N?pv(f,N):new FormData(f);Xm(l,{pending:!0,data:H,method:f.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=N?pv(f,N):new FormData(f),Xm(l,{pending:!0,data:H,method:f.method,action:y},y,H))},currentTarget:f}]})}}for(var kp=0;kp<gm.length;kp++){var Pp=gm[kp],bT=Pp.toLowerCase(),vT=Pp[0].toUpperCase()+Pp.slice(1);On(bT,"on"+vT)}On(Yy,"onAnimationEnd"),On(Ky,"onAnimationIteration"),On(Wy,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(LE,"onTransitionRun"),On(UE,"onTransitionStart"),On(VE,"onTransitionCancel"),On(Xy,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function gv(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],f=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var N=u.length-1;0<=N;N--){var I=u[N],H=I.instance,se=I.currentTarget;if(I=I.listener,H!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=se;try{y(f)}catch(ue){$d(ue)}f.currentTarget=null,y=H}else for(N=0;N<u.length;N++){if(I=u[N],H=I.instance,se=I.currentTarget,I=I.listener,H!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=se;try{y(f)}catch(ue){$d(ue)}f.currentTarget=null,y=H}}}}function Xe(n,a){var l=a[Wl];l===void 0&&(l=a[Wl]=new Set);var u=n+"__bubble";l.has(u)||(yv(a,n,2,!1),l.add(u))}function Dp(n,a,l){var u=0;a&&(u|=4),yv(l,n,u,a)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Mp(n){if(!n[rh]){n[rh]=!0,Xl.forEach(function(l){l!=="selectionchange"&&(wT.has(l)||Dp(l,!1,n),Dp(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[rh]||(a[rh]=!0,Dp("selectionchange",!1,a))}}function yv(n,a,l,u){switch(zv(a)){case 2:var f=YT;break;case 8:f=KT;break;default:f=Kp}l=f.bind(null,a,l,n),f=void 0,!yn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(a,l,{capture:!0,passive:f}):n.addEventListener(a,l,!0):f!==void 0?n.addEventListener(a,l,{passive:f}):n.addEventListener(a,l,!1)}function Op(n,a,l,u,f){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var I=u.stateNode.containerInfo;if(I===f)break;if(N===4)for(N=u.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;I!==null;){if(N=kr(I),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){u=y=N;continue e}I=I.parentNode}}u=u.return}id(function(){var se=y,ue=gn(l),pe=[];e:{var ne=Zy.get(n);if(ne!==void 0){var ie=Co,Ve=n;switch(n){case"keypress":if(nr(l)===0)break e;case"keydown":case"keyup":ie=Oo;break;case"focusin":Ve="focus",ie=Po;break;case"focusout":Ve="blur",ie=Po;break;case"beforeblur":case"afterblur":ie=Po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=md;break;case Yy:case Ky:case Wy:ie=Do;break;case Xy:ie=gd;break;case"scroll":case"scrollend":ie=od;break;case"wheel":ie=Lo;break;case"copy":case"cut":case"paste":ie=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=cc;break;case"toggle":case"beforetoggle":ie=xd}var Me=(a&4)!==0,Nt=!Me&&(n==="scroll"||n==="scrollend"),X=Me?ne!==null?ne+"Capture":null:ne;Me=[];for(var K=se,te;K!==null;){var he=K;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||X===null||(he=Ri(K,X),he!=null&&Me.push(Fc(K,he,te))),Nt)break;K=K.return}0<Me.length&&(ne=new ie(ne,Ve,null,l,ue),pe.push({event:ne,listeners:Me}))}}if((a&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",ne&&l!==Or&&(Ve=l.relatedTarget||l.fromElement)&&(kr(Ve)||Ve[mn]))break e;if((ie||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ve=l.relatedTarget||l.toElement,ie=se,Ve=Ve?kr(Ve):null,Ve!==null&&(Nt=c(Ve),Me=Ve.tag,Ve!==Nt||Me!==5&&Me!==27&&Me!==6)&&(Ve=null)):(ie=null,Ve=se),ie!==Ve)){if(Me=xn,he="onMouseLeave",X="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(Me=cc,he="onPointerLeave",X="onPointerEnter",K="pointer"),Nt=ie==null?ne:Jn(ie),te=Ve==null?ne:Jn(Ve),ne=new Me(he,K+"leave",ie,l,ue),ne.target=Nt,ne.relatedTarget=te,he=null,kr(ue)===se&&(Me=new Me(X,K+"enter",Ve,l,ue),Me.target=te,Me.relatedTarget=Nt,he=Me),Nt=he,ie&&Ve)t:{for(Me=ie,X=Ve,K=0,te=Me;te;te=ll(te))K++;for(te=0,he=X;he;he=ll(he))te++;for(;0<K-te;)Me=ll(Me),K--;for(;0<te-K;)X=ll(X),te--;for(;K--;){if(Me===X||X!==null&&Me===X.alternate)break t;Me=ll(Me),X=ll(X)}Me=null}else Me=null;ie!==null&&xv(pe,ne,ie,Me,!1),Ve!==null&&Nt!==null&&xv(pe,Nt,Ve,Me,!0)}}e:{if(ne=se?Jn(se):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var Ae=Ly;else if(ns(ne))if(Uy)Ae=DE;else{Ae=kE;var Ye=IE}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?se&&sc(se.elementType)&&(Ae=Ly):Ae=PE;if(Ae&&(Ae=Ae(n,se))){zr(pe,Ae,l,ue);break e}Ye&&Ye(n,ne,se),n==="focusout"&&se&&ne.type==="number"&&se.memoizedProps.value!=null&&_a(ne,"number",ne.value)}switch(Ye=se?Jn(se):window,n){case"focusin":(ns(Ye)||Ye.contentEditable==="true")&&(Uo=Ye,fm=se,hc=null);break;case"focusout":hc=fm=Uo=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Gy(pe,l,ue);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Gy(pe,l,ue)}var Ie;if(ir)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?oe(n,l)&&(Oe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&l.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(Ie=rc()):(sr=ue,Na="value"in sr?sr.value:sr.textContent,nt=!0)),Ye=ah(se,Oe),0<Ye.length&&(Oe=new oc(Oe,n,null,l,ue),pe.push({event:Oe,listeners:Ye}),Ie?Oe.data=Ie:(Ie=we(l),Ie!==null&&(Oe.data=Ie)))),(Ie=x?ss(n,l):rt(n,l))&&(Oe=ah(se,"onBeforeInput"),0<Oe.length&&(Ye=new oc("onBeforeInput","beforeinput",null,l,ue),pe.push({event:Ye,listeners:Oe}),Ye.data=Ie)),xT(pe,n,se,l,ue)}gv(pe,a)})}function Fc(n,a,l){return{instance:n,listener:a,currentTarget:l}}function ah(n,a){for(var l=a+"Capture",u=[];n!==null;){var f=n,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Ri(n,l),f!=null&&u.unshift(Fc(n,f,y)),f=Ri(n,a),f!=null&&u.push(Fc(n,f,y))),n.tag===3)return u;n=n.return}return[]}function ll(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xv(n,a,l,u,f){for(var y=a._reactName,N=[];l!==null&&l!==u;){var I=l,H=I.alternate,se=I.stateNode;if(I=I.tag,H!==null&&H===u)break;I!==5&&I!==26&&I!==27||se===null||(H=se,f?(se=Ri(l,y),se!=null&&N.unshift(Fc(l,se,H))):f||(se=Ri(l,y),se!=null&&N.push(Fc(l,se,H)))),l=l.return}N.length!==0&&n.push({event:a,listeners:N})}var _T=/\r\n?/g,NT=/\u0000|\uFFFD/g;function bv(n){return(typeof n=="string"?n:""+n).replace(_T,`
`).replace(NT,"")}function vv(n,a){return a=bv(a),bv(n)===a}function ih(){}function _t(n,a,l,u,f,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(n,""+u);break;case"className":er(n,"class",u);break;case"tabIndex":er(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":er(n,l,u);break;case"style":tc(n,u,y);break;case"data":if(a!=="object"){er(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ro(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&_t(n,a,"name",f.name,f,null),_t(n,a,"formEncType",f.formEncType,f,null),_t(n,a,"formMethod",f.formMethod,f,null),_t(n,a,"formTarget",f.formTarget,f,null)):(_t(n,a,"encType",f.encType,f,null),_t(n,a,"method",f.method,f,null),_t(n,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ro(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ih);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Ro(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Xe("beforetoggle",n),Xe("toggle",n),wa(n,"popover",u);break;case"xlinkActuate":xs(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xs(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xs(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xs(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xs(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xs(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xs(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=im.get(l)||l,wa(n,l,u))}}function Lp(n,a,l,u,f,y){switch(l){case"style":tc(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?pn(n,u):(typeof u=="number"||typeof u=="bigint")&&pn(n,""+u);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),a=l.slice(2,f?l.length-7:void 0),y=n[Yt]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(a,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,f);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):wa(n,l,u)}}}function _s(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",n),Xe("load",n);var u=!1,f=!1,y;for(y in l)if(l.hasOwnProperty(y)){var N=l[y];if(N!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(n,a,y,N,l,null)}}f&&_t(n,a,"srcSet",l.srcSet,l,null),u&&_t(n,a,"src",l.src,l,null);return;case"input":Xe("invalid",n);var I=y=N=f=null,H=null,se=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":f=ue;break;case"type":N=ue;break;case"checked":H=ue;break;case"defaultChecked":se=ue;break;case"value":y=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:_t(n,a,u,ue,l,null)}}Ti(n,y,I,H,se,N,f,!1),Ao(n);return;case"select":Xe("invalid",n),u=N=y=null;for(f in l)if(l.hasOwnProperty(f)&&(I=l[f],I!=null))switch(f){case"value":y=I;break;case"defaultValue":N=I;break;case"multiple":u=I;default:_t(n,a,f,I,l,null)}a=y,l=N,n.multiple=!!u,a!=null?Mr(n,!!u,a,!1):l!=null&&Mr(n,!!u,l,!0);return;case"textarea":Xe("invalid",n),y=f=u=null;for(N in l)if(l.hasOwnProperty(N)&&(I=l[N],I!=null))switch(N){case"value":u=I;break;case"defaultValue":f=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:_t(n,a,N,I,l,null)}Si(n,u,f,y),Ao(n);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:_t(n,a,H,u,l,null)}return;case"dialog":Xe("beforetoggle",n),Xe("toggle",n),Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":Xe("load",n);break;case"video":case"audio":for(u=0;u<Vc.length;u++)Xe(Vc[u],n);break;case"image":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"embed":case"source":case"link":Xe("error",n),Xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(u=l[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(n,a,se,u,l,null)}return;default:if(sc(a)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&Lp(n,a,ue,u,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(u=l[I],u!=null&&_t(n,a,I,u,l,null))}function jT(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,N=null,I=null,H=null,se=null,ue=null;for(ie in l){var pe=l[ie];if(l.hasOwnProperty(ie)&&pe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=pe;default:u.hasOwnProperty(ie)||_t(n,a,ie,null,u,pe)}}for(var ne in u){var ie=u[ne];if(pe=l[ne],u.hasOwnProperty(ne)&&(ie!=null||pe!=null))switch(ne){case"type":y=ie;break;case"name":f=ie;break;case"checked":se=ie;break;case"defaultChecked":ue=ie;break;case"value":N=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:ie!==pe&&_t(n,a,ne,ie,u,pe)}}en(n,N,I,H,se,ue,y,f);return;case"select":ie=N=I=ne=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ie=H;default:u.hasOwnProperty(y)||_t(n,a,y,null,u,H)}for(f in u)if(y=u[f],H=l[f],u.hasOwnProperty(f)&&(y!=null||H!=null))switch(f){case"value":ne=y;break;case"defaultValue":I=y;break;case"multiple":N=y;default:y!==H&&_t(n,a,f,y,u,H)}a=I,l=N,u=ie,ne!=null?Mr(n,!!l,ne,!1):!!u!=!!l&&(a!=null?Mr(n,!!l,a,!0):Mr(n,!!l,l?[]:"",!1));return;case"textarea":ie=ne=null;for(I in l)if(f=l[I],l.hasOwnProperty(I)&&f!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:_t(n,a,I,null,u,f)}for(N in u)if(f=u[N],y=l[N],u.hasOwnProperty(N)&&(f!=null||y!=null))switch(N){case"value":ne=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==y&&_t(n,a,N,f,u,y)}vt(n,ne,ie);return;case"option":for(var Ve in l)if(ne=l[Ve],l.hasOwnProperty(Ve)&&ne!=null&&!u.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:_t(n,a,Ve,null,u,ne)}for(H in u)if(ne=u[H],ie=l[H],u.hasOwnProperty(H)&&ne!==ie&&(ne!=null||ie!=null))switch(H){case"selected":n.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:_t(n,a,H,ne,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)ne=l[Me],l.hasOwnProperty(Me)&&ne!=null&&!u.hasOwnProperty(Me)&&_t(n,a,Me,null,u,ne);for(se in u)if(ne=u[se],ie=l[se],u.hasOwnProperty(se)&&ne!==ie&&(ne!=null||ie!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:_t(n,a,se,ne,u,ie)}return;default:if(sc(a)){for(var Nt in l)ne=l[Nt],l.hasOwnProperty(Nt)&&ne!==void 0&&!u.hasOwnProperty(Nt)&&Lp(n,a,Nt,void 0,u,ne);for(ue in u)ne=u[ue],ie=l[ue],!u.hasOwnProperty(ue)||ne===ie||ne===void 0&&ie===void 0||Lp(n,a,ue,ne,u,ie);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!u.hasOwnProperty(X)&&_t(n,a,X,null,u,ne);for(pe in u)ne=u[pe],ie=l[pe],!u.hasOwnProperty(pe)||ne===ie||ne==null&&ie==null||_t(n,a,pe,ne,u,ie)}var Up=null,Vp=null;function oh(n){return n.nodeType===9?n:n.ownerDocument}function wv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Fp(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zp=null;function ET(){var n=window.event;return n&&n.type==="popstate"?n===zp?!1:(zp=n,!0):(zp=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(AT)}:Nv;function AT(n){setTimeout(function(){throw n})}function Va(n){return n==="head"}function Ev(n,a){var l=a,u=0,f=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var N=n.ownerDocument;if(l&1&&zc(N.documentElement),l&2&&zc(N.body),l&4)for(l=N.head,zc(l),N=l.firstChild;N;){var I=N.nextSibling,H=N.nodeName;N[_i]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=I}}if(f===0){n.removeChild(y),Kc(a);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Kc(a)}function Bp(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bp(l),va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function RT(n,a,l,u){for(;n.nodeType===1;){var f=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[_i])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Un(n.nextSibling),n===null)break}return null}function CT(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Un(n.nextSibling),n===null))return null;return n}function qp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function IT(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Un(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var $p=null;function Tv(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function Sv(n,a,l){switch(a=oh(l),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function zc(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);va(n)}var En=new Map,Av=new Set;function lh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ea=me.d;me.d={f:kT,r:PT,D:DT,C:MT,L:OT,m:LT,X:VT,S:UT,M:FT};function kT(){var n=ea.f(),a=Jd();return n||a}function PT(n){var a=Zn(n);a!==null&&a.tag===5&&a.type==="form"?Yx(a):ea.r(n)}var cl=typeof document>"u"?null:document;function Rv(n,a,l){var u=cl;if(u&&typeof a=="string"&&a){var f=Kt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Av.has(f)||(Av.add(f),n={rel:n,crossOrigin:l,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),_s(a,"link",n),qt(a),u.head.appendChild(a)))}}function DT(n){ea.D(n),Rv("dns-prefetch",n,null)}function MT(n,a){ea.C(n,a),Rv("preconnect",n,a)}function OT(n,a,l){ea.L(n,a,l);var u=cl;if(u&&n&&a){var f='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Kt(l.imageSizes)+'"]')):f+='[href="'+Kt(n)+'"]';var y=f;switch(a){case"style":y=ul(n);break;case"script":y=dl(n)}En.has(y)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),En.set(y,n),u.querySelector(f)!==null||a==="style"&&u.querySelector(Bc(y))||a==="script"&&u.querySelector(qc(y))||(a=u.createElement("link"),_s(a,"link",n),qt(a),u.head.appendChild(a)))}}function LT(n,a){ea.m(n,a);var l=cl;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Kt(u)+'"][href="'+Kt(n)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dl(n)}if(!En.has(y)&&(n=b({rel:"modulepreload",href:n},a),En.set(y,n),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(y)))return}u=l.createElement("link"),_s(u,"link",n),qt(u),l.head.appendChild(u)}}}function UT(n,a,l){ea.S(n,a,l);var u=cl;if(u&&n){var f=Ds(u).hoistableStyles,y=ul(n);a=a||"default";var N=f.get(y);if(!N){var I={loading:0,preload:null};if(N=u.querySelector(Bc(y)))I.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=En.get(y))&&Hp(n,l);var H=N=u.createElement("link");qt(H),_s(H,"link",n),H._p=new Promise(function(se,ue){H.onload=se,H.onerror=ue}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ch(N,a,u)}N={type:"stylesheet",instance:N,count:1,state:I},f.set(y,N)}}}function VT(n,a){ea.X(n,a);var l=cl;if(l&&n){var u=Ds(l).hoistableScripts,f=dl(n),y=u.get(f);y||(y=l.querySelector(qc(f)),y||(n=b({src:n,async:!0},a),(a=En.get(f))&&Gp(n,a),y=l.createElement("script"),qt(y),_s(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function FT(n,a){ea.M(n,a);var l=cl;if(l&&n){var u=Ds(l).hoistableScripts,f=dl(n),y=u.get(f);y||(y=l.querySelector(qc(f)),y||(n=b({src:n,async:!0,type:"module"},a),(a=En.get(f))&&Gp(n,a),y=l.createElement("script"),qt(y),_s(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function Cv(n,a,l,u){var f=(f=ye.current)?lh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ul(l.href),l=Ds(f).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ul(l.href);var y=Ds(f).hoistableStyles,N=y.get(n);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,N),(y=f.querySelector(Bc(n)))&&!y._p&&(N.instance=y,N.state.loading=5),En.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},En.set(n,l),y||zT(f,n,l,N.state))),a&&u===null)throw Error(r(528,""));return N}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=dl(l),l=Ds(f).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function ul(n){return'href="'+Kt(n)+'"'}function Bc(n){return'link[rel="stylesheet"]['+n+"]"}function Iv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function zT(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),_s(a,"link",l),qt(a),n.head.appendChild(a))}function dl(n){return'[src="'+Kt(n)+'"]'}function qc(n){return"script[async]"+n}function kv(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Kt(l.href)+'"]');if(u)return a.instance=u,qt(u),u;var f=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),qt(u),_s(u,"style",f),ch(u,l.precedence,n),a.instance=u;case"stylesheet":f=ul(l.href);var y=n.querySelector(Bc(f));if(y)return a.state.loading|=4,a.instance=y,qt(y),y;u=Iv(l),(f=En.get(f))&&Hp(u,f),y=(n.ownerDocument||n).createElement("link"),qt(y);var N=y;return N._p=new Promise(function(I,H){N.onload=I,N.onerror=H}),_s(y,"link",u),a.state.loading|=4,ch(y,l.precedence,n),a.instance=y;case"script":return y=dl(l.src),(f=n.querySelector(qc(y)))?(a.instance=f,qt(f),f):(u=l,(f=En.get(y))&&(u=b({},l),Gp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),qt(f),_s(f,"link",u),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ch(u,l.precedence,n));return a.instance}function ch(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,N=0;N<u.length;N++){var I=u[N];if(I.dataset.precedence===a)y=I;else if(y!==f)break}y?y.parentNode.insertBefore(n,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Hp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Gp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var uh=null;function Pv(n,a,l){if(uh===null){var u=new Map,f=uh=new Map;f.set(l,u)}else f=uh,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),f=0;f<l.length;f++){var y=l[f];if(!(y[_i]||y[ts]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(a)||"";N=n+N;var I=u.get(N);I?I.push(y):u.set(N,[y])}}return u}function Dv(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function BT(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $c=null;function qT(){}function $T(n,a,l){if($c===null)throw Error(r(475));var u=$c;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ul(l.href),y=n.querySelector(Bc(f));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=dh.bind(u),n.then(u,u)),a.state.loading|=4,a.instance=y,qt(y);return}y=n.ownerDocument||n,l=Iv(l),(f=En.get(f))&&Hp(l,f),y=y.createElement("link"),qt(y);var N=y;N._p=new Promise(function(I,H){N.onload=I,N.onerror=H}),_s(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=dh.bind(u),n.addEventListener("load",a),n.addEventListener("error",a))}}function HT(){if($c===null)throw Error(r(475));var n=$c;return n.stylesheets&&n.count===0&&Qp(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&Qp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function dh(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function Qp(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,a.forEach(GT,n),hh=null,dh.call(n))}function GT(n,a){if(!(a.state.loading&4)){var l=hh.get(n);if(l)var u=l.get(null);else{l=new Map,hh.set(n,l);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var N=f[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),u=N)}u&&l.set(null,u)}f=a.instance,N=f.getAttribute("data-precedence"),y=l.get(N)||u,y===u&&l.set(null,f),l.set(N,f),this.count++,u=dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Hc={$$typeof:P,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function QT(n,a,l,u,f,y,N,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ov(n,a,l,u,f,y,N,I,H,se,ue,pe){return n=new QT(n,a,l,N,I,H,se,pe),a=1,y===!0&&(a|=24),y=sn(3,null,null,a),n.current=y,y.stateNode=n,a=Am(),a.refCount++,n.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},km(y),n}function Lv(n){return n?(n=Bo,n):Bo}function Uv(n,a,l,u,f,y){f=Lv(f),u.context===null?u.context=f:u.pendingContext=f,u=Ta(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Sa(n,u,a),l!==null&&(ln(l,n,a),wc(l,n,a))}function Vv(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Yp(n,a){Vv(n,a),(n=n.alternate)&&Vv(n,a)}function Fv(n){if(n.tag===13){var a=zo(n,67108864);a!==null&&ln(a,n,67108864),Yp(n,67108864)}}var fh=!0;function YT(n,a,l,u){var f=W.T;W.T=null;var y=me.p;try{me.p=2,Kp(n,a,l,u)}finally{me.p=y,W.T=f}}function KT(n,a,l,u){var f=W.T;W.T=null;var y=me.p;try{me.p=8,Kp(n,a,l,u)}finally{me.p=y,W.T=f}}function Kp(n,a,l,u){if(fh){var f=Wp(u);if(f===null)Op(n,a,u,mh,l),Bv(n,u);else if(XT(f,n,a,l,u))u.stopPropagation();else if(Bv(n,u),a&4&&-1<WT.indexOf(n)){for(;f!==null;){var y=Zn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Pn(y.pendingLanes);if(N!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var H=1<<31-Ot(N);I.entanglements[1]|=H,N&=~H}hr(y),(xt&6)===0&&(Xd=Re()+500,Uc(0))}}break;case 13:I=zo(y,2),I!==null&&ln(I,y,2),Jd(),Yp(y,2)}if(y=Wp(u),y===null&&Op(n,a,u,mh,l),y===f)break;f=y}f!==null&&u.stopPropagation()}else Op(n,a,u,null,l)}}function Wp(n){return n=gn(n),Xp(n)}var mh=null;function Xp(n){if(mh=null,n=kr(n),n!==null){var a=c(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=d(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return mh=n,null}function zv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case le:return 2;case Ee:return 8;case _e:case ke:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Zp=!1,Fa=null,za=null,Ba=null,Gc=new Map,Qc=new Map,qa=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(n,a){switch(n){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(a.pointerId)}}function Yc(n,a,l,u,f,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},a!==null&&(a=Zn(a),a!==null&&Fv(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function XT(n,a,l,u,f){switch(a){case"focusin":return Fa=Yc(Fa,n,a,l,u,f),!0;case"dragenter":return za=Yc(za,n,a,l,u,f),!0;case"mouseover":return Ba=Yc(Ba,n,a,l,u,f),!0;case"pointerover":var y=f.pointerId;return Gc.set(y,Yc(Gc.get(y)||null,n,a,l,u,f)),!0;case"gotpointercapture":return y=f.pointerId,Qc.set(y,Yc(Qc.get(y)||null,n,a,l,u,f)),!0}return!1}function qv(n){var a=kr(n.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=d(l),a!==null){n.blockedOn=a,Ju(n.priority,function(){if(l.tag===13){var u=on();u=ya(u);var f=zo(l,u);f!==null&&ln(f,l,u),Yp(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ph(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Wp(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Or=u,l.target.dispatchEvent(u),Or=null}else return a=Zn(l),a!==null&&Fv(a),n.blockedOn=l,!1;a.shift()}return!0}function $v(n,a,l){ph(n)&&l.delete(a)}function ZT(){Zp=!1,Fa!==null&&ph(Fa)&&(Fa=null),za!==null&&ph(za)&&(za=null),Ba!==null&&ph(Ba)&&(Ba=null),Gc.forEach($v),Qc.forEach($v)}function gh(n,a){n.blockedOn===a&&(n.blockedOn=null,Zp||(Zp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ZT)))}var yh=null;function Hv(n){yh!==n&&(yh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yh===n&&(yh=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],f=n[a+2];if(typeof u!="function"){if(Xp(u||l)===null)continue;break}var y=Zn(l);y!==null&&(n.splice(a,3),a-=3,Xm(y,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Kc(n){function a(H){return gh(H,n)}Fa!==null&&gh(Fa,n),za!==null&&gh(za,n),Ba!==null&&gh(Ba,n),Gc.forEach(a),Qc.forEach(a);for(var l=0;l<qa.length;l++){var u=qa[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qa.length&&(l=qa[0],l.blockedOn===null);)qv(l),l.blockedOn===null&&qa.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],y=l[u+1],N=f[Yt]||null;if(typeof y=="function")N||Hv(l);else if(N){var I=null;if(y&&y.hasAttribute("formAction")){if(f=y,N=y[Yt]||null)I=N.formAction;else if(Xp(f)!==null)continue}else I=N.action;typeof I=="function"?l[u+1]=I:(l.splice(u,3),u-=3),Hv(l)}}}function Jp(n){this._internalRoot=n}xh.prototype.render=Jp.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=on();Uv(l,u,n,a,null,null)},xh.prototype.unmount=Jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Uv(n.current,2,null,n,null,null),Jd(),a[mn]=null}};function xh(n){this._internalRoot=n}xh.prototype.unstable_scheduleHydration=function(n){if(n){var a=xa();n={blockedOn:null,target:n,priority:a};for(var l=0;l<qa.length&&a!==0&&a<qa[l].priority;l++);qa.splice(l,0,n),l===0&&qv(n)}};var Gv=e.version;if(Gv!=="19.1.0")throw Error(r(527,Gv,"19.1.0"));me.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var JT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{ct=bh.inject(JT),Fe=bh}catch{}}return Xc.createRoot=function(n,a){if(!o(n))throw Error(r(299));var l=!1,u="",f=lb,y=cb,N=ub,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=Ov(n,1,!1,null,null,l,u,f,y,N,I,null),n[mn]=a.current,Mp(n),new Jp(a)},Xc.hydrateRoot=function(n,a,l){if(!o(n))throw Error(r(299));var u=!1,f="",y=lb,N=cb,I=ub,H=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),a=Ov(n,1,!0,a,l??null,u,f,y,N,I,H,se),a.context=Lv(null),l=a.current,u=on(),u=ya(u),f=Ta(u),f.callback=null,Sa(l,f,u),l=u,a.current.lanes=l,Ir(a,l),hr(a),n[mn]=a.current,Mp(n),new xh(a)},Xc.version="19.1.0",Xc}var sw;function uS(){if(sw)return sg.exports;sw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sg.exports=cS(),sg.exports}var dS=uS(),Zc={},nw;function hS(){if(nw)return Zc;nw=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=d,Zc.serialize=g;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,j){const A=new c,F=v.length;if(F<2)return A;const L=j?.decode||b;let q=0;do{const V=v.indexOf("=",q);if(V===-1)break;const P=v.indexOf(";",q),B=P===-1?F:P;if(V>B){q=v.lastIndexOf(";",V-1)+1;continue}const Y=p(v,q,V),ae=m(v,V,Y),O=v.slice(Y,ae);if(A[O]===void 0){let S=p(v,V+1,B),R=m(v,B,S);const U=L(v.slice(S,R));A[O]=U}q=B+1}while(q<F);return A}function p(v,j,A){do{const F=v.charCodeAt(j);if(F!==32&&F!==9)return j}while(++j<A);return A}function m(v,j,A){for(;j>A;){const F=v.charCodeAt(--j);if(F!==32&&F!==9)return j+1}return A}function g(v,j,A){const F=A?.encode||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const L=F(j);if(!e.test(L))throw new TypeError(`argument val is invalid: ${j}`);let q=v+"="+L;if(!A)return q;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);q+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);q+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);q+="; Path="+A.path}if(A.expires){if(!w(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);q+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(q+="; HttpOnly"),A.secure&&(q+="; Secure"),A.partitioned&&(q+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return q}function b(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return o.call(v)==="[object Date]"}return Zc}hS();var rw="popstate";function fS(s={}){function e(r,o){let{pathname:c,search:d,hash:p}=r.location;return Sg("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:gu(o)}return pS(e,t,null,s)}function Dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function aw(s,e){return{usr:s.state,key:s.key,idx:e}}function Sg(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:t,key:e&&e.key||r||mS()}}function gu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Dl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function pS(s,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,p="POP",m=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function w(){p="POP";let L=b(),q=L==null?null:L-g;g=L,m&&m({action:p,location:F.location,delta:q})}function v(L,q){p="PUSH";let V=Sg(F.location,L,q);g=b()+1;let P=aw(V,g),B=F.createHref(V);try{d.pushState(P,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(B)}c&&m&&m({action:p,location:F.location,delta:1})}function j(L,q){p="REPLACE";let V=Sg(F.location,L,q);g=b();let P=aw(V,g),B=F.createHref(V);d.replaceState(P,"",B),c&&m&&m({action:p,location:F.location,delta:0})}function A(L){return gS(L)}let F={get action(){return p},get location(){return s(o,d)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(rw,w),m=L,()=>{o.removeEventListener(rw,w),m=null}},createHref(L){return e(o,L)},createURL:A,encodeLocation(L){let q=A(L);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:v,replace:j,go(L){return d.go(L)}};return F}function gS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:gu(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function x_(s,e,t="/"){return yS(s,e,t,!1)}function yS(s,e,t,r){let o=typeof e=="string"?Dl(e):e,c=la(o.pathname||"/",t);if(c==null)return null;let d=b_(s);xS(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=RS(c);p=SS(d[m],g,r)}return p}function b_(s,e=[],t=[],r=""){let o=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(Dt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=ra([r,m.relativePath]),b=t.concat(m);c.children&&c.children.length>0&&(Dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),b_(c.children,e,b,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:ES(g,c.index),routesMeta:b})};return s.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of v_(c.path))o(c,d,p)}),e}function v_(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=v_(r.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function xS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:TS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var bS=/^:[\w-]+$/,vS=3,wS=2,_S=1,NS=10,jS=-2,iw=s=>s==="*";function ES(s,e){let t=s.split("/"),r=t.length;return t.some(iw)&&(r+=jS),e&&(r+=wS),t.filter(o=>!iw(o)).reduce((o,c)=>o+(bS.test(c)?vS:c===""?_S:NS),r)}function TS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function SS(s,e,t=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let p=0;p<r.length;++p){let m=r[p],g=p===r.length-1,b=c==="/"?e:e.slice(c.length)||"/",w=qh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),v=m.route;if(!w&&g&&t&&!r[r.length-1].route.index&&(w=qh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:ra([c,w.pathname]),pathnameBase:PS(ra([c,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(c=ra([c,w.pathnameBase]))}return d}function qh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=AS(s.path,s.caseSensitive,s.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:w},v)=>{if(b==="*"){let A=p[v]||"";d=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const j=p[v];return w&&!j?g[b]=void 0:g[b]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function AS(s,e=!1,t=!0){Sn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function RS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function la(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}function CS(s,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof s=="string"?Dl(s):s;return{pathname:t?t.startsWith("/")?t:IS(t,e):e,search:DS(r),hash:MS(o)}}function IS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ig(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m0(s){let e=kS(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function p0(s,e,t,r=!1){let o;typeof s=="string"?o=Dl(s):(o={...s},Dt(!o.pathname||!o.pathname.includes("?"),ig("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),ig("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),ig("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=t;else{let w=e.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),w-=1;o.pathname=v.join("/")}p=w>=0?e[w]:"/"}let m=CS(o,p),g=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var ra=s=>s.join("/").replace(/\/\/+/g,"/"),PS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),DS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,MS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function OS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var w_=["POST","PUT","PATCH","DELETE"];new Set(w_);var LS=["GET",...w_];new Set(LS);var Ml=T.createContext(null);Ml.displayName="DataRouter";var pf=T.createContext(null);pf.displayName="DataRouterState";var __=T.createContext({isTransitioning:!1});__.displayName="ViewTransition";var US=T.createContext(new Map);US.displayName="Fetchers";var VS=T.createContext(null);VS.displayName="Await";var Yn=T.createContext(null);Yn.displayName="Navigation";var Ru=T.createContext(null);Ru.displayName="Location";var Kn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var g0=T.createContext(null);g0.displayName="RouteError";function FS(s,{relative:e}={}){Dt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Yn),{hash:o,pathname:c,search:d}=Cu(s,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:ra([t,c])),r.createHref({pathname:p,search:d,hash:o})}function Ol(){return T.useContext(Ru)!=null}function Sr(){return Dt(Ol(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ru).location}var N_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j_(s){T.useContext(Yn).static||T.useLayoutEffect(s)}function Wn(){let{isDataRoute:s}=T.useContext(Kn);return s?JS():zS()}function zS(){Dt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(Ml),{basename:e,navigator:t}=T.useContext(Yn),{matches:r}=T.useContext(Kn),{pathname:o}=Sr(),c=JSON.stringify(m0(r)),d=T.useRef(!1);return j_(()=>{d.current=!0}),T.useCallback((m,g={})=>{if(Sn(d.current,N_),!d.current)return;if(typeof m=="number"){t.go(m);return}let b=p0(m,JSON.parse(c),o,g.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ra([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,c,o,s])}T.createContext(null);function E_(){let{matches:s}=T.useContext(Kn),e=s[s.length-1];return e?e.params:{}}function Cu(s,{relative:e}={}){let{matches:t}=T.useContext(Kn),{pathname:r}=Sr(),o=JSON.stringify(m0(t));return T.useMemo(()=>p0(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function BS(s,e){return T_(s,e)}function T_(s,e,t,r){Dt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Yn),{matches:c}=T.useContext(Kn),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let q=b&&b.path||"";S_(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Sr(),v;if(e){let q=typeof e=="string"?Dl(e):e;Dt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),v=q}else v=w;let j=v.pathname||"/",A=j;if(g!=="/"){let q=g.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=x_(s,{pathname:A});Sn(b||F!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Sn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=QS(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:ra([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:ra([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,t,r);return e&&L?T.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},L):L}function qS(){let s=ZS(),e=OS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,d)}var $S=T.createElement(qS,null),HS=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?T.createElement(Kn.Provider,{value:this.props.routeContext},T.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:s,match:e,children:t}){let r=T.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Kn.Provider,{value:s},t)}function QS(s,e=[],t=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,c=t?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:b,errors:w}=t,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,b)=>{let w,v=!1,j=null,A=null;t&&(w=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||$S,d&&(p<0&&b===0?(S_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):p===b&&(v=!0,A=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,b+1)),L=()=>{let q;return w?q=j:v?q=A:g.route.Component?q=T.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,T.createElement(GS,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?T.createElement(HS,{location:t.location,revalidation:t.revalidation,component:j,error:w,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function y0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(s){let e=T.useContext(Ml);return Dt(e,y0(s)),e}function KS(s){let e=T.useContext(pf);return Dt(e,y0(s)),e}function WS(s){let e=T.useContext(Kn);return Dt(e,y0(s)),e}function x0(s){let e=WS(s),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function XS(){return x0("useRouteId")}function ZS(){let s=T.useContext(g0),e=KS("useRouteError"),t=x0("useRouteError");return s!==void 0?s:e.errors?.[t]}function JS(){let{router:s}=YS("useNavigate"),e=x0("useNavigate"),t=T.useRef(!1);return j_(()=>{t.current=!0}),T.useCallback(async(o,c={})=>{Sn(t.current,N_),t.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var ow={};function S_(s,e,t){!e&&!ow[s]&&(ow[s]=!0,Sn(!1,t))}T.memo(eA);function eA({routes:s,future:e,state:t}){return T_(s,void 0,t,e)}function gf({to:s,replace:e,state:t,relative:r}){Dt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Yn);Sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(Kn),{pathname:d}=Sr(),p=Wn(),m=p0(s,m0(c),d,r==="path"),g=JSON.stringify(m);return T.useEffect(()=>{p(JSON.parse(g),{replace:e,state:t,relative:r})},[p,g,r,e,t]),null}function Pt(s){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tA({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Dt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=Dl(t));let{pathname:m="/",search:g="",hash:b="",state:w=null,key:v="default"}=t,j=T.useMemo(()=>{let A=la(m,d);return A==null?null:{location:{pathname:A,search:g,hash:b,state:w,key:v},navigationType:r}},[d,m,g,b,w,v,r]);return Sn(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:T.createElement(Yn.Provider,{value:p},T.createElement(Ru.Provider,{children:e,value:j}))}function A_({children:s,location:e}){return BS(Ag(s),e)}function Ag(s,e=[]){let t=[];return T.Children.forEach(s,(r,o)=>{if(!T.isValidElement(r))return;let c=[...e,o];if(r.type===T.Fragment){t.push.apply(t,Ag(r.props.children,c));return}Dt(r.type===Pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Ag(r.props.children,c)),t.push(d)}),t}var Ch="get",Ih="application/x-www-form-urlencoded";function yf(s){return s!=null&&typeof s.tagName=="string"}function sA(s){return yf(s)&&s.tagName.toLowerCase()==="button"}function nA(s){return yf(s)&&s.tagName.toLowerCase()==="form"}function rA(s){return yf(s)&&s.tagName.toLowerCase()==="input"}function aA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function iA(s,e){return s.button===0&&(!e||e==="_self")&&!aA(s)}function Rg(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let r=s[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function oA(s,e){let t=Rg(s);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var vh=null;function lA(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var cA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(s){return s!=null&&!cA.has(s)?(Sn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):s}function uA(s,e){let t,r,o,c,d;if(nA(s)){let p=s.getAttribute("action");r=p?la(p,e):null,t=s.getAttribute("method")||Ch,o=og(s.getAttribute("enctype"))||Ih,c=new FormData(s)}else if(sA(s)||rA(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(r=m?la(m,e):null,t=s.getAttribute("formmethod")||p.getAttribute("method")||Ch,o=og(s.getAttribute("formenctype"))||og(p.getAttribute("enctype"))||Ih,c=new FormData(p,s),!lA()){let{name:g,type:b,value:w}=s;if(b==="image"){let v=g?`${g}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else g&&c.append(g,w)}}else{if(yf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,r=null,o=Ih,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:d}}function b0(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function dA(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function fA(s,e,t){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await dA(c,t);return d.links?d.links():[]}return[]}));return yA(r.flat(1).filter(hA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lw(s,e,t,r,o,c){let d=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,g)=>d(m,g)||p(m,g)):c==="data"?e.filter((m,g)=>{let b=r.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function mA(s,e,{includeHydrateFallback:t}={}){return pA(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function pA(s){return[...new Set(s)]}function gA(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function yA(s,e){let t=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(gA(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xA=new Set([100,101,204,205]);function bA(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&la(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function R_(){let s=T.useContext(Ml);return b0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function vA(){let s=T.useContext(pf);return b0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var v0=T.createContext(void 0);v0.displayName="FrameworkContext";function C_(){let s=T.useContext(v0);return b0(s,"You must render this element inside a <HydratedRouter> element"),s}function wA(s,e){let t=T.useContext(v0),[r,o]=T.useState(!1),[c,d]=T.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:w}=e,v=T.useRef(null);T.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let F=q=>{q.forEach(V=>{d(V.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return v.current&&L.observe(v.current),()=>{L.disconnect()}}},[s]),T.useEffect(()=>{if(r){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[r]);let j=()=>{o(!0)},A=()=>{o(!1),d(!1)};return t?s!=="intent"?[c,v,{}]:[c,v,{onFocus:Jc(p,j),onBlur:Jc(m,A),onMouseEnter:Jc(g,j),onMouseLeave:Jc(b,A),onTouchStart:Jc(w,j)}]:[!1,v,{}]}function Jc(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function _A({page:s,...e}){let{router:t}=R_(),r=T.useMemo(()=>x_(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?T.createElement(jA,{page:s,matches:r,...e}):null}function NA(s){let{manifest:e,routeModules:t}=C_(),[r,o]=T.useState([]);return T.useEffect(()=>{let c=!1;return fA(s,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,t]),r}function jA({page:s,matches:e,...t}){let r=Sr(),{manifest:o,routeModules:c}=C_(),{basename:d}=R_(),{loaderData:p,matches:m}=vA(),g=T.useMemo(()=>lw(s,e,m,o,r,"data"),[s,e,m,o,r]),b=T.useMemo(()=>lw(s,e,m,o,r,"assets"),[s,e,m,o,r]),w=T.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let A=new Set,F=!1;if(e.forEach(q=>{let V=o.routes[q.route.id];!V||!V.hasLoader||(!g.some(P=>P.route.id===q.route.id)&&q.route.id in p&&c[q.route.id]?.shouldRevalidate||V.hasClientLoader?F=!0:A.add(q.route.id))}),A.size===0)return[];let L=bA(s,d);return F&&A.size>0&&L.searchParams.set("_routes",e.filter(q=>A.has(q.route.id)).map(q=>q.route.id).join(",")),[L.pathname+L.search]},[d,p,r,o,g,e,s,c]),v=T.useMemo(()=>mA(b,o),[b,o]),j=NA(b);return T.createElement(T.Fragment,null,w.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),v.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),j.map(({key:A,link:F})=>T.createElement("link",{key:A,...F})))}function EA(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var I_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I_&&(window.__reactRouterVersion="7.6.2")}catch{}function TA({basename:s,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=fS({window:t,v5Compat:!0}));let o=r.current,[c,d]=T.useState({action:o.action,location:o.location}),p=T.useCallback(m=>{T.startTransition(()=>d(m))},[d]);return T.useLayoutEffect(()=>o.listen(p),[o,p]),T.createElement(tA,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var k_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aa=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:b,viewTransition:w,...v},j){let{basename:A}=T.useContext(Yn),F=typeof g=="string"&&k_.test(g),L,q=!1;if(typeof g=="string"&&F&&(L=g,I_))try{let R=new URL(window.location.href),U=g.startsWith("//")?new URL(R.protocol+g):new URL(g),z=la(U.pathname,A);U.origin===R.origin&&z!=null?g=z+U.search+U.hash:q=!0}catch{Sn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=FS(g,{relative:o}),[P,B,Y]=wA(r,v),ae=CA(g,{replace:d,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:w});function O(R){e&&e(R),R.defaultPrevented||ae(R)}let S=T.createElement("a",{...v,...Y,href:L||V,onClick:q||c?e:O,ref:EA(j,B),target:m,"data-discover":!F&&t==="render"?"true":void 0});return P&&!F?T.createElement(T.Fragment,null,S,T.createElement(_A,{page:V})):S});aa.displayName="Link";var SA=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:p,children:m,...g},b){let w=Cu(d,{relative:g.relative}),v=Sr(),j=T.useContext(pf),{navigator:A,basename:F}=T.useContext(Yn),L=j!=null&&OA(w)&&p===!0,q=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,V=v.pathname,P=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(V=V.toLowerCase(),P=P?P.toLowerCase():null,q=q.toLowerCase()),P&&F&&(P=la(P,F)||P);const B=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Y=V===q||!o&&V.startsWith(q)&&V.charAt(B)==="/",ae=P!=null&&(P===q||!o&&P.startsWith(q)&&P.charAt(q.length)==="/"),O={isActive:Y,isPending:ae,isTransitioning:L},S=Y?e:void 0,R;typeof r=="function"?R=r(O):R=[r,Y?"active":null,ae?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(O):c;return T.createElement(aa,{...g,"aria-current":S,className:R,ref:b,style:U,to:d,viewTransition:p},typeof m=="function"?m(O):m)});SA.displayName="NavLink";var AA=T.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:d=Ch,action:p,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:w,...v},j)=>{let A=DA(),F=MA(p,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&k_.test(p),V=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let B=P.nativeEvent.submitter,Y=B?.getAttribute("formmethod")||d;A(B||P.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:o,state:c,relative:g,preventScrollReset:b,viewTransition:w})};return T.createElement("form",{ref:j,method:L,action:F,onSubmit:r?m:V,...v,"data-discover":!q&&s==="render"?"true":void 0})});AA.displayName="Form";function RA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P_(s){let e=T.useContext(Ml);return Dt(e,RA(s)),e}function CA(s,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Wn(),m=Sr(),g=Cu(s,{relative:c});return T.useCallback(b=>{if(iA(b,e)){b.preventDefault();let w=t!==void 0?t:gu(m)===gu(g);p(s,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[m,p,g,t,r,e,s,o,c,d])}function IA(s){Sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(Rg(s)),t=T.useRef(!1),r=Sr(),o=T.useMemo(()=>oA(r.search,t.current?null:e.current),[r.search]),c=Wn(),d=T.useCallback((p,m)=>{const g=Rg(typeof p=="function"?p(o):p);t.current=!0,c("?"+g,m)},[c,o]);return[o,d]}var kA=0,PA=()=>`__${String(++kA)}__`;function DA(){let{router:s}=P_("useSubmit"),{basename:e}=T.useContext(Yn),t=XS();return T.useCallback(async(r,o={})=>{let{action:c,method:d,encType:p,formData:m,body:g}=uA(r,e);if(o.navigate===!1){let b=o.fetcherKey||PA();await s.fetch(b,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,t])}function MA(s,{relative:e}={}){let{basename:t}=T.useContext(Yn),r=T.useContext(Kn);Dt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Cu(s||".",{relative:e})},d=Sr();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ra([t,c.pathname])),gu(c)}function OA(s,e={}){let t=T.useContext(__);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=P_("useViewTransitionState"),o=Cu(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=la(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=la(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qh(o.pathname,d)!=null||qh(o.pathname,c)!=null}[...xA];/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),cw=s=>{const e=UA(s);return e.charAt(0).toUpperCase()+e.slice(1)},D_=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),VA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=T.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},m)=>T.createElement("svg",{ref:m,...FA,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:D_("lucide",o),...!c&&!VA(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,b])=>T.createElement(g,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(s,e)=>{const t=T.forwardRef(({className:r,...o},c)=>T.createElement(zA,{ref:c,iconNode:e,className:D_(`lucide-${LA(cw(s))}`,`lucide-${s}`,r),...o}));return t.displayName=cw(s),t};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qA=Ne("activity",BA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cg=Ne("arrow-left",$A);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zn=Ne("arrow-right",HA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yu=Ne("award",GA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],Iu=Ne("bath",QA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],ku=Ne("bed",YA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],M_=Ne("building-2",KA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],O_=Ne("building",WA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ri=Ne("calendar",XA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ig=Ne("camera",ZA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],uw=Ne("car",JA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pu=Ne("chart-column",e4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xa=Ne("chevron-down",t4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w0=Ne("chevron-left",s4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xf=Ne("chevron-right",n4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Za=Ne("circle-alert",r4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ja=Ne("circle-check-big",a4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L_=Ne("circle-question-mark",i4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],l4=Ne("circle-user",o4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dw=Ne("circle-x",c4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_0=Ne("clock",u4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],h4=Ne("coffee",d4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],U_=Ne("credit-card",f4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hw=Ne("crown",m4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],V_=Ne("dollar-sign",p4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],F_=Ne("download",g4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],fw=Ne("dumbbell",y4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b4=Ne("ellipsis-vertical",x4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],z_=Ne("external-link",v4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nr=Ne("eye",w4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],N4=Ne("facebook",_4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xu=Ne("file-text",j4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],mw=Ne("flame",E4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bf=Ne("funnel",T4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vf=Ne("globe",S4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],R4=Ne("grid-3x3",A4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],jr=Ne("heart",C4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gs=Ne("house",I4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],P4=Ne("image",k4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],M4=Ne("instagram",D4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],L4=Ne("linkedin",O4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],wf=Ne("list",U4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bu=Ne("loader-circle",V4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pw=Ne("log-out",F4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bn=Ne("mail",z4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Bs=Ne("map-pin",B4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],B_=Ne("menu",q4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],pr=Ne("message-circle",$4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],G4=Ne("message-square",H4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],wh=Ne("newspaper",Q4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qn=Ne("phone",Y4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],q_=Ne("play",K4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hn=Ne("plus",W4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Z4=Ne("quote",X4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gw=Ne("refresh-cw",J4);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$h=Ne("save",eR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cn=Ne("search",tR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$_=Ne("send",sR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rR=Ne("settings",nR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],H_=Ne("share-2",aR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],El=Ne("shield",iR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],yw=Ne("sparkles",oR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hh=Ne("square-pen",lR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ro=Ne("square",cR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vn=Ne("star",uR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_f=Ne("trash-2",dR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],xw=Ne("tree-pine",hR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bw=Ne("trending-down",fR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xl=Ne("trending-up",mR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],gR=Ne("twitter",pR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kh=Ne("upload",yR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],N0=Ne("user-round",xR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gr=Ne("user",bR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Du=Ne("users",vR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],vw=Ne("waves",wR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ww=Ne("wifi",_R);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ps=Ne("x",NR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],ER=Ne("youtube",jR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G_=Ne("zap",TR),SR=()=>{};var _w={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},AR=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const o=s[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[t++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[t++],d=s[t++],p=s[t++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[t++],d=s[t++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,m=o+2<s.length,g=m?s[o+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let v=(p&15)<<2|g>>6,j=g&63;m||(j=64,d||(v=64)),r.push(t[b],t[w],t[v],t[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=t[s.charAt(o++)],p=o<s.length?t[s.charAt(o)]:0;++o;const g=o<s.length?t[s.charAt(o)]:64;++o;const w=o<s.length?t[s.charAt(o)]:64;if(++o,c==null||p==null||g==null||w==null)throw new RR;const v=c<<2|p>>4;if(r.push(v),g!==64){const j=p<<4&240|g>>2;if(r.push(j),w!==64){const A=g<<6&192|w;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(s){const e=Q_(s);return Y_.encodeByteArray(e,!0)},Gh=function(s){return CR(s).replace(/\./g,"")},K_=function(s){try{return Y_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=()=>IR().__FIREBASE_DEFAULTS__,PR=()=>{if(typeof process>"u"||typeof _w>"u")return;const s=_w.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&K_(s[1]);return e&&JSON.parse(e)},Nf=()=>{try{return SR()||kR()||PR()||DR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},W_=s=>{var e,t;return(t=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},X_=s=>{const e=W_(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Z_=()=>{var s;return(s=Nf())===null||s===void 0?void 0:s.config},J_=s=>{var e;return(e=Nf())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Gh(JSON.stringify(t)),Gh(JSON.stringify(d)),""].join(".")}const ou={};function OR(){const s={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?s.emulator.push(e):s.prod.push(e);return s}function LR(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Nw=!1;function E0(s,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||ou[s]===e||ou[s]||Nw)return;ou[s]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",c=OR().prod.length>0;function d(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,j){v.setAttribute("width","24"),v.setAttribute("id",j),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Nw=!0,d()},v}function b(v,j){v.setAttribute("id",j),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=LR(r),j=t("text"),A=document.getElementById(j)||document.createElement("span"),F=t("learnmore"),L=document.getElementById(F)||document.createElement("a"),q=t("preprendIcon"),V=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;p(P),b(L,F);const B=g();m(V,q),P.append(V,A,L,B),document.body.appendChild(P)}c?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())}function VR(){var s;const e=(s=Nf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const s=Ps();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qR(){return!VR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function n2(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function $R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class In extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=HR,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,go.prototype.create)}}class go{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?GR(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new In(o,p,r)}}function GR(s,e){return s.replace(QR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QR=/\{\$([^}]+)}/g;function YR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(jw(c)&&jw(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function jw(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function su(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function KR(s,e){const t=new WR(s,e);return t.subscribe.bind(t)}class WR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=lg),o.error===void 0&&(o.error=lg),o.complete===void 0&&(o.complete=lg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function lg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1e3,JR=2,e3=4*60*60*1e3,t3=.5;function Ew(s,e=ZR,t=JR){const r=e*Math.pow(t,s),o=Math.round(t3*r*(Math.random()-.5)*2);return Math.min(e3,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s){return s&&s._delegate?s._delegate:s}class An{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new MR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r3(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n3(s){return s===Xi?void 0:s}function r3(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(et||(et={}));const i3={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},o3=et.INFO,l3={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},c3=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=l3[e];if(o)console[o](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=o3,this._logHandler=c3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const u3=(s,e)=>e.some(t=>s instanceof t);let Tw,Sw;function d3(){return Tw||(Tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h3(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r2=new WeakMap,kg=new WeakMap,a2=new WeakMap,cg=new WeakMap,T0=new WeakMap;function f3(s){const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{t(ei(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&r2.set(t,s)}).catch(()=>{}),T0.set(e,s),e}function m3(s){if(kg.has(s))return;const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});kg.set(s,e)}let Pg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return kg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||a2.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function p3(s){Pg=s(Pg)}function g3(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(ug(this),e,...t);return a2.set(r,e.sort?e.sort():[e]),ei(r)}:h3().includes(s)?function(...e){return s.apply(ug(this),e),ei(r2.get(this))}:function(...e){return ei(s.apply(ug(this),e))}}function y3(s){return typeof s=="function"?g3(s):(s instanceof IDBTransaction&&m3(s),u3(s,d3())?new Proxy(s,Pg):s)}function ei(s){if(s instanceof IDBRequest)return f3(s);if(cg.has(s))return cg.get(s);const e=y3(s);return e!==s&&(cg.set(s,e),T0.set(e,s)),e}const ug=s=>T0.get(s);function i2(s,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ei(d);return r&&d.addEventListener("upgradeneeded",m=>{r(ei(d.result),m.oldVersion,m.newVersion,ei(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const x3=["get","getKey","getAll","getAllKeys","count"],b3=["put","add","delete","clear"],dg=new Map;function Aw(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=b3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||x3.includes(t)))return;const c=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return dg.set(e,c),c}p3(s=>({...s,get:(e,t,r)=>Aw(e,t)||s.get(e,t,r),has:(e,t)=>!!Aw(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function w3(s){const e=s.getComponent();return e?.type==="VERSION"}const Dg="@firebase/app",Rw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new jf("@firebase/app"),_3="@firebase/app-compat",N3="@firebase/analytics-compat",j3="@firebase/analytics",E3="@firebase/app-check-compat",T3="@firebase/app-check",S3="@firebase/auth",A3="@firebase/auth-compat",R3="@firebase/database",C3="@firebase/data-connect",I3="@firebase/database-compat",k3="@firebase/functions",P3="@firebase/functions-compat",D3="@firebase/installations",M3="@firebase/installations-compat",O3="@firebase/messaging",L3="@firebase/messaging-compat",U3="@firebase/performance",V3="@firebase/performance-compat",F3="@firebase/remote-config",z3="@firebase/remote-config-compat",B3="@firebase/storage",q3="@firebase/storage-compat",$3="@firebase/firestore",H3="@firebase/ai",G3="@firebase/firestore-compat",Q3="firebase",Y3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",K3={[Dg]:"fire-core",[_3]:"fire-core-compat",[j3]:"fire-analytics",[N3]:"fire-analytics-compat",[T3]:"fire-app-check",[E3]:"fire-app-check-compat",[S3]:"fire-auth",[A3]:"fire-auth-compat",[R3]:"fire-rtdb",[C3]:"fire-data-connect",[I3]:"fire-rtdb-compat",[k3]:"fire-fn",[P3]:"fire-fn-compat",[D3]:"fire-iid",[M3]:"fire-iid-compat",[O3]:"fire-fcm",[L3]:"fire-fcm-compat",[U3]:"fire-perf",[V3]:"fire-perf-compat",[F3]:"fire-rc",[z3]:"fire-rc-compat",[B3]:"fire-gcs",[q3]:"fire-gcs-compat",[$3]:"fire-fst",[G3]:"fire-fst-compat",[H3]:"fire-vertex","fire-js":"fire-js",[Q3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,W3=new Map,Og=new Map;function Cw(s,e){try{s.container.addComponent(e)}catch(t){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Gn(s){const e=s.name;if(Og.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,s);for(const t of Qh.values())Cw(t,s);for(const t of W3.values())Cw(t,s);return!0}function fi(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Vs(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new go("app","Firebase",X3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=Y3;function o2(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(t||(t=Z_()),!t)throw ti.create("no-options");const c=Qh.get(o);if(c){if(Er(t,c.options)&&Er(r,c.config))return c;throw ti.create("duplicate-app",{appName:o})}const d=new a3(o);for(const m of Og.values())d.addComponent(m);const p=new Z3(t,r,d);return Qh.set(o,p),p}function Ef(s=Mg){const e=Qh.get(s);if(!e&&s===Mg&&Z_())return o2();if(!e)throw ti.create("no-app",{appName:s});return e}function Xs(s,e,t){var r;let o=(r=K3[s])!==null&&r!==void 0?r:s;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(p.join(" "));return}Gn(new An(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="firebase-heartbeat-database",e6=1,vu="firebase-heartbeat-store";let hg=null;function l2(){return hg||(hg=i2(J3,e6,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(s=>{throw ti.create("idb-open",{originalErrorMessage:s.message})})),hg}async function t6(s){try{const t=(await l2()).transaction(vu),r=await t.objectStore(vu).get(c2(s));return await t.done,r}catch(e){if(e instanceof In)ca.warn(e.message);else{const t=ti.create("idb-get",{originalErrorMessage:e?.message});ca.warn(t.message)}}}async function Iw(s,e){try{const r=(await l2()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,c2(s)),await r.done}catch(t){if(t instanceof In)ca.warn(t.message);else{const r=ti.create("idb-set",{originalErrorMessage:t?.message});ca.warn(r.message)}}}function c2(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=1024,n6=30;class r6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new i6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=kw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>n6){const d=o6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kw(),{heartbeatsToSend:r,unsentEntries:o}=a6(this._heartbeatsCache.heartbeats),c=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return ca.warn(t),""}}}function kw(){return new Date().toISOString().substring(0,10)}function a6(s,e=s6){const t=[];let r=s.slice();for(const o of s){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Pw(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Pw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?n2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Pw(s){return Gh(JSON.stringify({version:2,heartbeats:s})).length}function o6(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(s){Gn(new An("platform-logger",e=>new v3(e),"PRIVATE")),Gn(new An("heartbeat",e=>new r6(e),"PRIVATE")),Xs(Dg,Rw,s),Xs(Dg,Rw,"esm2017"),Xs("fire-js","")}l6("");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,u2;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(U,z,C){for(var E=Array(arguments.length-2),re=2;re<arguments.length;re++)E[re-2]=arguments[re];return S.prototype[z].apply(U,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,R){R||(R=0);var U=Array(16);if(typeof S=="string")for(var z=0;16>z;++z)U[z]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(z=0;16>z;++z)U[z]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],z=O.g[2];var C=O.g[3],E=S+(C^R&(z^C))+U[0]+3614090360&4294967295;S=R+(E<<7&4294967295|E>>>25),E=C+(z^S&(R^z))+U[1]+3905402710&4294967295,C=S+(E<<12&4294967295|E>>>20),E=z+(R^C&(S^R))+U[2]+606105819&4294967295,z=C+(E<<17&4294967295|E>>>15),E=R+(S^z&(C^S))+U[3]+3250441966&4294967295,R=z+(E<<22&4294967295|E>>>10),E=S+(C^R&(z^C))+U[4]+4118548399&4294967295,S=R+(E<<7&4294967295|E>>>25),E=C+(z^S&(R^z))+U[5]+1200080426&4294967295,C=S+(E<<12&4294967295|E>>>20),E=z+(R^C&(S^R))+U[6]+2821735955&4294967295,z=C+(E<<17&4294967295|E>>>15),E=R+(S^z&(C^S))+U[7]+4249261313&4294967295,R=z+(E<<22&4294967295|E>>>10),E=S+(C^R&(z^C))+U[8]+1770035416&4294967295,S=R+(E<<7&4294967295|E>>>25),E=C+(z^S&(R^z))+U[9]+2336552879&4294967295,C=S+(E<<12&4294967295|E>>>20),E=z+(R^C&(S^R))+U[10]+4294925233&4294967295,z=C+(E<<17&4294967295|E>>>15),E=R+(S^z&(C^S))+U[11]+2304563134&4294967295,R=z+(E<<22&4294967295|E>>>10),E=S+(C^R&(z^C))+U[12]+1804603682&4294967295,S=R+(E<<7&4294967295|E>>>25),E=C+(z^S&(R^z))+U[13]+4254626195&4294967295,C=S+(E<<12&4294967295|E>>>20),E=z+(R^C&(S^R))+U[14]+2792965006&4294967295,z=C+(E<<17&4294967295|E>>>15),E=R+(S^z&(C^S))+U[15]+1236535329&4294967295,R=z+(E<<22&4294967295|E>>>10),E=S+(z^C&(R^z))+U[1]+4129170786&4294967295,S=R+(E<<5&4294967295|E>>>27),E=C+(R^z&(S^R))+U[6]+3225465664&4294967295,C=S+(E<<9&4294967295|E>>>23),E=z+(S^R&(C^S))+U[11]+643717713&4294967295,z=C+(E<<14&4294967295|E>>>18),E=R+(C^S&(z^C))+U[0]+3921069994&4294967295,R=z+(E<<20&4294967295|E>>>12),E=S+(z^C&(R^z))+U[5]+3593408605&4294967295,S=R+(E<<5&4294967295|E>>>27),E=C+(R^z&(S^R))+U[10]+38016083&4294967295,C=S+(E<<9&4294967295|E>>>23),E=z+(S^R&(C^S))+U[15]+3634488961&4294967295,z=C+(E<<14&4294967295|E>>>18),E=R+(C^S&(z^C))+U[4]+3889429448&4294967295,R=z+(E<<20&4294967295|E>>>12),E=S+(z^C&(R^z))+U[9]+568446438&4294967295,S=R+(E<<5&4294967295|E>>>27),E=C+(R^z&(S^R))+U[14]+3275163606&4294967295,C=S+(E<<9&4294967295|E>>>23),E=z+(S^R&(C^S))+U[3]+4107603335&4294967295,z=C+(E<<14&4294967295|E>>>18),E=R+(C^S&(z^C))+U[8]+1163531501&4294967295,R=z+(E<<20&4294967295|E>>>12),E=S+(z^C&(R^z))+U[13]+2850285829&4294967295,S=R+(E<<5&4294967295|E>>>27),E=C+(R^z&(S^R))+U[2]+4243563512&4294967295,C=S+(E<<9&4294967295|E>>>23),E=z+(S^R&(C^S))+U[7]+1735328473&4294967295,z=C+(E<<14&4294967295|E>>>18),E=R+(C^S&(z^C))+U[12]+2368359562&4294967295,R=z+(E<<20&4294967295|E>>>12),E=S+(R^z^C)+U[5]+4294588738&4294967295,S=R+(E<<4&4294967295|E>>>28),E=C+(S^R^z)+U[8]+2272392833&4294967295,C=S+(E<<11&4294967295|E>>>21),E=z+(C^S^R)+U[11]+1839030562&4294967295,z=C+(E<<16&4294967295|E>>>16),E=R+(z^C^S)+U[14]+4259657740&4294967295,R=z+(E<<23&4294967295|E>>>9),E=S+(R^z^C)+U[1]+2763975236&4294967295,S=R+(E<<4&4294967295|E>>>28),E=C+(S^R^z)+U[4]+1272893353&4294967295,C=S+(E<<11&4294967295|E>>>21),E=z+(C^S^R)+U[7]+4139469664&4294967295,z=C+(E<<16&4294967295|E>>>16),E=R+(z^C^S)+U[10]+3200236656&4294967295,R=z+(E<<23&4294967295|E>>>9),E=S+(R^z^C)+U[13]+681279174&4294967295,S=R+(E<<4&4294967295|E>>>28),E=C+(S^R^z)+U[0]+3936430074&4294967295,C=S+(E<<11&4294967295|E>>>21),E=z+(C^S^R)+U[3]+3572445317&4294967295,z=C+(E<<16&4294967295|E>>>16),E=R+(z^C^S)+U[6]+76029189&4294967295,R=z+(E<<23&4294967295|E>>>9),E=S+(R^z^C)+U[9]+3654602809&4294967295,S=R+(E<<4&4294967295|E>>>28),E=C+(S^R^z)+U[12]+3873151461&4294967295,C=S+(E<<11&4294967295|E>>>21),E=z+(C^S^R)+U[15]+530742520&4294967295,z=C+(E<<16&4294967295|E>>>16),E=R+(z^C^S)+U[2]+3299628645&4294967295,R=z+(E<<23&4294967295|E>>>9),E=S+(z^(R|~C))+U[0]+4096336452&4294967295,S=R+(E<<6&4294967295|E>>>26),E=C+(R^(S|~z))+U[7]+1126891415&4294967295,C=S+(E<<10&4294967295|E>>>22),E=z+(S^(C|~R))+U[14]+2878612391&4294967295,z=C+(E<<15&4294967295|E>>>17),E=R+(C^(z|~S))+U[5]+4237533241&4294967295,R=z+(E<<21&4294967295|E>>>11),E=S+(z^(R|~C))+U[12]+1700485571&4294967295,S=R+(E<<6&4294967295|E>>>26),E=C+(R^(S|~z))+U[3]+2399980690&4294967295,C=S+(E<<10&4294967295|E>>>22),E=z+(S^(C|~R))+U[10]+4293915773&4294967295,z=C+(E<<15&4294967295|E>>>17),E=R+(C^(z|~S))+U[1]+2240044497&4294967295,R=z+(E<<21&4294967295|E>>>11),E=S+(z^(R|~C))+U[8]+1873313359&4294967295,S=R+(E<<6&4294967295|E>>>26),E=C+(R^(S|~z))+U[15]+4264355552&4294967295,C=S+(E<<10&4294967295|E>>>22),E=z+(S^(C|~R))+U[6]+2734768916&4294967295,z=C+(E<<15&4294967295|E>>>17),E=R+(C^(z|~S))+U[13]+1309151649&4294967295,R=z+(E<<21&4294967295|E>>>11),E=S+(z^(R|~C))+U[4]+4149444226&4294967295,S=R+(E<<6&4294967295|E>>>26),E=C+(R^(S|~z))+U[11]+3174756917&4294967295,C=S+(E<<10&4294967295|E>>>22),E=z+(S^(C|~R))+U[2]+718787259&4294967295,z=C+(E<<15&4294967295|E>>>17),E=R+(C^(z|~S))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(z+(E<<21&4294967295|E>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+C&4294967295}r.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,U=this.B,z=this.h,C=0;C<S;){if(z==0)for(;C<=R;)o(this,O,C),C+=this.blockSize;if(typeof O=="string"){for(;C<S;)if(U[z++]=O.charCodeAt(C++),z==this.blockSize){o(this,U),z=0;break}}else for(;C<S;)if(U[z++]=O[C++],z==this.blockSize){o(this,U),z=0;break}}this.h=z,this.o+=S},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var U=0;32>U;U+=8)O[R++]=this.g[S]>>>U&255;return O};function c(O,S){var R=p;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function d(O,S){this.h=S;for(var R=[],U=!0,z=O.length-1;0<=z;z--){var C=O[z]|0;U&&C==S||(R[z]=C,U=!1)}this.g=R}var p={};function m(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return L(g(-O));for(var S=[],R=1,U=0;O>=R;U++)S[U]=O/R|0,R*=4294967296;return new d(S,0)}function b(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return L(b(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),U=w,z=0;z<O.length;z+=8){var C=Math.min(8,O.length-z),E=parseInt(O.substring(z,z+C),S);8>C?(C=g(Math.pow(S,C)),U=U.j(C).add(g(E))):(U=U.j(R),U=U.add(g(E)))}return U}var w=m(0),v=m(1),j=m(16777216);s=d.prototype,s.m=function(){if(F(this))return-L(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var U=this.i(R);O+=(0<=U?U:4294967296+U)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(F(this))return"-"+L(this).toString(O);for(var S=g(Math.pow(O,6)),R=this,U="";;){var z=B(R,S).g;R=q(R,z.j(S));var C=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=z,A(R))return C+U;for(;6>C.length;)C="0"+C;U=C+U}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function F(O){return O.h==-1}s.l=function(O){return O=q(this,O),F(O)?-1:A(O)?0:1};function L(O){for(var S=O.g.length,R=[],U=0;U<S;U++)R[U]=~O.g[U];return new d(R,~O.h).add(v)}s.abs=function(){return F(this)?L(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],U=0,z=0;z<=S;z++){var C=U+(this.i(z)&65535)+(O.i(z)&65535),E=(C>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);U=E>>>16,C&=65535,E&=65535,R[z]=E<<16|C}return new d(R,R[R.length-1]&-2147483648?-1:0)};function q(O,S){return O.add(L(S))}s.j=function(O){if(A(this)||A(O))return w;if(F(this))return F(O)?L(this).j(L(O)):L(L(this).j(O));if(F(O))return L(this.j(L(O)));if(0>this.l(j)&&0>O.l(j))return g(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],U=0;U<2*S;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<O.g.length;z++){var C=this.i(U)>>>16,E=this.i(U)&65535,re=O.i(z)>>>16,ce=O.i(z)&65535;R[2*U+2*z]+=E*ce,V(R,2*U+2*z),R[2*U+2*z+1]+=C*ce,V(R,2*U+2*z+1),R[2*U+2*z+1]+=E*re,V(R,2*U+2*z+1),R[2*U+2*z+2]+=C*re,V(R,2*U+2*z+2)}for(U=0;U<S;U++)R[U]=R[2*U+1]<<16|R[2*U];for(U=S;U<2*S;U++)R[U]=0;return new d(R,0)};function V(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function P(O,S){this.g=O,this.h=S}function B(O,S){if(A(S))throw Error("division by zero");if(A(O))return new P(w,w);if(F(O))return S=B(L(O),S),new P(L(S.g),L(S.h));if(F(S))return S=B(O,L(S)),new P(L(S.g),S.h);if(30<O.g.length){if(F(O)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=v,U=S;0>=U.l(O);)R=Y(R),U=Y(U);var z=ae(R,1),C=ae(U,1);for(U=ae(U,2),R=ae(R,2);!A(U);){var E=C.add(U);0>=E.l(O)&&(z=z.add(R),C=E),U=ae(U,1),R=ae(R,1)}return S=q(O,z.j(S)),new P(z,S)}for(z=w;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),C=g(R),E=C.j(S);F(E)||0<E.l(O);)R-=U,C=g(R),E=C.j(S);A(C)&&(C=v),z=z.add(C),O=q(O,E)}return new P(z,O)}s.A=function(O){return B(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],U=0;U<S;U++)R[U]=this.i(U)&O.i(U);return new d(R,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],U=0;U<S;U++)R[U]=this.i(U)|O.i(U);return new d(R,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],U=0;U<S;U++)R[U]=this.i(U)^O.i(U);return new d(R,this.h^O.h)};function Y(O){for(var S=O.g.length+1,R=[],U=0;U<S;U++)R[U]=O.i(U)<<1|O.i(U-1)>>>31;return new d(R,O.h)}function ae(O,S){var R=S>>5;S%=32;for(var U=O.g.length-R,z=[],C=0;C<U;C++)z[C]=0<S?O.i(C+R)>>>S|O.i(C+R+1)<<32-S:O.i(C+R);return new d(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u2=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,si=d}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d2,nu,h2,Ph,Lg,f2,m2,p2;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,_){return h==Array.prototype||h==Object.prototype||(h[x]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(h,x){if(x)e:{var _=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var ee=h[M];if(!(ee in _))break e;_=_[ee]}h=h[h.length-1],M=_[h],x=x(M),x!=M&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}function c(h,x){h instanceof String&&(h+="");var _=0,M=!1,ee={next:function(){if(!M&&_<h.length){var oe=_++;return{value:x(oe,h[oe]),done:!1}}return M=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}o("Array.prototype.values",function(h){return h||function(){return c(this,function(x,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function b(h,x,_){return h.call.apply(h.bind,arguments)}function w(h,x,_){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,M),h.apply(x,ee)}}return function(){return h.apply(x,arguments)}}function v(h,x,_){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,v.apply(null,arguments)}function j(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var M=_.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function A(h,x){function _(){}_.prototype=x.prototype,h.aa=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(M,ee,oe){for(var we=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)we[nt-2]=arguments[nt];return x.prototype[ee].apply(M,we)}}function F(h){const x=h.length;if(0<x){const _=Array(x);for(let M=0;M<x;M++)_[M]=h[M];return _}return[]}function L(h,x){for(let _=1;_<arguments.length;_++){const M=arguments[_];if(m(M)){const ee=h.length||0,oe=M.length||0;h.length=ee+oe;for(let we=0;we<oe;we++)h[ee+we]=M[we]}else h.push(M)}}class q{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=p.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var Y=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ae(h,x,_){for(const M in h)x.call(_,h[M],M,h)}function O(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function S(h){const x={};for(const _ in h)x[_]=h[_];return x}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,x){let _,M;for(let ee=1;ee<arguments.length;ee++){M=arguments[ee];for(_ in M)h[_]=M[_];for(let oe=0;oe<R.length;oe++)_=R[oe],Object.prototype.hasOwnProperty.call(M,_)&&(h[_]=M[_])}}function z(h){var x=1;h=h.split(":");const _=[];for(;0<x&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function C(h){p.setTimeout(()=>{throw h},0)}function E(){var h=G;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class re{constructor(){this.h=this.g=null}add(x,_){const M=ce.get();M.set(x,_),this.h?this.h.next=M:this.g=M,this.h=M}}var ce=new q(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ve=!1,G=new re,k=()=>{const h=p.Promise.resolve(void 0);me=()=>{h.then(Q)}};var Q=()=>{for(var h;h=E();){try{h.h.call(h.g)}catch(_){C(_)}var x=ce;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ve=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};p.addEventListener("test",_,x),p.removeEventListener("test",_,x)}catch{}return h}();function xe(h,x){if(D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(Y){e:{try{B(x.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(x=null)}}else _=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement);this.relatedTarget=x,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}A(xe,D);var ye={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Te=0;function pt(h,x,_,M,ee){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!M,this.ha=ee,this.key=++Te,this.da=this.fa=!1}function ys(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h){this.src=h,this.g={},this.h=0}be.prototype.add=function(h,x,_,M,ee){var oe=h.toString();h=this.g[oe],h||(h=this.g[oe]=[],this.h++);var we=fe(h,x,M,ee);return-1<we?(x=h[we],_||(x.fa=!1)):(x=new pt(x,this.src,oe,!!M,ee),x.fa=_,h.push(x)),x};function J(h,x){var _=x.type;if(_ in h.g){var M=h.g[_],ee=Array.prototype.indexOf.call(M,x,void 0),oe;(oe=0<=ee)&&Array.prototype.splice.call(M,ee,1),oe&&(ys(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function fe(h,x,_,M){for(var ee=0;ee<h.length;++ee){var oe=h[ee];if(!oe.da&&oe.listener==x&&oe.capture==!!_&&oe.ha==M)return ee}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Ze={};function st(h,x,_,M,ee){if(Array.isArray(x)){for(var oe=0;oe<x.length;oe++)st(h,x[oe],_,M,ee);return null}return _=Js(_),h&&h[De]?h.K(x,_,g(M)?!!M.capture:!1,ee):Re(h,x,_,!1,M,ee)}function Re(h,x,_,M,ee,oe){if(!x)throw Error("Invalid event type");var we=g(ee)?!!ee.capture:!!ee,nt=Je(h);if(nt||(h[Ce]=nt=new be(h)),_=nt.add(x,_,M,we,oe),_.proxy)return _;if(M=Be(),_.proxy=M,M.src=h,M.listener=_,h.addEventListener)Z||(ee=we),ee===void 0&&(ee=!1),h.addEventListener(x.toString(),M,ee);else if(h.attachEvent)h.attachEvent(_e(x.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Be(){function h(_){return x.call(h.src,h.listener,_)}const x=ke;return h}function le(h,x,_,M,ee){if(Array.isArray(x))for(var oe=0;oe<x.length;oe++)le(h,x[oe],_,M,ee);else M=g(M)?!!M.capture:!!M,_=Js(_),h&&h[De]?(h=h.i,x=String(x).toString(),x in h.g&&(oe=h.g[x],_=fe(oe,_,M,ee),-1<_&&(ys(oe[_]),Array.prototype.splice.call(oe,_,1),oe.length==0&&(delete h.g[x],h.h--)))):h&&(h=Je(h))&&(x=h.g[x.toString()],h=-1,x&&(h=fe(x,_,M,ee)),(_=-1<h?x[h]:null)&&Ee(_))}function Ee(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[De])J(x.i,h);else{var _=h.type,M=h.proxy;x.removeEventListener?x.removeEventListener(_,M,h.capture):x.detachEvent?x.detachEvent(_e(_),M):x.addListener&&x.removeListener&&x.removeListener(M),(_=Je(x))?(J(_,h),_.h==0&&(_.src=null,x[Ce]=null)):ys(h)}}}function _e(h){return h in Ze?Ze[h]:Ze[h]="on"+h}function ke(h,x){if(h.da)h=!0;else{x=new xe(x,this);var _=h.listener,M=h.ha||h.src;h.fa&&Ee(h),h=_.call(M,x)}return h}function Je(h){return h=h[Ce],h instanceof be?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(x){return h.handleEvent(x)}),h[Mt])}function ct(){$.call(this),this.i=new be(this),this.M=this,this.F=null}A(ct,$),ct.prototype[De]=!0,ct.prototype.removeEventListener=function(h,x,_,M){le(this,h,x,_,M)};function Fe(h,x){var _,M=h.F;if(M)for(_=[];M;M=M.F)_.push(M);if(h=h.M,M=x.type||x,typeof x=="string")x=new D(x,h);else if(x instanceof D)x.target=x.target||h;else{var ee=x;x=new D(M,h),U(x,ee)}if(ee=!0,_)for(var oe=_.length-1;0<=oe;oe--){var we=x.g=_[oe];ee=Qe(we,M,!0,x)&&ee}if(we=x.g=h,ee=Qe(we,M,!0,x)&&ee,ee=Qe(we,M,!1,x)&&ee,_)for(oe=0;oe<_.length;oe++)we=x.g=_[oe],ee=Qe(we,M,!1,x)&&ee}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var _=h.g[x],M=0;M<_.length;M++)ys(_[M]);delete h.g[x],h.h--}}this.F=null},ct.prototype.K=function(h,x,_,M){return this.i.add(String(h),x,!1,_,M)},ct.prototype.L=function(h,x,_,M){return this.i.add(String(h),x,!0,_,M)};function Qe(h,x,_,M){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var ee=!0,oe=0;oe<x.length;++oe){var we=x[oe];if(we&&!we.da&&we.capture==_){var nt=we.listener,ss=we.ha||we.src;we.fa&&J(h.i,we),ee=nt.call(ss,M)!==!1&&ee}}return ee&&!M.defaultPrevented}function Ot(h,x,_){if(typeof h=="function")_&&(h=v(h,_));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:p.setTimeout(h,x||0)}function xi(h){h.g=Ot(()=>{h.g=null,h.i&&(h.i=!1,xi(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class ga extends ${constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(h){$.call(this),this.h=h,this.g={}}A(Rr,$);var bi=[];function vi(h){ae(h.g,function(x,_){this.g.hasOwnProperty(_)&&Ee(x)},h),h.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),vi(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=p.JSON.stringify,_o=p.JSON.parse,wi=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function Hl(){}Hl.prototype.h=null;function Gl(h){return h.h||(h.h=h.i())}function Ql(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){D.call(this,"d")}A(Ir,D);function Yl(){D.call(this,"c")}A(Yl,D);var Xn={},Kl=null;function ya(){return Kl=Kl||new ct}Xn.La="serverreachability";function No(h){D.call(this,Xn.La,h)}A(No,D);function xa(h){const x=ya();Fe(x,new No(x))}Xn.STAT_EVENT="statevent";function Ju(h,x){D.call(this,Xn.STAT_EVENT,h),this.stat=x}A(Ju,D);function It(h){const x=ya();Fe(x,new Ju(x,h))}Xn.Ma="timingevent";function ts(h,x){D.call(this,Xn.Ma,h),this.size=x}A(ts,D);function Yt(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},x)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Wl(h,x,_,M,ee,oe){h.info(function(){if(h.g)if(oe)for(var we="",nt=oe.split("&"),ss=0;ss<nt.length;ss++){var rt=nt[ss].split("=");if(1<rt.length){var cs=rt[0];rt=rt[1];var ns=cs.split("_");we=2<=ns.length&&ns[1]=="type"?we+(cs+"="+rt+"&"):we+(cs+"=redacted&")}}else we=null;else we=oe;return"XMLHTTP REQ ("+M+") [attempt "+ee+"]: "+x+`
`+_+`
`+we})}function nm(h,x,_,M,ee,oe,we){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ee+"]: "+x+`
`+_+`
`+oe+" "+we})}function ba(h,x,_,M){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+_i(h,_)+(M?" "+M:"")})}function ed(h,x){h.info(function(){return"TIMEOUT: "+x})}mn.prototype.info=function(){};function _i(h,x){if(!h.g)return x;if(!x)return null;try{var _=JSON.parse(x);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var M=_[h];if(!(2>M.length)){var ee=M[1];if(Array.isArray(ee)&&!(1>ee.length)){var oe=ee[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var we=1;we<ee.length;we++)ee[we]=""}}}}return Pn(_)}catch{return x}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}A(Jn,Hl),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function Ds(h,x,_,M){this.j=h,this.i=x,this.l=_,this.R=M||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Xl={},jo={};function Dn(h,x,_){h.L=1,h.v=Si(en(x)),h.m=_,h.P=!0,Pr(h,null)}function Pr(h,x){h.F=Date.now(),Ni(h),h.A=en(h.v);var _=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),nc(_.i,"t",M),h.C=0,_=h.j.J,h.h=new qt,h.g=gd(h.j,_?x:null,!h.m),0<h.O&&(h.M=new ga(v(h.Y,h,h.g),h.O)),x=h.U,_=h.g,M=h.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(bi[0]=ee.toString()),ee=bi);for(var oe=0;oe<ee.length;oe++){var we=st(_,ee[oe],M||x.handleEvent,!1,x.h||x);if(!we)break;x.g[we.key]=we}x=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),xa(),Wl(h.i,h.u,h.A,h.l,h.R,h.m)}Ds.prototype.ca=function(h){h=h.target;const x=this.M;x&&xn(h)==3?x.j():this.Y(h)},Ds.prototype.Y=function(h){try{if(h==this.g)e:{const ns=xn(this.g);var x=this.g.Ba();const zr=this.g.Z();if(!(3>ns)&&(ns!=3||this.g&&(this.h.h||this.g.oa()||ld(this.g)))){this.J||ns!=4||x==7||(x==8||0>=zr?xa(3):xa(2)),wa(this);var _=this.g.Z();this.X=_;t:if(td(this)){var M=ld(this.g);h="";var ee=M.length,oe=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),er(this);var we="";break t}this.h.i=new p.TextDecoder}for(x=0;x<ee;x++)this.h.h=!0,h+=this.h.i.decode(M[x],{stream:!(oe&&x==ee-1)});M.length=0,this.h.g+=h,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=_==200,nm(this.i,this.u,this.A,this.l,this.R,ns,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,ss=this.g;if((nt=ss.g?ss.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(nt)){var rt=nt;break t}}rt=null}if(_=rt)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ji(this,_);else{this.o=!1,this.s=3,It(12),xs(this),er(this);break e}}if(this.P){_=!0;let bs;for(;!this.J&&this.C<we.length;)if(bs=sd(this,we),bs==jo){ns==4&&(this.s=4,It(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(bs==Xl){this.s=4,It(15),ba(this.i,this.l,we,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,bs,null),ji(this,bs);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ns!=4||we.length!=0||this.h.h||(this.s=1,It(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,we,"[Invalid Chunked Response]"),xs(this),er(this);else if(0<we.length&&!this.W){this.W=!0;var cs=this.j;cs.g==this&&cs.ba&&!cs.M&&(cs.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Mi(cs),cs.M=!0,It(11))}}else ba(this.i,this.l,we,null),ji(this,we);ns==4&&xs(this),this.o&&!this.J&&(ns==4?fd(this.j,this):(this.o=!1,Ni(this)))}else lm(this.g),_==400&&0<we.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),xs(this),er(this)}}}catch{}finally{}};function td(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sd(h,x){var _=h.C,M=x.indexOf(`
`,_);return M==-1?jo:(_=Number(x.substring(_,M)),isNaN(_)?Xl:(M+=1,M+_>x.length?jo:(x=x.slice(M,M+_),h.C=M+_,x)))}Ds.prototype.cancel=function(){this.J=!0,xs(this)};function Ni(h){h.S=Date.now()+h.I,nd(h,h.I)}function nd(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Yt(v(h.ba,h),x)}function wa(h){h.B&&(p.clearTimeout(h.B),h.B=null)}Ds.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ed(this.i,this.A),this.L!=2&&(xa(),It(17)),xs(this),this.s=2,er(this)):nd(this,this.S-h)};function er(h){h.j.G==0||h.J||fd(h.j,h)}function xs(h){wa(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,vi(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function ji(h,x){try{var _=h.j;if(_.G!=0&&(_.g==h||Zl(_.h,h))){if(!h.K&&Zl(_.h,h)&&_.G==3){try{var M=_.Da.g.parse(x)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ee=M;if(ee[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oo(_),Do(_);else break e;lc(_),It(18)}}else _.za=ee[1],0<_.za-_.T&&37500>ee[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yt(v(_.Za,_),6e3));if(1>=To(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((h.K||_.g==h)&&Oo(_),!V(x))for(ee=_.Da.g.parse(x),x=0;x<ee.length;x++){let rt=ee[x];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const cs=rt[3];cs!=null&&(_.la=cs,_.j.info("VER="+_.la));const ns=rt[4];ns!=null&&(_.Aa=ns,_.j.info("SVER="+_.Aa));const zr=rt[5];zr!=null&&typeof zr=="number"&&0<zr&&(M=1.5*zr,_.L=M,_.j.info("backChannelRequestTimeoutMs_="+M)),M=_;const bs=h.g;if(bs){const or=bs.g?bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var oe=M.h;oe.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(So(oe,oe.h),oe.h=null))}if(M.D){const uc=bs.g?bs.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(M.ya=uc,vt(M.I,M.D,uc))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),M=_;var we=h;if(M.qa=pd(M,M.J?M.ia:null,M.W),we.K){Ms(M.h,we);var nt=we,ss=M.L;ss&&(nt.I=ss),nt.B&&(wa(nt),Ni(nt)),M.g=we}else dd(M);0<_.i.length&&Mo(_)}else rt[0]!="stop"&&rt[0]!="close"||Fr(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Fr(_,7):ic(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}xa(4)}catch{}}var rd=class{constructor(h,x){this.g=h,this.map=x}};function Dr(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function To(h){return h.h?1:h.g?h.g.size:0}function Zl(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function So(h,x){h.g?h.g.add(x):h.h=x}function Ms(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Dr.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.D);return x}return F(h.i)}function rm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var x=[],_=h.length,M=0;M<_;M++)x.push(h[M]);return x}x=[],_=0;for(M in h)x[_++]=h[M];return x}function Ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var x=[];h=h.length;for(var _=0;_<h;_++)x.push(_);return x}x=[],_=0;for(const M in h)x[_++]=M;return x}}}function ec(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var _=Ao(h),M=rm(h),ee=M.length,oe=0;oe<ee;oe++)x.call(void 0,M[oe],_&&_[oe],h)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function am(h,x){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var M=h[_].indexOf("="),ee=null;if(0<=M){var oe=h[_].substring(0,M);ee=h[_].substring(M+1)}else oe=h[_];x(oe,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Kt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Kt){this.h=h.h,Ti(this,h.j),this.o=h.o,this.g=h.g,_a(this,h.s),this.l=h.l;var x=h.i,_=new Or;_.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),Mr(this,_),this.m=h.m}else h&&(x=String(h).match(Ei))?(this.h=!1,Ti(this,x[1]||"",!0),this.o=pn(x[2]||""),this.g=pn(x[3]||"",!0),_a(this,x[4]),this.l=pn(x[5]||"",!0),Mr(this,x[6]||"",!0),this.m=pn(x[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}Kt.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Ai(x,tc,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ai(x,tc,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ai(_,_.charAt(0)=="/"?im:sc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ai(_,Ro)),h.join("")};function en(h){return new Kt(h)}function Ti(h,x,_){h.j=_?pn(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function _a(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Mr(h,x,_){x instanceof Or?(h.i=x,id(h.i,h.h)):(_||(x=Ai(x,om)),h.i=new Or(x,h.h))}function vt(h,x,_){h.i.set(x,_)}function Si(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function pn(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ai(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,ad),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ad(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tc=/[#\/\?@]/g,sc=/[#\?:]/g,im=/[#\?]/g,om=/[#\?@]/g,Ro=/#/g;function Or(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&am(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}s=Or.prototype,s.add=function(h,x){gn(this),this.i=null,h=tr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function Lr(h,x){gn(h),x=tr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ur(h,x){return gn(h),x=tr(h,x),h.g.has(x)}s.forEach=function(h,x){gn(this),this.g.forEach(function(_,M){_.forEach(function(ee){h.call(x,ee,M,this)},this)},this)},s.na=function(){gn(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),_=[];for(let M=0;M<x.length;M++){const ee=h[M];for(let oe=0;oe<ee.length;oe++)_.push(x[M])}return _},s.V=function(h){gn(this);let x=[];if(typeof h=="string")Ur(this,h)&&(x=x.concat(this.g.get(tr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)x=x.concat(h[_])}return x},s.set=function(h,x){return gn(this),this.i=null,h=tr(this,h),Ur(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function nc(h,x,_){Lr(h,x),0<_.length&&(h.i=null,h.g.set(tr(h,x),F(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var _=0;_<x.length;_++){var M=x[_];const oe=encodeURIComponent(String(M)),we=this.V(M);for(M=0;M<we.length;M++){var ee=oe;we[M]!==""&&(ee+="="+encodeURIComponent(String(we[M]))),h.push(ee)}}return this.i=h.join("&")};function tr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function id(h,x){x&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(_,M){var ee=M.toLowerCase();M!=ee&&(Lr(this,M),nc(this,ee,_))},h)),h.j=x}function Ri(h,x){const _=new mn;if(p.Image){const M=new Image;M.onload=j(yn,_,"TestLoadImage: loaded",!0,x,M),M.onerror=j(yn,_,"TestLoadImage: error",!1,x,M),M.onabort=j(yn,_,"TestLoadImage: abort",!1,x,M),M.ontimeout=j(yn,_,"TestLoadImage: timeout",!1,x,M),p.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else x(!1)}function Mn(h,x){const _=new mn,M=new AbortController,ee=setTimeout(()=>{M.abort(),yn(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:M.signal}).then(oe=>{clearTimeout(ee),oe.ok?yn(_,"TestPingServer: ok",!0,x):yn(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ee),yn(_,"TestPingServer: error",!1,x)})}function yn(h,x,_,M,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),M(_)}catch{}}function Ci(){this.g=new wi}function sr(h,x,_){const M=_||"";try{ec(h,function(ee,oe){let we=ee;g(ee)&&(we=Pn(ee)),x.push(M+oe+"="+encodeURIComponent(we))})}catch(ee){throw x.push(M+"type="+encodeURIComponent("_badmap")),ee}}function Na(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Na,Hl),Na.prototype.g=function(){return new Vr(this.l,this.j)},Na.prototype.i=function(h){return function(){return h}}({});function Vr(h,x){ct.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Vr,ct),s=Vr.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,rr(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||p).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function rc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?nr(this):rr(this),this.readyState==3&&rc(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,nr(this))},s.Qa=function(h){this.g&&(this.response=h,nr(this))},s.ga=function(){this.g&&nr(this)};function nr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,rr(h)}s.setRequestHeader=function(h,x){this.u.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ac(h){let x="";return ae(h,function(_,M){x+=M,x+=":",x+=_,x+=`\r
`}),x}function ls(h,x,_){e:{for(M in _){var M=!1;break e}M=!0}M||(_=ac(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):vt(h,x,_))}function gt(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(gt,ct);var Co=/^https?$/i,Ii=["POST","PUT"];s=gt.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,x,_,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Gl(this.o):Gl(Zn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(oe){od(this,oe);return}if(h=_||"",_=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ee in M)_.set(ee,M[ee]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const oe of M.keys())_.set(oe,M.get(oe));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(_.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=p.FormData&&h instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ii,x,void 0))||M||ee||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of _)this.g.setRequestHeader(oe,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ki(this),this.u=!0,this.g.send(h),this.u=!1}catch(oe){od(this,oe)}};function od(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,Io(h),ar(h)}function Io(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),ar(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),gt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},s.bb=function(){ko(this)};function ko(h){if(h.h&&typeof d<"u"&&(!h.v[1]||xn(h)!=4||h.Z()!=2)){if(h.u&&xn(h)==4)Ot(h.Ea,0,h);else if(Fe(h,"readystatechange"),xn(h)==4){h.h=!1;try{const we=h.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var M;if(M=we===0){var ee=String(h.D).match(Ei)[1]||null;!ee&&p.self&&p.self.location&&(ee=p.self.location.protocol.slice(0,-1)),M=!Co.test(ee?ee.toLowerCase():"")}_=M}if(_)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var oe=2<xn(h)?h.g.statusText:""}catch{oe=""}h.l=oe+" ["+h.Z()+"]",Io(h)}}finally{ar(h)}}}}function ar(h,x){if(h.g){ki(h);const _=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Fe(h,"ready");try{_.onreadystatechange=M}catch{}}}function ki(h){h.I&&(p.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function xn(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),_o(x)}};function ld(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function lm(h){const x={};h=(h.g&&2<=xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(V(h[M]))continue;var _=z(h[M]);const ee=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const oe=x[ee]||[];x[ee]=oe,oe.push(_)}O(x,function(M){return M.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function Po(h){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,h),this.cb=Pi("retryDelaySeedMs",1e4,h),this.Wa=Pi("forwardChannelMaxRetries",2,h),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(h&&h.concurrentRequestLimit),this.Da=new Ci,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Po.prototype,s.la=8,s.G=1,s.connect=function(h,x,_,M){It(0),this.W=h,this.H=x||{},_&&M!==void 0&&(this.H.OSID=_,this.H.OAID=M),this.F=this.X,this.I=pd(this,null,this.W),Mo(this)};function ic(h){if(cd(h),h.G==3){var x=h.U++,_=en(h.I);if(vt(_,"SID",h.K),vt(_,"RID",x),vt(_,"TYPE","terminate"),Di(h,_),x=new Ds(h,h.j,x),x.L=2,x.v=Si(en(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(x.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=x.v,_=!0),_||(x.g=gd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Ni(x)}md(h)}function Do(h){h.g&&(Mi(h),h.g.cancel(),h.g=null)}function cd(h){Do(h),h.u&&(p.clearTimeout(h.u),h.u=null),Oo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&p.clearTimeout(h.s),h.s=null)}function Mo(h){if(!Eo(h.h)&&!h.s){h.s=!0;var x=h.Ga;me||k(),ve||(me(),ve=!0),G.add(x,h),h.B=0}}function cm(h,x){return To(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Yt(v(h.Ga,h,x),cc(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ee=new Ds(this,this.j,h);let oe=this.o;if(this.S&&(oe?(oe=S(oe),U(oe,this.S)):oe=this.S),this.m!==null||this.O||(ee.H=oe,oe=null),this.P)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var M=this.i[_];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(x+=M,4096<x){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=ud(this,ee,x),_=en(this.I),vt(_,"RID",h),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),Di(this,_),oe&&(this.O?x="headers="+encodeURIComponent(String(ac(oe)))+"&"+x:this.m&&ls(_,this.m,oe)),So(this.h,ee),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",x),vt(_,"SID","null"),ee.T=!0,Dn(ee,_,null)):Dn(ee,_,x),this.G=2}}else this.G==3&&(h?oc(this,h):this.i.length==0||Eo(this.h)||oc(this))};function oc(h,x){var _;x?_=x.l:_=h.U++;const M=en(h.I);vt(M,"SID",h.K),vt(M,"RID",_),vt(M,"AID",h.T),Di(h,M),h.m&&h.o&&ls(M,h.m,h.o),_=new Ds(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),x&&(h.i=x.D.concat(h.i)),x=ud(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),So(h.h,_),Dn(_,M,x)}function Di(h,x){h.H&&ae(h.H,function(_,M){vt(x,M,_)}),h.l&&ec({},function(_,M){vt(x,M,_)})}function ud(h,x,_){_=Math.min(h.i.length,_);var M=h.l?v(h.l.Na,h.l,h):null;e:{var ee=h.i;let oe=-1;for(;;){const we=["count="+_];oe==-1?0<_?(oe=ee[0].g,we.push("ofs="+oe)):oe=0:we.push("ofs="+oe);let nt=!0;for(let ss=0;ss<_;ss++){let rt=ee[ss].g;const cs=ee[ss].map;if(rt-=oe,0>rt)oe=Math.max(0,ee[ss].g-100),nt=!1;else try{sr(cs,we,"req"+rt+"_")}catch{M&&M(cs)}}if(nt){M=we.join("&");break e}}}return h=h.i.splice(0,_),x.D=h,M}function dd(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;me||k(),ve||(me(),ve=!0),G.add(x,h),h.v=0}}function lc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Yt(v(h.Fa,h),cc(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Yt(v(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Do(this),hd(this))};function Mi(h){h.A!=null&&(p.clearTimeout(h.A),h.A=null)}function hd(h){h.g=new Ds(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=en(h.qa);vt(x,"RID","rpc"),vt(x,"SID",h.K),vt(x,"AID",h.T),vt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(x,"TO",h.ja),vt(x,"TYPE","xmlhttp"),Di(h,x),h.m&&h.o&&ls(x,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Si(en(x)),_.m=null,_.P=!0,Pr(_,h)}s.Za=function(){this.C!=null&&(this.C=null,Do(this),lc(this),It(19))};function Oo(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function fd(h,x){var _=null;if(h.g==x){Oo(h),Mi(h),h.g=null;var M=2}else if(Zl(h.h,x))_=x.D,Ms(h.h,x),M=1;else return;if(h.G!=0){if(x.o)if(M==1){_=x.m?x.m.length:0,x=Date.now()-x.F;var ee=h.B;M=ya(),Fe(M,new ts(M,_)),Mo(h)}else dd(h);else if(ee=x.s,ee==3||ee==0&&0<x.X||!(M==1&&cm(h,x)||M==2&&lc(h)))switch(_&&0<_.length&&(x=h.h,x.i=x.i.concat(_)),ee){case 1:Fr(h,5);break;case 4:Fr(h,10);break;case 3:Fr(h,6);break;default:Fr(h,2)}}}function cc(h,x){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*x}function Fr(h,x){if(h.j.info("Error code "+x),x==2){var _=v(h.fb,h),M=h.Xa;const ee=!M;M=new Kt(M||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ti(M,"https"),Si(M),ee?Ri(M.toString(),_):Mn(M.toString(),_)}else It(2);h.G=0,h.l&&h.l.sa(x),md(h),cd(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function md(h){if(h.G=0,h.ka=[],h.l){const x=Jl(h.h);(x.length!=0||h.i.length!=0)&&(L(h.ka,x),L(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function pd(h,x,_){var M=_ instanceof Kt?en(_):new Kt(_);if(M.g!="")x&&(M.g=x+"."+M.g),_a(M,M.s);else{var ee=p.location;M=ee.protocol,x=x?x+"."+ee.hostname:ee.hostname,ee=+ee.port;var oe=new Kt(null);M&&Ti(oe,M),x&&(oe.g=x),ee&&_a(oe,ee),_&&(oe.l=_),M=oe}return _=h.D,x=h.ya,_&&x&&vt(M,_,x),vt(M,"VER",h.la),Di(h,M),M}function gd(h,x,_){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new gt(new Na({eb:_})):new gt(h.pa),x.Ha(h.J),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yd(){}s=yd.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Lo(){}Lo.prototype.g=function(h,x){return new Os(h,x)};function Os(h,x){ct.call(this),this.g=new Po(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!V(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!V(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ir(this)}A(Os,ct),Os.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Os.prototype.close=function(){ic(this.g)},Os.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Pn(h),h=_);x.i.push(new rd(x.Ya++,h)),x.G==3&&Mo(x)},Os.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,Os.aa.N.call(this)};function xd(h){Ir.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}A(xd,Ir);function bd(){Yl.call(this),this.status=1}A(bd,Yl);function ir(h){this.g=h}A(ir,yd),ir.prototype.ua=function(){Fe(this.g,"a")},ir.prototype.ta=function(h){Fe(this.g,new xd(h))},ir.prototype.sa=function(h){Fe(this.g,new bd)},ir.prototype.ra=function(){Fe(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,Os.prototype.send=Os.prototype.o,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,p2=function(){return new Lo},m2=function(){return ya()},f2=Xn,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Ph=va,kr.COMPLETE="complete",h2=kr,Ql.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,nu=Ql,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,d2=gt}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",Ow="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new jf("@firebase/firestore");function fl(){return ao.logLevel}function Se(s,...e){if(ao.logLevel<=et.DEBUG){const t=e.map(S0);ao.debug(`Firestore (${Ll}): ${s}`,...t)}}function ua(s,...e){if(ao.logLevel<=et.ERROR){const t=e.map(S0);ao.error(`Firestore (${Ll}): ${s}`,...t)}}function ai(s,...e){if(ao.logLevel<=et.WARN){const t=e.map(S0);ao.warn(`Firestore (${Ll}): ${s}`,...t)}}function S0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,g2(s,r,t)}function g2(s,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ua(r),new Error(r)}function yt(s,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,s||g2(e,o,r)}function qe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cs.UNAUTHENTICATED))}shutdown(){}}class u6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d6{constructor(e){this.t=e,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yt(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let c=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ia,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=c;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ia)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new y2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Cs(e)}}class h6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yt(this.o===void 0,3512);const r=c=>{c.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=p6(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function Ug(s,e){let t=0;for(;t<s.length&&t<e.length;){const r=s.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ge(r,o);{const c=x2(),d=g6(c.encode(Uw(s,t)),c.encode(Uw(e,t)));return d!==0?d:Ge(r,o)}}t+=r>65535?2:1}return Ge(s.length,e.length)}function Uw(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function g6(s,e){for(let t=0;t<s.length&&t<e.length;++t)if(s[t]!==e[t])return Ge(s[t],e[t]);return Ge(s.length,e.length)}function Tl(s,e,t){return s.length===e.length&&s.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="__name__";class fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=fr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ge(e.length,t.length)}static compareSegments(e,t){const r=fr.isNumericId(e),o=fr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Ug(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class Et extends fr{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends fr{construct(e,t,r){return new js(e,t,r)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vg}static keyField(){return new js([Vg])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(r.length===0)throw new je(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new je(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new je(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new je(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new js(t)}static emptyPath(){return new js([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Et.fromString(e))}static fromName(e){return new Pe(Et.fromString(e).popFirst(5))}static empty(){return new Pe(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(s,e,t){if(!t)throw new je(de.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function x6(s,e,t,r){if(e===!0&&r===!0)throw new je(de.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Vw(s){if(!Pe.isDocumentKey(s))throw new je(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fw(s){if(Pe.isDocumentKey(s))throw new je(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b2(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Tf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ue(12329,{type:typeof s})}function fn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new je(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(s);throw new je(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function b6(s,e){if(e<=0)throw new je(de.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(s,e){const t={typeString:s};return e&&(t.value=e),t}function Ou(s,e){if(!b2(s))throw new je(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${r}' field to equal '${c.value}'`;break}}if(t)throw new je(de.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Bw=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Bw);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zw)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bw}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:es("string",At._jsonSchemaVersion),seconds:es("number"),nanoseconds:es("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new At(0,0))}static max(){return new ze(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function v6(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new ii(o,Pe.empty(),e)}function w6(s){return new ii(s.readTime,s.key,wu)}class ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ii(ze.min(),Pe.empty(),wu)}static max(){return new ii(ze.max(),Pe.empty(),wu)}}function _6(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(s.documentKey,e.documentKey),t!==0?t:Ge(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s){if(s.code!==de.FAILED_PRECONDITION||s.message!==N6)throw s;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&t()},m=>r(m))}),d=!0,c===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let m=0;m<c;m++){const g=m;t(e[g]).next(b=>{d[g]=b,++p,p===c&&r(d)},b=>o(b))}})}static doWhile(e,t){return new ge((r,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):r()};c()})}}function E6(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-1;function Af(s){return s==null}function Yh(s){return s===0&&1/s==-1/0}function T6(s){return typeof s=="number"&&Number.isInteger(s)&&!Yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="";function S6(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=qw(e)),e=A6(s.get(t),e);return qw(e)}function A6(s,e){let t=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":t+="";break;case v2:t+="";break;default:t+=c}}return t}function qw(s){return s+v2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function mi(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function w2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||Ns.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ns.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ns{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??Ns.RED,this.left=o??Ns.EMPTY,this.right=c??Ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Ns(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ns.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Ns.EMPTY=null,Ns.RED=!0,Ns.BLACK=!1;Ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,o,c){return this}insert(e,t,r){return new Ns(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new os(this.comparator);return t.data=e,t}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(js.comparator)}static empty(){return new un([])}unionWith(e){let t=new os(js.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _2("Invalid base64 string: "+c):c}}(e);return new Es(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Es.EMPTY_BYTE_STRING=new Es("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(s){if(yt(!!s,39018),typeof s=="string"){let e=0;const t=R6.exec(s);if(yt(!!t,46558,{timestamp:s}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(s.seconds),nanos:Gt(s.nanos)}}function Gt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function li(s){return typeof s=="string"?Es.fromBase64String(s):Es.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="server_timestamp",j2="__type__",E2="__previous_value__",T2="__local_write_time__";function I0(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[j2])===null||t===void 0?void 0:t.stringValue)===N2}function Rf(s){const e=s.mapValue.fields[E2];return I0(e)?Rf(e):e}function _u(s){const e=oi(s.mapValue.fields[T2].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t,r,o,c,d,p,m,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=b}}const Kh="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__type__",I6="__max__",jh={mapValue:{}},A2="__vector__",Wh="value";function ci(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?I0(s)?4:P6(s)?9007199254740991:k6(s)?10:11:Ue(28295,{value:s})}function Tr(s,e){if(s===e)return!0;const t=ci(s);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return _u(s).isEqual(_u(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=oi(o.timestampValue),p=oi(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return li(o.bytesValue).isEqual(li(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return Gt(o.geoPointValue.latitude)===Gt(c.geoPointValue.latitude)&&Gt(o.geoPointValue.longitude)===Gt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Gt(o.integerValue)===Gt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Gt(o.doubleValue),p=Gt(c.doubleValue);return d===p?Yh(d)===Yh(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return Tl(s.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if($w(d)!==$w(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!Tr(d[m],p[m])))return!1;return!0}(s,e);default:return Ue(52216,{left:s})}}function ju(s,e){return(s.values||[]).find(t=>Tr(t,e))!==void 0}function Sl(s,e){if(s===e)return 0;const t=ci(s),r=ci(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return function(c,d){const p=Gt(c.integerValue||c.doubleValue),m=Gt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(s,e);case 3:return Gw(s.timestampValue,e.timestampValue);case 4:return Gw(_u(s),_u(e));case 5:return Ug(s.stringValue,e.stringValue);case 6:return function(c,d){const p=li(c),m=li(d);return p.compareTo(m)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),m=d.split("/");for(let g=0;g<p.length&&g<m.length;g++){const b=Ge(p[g],m[g]);if(b!==0)return b}return Ge(p.length,m.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Ge(Gt(c.latitude),Gt(d.latitude));return p!==0?p:Ge(Gt(c.longitude),Gt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Qw(s.arrayValue,e.arrayValue);case 10:return function(c,d){var p,m,g,b;const w=c.fields||{},v=d.fields||{},j=(p=w[Wh])===null||p===void 0?void 0:p.arrayValue,A=(m=v[Wh])===null||m===void 0?void 0:m.arrayValue,F=Ge(((g=j?.values)===null||g===void 0?void 0:g.length)||0,((b=A?.values)===null||b===void 0?void 0:b.length)||0);return F!==0?F:Qw(j,A)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===jh.mapValue&&d===jh.mapValue)return 0;if(c===jh.mapValue)return 1;if(d===jh.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=d.fields||{},b=Object.keys(g);m.sort(),b.sort();for(let w=0;w<m.length&&w<b.length;++w){const v=Ug(m[w],b[w]);if(v!==0)return v;const j=Sl(p[m[w]],g[b[w]]);if(j!==0)return j}return Ge(m.length,b.length)}(s.mapValue,e.mapValue);default:throw Ue(23264,{le:t})}}function Gw(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const t=oi(s),r=oi(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function Qw(s,e){const t=s.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=Sl(t[o],r[o]);if(c)return c}return Ge(t.length,r.length)}function Al(s){return Fg(s)}function Fg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=oi(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return li(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return Pe.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=Fg(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Fg(t.fields[d])}`;return o+"}"}(s.mapValue):Ue(61005,{value:s})}function Dh(s){switch(ci(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(s);return e?16+Dh(e):16;case 5:return 2*s.stringValue.length;case 6:return li(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Dh(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return mi(r.fields,(c,d)=>{o+=c.length+Dh(d)}),o}(s.mapValue);default:throw Ue(13486,{value:s})}}function Yw(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function zg(s){return!!s&&"integerValue"in s}function k0(s){return!!s&&"arrayValue"in s}function Kw(s){return!!s&&"nullValue"in s}function Ww(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mh(s){return!!s&&"mapValue"in s}function k6(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[S2])===null||t===void 0?void 0:t.stringValue)===A2}function lu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return mi(s.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lu(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(s.arrayValue.values[t]);return e}return Object.assign({},s)}function P6(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===I6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=js.emptyPath(),r={},o=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=p.popLast()}d?r[p.lastSegment()]=lu(d):o.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){mi(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Ws(lu(this.value))}}function R2(s){const e=[];return mi(s.fields,(t,r)=>{const o=new js([t]);if(Mh(r)){const c=R2(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,o,c,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Is(e,0,ze.min(),ze.min(),ze.min(),Ws.empty(),0)}static newFoundDocument(e,t,r,o){return new Is(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new Is(e,2,t,ze.min(),ze.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new Is(e,3,t,ze.min(),ze.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function Xw(s,e,t){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Pe.comparator(Pe.fromName(d.referenceValue),t.key):r=Sl(d,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Tr(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function D6(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{}class Jt extends C2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new O6(e,t,r):t==="array-contains"?new V6(e,r):t==="in"?new F6(e,r):t==="not-in"?new z6(e,r):t==="array-contains-any"?new B6(e,r):new Jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new L6(e,r):new U6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sl(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(Sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends C2{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Qn(e,t)}matches(e){return I2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function I2(s){return s.op==="and"}function k2(s){return M6(s)&&I2(s)}function M6(s){for(const e of s.filters)if(e instanceof Qn)return!1;return!0}function Bg(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+Al(s.value);if(k2(s))return s.filters.map(e=>Bg(e)).join(",");{const e=s.filters.map(t=>Bg(t)).join(",");return`${s.op}(${e})`}}function P2(s,e){return s instanceof Jt?function(r,o){return o instanceof Jt&&r.op===o.op&&r.field.isEqual(o.field)&&Tr(r.value,o.value)}(s,e):s instanceof Qn?function(r,o){return o instanceof Qn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,p)=>c&&P2(d,o.filters[p]),!0):!1}(s,e):void Ue(19439)}function D2(s){return s instanceof Jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Al(t.value)}`}(s):s instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map(D2).join(" ,")+"}"}(s):"Filter"}class O6 extends Jt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class L6 extends Jt{constructor(e,t){super(e,"in",t),this.keys=M2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U6 extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=M2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function M2(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class V6 extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return k0(t)&&ju(t.arrayValue,this.value)}}class F6 extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ju(this.value.arrayValue,t)}}class z6 extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ju(this.value.arrayValue,t)}}class B6 extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!k0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,t=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function Jw(s,e=null,t=[],r=[],o=null,c=null,d=null){return new q6(s,e,t,r,o,c,d)}function P0(s){const e=qe(s);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Al(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Al(r)).join(",")),e.Pe=t}return e.Pe}function D0(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!D6(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!P2(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Zw(s.startAt,e.startAt)&&Zw(s.endAt,e.endAt)}function qg(s){return Pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t=null,r=[],o=[],c=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $6(s,e,t,r,o,c,d,p){return new xo(s,e,t,r,o,c,d,p)}function M0(s){return new xo(s)}function e1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function O2(s){return s.collectionGroup!==null}function cu(s){const e=qe(s);if(e.Te===null){e.Te=[];const t=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new os(js.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Eu(c,r))}),t.has(js.keyField().canonicalString())||e.Te.push(new Eu(js.keyField(),r))}return e.Te}function yr(s){const e=qe(s);return e.Ie||(e.Ie=H6(e,cu(s))),e.Ie}function H6(s,e){if(s.limitType==="F")return Jw(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Eu(o.field,c)});const t=s.endAt?new Xh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xh(s.startAt.position,s.startAt.inclusive):null;return Jw(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function $g(s,e){const t=s.filters.concat([e]);return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Zh(s,e,t){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Cf(s,e){return D0(yr(s),yr(e))&&s.limitType===e.limitType}function L2(s){return`${P0(yr(s))}|lt:${s.limitType}`}function ml(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>D2(o)).join(", ")}]`),Af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Al(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Al(o)).join(",")),`Target(${r})`}(yr(s))}; limitType=${s.limitType})`}function If(s,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,e)&&function(r,o){for(const c of cu(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(d,p,m){const g=Xw(d,p,m);return d.inclusive?g<=0:g<0}(r.startAt,cu(r),o)||r.endAt&&!function(d,p,m){const g=Xw(d,p,m);return d.inclusive?g>=0:g>0}(r.endAt,cu(r),o))}(s,e)}function G6(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function U2(s){return(e,t)=>{let r=!1;for(const o of cu(s)){const c=Q6(o,e,t);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Q6(s,e,t){const r=s.field.isKeyField()?Pe.comparator(e.key,t.key):function(c,d,p){const m=d.data.field(c),g=p.data.field(c);return m!==null&&g!==null?Sl(m,g):Ue(42886)}(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return w2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Vt(Pe.comparator);function da(){return Y6}const V2=new Vt(Pe.comparator);function ru(...s){let e=V2;for(const t of s)e=e.insert(t.key,t);return e}function F2(s){let e=V2;return s.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zi(){return uu()}function z2(){return uu()}function uu(){return new bo(s=>s.toString(),(s,e)=>s.isEqual(e))}const K6=new Vt(Pe.comparator),W6=new os(Pe.comparator);function tt(...s){let e=W6;for(const t of s)e=e.add(t);return e}const X6=new os(Ge);function Z6(){return X6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function B2(s){return{integerValue:""+s}}function J6(s,e){return T6(e)?B2(e):O0(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function eC(s,e,t){return s instanceof Tu?function(o,c){const d={fields:{[j2]:{stringValue:N2},[T2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&I0(c)&&(c=Rf(c)),c&&(d.fields[E2]=c),{mapValue:d}}(t,e):s instanceof Rl?$2(s,e):s instanceof Cl?H2(s,e):function(o,c){const d=q2(o,c),p=t1(d)+t1(o.Ee);return zg(d)&&zg(o.Ee)?B2(p):O0(o.serializer,p)}(s,e)}function tC(s,e,t){return s instanceof Rl?$2(s,e):s instanceof Cl?H2(s,e):t}function q2(s,e){return s instanceof Jh?function(r){return zg(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class Tu extends kf{}class Rl extends kf{constructor(e){super(),this.elements=e}}function $2(s,e){const t=G2(e);for(const r of s.elements)t.some(o=>Tr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cl extends kf{constructor(e){super(),this.elements=e}}function H2(s,e){let t=G2(e);for(const r of s.elements)t=t.filter(o=>!Tr(o,r));return{arrayValue:{values:t}}}class Jh extends kf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function t1(s){return Gt(s.integerValue||s.doubleValue)}function G2(s){return k0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.field=e,this.transform=t}}function sC(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof Rl&&o instanceof Rl||r instanceof Cl&&o instanceof Cl?Tl(r.elements,o.elements,Tr):r instanceof Jh&&o instanceof Jh?Tr(r.Ee,o.Ee):r instanceof Tu&&o instanceof Tu}(s.transform,e.transform)}class nC{constructor(e,t){this.version=e,this.transformResults=t}}class zs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Pf{}function Q2(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Df(s.key,zs.none()):new Lu(s.key,s.data,zs.none());{const t=s.data,r=Ws.empty();let o=new os(js.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new pi(s.key,r,new un(o.toArray()),zs.none())}}function rC(s,e,t){s instanceof Lu?function(o,c,d){const p=o.value.clone(),m=n1(o.fieldTransforms,c,d.transformResults);p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,t):s instanceof pi?function(o,c,d){if(!Oh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=n1(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(Y2(o)),m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function du(s,e,t,r){return s instanceof Lu?function(c,d,p,m){if(!Oh(c.precondition,d))return p;const g=c.value.clone(),b=r1(c.fieldTransforms,m,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(s,e,t,r):s instanceof pi?function(c,d,p,m){if(!Oh(c.precondition,d))return p;const g=r1(c.fieldTransforms,m,d),b=d.data;return b.setAll(Y2(c)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,t,r):function(c,d,p){return Oh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,t)}function aC(s,e){let t=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=q2(r.transform,o||null);c!=null&&(t===null&&(t=Ws.empty()),t.set(r.field,c))}return t||null}function s1(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Tl(r,o,(c,d)=>sC(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Lu extends Pf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pi extends Pf{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Y2(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}}),e}function n1(s,e,t){const r=new Map;yt(s.length===t.length,32656,{Ae:t.length,Re:s.length});for(let o=0;o<t.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,tC(d,p,t[o]))}return r}function r1(s,e,t){const r=new Map;for(const o of s){const c=o.transform,d=t.data.field(o.field);r.set(o.field,eC(c,d,e))}return r}class Df extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rC(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=z2();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=t.has(o.key)?null:p;const m=Q2(d,p);m!==null&&r.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(t,r)=>s1(t,r))&&Tl(this.baseMutations,e.baseMutations,(t,r)=>s1(t,r))}}class U0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){yt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return K6}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new U0(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,it;function uC(s){switch(s){case de.OK:return Ue(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ue(15467,{code:s})}}function K2(s){if(s===void 0)return ua("GRPC error has no .code"),de.UNKNOWN;switch(s){case Zt.OK:return de.OK;case Zt.CANCELLED:return de.CANCELLED;case Zt.UNKNOWN:return de.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return de.INTERNAL;case Zt.UNAVAILABLE:return de.UNAVAILABLE;case Zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Zt.NOT_FOUND:return de.NOT_FOUND;case Zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Zt.ABORTED:return de.ABORTED;case Zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Zt.DATA_LOSS:return de.DATA_LOSS;default:return Ue(39323,{code:s})}}(it=Zt||(Zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new si([4294967295,4294967295],0);function a1(s){const e=x2().encode(s),t=new u2;return t.update(e),new Uint8Array(t.digest())}function i1(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new si([t,r],0),new si([o,c],0)]}class V0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=si.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(si.fromNumber(r)));return o.compare(dC)===1&&(o=new si([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=a1(e),[r,o]=i1(t);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);if(!this.ye(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new V0(c,o,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const t=a1(e),[r,o]=i1(t);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);this.we(d)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mf(ze.min(),o,new Vt(Ge),da(),tt())}}class Uu{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uu(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class W2{constructor(e,t){this.targetId=e,this.De=t}}class X2{constructor(e,t,r=Es.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class o1{constructor(){this.ve=0,this.Ce=l1(),this.Fe=Es.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),t=tt(),r=tt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue(38017,{changeType:c})}}),new Uu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=l1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hC{constructor(e){this.We=e,this.Ge=new Map,this.ze=da(),this.je=Eh(),this.Je=Eh(),this.He=new Vt(Ge)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const c=o.target;if(qg(c))if(r===0){const d=new Pe(c.path);this.Xe(t,d,Is.newNoDocument(d,ze.min()))}else yt(r===1,20013,{expectedCount:r});else{const d=this.ot(t);if(d!==r){const p=this._t(e),m=p?this.ut(p,e,d):1;if(m!==0){this.rt(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let d,p;try{d=li(r).toUint8Array()}catch(m){if(m instanceof _2)return ai("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new V0(d,o,c)}catch(m){return ai(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.fe===0?null:p}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(t,c,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((c,d)=>{const p=this.st(d);if(p){if(c.current&&qg(p.target)){const m=new Pe(p.target.path);this.Tt(m).has(d)||this.It(d,m)||this.Xe(d,m,Is.newNoDocument(m,e))}c.Ne&&(t.set(d,c.Le()),c.ke())}});let r=tt();this.Je.forEach((c,d)=>{let p=!0;d.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Mf(e,t,this.He,this.ze,r);return this.ze=da(),this.je=Eh(),this.Je=Eh(),this.He=new Vt(Ge),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new o1,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new os(Ge),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new os(Ge),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new o1),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new Vt(Pe.comparator)}function l1(){return new Vt(Pe.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},mC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pC={and:"AND",or:"OR"};class gC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hg(s,e){return s.useProto3Json||Af(e)?e:{value:e}}function ef(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z2(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yC(s,e){return ef(s,e.toTimestamp())}function xr(s){return yt(!!s,49232),ze.fromTimestamp(function(t){const r=oi(t);return new At(r.seconds,r.nanos)}(s))}function F0(s,e){return Gg(s,e).canonicalString()}function Gg(s,e){const t=function(o){return new Et(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?t:t.child(e)}function J2(s){const e=Et.fromString(s);return yt(rN(e),10190,{key:e.toString()}),e}function Qg(s,e){return F0(s.databaseId,e.path)}function fg(s,e){const t=J2(e);if(t.get(1)!==s.databaseId.projectId)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Pe(tN(t))}function eN(s,e){return F0(s.databaseId,e)}function xC(s){const e=J2(s);return e.length===4?Et.emptyPath():tN(e)}function Yg(s){return new Et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function tN(s){return yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function c1(s,e,t){return{name:Qg(s,e),fields:t.value.mapValue.fields}}function bC(s,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,b){return g.useProto3Json?(yt(b===void 0||typeof b=="string",58123),Es.fromBase64String(b||"")):(yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Es.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const b=g.code===void 0?de.UNKNOWN:K2(g.code);return new je(b,g.message||"")}(d);t=new X2(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=fg(s,r.document.name),c=xr(r.document.updateTime),d=r.document.createTime?xr(r.document.createTime):ze.min(),p=new Ws({mapValue:{fields:r.document.fields}}),m=Is.newFoundDocument(o,c,d,p),g=r.targetIds||[],b=r.removedTargetIds||[];t=new Lh(g,b,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=fg(s,r.document),c=r.readTime?xr(r.readTime):ze.min(),d=Is.newNoDocument(o,c),p=r.removedTargetIds||[];t=new Lh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=fg(s,r.document),c=r.removedTargetIds||[];t=new Lh([],c,o,null)}else{if(!("filter"in e))return Ue(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new cC(o,c),p=r.targetId;t=new W2(p,d)}}return t}function vC(s,e){let t;if(e instanceof Lu)t={update:c1(s,e.key,e.value)};else if(e instanceof Df)t={delete:Qg(s,e.key)};else if(e instanceof pi)t={update:c1(s,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof iC))return Ue(16599,{Rt:e.type});t={verify:Qg(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,d){const p=d.transform;if(p instanceof Tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Rl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jh)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw Ue(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:yC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ue(27497)}(s,e.precondition)),t}function wC(s,e){return s&&s.length>0?(yt(e!==void 0,14353),s.map(t=>function(o,c){let d=o.updateTime?xr(o.updateTime):xr(c);return d.isEqual(ze.min())&&(d=xr(c)),new nC(d,o.transformResults||[])}(t,e))):[]}function _C(s,e){return{documents:[eN(s,e.path)]}}function NC(s,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eN(s,o);const c=function(g){if(g.length!==0)return nN(Qn.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(g){if(g.length!==0)return g.map(b=>function(v){return{field:pl(v.field),direction:TC(v.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Hg(s,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function jC(s){let e=xC(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){yt(r===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];t.where&&(c=function(w){const v=sN(w);return v instanceof Qn&&k2(v)?v.getFilters():[v]}(t.where));let d=[];t.orderBy&&(d=function(w){return w.map(v=>function(A){return new Eu(gl(A.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let p=null;t.limit&&(p=function(w){let v;return v=typeof w=="object"?w.value:w,Af(v)?null:v}(t.limit));let m=null;t.startAt&&(m=function(w){const v=!!w.before,j=w.values||[];return new Xh(j,v)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const v=!w.before,j=w.values||[];return new Xh(j,v)}(t.endAt)),$6(e,o,d,c,p,"F",m,g)}function EC(s,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sN(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gl(t.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(t.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gl(t.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(t.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(s):s.fieldFilter!==void 0?function(t){return Jt.create(gl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(r=>sN(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(s):Ue(30097,{filter:s})}function TC(s){return fC[s]}function SC(s){return mC[s]}function AC(s){return pC[s]}function pl(s){return{fieldPath:s.canonicalString()}}function gl(s){return js.fromServerFormat(s.fieldPath)}function nN(s){return s instanceof Jt?function(t){if(t.op==="=="){if(Ww(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(Kw(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ww(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(Kw(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:SC(t.op),value:t.value}}}(s):s instanceof Qn?function(t){const r=t.getFilters().map(o=>nN(o));return r.length===1?r[0]:{compositeFilter:{op:AC(t.op),filters:r}}}(s):Ue(54877,{filter:s})}function RC(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rN(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t,r,o,c=ze.min(),d=ze.min(),p=Es.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.gt=e}}function IC(s){const e=jC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Dn=new PC}addToCollectionParentIndex(e,t){return this.Dn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ii.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class PC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new os(Et.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new os(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aN=41943040;class Ys{static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(aN,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Il(0)}static ur(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LruGarbageCollector",DC=1048576;function h1([s,e],[t,r]){const o=Ge(s,t);return o===0?Ge(e,r):o}class MC{constructor(e){this.Tr=e,this.buffer=new os(h1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();h1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Se(d1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?Se(d1,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.Rr(3e5)})}}class LC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(Sf.ue);const r=new MC(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(u1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,c,d,p,m,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,p=Date.now(),this.removeTargets(e,r,t))).next(w=>(c=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(g=Date.now(),fl()<=et.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-b}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function UC(s,e){return new LC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Is.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&du(r.mutation,o,un.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const o=Zi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=ru();return c.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,o){let c=da();const d=uu(),p=function(){return uu()}();return t.forEach((m,g)=>{const b=r.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof pi)?c=c.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),du(b.mutation,g,b.mutation.getFieldMask(),At.now())):d.set(g.key,un.empty())}),this.recalculateAndSaveOverlays(e,c).next(m=>(m.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var w;return p.set(g,new FC(b,(w=d.get(g))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,t){const r=uu();let o=new Vt((d,p)=>d-p),c=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let b=r.get(m)||un.empty();b=p.applyToLocalView(g,b),r.set(m,b);const w=(o.get(p.batchId)||tt()).add(m);o=o.insert(p.batchId,w)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,b=m.value,w=z2();b.forEach(v=>{if(!c.has(v)){const j=Q2(t.get(v),r.get(v));j!==null&&w.set(v,j),c=c.add(v)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ge.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return Pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ge.resolve(Zi());let p=wu,m=c;return d.next(g=>ge.forEach(g,(b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?ge.resolve():this.remoteDocumentCache.getEntry(e,b).next(v=>{m=m.insert(b,v)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,m,g,tt())).next(b=>({batchId:p,changes:F2(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let d=ru();return this.indexManager.getCollectionParents(e,c).next(p=>ge.forEach(p,m=>{const g=function(w,v){return new xo(v,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next(b=>{b.forEach((w,v)=>{d=d.insert(w,v)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o))).next(d=>{c.forEach((m,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,Is.newInvalidDocument(b)))});let p=ru();return d.forEach((m,g)=>{const b=c.get(m);b!==void 0&&du(b.mutation,g,un.empty(),At.now()),If(t,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ge.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:IC(o.bundledQuery),readTime:xr(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.overlays=new Vt(Pe.comparator),this.kr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zi();return ge.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.wt(e,t,c)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Zi(),c=t.length+1,d=new Pe(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new Vt((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let b=c.get(g.largestBatchId);b===null&&(b=Zi(),c=c.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=Zi(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,b)=>p.set(g,b)),!(p.size()>=o)););return ge.resolve(p)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lC(t,r));let c=this.kr.get(t);c===void 0&&(c=tt(),this.kr.set(t,c)),this.kr.set(t,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Es.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.qr=new os(fs.Qr),this.$r=new os(fs.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new fs(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new fs(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Pe(new Et([])),r=new fs(t,e),o=new fs(t,e+1),c=[];return this.$r.forEachInRange([r,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Pe(new Et([])),r=new fs(t,e),o=new fs(t,e+1);let c=tt();return this.$r.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new fs(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fs{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Pe.comparator(e.key,t.key)||Ge(e.Hr,t.Hr)}static Ur(e,t){return Ge(e.Hr,t.Hr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new os(fs.Qr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oC(c,t,r,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new fs(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,t){return ge.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),c=o<0?0:o;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?C0:this.er-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fs(t,0),o=new fs(t,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([r,o],d=>{const p=this.Zr(d.Hr);c.push(p)}),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new os(Ge);return t.forEach(o=>{const c=new fs(o,0),d=new fs(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],p=>{r=r.add(p.Hr)})}),ge.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Pe.isDocumentKey(c)||(c=c.child(""));const d=new fs(new Pe(c),0);let p=new os(Ge);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Hr)),!0)},d),ge.resolve(this.ei(p))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){yt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ge.forEach(t.mutations,o=>{const c=new fs(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new fs(t,0),o=this.Yr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ni=e,this.docs=function(){return new Vt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Is.newInvalidDocument(t))}getEntries(e,t){let r=da();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Is.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=da();const d=t.path,p=new Pe(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:b}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||_6(w6(b),r)<=0||(o.has(b.key)||If(t,b))&&(c=c.insert(b.key,b.mutableCopy()))}return ge.resolve(c)}getAllFromCollectionGroup(e,t,r,o){Ue(9500)}ri(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new QC(this)}getSize(e){return ge.resolve(this.size)}}class QC extends VC{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.persistence=e,this.ii=new bo(t=>P0(t),D0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new z0,this.targetCount=0,this._i=Il.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ge.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.hr(t),ge.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ge.waitFor(c).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ge.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.ai={},this.overlays={},this.ui=new Sf(0),this.ci=!1,this.ci=!0,this.li=new $C,this.referenceDelegate=e(this),this.hi=new YC(this),this.indexManager=new kC,this.remoteDocumentCache=function(o){return new GC(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new CC(t),this.Ti=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new HC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const o=new KC(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,t){return ge.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class KC extends j6{constructor(e){super(),this.currentSequenceNumber=e}}class B0{constructor(e){this.persistence=e,this.Ai=new z0,this.Ri=null}static Vi(e){return new B0(e)}get mi(){if(this.Ri)return this.Ri;throw Ue(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.mi,r=>{const o=Pe.fromPath(r);return this.fi(e,o).next(c=>{c||t.removeEntry(o,ze.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ge.or([()=>ge.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.gi=new bo(r=>S6(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=UC(this,t)}static Vi(e,t){return new tf(e,t)}Ii(){}di(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ge.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(c=>c?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,t).next(p=>{p||(r++,c.removeEntry(d,ze.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ge.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dh(e.data.value)),t}Sr(e,t,r){return ge.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=tt(),o=tt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new q0(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return qR()?8:E6(Ps())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.ps(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,t,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new WC;return this.ws(e,t,d).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,t,d,p.size)})}).next(()=>c.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(fl()<=et.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(fl()<=et.DEBUG&&Se("QueryEngine","Query:",ml(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(fl()<=et.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):ge.resolve())}ps(e,t){if(e1(t))return ge.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zh(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=tt(...c);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(m=>{const g=this.bs(t,p);return this.Ds(t,g,d,m.readTime)?this.ps(e,Zh(t,null,"F")):this.vs(e,g,t,m)}))})))}ys(e,t,r,o){return e1(t)||o.isEqual(ze.min())?ge.resolve(null):this.gs.getDocuments(e,r).next(c=>{const d=this.bs(t,c);return this.Ds(t,d,r,o)?ge.resolve(null):(fl()<=et.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ml(t)),this.vs(e,d,t,v6(o,wu)).next(p=>p))})}bs(e,t){let r=new os(U2(e));return t.forEach((o,c)=>{If(e,c)&&(r=r.add(c))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,t,r){return fl()<=et.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ml(t)),this.gs.getDocumentsMatchingQuery(e,t,ii.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LocalStore",ZC=3e8;class JC{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new Vt(Ge),this.Ms=new bo(c=>P0(c),D0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function eI(s,e,t,r){return new JC(s,e,t,r)}async function oN(s,e){const t=qe(s);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],p=[];let m=tt();for(const g of o){d.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}for(const g of c){p.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(r,m).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:p}))})})}function tI(s,e){const t=qe(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Os.newChangeBuffer({trackRemovals:!0});return function(p,m,g,b){const w=g.batch,v=w.keys();let j=ge.resolve();return v.forEach(A=>{j=j.next(()=>b.getEntry(m,A)).next(F=>{const L=g.docVersions.get(A);yt(L!==null,48541),F.version.compareTo(L)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),b.addEntry(F)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(m,w))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let m=tt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function lN(s){const e=qe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sI(s,e){const t=qe(s),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const p=[];e.targetChanges.forEach((b,w)=>{const v=o.get(w);if(!v)return;p.push(t.hi.removeMatchingKeys(c,b.removedDocuments,w).next(()=>t.hi.addMatchingKeys(c,b.addedDocuments,w)));let j=v.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Es.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,r)),o=o.insert(w,j),function(F,L,q){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=ZC?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(v,j,b)&&p.push(t.hi.updateTargetData(c,j))});let m=da(),g=tt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,b))}),p.push(nI(c,d,e.documentUpdates).next(b=>{m=b.Ls,g=b.ks})),!r.isEqual(ze.min())){const b=t.hi.getLastRemoteSnapshotVersion(c).next(w=>t.hi.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(b)}return ge.waitFor(p).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,m,g)).next(()=>m)}).then(c=>(t.Fs=o,c))}function nI(s,e,t){let r=tt(),o=tt();return t.forEach(c=>r=r.add(c)),e.getEntries(s,r).next(c=>{let d=da();return t.forEach((p,m)=>{const g=c.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):Se($0,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Ls:d,ks:o}})}function rI(s,e){const t=qe(s);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=C0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aI(s,e){const t=qe(s);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(c=>c?(o=c,ge.resolve(o)):t.hi.allocateTargetId(r).next(d=>(o=new Wa(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Kg(s,e,t){const r=qe(s),o=r.Fs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Vl(d))throw d;Se($0,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function f1(s,e,t){const r=qe(s);let o=ze.min(),c=tt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(m,g,b){const w=qe(m),v=w.Ms.get(b);return v!==void 0?ge.resolve(w.Fs.get(v)):w.hi.getTargetData(g,b)}(r,d,yr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(d,p.targetId).next(m=>{c=m})}).next(()=>r.Cs.getDocumentsMatchingQuery(d,e,t?o:ze.min(),t?c:tt())).next(p=>(iI(r,G6(e),p),{documents:p,qs:c})))}function iI(s,e,t){let r=s.xs.get(e)||ze.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.xs.set(e,r)}class m1{constructor(){this.activeTargetIds=Z6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oI{constructor(){this.Fo=new m1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new m1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="ConnectivityMonitor";class g1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Se(p1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Se(p1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Wg(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uI{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,c){const d=Wg(),p=this.Go(e,t.toUriEncodedString());Se(mg,`Sending RPC '${e}' ${d}:`,p,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,c);const{host:g}=new URL(p),b=hi(g);return this.jo(e,p,m,r,b).then(w=>(Se(mg,`Received RPC '${e}' ${d}: `,w),w),w=>{throw ai(mg,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w})}Jo(e,t,r,o,c,d){return this.Wo(e,t,r,o,c)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}Go(e,t){const r=cI[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="WebChannelConnection";class hI extends uI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,c){const d=Wg();return new Promise((p,m)=>{const g=new d2;g.setWithCredentials(!0),g.listenOnce(h2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ph.NO_ERROR:const w=g.getResponseJson();Se(As,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Ph.TIMEOUT:Se(As,`RPC '${e}' ${d} timed out`),m(new je(de.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const v=g.getStatus();if(Se(As,`RPC '${e}' ${d} failed with status:`,v,"response text:",g.getResponseText()),v>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const A=j?.error;if(A&&A.status&&A.message){const F=function(q){const V=q.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(V)>=0?V:de.UNKNOWN}(A.status);m(new je(F,A.message))}else m(new je(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new je(de.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Se(As,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);Se(As,`RPC '${e}' ${d} sending request:`,o),g.send(t,"POST",b,r,15)})}P_(e,t,r){const o=Wg(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=p2(),p=m2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=c.join("");Se(As,`Creating RPC '${e}' stream ${o}: ${b}`,m);const w=d.createWebChannel(b,m);this.T_(w);let v=!1,j=!1;const A=new dI({Ho:L=>{j?Se(As,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(v||(Se(As,`Opening RPC '${e}' stream ${o} transport.`),w.open(),v=!0),Se(As,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Yo:()=>w.close()}),F=(L,q,V)=>{L.listen(q,P=>{try{V(P)}catch(B){setTimeout(()=>{throw B},0)}})};return F(w,nu.EventType.OPEN,()=>{j||(Se(As,`RPC '${e}' stream ${o} transport opened.`),A.s_())}),F(w,nu.EventType.CLOSE,()=>{j||(j=!0,Se(As,`RPC '${e}' stream ${o} transport closed`),A.__(),this.I_(w))}),F(w,nu.EventType.ERROR,L=>{j||(j=!0,ai(As,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),A.__(new je(de.UNAVAILABLE,"The operation could not be completed")))}),F(w,nu.EventType.MESSAGE,L=>{var q;if(!j){const V=L.data[0];yt(!!V,16349);const P=V,B=P?.error||((q=P[0])===null||q===void 0?void 0:q.error);if(B){Se(As,`RPC '${e}' stream ${o} received error:`,B);const Y=B.status;let ae=function(R){const U=Zt[R];if(U!==void 0)return K2(U)}(Y),O=B.message;ae===void 0&&(ae=de.INTERNAL,O="Unknown error status: "+Y+" with message "+B.message),j=!0,A.__(new je(ae,O)),w.close()}else Se(As,`RPC '${e}' stream ${o} received:`,V),A.a_(V)}}),F(p,f2.STAT_EVENT,L=>{L.stat===Lg.PROXY?Se(As,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Lg.NOPROXY&&Se(As,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(s){return new gC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="PersistentStream";class uN{constructor(e,t,r,o,c,d,p,m){this.Fi=e,this.w_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cN(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new je(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Se(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Se(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fI extends uN{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=bC(this.serializer,e),r=function(c){if(!("targetChange"in c))return ze.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ze.min():d.readTime?xr(d.readTime):ze.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Yg(this.serializer),t.addTarget=function(c,d){let p;const m=d.target;if(p=qg(m)?{documents:_C(c,m)}:{query:NC(c,m).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Z2(c,d.resumeToken);const g=Hg(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(ze.min())>0){p.readTime=ef(c,d.snapshotVersion.toTimestamp());const g=Hg(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const r=EC(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Yg(this.serializer),t.removeTarget=e,this.k_(t)}}class mI extends uN{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=wC(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Yg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vC(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{}class gI extends pI{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Gg(t,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(de.UNKNOWN,c.toString())})}Jo(e,t,r,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Gg(t,r),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new je(de.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class yI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ua(t),this._a=!1):Se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class xI{constructor(e,t,r,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{r.enqueueAndForget(async()=>{vo(this)&&(Se(io,"Restarting streams for network reachability change."),await async function(m){const g=qe(m);g.Ia.add(4),await Vu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Lf(g)}(this))})}),this.Aa=new yI(r,o)}}async function Lf(s){if(vo(s))for(const e of s.da)await e(!0)}async function Vu(s){for(const e of s.da)await e(!1)}function dN(s,e){const t=qe(s);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Y0(t)?Q0(t):Fl(t).x_()&&G0(t,e))}function H0(s,e){const t=qe(s),r=Fl(t);t.Ta.delete(e),r.x_()&&hN(t,e),t.Ta.size===0&&(r.x_()?r.B_():vo(t)&&t.Aa.set("Unknown"))}function G0(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fl(s).H_(e)}function hN(s,e){s.Ra.$e(e),Fl(s).Y_(e)}function Q0(s){s.Ra=new hC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Fl(s).start(),s.Aa.aa()}function Y0(s){return vo(s)&&!Fl(s).M_()&&s.Ta.size>0}function vo(s){return qe(s).Ia.size===0}function fN(s){s.Ra=void 0}async function bI(s){s.Aa.set("Online")}async function vI(s){s.Ta.forEach((e,t)=>{G0(s,e)})}async function wI(s,e){fN(s),Y0(s)?(s.Aa.la(e),Q0(s)):s.Aa.set("Unknown")}async function _I(s,e,t){if(s.Aa.set("Online"),e instanceof X2&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))}(s,e)}catch(r){Se(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(s,r)}else if(e instanceof Lh?s.Ra.Ye(e):e instanceof W2?s.Ra.it(e):s.Ra.et(e),!t.isEqual(ze.min()))try{const r=await lN(s.localStore);t.compareTo(r)>=0&&await function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const b=c.Ta.get(g);b&&c.Ta.set(g,b.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,g)=>{const b=c.Ta.get(m);if(!b)return;c.Ta.set(m,b.withResumeToken(Es.EMPTY_BYTE_STRING,b.snapshotVersion)),hN(c,m);const w=new Wa(b.target,m,g,b.sequenceNumber);G0(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(s,t)}catch(r){Se(io,"Failed to raise snapshot:",r),await sf(s,r)}}async function sf(s,e,t){if(!Vl(e))throw e;s.Ia.add(1),await Vu(s),s.Aa.set("Offline"),t||(t=()=>lN(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Se(io,"Retrying IndexedDB access"),await t(),s.Ia.delete(1),await Lf(s)})}function mN(s,e){return e().catch(t=>sf(s,t,e))}async function Uf(s){const e=qe(s),t=ui(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:C0;for(;NI(e);)try{const o=await rI(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,jI(e,o)}catch(o){await sf(e,o)}pN(e)&&gN(e)}function NI(s){return vo(s)&&s.Pa.length<10}function jI(s,e){s.Pa.push(e);const t=ui(s);t.x_()&&t.Z_&&t.X_(e.mutations)}function pN(s){return vo(s)&&!ui(s).M_()&&s.Pa.length>0}function gN(s){ui(s).start()}async function EI(s){ui(s).na()}async function TI(s){const e=ui(s);for(const t of s.Pa)e.X_(t.mutations)}async function SI(s,e,t){const r=s.Pa.shift(),o=U0.from(r,e,t);await mN(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Uf(s)}async function AI(s,e){e&&ui(s).Z_&&await async function(r,o){if(function(d){return uC(d)&&d!==de.ABORTED}(o.code)){const c=r.Pa.shift();ui(r).N_(),await mN(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Uf(r)}}(s,e),pN(s)&&gN(s)}async function x1(s,e){const t=qe(s);t.asyncQueue.verifyOperationInProgress(),Se(io,"RemoteStore received new credentials");const r=vo(t);t.Ia.add(3),await Vu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Lf(t)}async function RI(s,e){const t=qe(s);e?(t.Ia.delete(2),await Lf(t)):e||(t.Ia.add(2),await Vu(t),t.Aa.set("Unknown"))}function Fl(s){return s.Va||(s.Va=function(t,r,o){const c=qe(t);return c.ia(),new fI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:bI.bind(null,s),e_:vI.bind(null,s),n_:wI.bind(null,s),J_:_I.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),Y0(s)?Q0(s):s.Aa.set("Unknown")):(await s.Va.stop(),fN(s))})),s.Va}function ui(s){return s.ma||(s.ma=function(t,r,o){const c=qe(t);return c.ia(),new mI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:EI.bind(null,s),n_:AI.bind(null,s),ea:TI.bind(null,s),ta:SI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await Uf(s)):(await s.ma.stop(),s.Pa.length>0&&(Se(io,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,p=new K0(e,t,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(s,e){if(ua("AsyncQueue",`${e}: ${s}`),Vl(s))return new je(de.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.fa=new Vt(Pe.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class kl{constructor(e,t,r,o,c,d,p,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new kl(e,t,bl.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class II{constructor(){this.queries=v1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=qe(t),c=o.queries;o.queries=v1(),c.forEach((d,p)=>{for(const m of p.wa)m.onError(r)})})(this,new je(de.ABORTED,"Firestore shutting down"))}}function v1(){return new bo(s=>L2(s),Cf)}async function yN(s,e){const t=qe(s);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.ba()&&(r=2):(c=new CI,r=e.ba()?0:1);try{switch(r){case 0:c.ya=await t.onListen(o,!0);break;case 1:c.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=W0(d,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.wa.push(e),e.va(t.onlineState),c.ya&&e.Ca(c.ya)&&X0(t)}async function xN(s,e){const t=qe(s),r=e.query;let o=3;const c=t.queries.get(r);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kI(s,e){const t=qe(s);let r=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const p of d.wa)p.Ca(o)&&(r=!0);d.ya=o}}r&&X0(t)}function PI(s,e,t){const r=qe(s),o=r.queries.get(e);if(o)for(const c of o.wa)c.onError(t);r.queries.delete(e)}function X0(s){s.Da.forEach(e=>{e.next()})}var Xg,w1;(w1=Xg||(Xg={})).Fa="default",w1.Cache="cache";class bN{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class DI{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=U2(e),this.eu=new bl(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new b1,o=t?t.eu:this.eu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const v=o.get(b),j=If(this.query,w)?w:null,A=!!v&&this.mutatedKeys.has(v.key),F=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let L=!1;v&&j?v.data.isEqual(j.data)?A!==F&&(r.track({type:3,doc:j}),L=!0):this.iu(v,j)||(r.track({type:2,doc:j}),L=!0,(m&&this.Xa(j,m)>0||g&&this.Xa(j,g)<0)&&(p=!0)):!v&&j?(r.track({type:0,doc:j}),L=!0):v&&!j&&(r.track({type:1,doc:v}),L=!0,(m||g)&&(p=!0)),L&&(j?(d=d.add(j),c=F?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{eu:d,ru:r,Ds:p,mutatedKeys:c}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,w)=>function(j,A){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{At:L})}};return F(j)-F(A)}(b.type,w.type)||this.Xa(b.doc,w.doc)),this.su(r),o=o!=null&&o;const p=t&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,g=m!==this.Ya;return this.Ya=m,d.length!==0||g?{snapshot:new kl(this.query,e.eu,c,d,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new b1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new wN(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new vN(r))}),t}uu(e){this.Ha=e.qs,this.Za=tt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return kl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Z0="SyncEngine";class MI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OI{constructor(e){this.key=e,this.lu=!1}}class LI{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new bo(p=>L2(p),Cf),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(Pe.comparator),this.Eu=new Map,this.Au=new z0,this.Ru={},this.Vu=new Map,this.mu=Il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function UI(s,e,t=!0){const r=SN(s);let o;const c=r.Pu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await _N(r,e,t,!0),o}async function VI(s,e){const t=SN(s);await _N(t,e,!0,!1)}async function _N(s,e,t,r){const o=await aI(s.localStore,yr(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,t);let p;return r&&(p=await FI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&t&&dN(s.remoteStore,o),p}async function FI(s,e,t,r,o){s.gu=(w,v,j)=>async function(F,L,q,V){let P=L.view.nu(q);P.Ds&&(P=await f1(F.localStore,L.query,!1).then(({documents:O})=>L.view.nu(O,P)));const B=V&&V.targetChanges.get(L.targetId),Y=V&&V.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(P,F.isPrimaryClient,B,Y);return N1(F,L.targetId,ae._u),ae.snapshot}(s,w,v,j);const c=await f1(s.localStore,e,!0),d=new DI(e,c.qs),p=d.nu(c.documents),m=Uu.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",o),g=d.applyChanges(p,s.isPrimaryClient,m);N1(s,t,g._u);const b=new MI(e,t,d);return s.Pu.set(e,b),s.Tu.has(t)?s.Tu.get(t).push(e):s.Tu.set(t,[e]),g.snapshot}async function zI(s,e,t){const r=qe(s),o=r.Pu.get(e),c=r.Tu.get(o.targetId);if(c.length>1)return r.Tu.set(o.targetId,c.filter(d=>!Cf(d,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Kg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&H0(r.remoteStore,o.targetId),Zg(r,o.targetId)}).catch(Ul)):(Zg(r,o.targetId),await Kg(r.localStore,o.targetId,!0))}async function BI(s,e){const t=qe(s),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),H0(t.remoteStore,r.targetId))}async function qI(s,e,t){const r=WI(s);try{const o=await function(d,p){const m=qe(d),g=At.now(),b=p.reduce((j,A)=>j.add(A.key),tt());let w,v;return m.persistence.runTransaction("Locally write mutations","readwrite",j=>{let A=da(),F=tt();return m.Os.getEntries(j,b).next(L=>{A=L,A.forEach((q,V)=>{V.isValidDocument()||(F=F.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(j,A)).next(L=>{w=L;const q=[];for(const V of p){const P=aC(V,w.get(V.key).overlayedDocument);P!=null&&q.push(new pi(V.key,P,R2(P.value.mapValue),zs.exists(!0)))}return m.mutationQueue.addMutationBatch(j,g,q,p)}).next(L=>{v=L;const q=L.applyToLocalDocumentSet(w,F);return m.documentOverlayCache.saveOverlays(j,L.batchId,q)})}).then(()=>({batchId:v.batchId,changes:F2(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let g=d.Ru[d.currentUser.toKey()];g||(g=new Vt(Ge)),g=g.insert(p,m),d.Ru[d.currentUser.toKey()]=g}(r,o.batchId,t),await Fu(r,o.changes),await Uf(r.remoteStore)}catch(o){const c=W0(o,"Failed to persist write");t.reject(c)}}async function NN(s,e){const t=qe(s);try{const r=await sI(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Eu.get(c);d&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?yt(d.lu,14607):o.removedDocuments.size>0&&(yt(d.lu,42227),d.lu=!1))}),await Fu(t,r,e)}catch(r){await Ul(r)}}function _1(s,e,t){const r=qe(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=qe(d);m.onlineState=p;let g=!1;m.queries.forEach((b,w)=>{for(const v of w.wa)v.va(p)&&(g=!0)}),g&&X0(m)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $I(s,e,t){const r=qe(s);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),c=o&&o.key;if(c){let d=new Vt(Pe.comparator);d=d.insert(c,Is.newNoDocument(c,ze.min()));const p=tt().add(c),m=new Mf(ze.min(),new Map,new Vt(Ge),d,p);await NN(r,m),r.du=r.du.remove(c),r.Eu.delete(e),J0(r)}else await Kg(r.localStore,e,!1).then(()=>Zg(r,e,t)).catch(Ul)}async function HI(s,e){const t=qe(s),r=e.batch.batchId;try{const o=await tI(t.localStore,e);EN(t,r,null),jN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,o)}catch(o){await Ul(o)}}async function GI(s,e,t){const r=qe(s);try{const o=await function(d,p){const m=qe(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return m.mutationQueue.lookupMutationBatch(g,p).next(w=>(yt(w!==null,37113),b=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,b,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>m.localDocuments.getDocuments(g,b))})}(r.localStore,e);EN(r,e,t),jN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,o)}catch(o){await Ul(o)}}function jN(s,e){(s.Vu.get(e)||[]).forEach(t=>{t.resolve()}),s.Vu.delete(e)}function EN(s,e,t){const r=qe(s);let o=r.Ru[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Zg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Tu.get(e))s.Pu.delete(r),t&&s.hu.pu(r,t);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(r=>{s.Au.containsKey(r)||TN(s,r)})}function TN(s,e){s.Iu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(H0(s.remoteStore,t),s.du=s.du.remove(e),s.Eu.delete(t),J0(s))}function N1(s,e,t){for(const r of t)r instanceof vN?(s.Au.addReference(r.key,e),QI(s,r)):r instanceof wN?(Se(Z0,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,e),s.Au.containsKey(r.key)||TN(s,r.key)):Ue(19791,{yu:r})}function QI(s,e){const t=e.key,r=t.path.canonicalString();s.du.get(t)||s.Iu.has(r)||(Se(Z0,"New document in limbo: "+t),s.Iu.add(r),J0(s))}function J0(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const t=new Pe(Et.fromString(e)),r=s.mu.next();s.Eu.set(r,new OI(t)),s.du=s.du.insert(t,r),dN(s.remoteStore,new Wa(yr(M0(t.path)),r,"TargetPurposeLimboResolution",Sf.ue))}}async function Fu(s,e,t){const r=qe(s),o=[],c=[],d=[];r.Pu.isEmpty()||(r.Pu.forEach((p,m)=>{d.push(r.gu(m,e,t).then(g=>{var b;if((g||t)&&r.isPrimaryClient){const w=g?!g.fromCache:(b=t?.targetChanges.get(m.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=q0.Es(m.targetId,g);c.push(w)}}))}),await Promise.all(d),r.hu.J_(o),await async function(m,g){const b=qe(m);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ge.forEach(g,v=>ge.forEach(v.Is,j=>b.persistence.referenceDelegate.addReference(w,v.targetId,j)).next(()=>ge.forEach(v.ds,j=>b.persistence.referenceDelegate.removeReference(w,v.targetId,j)))))}catch(w){if(!Vl(w))throw w;Se($0,"Failed to update sequence numbers: "+w)}for(const w of g){const v=w.targetId;if(!w.fromCache){const j=b.Fs.get(v),A=j.snapshotVersion,F=j.withLastLimboFreeSnapshotVersion(A);b.Fs=b.Fs.insert(v,F)}}}(r.localStore,c))}async function YI(s,e){const t=qe(s);if(!t.currentUser.isEqual(e)){Se(Z0,"User change. New user:",e.toKey());const r=await oN(t.localStore,e);t.currentUser=e,function(c,d){c.Vu.forEach(p=>{p.forEach(m=>{m.reject(new je(de.CANCELLED,d))})}),c.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Bs)}}function KI(s,e){const t=qe(s),r=t.Eu.get(e);if(r&&r.lu)return tt().add(r.key);{let o=tt();const c=t.Tu.get(e);if(!c)return o;for(const d of c){const p=t.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function SN(s){const e=qe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=NN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.hu.J_=kI.bind(null,e.eventManager),e.hu.pu=PI.bind(null,e.eventManager),e}function WI(s){const e=qe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return eI(this.persistence,new XC,e.initialUser,this.serializer)}Du(e){return new iN(B0.Vi,this.serializer)}bu(e){return new oI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class XI extends nf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){yt(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OC(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new iN(r=>tf.Vi(r,t),this.serializer)}}class Jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await RI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new II}()}createDatastore(e){const t=Of(e.databaseInfo.databaseId),r=function(c){return new hI(c)}(e.databaseInfo);return function(c,d,p,m){return new gI(c,d,p,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,c,d,p){return new xI(r,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>_1(this.syncEngine,t,0),function(){return g1.C()?new g1:new lI}())}createSyncEngine(e,t){return function(o,c,d,p,m,g,b){const w=new LI(o,c,d,p,m,g);return b&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=qe(o);Se(io,"RemoteStore shutting down."),c.Ia.add(5),await Vu(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class ZI{constructor(e,t,r,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Cs.UNAUTHENTICATED,this.clientId=A0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{Se(di,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(Se(di,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=W0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gg(s,e){s.asyncQueue.verifyOperationInProgress(),Se(di,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await oN(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{ai("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{Se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ai("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function j1(s,e){s.asyncQueue.verifyOperationInProgress();const t=await JI(s);Se(di,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(r=>x1(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>x1(e.remoteStore,o)),s._onlineComponents=e}async function JI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Se(di,"Using user provided OfflineComponentProvider");try{await gg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ai("Error using user provided cache. Falling back to memory cache: "+t),await gg(s,new nf)}}else Se(di,"Using default OfflineComponentProvider"),await gg(s,new XI(void 0));return s._offlineComponents}async function RN(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Se(di,"Using user provided OnlineComponentProvider"),await j1(s,s._uninitializedComponentsProvider._online)):(Se(di,"Using default OnlineComponentProvider"),await j1(s,new Jg))),s._onlineComponents}function e5(s){return RN(s).then(e=>e.syncEngine)}async function CN(s){const e=await RN(s),t=e.eventManager;return t.onListen=UI.bind(null,e.syncEngine),t.onUnlisten=zI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BI.bind(null,e.syncEngine),t}function t5(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,g){const b=new AN({next:v=>{b.Ou(),d.enqueueAndForget(()=>xN(c,w));const j=v.docs.has(p);!j&&v.fromCache?g.reject(new je(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&v.fromCache&&m&&m.source==="server"?g.reject(new je(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(v)},error:v=>g.reject(v)}),w=new bN(M0(p.path),b,{includeMetadataChanges:!0,ka:!0});return yN(c,w)}(await CN(s),s.asyncQueue,e,t,r)),r.promise}function s5(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,g){const b=new AN({next:v=>{b.Ou(),d.enqueueAndForget(()=>xN(c,w)),v.fromCache&&m.source==="server"?g.reject(new je(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(v)},error:v=>g.reject(v)}),w=new bN(p,b,{includeMetadataChanges:!0,ka:!0});return yN(c,w)}(await CN(s),s.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firestore.googleapis.com",T1=!0;class S1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kN,this.ssl=T1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:T1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DC)throw new je(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c6;switch(r.type){case"firstParty":return new f6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=E1.get(t);r&&(Se("ComponentProvider","Removing Datastore"),E1.delete(t),r.terminate())}(this),Promise.resolve()}}function n5(s,e,t,r={}){var o;s=fn(s,zu);const c=hi(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c&&(j0(`https://${m}`),E0("Firestore",!0)),d.host!==kN&&d.host!==m&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:m,ssl:c,emulatorOptions:r});if(!Er(g,p)&&(s._setSettings(g),r.mockUserToken)){let b,w;if(typeof r.mockUserToken=="string")b=r.mockUserToken,w=Cs.MOCK_USER;else{b=e2(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new je(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Cs(v)}s._authCredentials=new u6(new y2(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ou(t,Qt._jsonSchema))return new Qt(e,r||null,new Pe(Et.fromString(t.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:es("string",Qt._jsonSchemaVersion),referencePath:es("string")};class ni extends ma{constructor(e,t,r){super(e,t,M0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Pe(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function ft(s,e,...t){if(s=Tt(s),R0("collection","path",e),s instanceof zu){const r=Et.fromString(e,...t);return Fw(r),new ni(s,null,r)}{if(!(s instanceof Qt||s instanceof ni))throw new je(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Et.fromString(e,...t));return Fw(r),new ni(s.firestore,null,r)}}function oo(s,e){if(s=fn(s,zu),R0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ma(s,null,function(r){return new xo(Et.emptyPath(),r)}(e))}function ot(s,e,...t){if(s=Tt(s),arguments.length===1&&(e=A0.newId()),R0("doc","path",e),s instanceof zu){const r=Et.fromString(e,...t);return Vw(r),new Qt(s,null,new Pe(r))}{if(!(s instanceof Qt||s instanceof ni))throw new je(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Et.fromString(e,...t));return Vw(r),new Qt(s.firestore,s instanceof ni?s.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cN(this,"async_queue_retry"),this.oc=()=>{const r=pg();r&&Se(A1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ia;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vl(e))throw e;Se(A1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ua("INTERNAL UNHANDLED ERROR: ",C1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=K0.createAndSchedule(this,e,t,r,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Ue(47125,{hc:C1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function C1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}let gi=class extends zu{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new R1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}};function mt(s,e){const t=typeof s=="object"?s:Ef(),r=typeof s=="string"?s:Kh,o=fi(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=X_("firestore");c&&n5(o,...c)}return o}function Vf(s){if(s._terminated)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||r5(s),s._firestoreClient}function r5(s){var e,t,r;const o=s._freezeSettings(),c=function(p,m,g,b){return new C6(p,m,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,IN(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new ZI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const m=p?._online.build();return{_offline:p?._offline.build(m),_online:m}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(Es.fromBase64String(e))}catch(t){throw new je(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tn(Es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:es("string",Tn._jsonSchemaVersion),bytes:es("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function I1(){return new zl(Vg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:es("string",br._jsonSchemaVersion),latitude:es("number"),longitude:es("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new vr(e.vectorValues);throw new je(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:es("string",vr._jsonSchemaVersion),vectorValues:es("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class i5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class PN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DN(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ec:s})}}class Ff{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(DN(this.Ec)&&a5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class o5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Of(e)}Dc(e,t,r,o=!1){return new Ff({Ec:e,methodName:t,bc:r,path:js.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bu(s){const e=s._freezeSettings(),t=Of(s._databaseId);return new o5(s._databaseId,!!e.ignoreUndefinedProperties,t)}function ey(s,e,t,r,o,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,e,t,o);ry("Data must be an object, but it was:",d,r);const p=UN(r,d);let m,g;if(c.merge)m=new un(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const v=e0(e,w,t);if(!d.contains(v))throw new je(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);FN(b,v)||b.push(v)}m=new un(b),g=d.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=d.fieldTransforms;return new i5(new Ws(p),m,g)}class zf extends Bl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function MN(s,e,t){return new Ff({Ec:3,bc:e.settings.bc,methodName:s._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ty extends Bl{_toFieldTransform(e){return new L0(e.path,new Tu)}isEqual(e){return e instanceof ty}}class sy extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=MN(this,e,!0),r=this.vc.map(c=>wo(c,t)),o=new Rl(r);return new L0(e.path,o)}isEqual(e){return e instanceof sy&&Er(this.vc,e.vc)}}class ny extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=MN(this,e,!0),r=this.vc.map(c=>wo(c,t)),o=new Cl(r);return new L0(e.path,o)}isEqual(e){return e instanceof ny&&Er(this.vc,e.vc)}}function ON(s,e,t,r){const o=s.Dc(1,e,t);ry("Data must be an object, but it was:",o,r);const c=[],d=Ws.empty();mi(r,(m,g)=>{const b=ay(e,m,t);g=Tt(g);const w=o.gc(b);if(g instanceof zf)c.push(b);else{const v=wo(g,w);v!=null&&(c.push(b),d.set(b,v))}});const p=new un(c);return new PN(d,p,o.fieldTransforms)}function LN(s,e,t,r,o,c){const d=s.Dc(1,e,t),p=[e0(e,r,t)],m=[o];if(c.length%2!=0)throw new je(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<c.length;v+=2)p.push(e0(e,c[v])),m.push(c[v+1]);const g=[],b=Ws.empty();for(let v=p.length-1;v>=0;--v)if(!FN(g,p[v])){const j=p[v];let A=m[v];A=Tt(A);const F=d.gc(j);if(A instanceof zf)g.push(j);else{const L=wo(A,F);L!=null&&(g.push(j),b.set(j,L))}}const w=new un(g);return new PN(b,w,d.fieldTransforms)}function l5(s,e,t,r=!1){return wo(t,s.Dc(r?4:3,e))}function wo(s,e){if(VN(s=Tt(s)))return ry("Unsupported field value:",e,s),UN(s,e);if(s instanceof Bl)return function(r,o){if(!DN(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const p of r){let m=wo(p,o.yc(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(s,e)}return function(r,o){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J6(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=At.fromDate(r);return{timestampValue:ef(o.serializer,c)}}if(r instanceof At){const c=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ef(o.serializer,c)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:Z2(o.serializer,r._byteString)};if(r instanceof Qt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:F0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vr)return function(d,p){return{mapValue:{fields:{[S2]:{stringValue:A2},[Wh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.wc("VectorValues must only contain numeric values.");return O0(p.serializer,g)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Tf(r)}`)}(s,e)}function UN(s,e){const t={};return w2(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(s,(r,o)=>{const c=wo(o,e.Vc(r));c!=null&&(t[r]=c)}),{mapValue:{fields:t}}}function VN(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof At||s instanceof br||s instanceof Tn||s instanceof Qt||s instanceof Bl||s instanceof vr)}function ry(s,e,t){if(!VN(t)||!b2(t)){const r=Tf(t);throw r==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+r)}}function e0(s,e,t){if((e=Tt(e))instanceof zl)return e._internalPath;if(typeof e=="string")return ay(s,e);throw rf("Field path arguments must be of type string or ",s,!1,void 0,t)}const c5=new RegExp("[~\\*/\\[\\]]");function ay(s,e,t){if(e.search(c5)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function rf(s,e,t,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${o}`),m+=")"),new je(de.INVALID_ARGUMENT,p+s+m)}function FN(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class u5 extends zN{data(){return super.data()}}function Bf(s,e){return typeof e=="string"?ay(s,e):e instanceof zl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new je(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iy{}class oy extends iy{}function Ut(s,e,...t){let r=[];e instanceof iy&&r.push(e),r=r.concat(t),function(c){const d=c.filter(m=>m instanceof ly).length,p=c.filter(m=>m instanceof qf).length;if(d>1||d>0&&p>0)throw new je(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)s=o._apply(s);return s}class qf extends oy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new qf(e,t,r)}_apply(e){const t=this._parse(e);return BN(e._query,t),new ma(e.firestore,e.converter,$g(e._query,t))}_parse(e){const t=Bu(e.firestore);return function(c,d,p,m,g,b,w){let v;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new je(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){P1(w,b);const A=[];for(const F of w)A.push(k1(m,c,F));v={arrayValue:{values:A}}}else v=k1(m,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||P1(w,b),v=l5(p,d,w,b==="in"||b==="not-in");return Jt.create(g,b,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ms(s,e,t){const r=e,o=Bf("where",s);return qf._create(o,r,t)}class ly extends iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ly(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const p=c.getFlattenedFilters();for(const m of p)BN(d,m),d=$g(d,m)}(e._query,t),new ma(e.firestore,e.converter,$g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends oy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cy(e,t)}_apply(e){const t=function(o,c,d){if(o.startAt!==null)throw new je(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new je(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(c,d)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new xo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function uy(s,e="asc"){const t=e,r=Bf("orderBy",s);return cy._create(r,t)}class dy extends oy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dy(e,t,r)}_apply(e){return new ma(e.firestore,e.converter,Zh(e._query,this._limit,this._limitType))}}function t0(s){return b6("limit",s),dy._create("limit",s,"F")}function k1(s,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new je(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O2(e)&&t.indexOf("/")!==-1)throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Et.fromString(t));if(!Pe.isDocumentKey(r))throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yw(s,new Pe(r))}if(t instanceof Qt)return Yw(s,t._key);throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function P1(s,e){if(!Array.isArray(s)||s.length===0)throw new je(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BN(s,e){const t=function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new je(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class h5{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mi(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertVectorValue(e){var t,r,o;const c=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Wh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>Gt(d.doubleValue));return new vr(c)}convertGeoPoint(e){return new br(Gt(e.latitude),Gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=oi(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);yt(rN(r),9688,{name:e});const o=new Nu(r.get(1),r.get(3)),c=new Pe(r.popFirst(5));return o.isEqual(t)||ua(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends zN{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=to._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:es("string",to._jsonSchemaVersion),bundleSource:es("string","DocumentSnapshot"),bundleName:es("string"),bundle:es("string")};class Uh extends to{data(e={}){return super.data(e)}}class vl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const m=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:f5(p.type),doc:m,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=A0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(s){s=fn(s,Qt);const e=fn(s.firestore,gi);return t5(Vf(e),s._key).then(t=>p5(e,s,t))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:es("string",vl._jsonSchemaVersion),bundleSource:es("string","QuerySnapshot"),bundleName:es("string"),bundle:es("string")};class qN extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function lt(s){s=fn(s,ma);const e=fn(s.firestore,gi),t=Vf(e),r=new qN(e);return d5(s._query),s5(t,s._query).then(o=>new vl(e,r,s,o))}function s0(s,e,t){s=fn(s,Qt);const r=fn(s.firestore,gi),o=hy(s.converter,e,t);return qu(r,[ey(Bu(r),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,zs.none())])}function ks(s,e,t,...r){s=fn(s,Qt);const o=fn(s.firestore,gi),c=Bu(o);let d;return d=typeof(e=Tt(e))=="string"||e instanceof zl?LN(c,"updateDoc",s._key,e,t,r):ON(c,"updateDoc",s._key,e),qu(o,[d.toMutation(s._key,zs.exists(!0))])}function m5(s){return qu(fn(s.firestore,gi),[new Df(s._key,zs.none())])}function hu(s,e){const t=fn(s.firestore,gi),r=ot(s),o=hy(s.converter,e);return qu(t,[ey(Bu(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,zs.exists(!1))]).then(()=>r)}function qu(s,e){return function(r,o){const c=new ia;return r.asyncQueue.enqueueAndForget(async()=>qI(await e5(r),o,c)),c.promise}(Vf(s),e)}function p5(s,e,t){const r=t.docs.get(e._key),o=new qN(s);return new to(s,o,e._key,r,new iu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bu(e)}set(e,t,r){this._verifyNotCommitted();const o=yg(e,this._firestore),c=hy(o.converter,t,r),d=ey(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,zs.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=yg(e,this._firestore);let d;return d=typeof(t=Tt(t))=="string"||t instanceof zl?LN(this._dataReader,"WriteBatch.update",c._key,t,r,o):ON(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,zs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yg(e,this._firestore);return this._mutations=this._mutations.concat(new Df(t._key,zs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yg(s,e){if((s=Tt(s)).firestore!==e)throw new je(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Qs(){return new ty("serverTimestamp")}function $u(...s){return new sy("arrayUnion",s)}function lo(...s){return new ny("arrayRemove",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s){return Vf(s=fn(s,gi)),new g5(s,e=>qu(s,e))}(function(e,t=!0){(function(o){Ll=o})(yo),Gn(new An("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new gi(new d6(r.getProvider("auth-internal")),new m6(d,r.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new je(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,b)}(d,o),d);return c=Object.assign({useFetchStreams:t},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Xs(Mw,Ow,e),Xs(Mw,Ow,"esm2017")})();var y5="firebase",x5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(y5,x5,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebasestorage.googleapis.com",HN="storageBucket",b5=2*60*1e3,v5=10*60*1e3,w5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends In{constructor(e,t,r=0){super(xg(e),`Firebase Storage: ${t} (${xg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function xg(s){return"storage/"+s}function fy(){const s="An unknown error occurred, please check the error payload for server response.";return new Ft(Ct.UNKNOWN,s)}function _5(s){return new Ft(Ct.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function N5(s){return new Ft(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j5(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Ct.UNAUTHENTICATED,s)}function E5(){return new Ft(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T5(s){return new Ft(Ct.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function GN(){return new Ft(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QN(){return new Ft(Ct.CANCELED,"User canceled the upload/download.")}function S5(s){return new Ft(Ct.INVALID_URL,"Invalid URL '"+s+"'.")}function A5(s){return new Ft(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function R5(){return new Ft(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HN+"' property when initializing the app?")}function YN(){return new Ft(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C5(){return new Ft(Ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function I5(){return new Ft(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k5(s){return new Ft(Ct.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function n0(s){return new Ft(Ct.INVALID_ARGUMENT,s)}function KN(){return new Ft(Ct.APP_DELETED,"The Firebase app was deleted.")}function P5(s){return new Ft(Ct.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fu(s,e){return new Ft(Ct.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function eu(s){throw new Ft(Ct.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=dn.makeFromUrl(e,t)}catch{return new dn(e,"")}if(r.path==="")return r;throw A5(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function g(B){B.path_=decodeURIComponent(B.path)}const b="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${b}/b/${o}/o${v}`,"i"),A={bucket:1,path:3},F=t===$N?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",q=new RegExp(`^https?://${F}/${o}/${L}`,"i"),P=[{regex:p,indices:m,postModify:c},{regex:j,indices:A,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let B=0;B<P.length;B++){const Y=P[B],ae=Y.regex.exec(e);if(ae){const O=ae[Y.indices.bucket];let S=ae[Y.indices.path];S||(S=""),r=new dn(O,S),Y.postModify(r);break}}if(r==null)throw S5(e);return r}}class D5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(s,e,t){let r=1,o=null,c=null,d=!1,p=0;function m(){return p===2}let g=!1;function b(...L){g||(g=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,s(j,m())},L)}function v(){c&&clearTimeout(c)}function j(L,...q){if(g){v();return}if(L){v(),b.call(null,L,...q);return}if(m()||d){v(),b.call(null,L,...q);return}r<64&&(r*=2);let P;p===1?(p=2,P=0):P=(r+Math.random())*1e3,w(P)}let A=!1;function F(L){A||(A=!0,v(),!g&&(o!==null?(L||(p=2),clearTimeout(o),w(0)):L||(p=1)))}return w(0),c=setTimeout(()=>{d=!0,F(!0)},t),F}function O5(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(s){return s!==void 0}function U5(s){return typeof s=="function"}function V5(s){return typeof s=="object"&&!Array.isArray(s)}function $f(s){return typeof s=="string"||s instanceof String}function M1(s){return my()&&s instanceof Blob}function my(){return typeof Blob<"u"}function O1(s,e,t,r){if(r<e)throw n0(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>t)throw n0(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(s,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${s}`}function WN(s){const e=encodeURIComponent;let t="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var so;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(s,e){const t=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,t,r,o,c,d,p,m,g,b,w,v=!0,j=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=w,this.retry=v,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,F)=>{this.resolve_=A,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Sh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===so.NO_ERROR,m=c.getStatus();if(!p||XN(m,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===so.ABORT;r(!1,new Sh(!1,null,b));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Sh(g,c))})},t=(r,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());L5(m)?c(m):c()}catch(m){d(m)}else if(p!==null){const m=fy();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?KN():QN();d(m)}else{const m=GN();d(m)}};this.canceled_?t(!1,new Sh(!1,null,!0)):this.backoffId_=M5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function z5(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function B5(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q5(s,e){e&&(s["X-Firebase-GMPID"]=e)}function $5(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function H5(s,e,t,r,o,c,d=!0,p=!1){const m=WN(s.urlParams),g=s.url+m,b=Object.assign({},s.headers);return q5(b,e),z5(b,t),B5(b,c),$5(b,r),new F5(g,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Q5(...s){const e=G5();if(e!==void 0){const t=new e;for(let r=0;r<s.length;r++)t.append(s[r]);return t.getBlob()}else{if(my())return new Blob(s);throw new Ft(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y5(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(s){if(typeof atob>"u")throw k5("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bg{constructor(e,t){this.data=e,this.contentType=t||null}}function W5(s,e){switch(s){case mr.RAW:return new bg(ZN(e));case mr.BASE64:case mr.BASE64URL:return new bg(JN(s,e));case mr.DATA_URL:return new bg(Z5(e),J5(e))}throw fy()}function ZN(s){const e=[];for(let t=0;t<s.length;t++){let r=s.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=r,d=s.charCodeAt(++t);r=65536|(c&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function X5(s){let e;try{e=decodeURIComponent(s)}catch{throw fu(mr.DATA_URL,"Malformed data URL.")}return ZN(e)}function JN(s,e){switch(s){case mr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fu(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fu(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=K5(e)}catch(o){throw o.message.includes("polyfill")?o:fu(s,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class ej{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fu(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=ek(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z5(s){const e=new ej(s);return e.base64?JN(mr.BASE64,e.rest):X5(e.rest)}function J5(s){return new ej(s).contentType}function ek(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){let r=0,o="";M1(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(M1(this.data_)){const r=this.data_,o=Y5(r,e,t);return o===null?null:new Ga(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ga(r,!0)}}static getBlob(...e){if(my()){const t=e.map(r=>r instanceof Ga?r.data_:r);return new Ga(Q5.apply(null,t))}else{const t=e.map(d=>$f(d)?W5(mr.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)o[c++]=d[p]}),new Ga(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(s){let e;try{e=JSON.parse(s)}catch{return null}return V5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function sk(s,e){const t=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?t:s+"/"+t}function sj(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(s,e){return e}class Us{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||nk}}let Ah=null;function rk(s){return!$f(s)||s.length<2?s:sj(s)}function nj(){if(Ah)return Ah;const s=[];s.push(new Us("bucket")),s.push(new Us("generation")),s.push(new Us("metageneration")),s.push(new Us("name","fullPath",!0));function e(c,d){return rk(d)}const t=new Us("name");t.xform=e,s.push(t);function r(c,d){return d!==void 0?Number(d):d}const o=new Us("size");return o.xform=r,s.push(o),s.push(new Us("timeCreated")),s.push(new Us("updated")),s.push(new Us("md5Hash",null,!0)),s.push(new Us("cacheControl",null,!0)),s.push(new Us("contentDisposition",null,!0)),s.push(new Us("contentEncoding",null,!0)),s.push(new Us("contentLanguage",null,!0)),s.push(new Us("contentType",null,!0)),s.push(new Us("metadata","customMetadata",!0)),Ah=s,Ah}function ak(s,e){function t(){const r=s.bucket,o=s.fullPath,c=new dn(r,o);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function ik(s,e,t){const r={};r.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];r[d.local]=d.xform(r,e[d.server])}return ak(r,s),r}function rj(s,e,t){const r=tj(e);return r===null?null:ik(s,r,t)}function ok(s,e,t,r){const o=tj(e);if(o===null||!$f(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(g=>{const b=s.bucket,w=s.fullPath,v="/b/"+d(b)+"/o/"+d(w),j=Hu(v,t,r),A=WN({alt:"media",token:g});return j+A})[0]}function aj(s,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class ql{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(s){if(!s)throw fy()}function py(s,e){function t(r,o){const c=rj(s,o,e);return oa(c!==null),c}return t}function lk(s,e){function t(r,o){const c=rj(s,o,e);return oa(c!==null),ok(c,o,s.host,s._protocol)}return t}function Gu(s){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=E5():o=j5():t.getStatus()===402?o=N5(s.bucket):t.getStatus()===403?o=T5(s.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function ij(s){const e=Gu(s);function t(r,o){let c=e(r,o);return r.getStatus()===404&&(c=_5(s.path)),c.serverResponse=o.serverResponse,c}return t}function ck(s,e,t){const r=e.fullServerUrl(),o=Hu(r,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new ql(o,c,py(s,t),d);return p.errorHandler=ij(e),p}function uk(s,e,t){const r=e.fullServerUrl(),o=Hu(r,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new ql(o,c,lk(s,t),d);return p.errorHandler=ij(e),p}function dk(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function oj(s,e,t){const r=Object.assign({},t);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=dk(null,e)),r}function hk(s,e,t,r,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let P="";for(let B=0;B<2;B++)P=P+Math.random().toString().slice(2);return P}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const g=oj(e,r,o),b=aj(g,t),w="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,v=`\r
--`+m+"--",j=Ga.getBlob(w,r,v);if(j===null)throw YN();const A={name:g.fullPath},F=Hu(c,s.host,s._protocol),L="POST",q=s.maxUploadRetryTime,V=new ql(F,L,py(s,t),q);return V.urlParams=A,V.headers=d,V.body=j.uploadData(),V.errorHandler=Gu(e),V}class af{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function gy(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{oa(!1)}return oa(!!t&&(e||["active"]).indexOf(t)!==-1),t}function fk(s,e,t,r,o){const c=e.bucketOnlyServerUrl(),d=oj(e,r,o),p={name:d.fullPath},m=Hu(c,s.host,s._protocol),g="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},w=aj(d,t),v=s.maxUploadRetryTime;function j(F){gy(F);let L;try{L=F.getResponseHeader("X-Goog-Upload-URL")}catch{oa(!1)}return oa($f(L)),L}const A=new ql(m,g,j,v);return A.urlParams=p,A.headers=b,A.body=w,A.errorHandler=Gu(e),A}function mk(s,e,t,r){const o={"X-Goog-Upload-Command":"query"};function c(g){const b=gy(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oa(!1)}w||oa(!1);const v=Number(w);return oa(!isNaN(v)),new af(v,r.size(),b==="final")}const d="POST",p=s.maxUploadRetryTime,m=new ql(t,d,c,p);return m.headers=o,m.errorHandler=Gu(e),m}const L1=256*1024;function pk(s,e,t,r,o,c,d,p){const m=new af(0,0);if(d?(m.current=d.current,m.total=d.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw C5();const g=m.total-m.current;let b=g;o>0&&(b=Math.min(b,o));const w=m.current,v=w+b;let j="";b===0?j="finalize":g===b?j="upload, finalize":j="upload";const A={"X-Goog-Upload-Command":j,"X-Goog-Upload-Offset":`${m.current}`},F=r.slice(w,v);if(F===null)throw YN();function L(B,Y){const ae=gy(B,["active","final"]),O=m.current+b,S=r.size();let R;return ae==="final"?R=py(e,c)(B,Y):R=null,new af(O,S,ae==="final",R)}const q="POST",V=e.maxUploadRetryTime,P=new ql(t,q,L,V);return P.headers=A,P.body=F.uploadData(),P.progressCallback=p||null,P.errorHandler=Gu(s),P}const Ks={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vg(s){switch(s){case"running":case"pausing":case"canceling":return Ks.RUNNING;case"paused":return Ks.PAUSED;case"success":return Ks.SUCCESS;case"canceled":return Ks.CANCELED;case"error":return Ks.ERROR;default:return Ks.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,r){if(U5(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class yk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,c){if(this.sent_)throw eu("cannot .send() more than once");if(hi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xk extends yk{initXhr(){this.xhr_.responseType="text"}}function yl(){return new xk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=nj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(XN(o.status,[]))if(c)o=GN();else{this.sleepTime=Math.max(this.sleepTime*2,w5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ct.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=fk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=mk(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,yl,t,r);this._request=c,c.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=L1*this._chunkMultiplier,t=new af(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let d;try{d=pk(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const p=this._ref.storage._makeRequest(d,yl,o,c,!1);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){L1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ck(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=hk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,yl,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=QN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=vg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new gk(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(vg(this._state)){case Ks.SUCCESS:hl(this._resolve.bind(null,this.snapshot))();break;case Ks.CANCELED:case Ks.ERROR:const t=this._reject;hl(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vg(this._state)){case Ks.RUNNING:case Ks.PAUSED:e.next&&hl(e.next.bind(e,this.snapshot))();break;case Ks.SUCCESS:e.complete&&hl(e.complete.bind(e))();break;case Ks.CANCELED:case Ks.ERROR:e.error&&hl(e.error.bind(e,this._error))();break;default:e.error&&hl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){this._service=e,t instanceof dn?this._location=t:this._location=dn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new co(e,t)}get root(){const e=new dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sj(this._location.path)}get storage(){return this._service}get parent(){const e=tk(this._location.path);if(e===null)return null;const t=new dn(this._location.bucket,e);return new co(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw P5(e)}}function vk(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new bk(s,new Ga(e),t)}function wk(s){s._throwIfRoot("getDownloadURL");const e=uk(s.storage,s._location,nj());return s.storage.makeRequestWithTokens(e,yl).then(t=>{if(t===null)throw I5();return t})}function _k(s,e){const t=sk(s._location.path,e),r=new dn(s._location.bucket,t);return new co(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(s){return/^[A-Za-z]+:\/\//.test(s)}function jk(s,e){return new co(s,e)}function lj(s,e){if(s instanceof yy){const t=s;if(t._bucket==null)throw R5();const r=new co(t,t._bucket);return e!=null?lj(r,e):r}else return e!==void 0?_k(s,e):s}function Ek(s,e){if(e&&Nk(e)){if(s instanceof yy)return jk(s,e);throw n0("To use ref(service, url), the first argument must be a Storage instance.")}else return lj(s,e)}function U1(s,e){const t=e?.[HN];return t==null?null:dn.makeFromBucketSpec(t,s)}function Tk(s,e,t,r={}){s.host=`${e}:${t}`;const o=hi(e);o&&(j0(`https://${s.host}/b`),E0("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:e2(c,s.app.options.projectId))}class yy{constructor(e,t,r,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=$N,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b5,this._maxUploadRetryTime=v5,this._requests=new Set,o!=null?this._bucket=dn.makeFromBucketSpec(o,this._host):this._bucket=U1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dn.makeFromBucketSpec(this._url,e):this._bucket=U1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,t,r,o,c=!0){if(this._deleted)return new D5(KN());{const d=H5(e,this._appId,r,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const V1="@firebase/storage",F1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="storage";function uj(s,e,t){return s=Tt(s),vk(s,e,t)}function dj(s){return s=Tt(s),wk(s)}function hj(s,e){return s=Tt(s),Ek(s,e)}function fj(s=Ef(),e){s=Tt(s);const r=fi(s,cj).getImmediate({identifier:e}),o=X_("storage");return o&&Sk(r,...o),r}function Sk(s,e,t,r={}){Tk(s,e,t,r)}function Ak(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new yy(t,r,o,e,yo)}function Rk(){Gn(new An(cj,Ak,"PUBLIC").setMultipleInstances(!0)),Xs(V1,F1,""),Xs(V1,F1,"esm2017")}Rk();const mj="@firebase/installations",xy="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1e4,gj=`w:${xy}`,yj="FIS_v2",Ck="https://firebaseinstallations.googleapis.com/v1",Ik=60*60*1e3,kk="installations",Pk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uo=new go(kk,Pk,Dk);function xj(s){return s instanceof In&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj({projectId:s}){return`${Ck}/projects/${s}/installations`}function vj(s){return{token:s.token,requestStatus:2,expiresIn:Ok(s.expiresIn),creationTime:Date.now()}}async function wj(s,e){const r=(await e.json()).error;return uo.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _j({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function Mk(s,{refreshToken:e}){const t=_j(s);return t.append("Authorization",Lk(e)),t}async function Nj(s){const e=await s();return e.status>=500&&e.status<600?s():e}function Ok(s){return Number(s.replace("s","000"))}function Lk(s){return`${yj} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk({appConfig:s,heartbeatServiceProvider:e},{fid:t}){const r=bj(s),o=_j(s),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={fid:t,authVersion:yj,appId:s.appId,sdkVersion:gj},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await Nj(()=>fetch(r,p));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:vj(g.authToken)}}else throw await wj("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^[cdef][\w-]{21}$/,r0="";function zk(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const t=Bk(s);return Fk.test(t)?t:r0}catch{return r0}}function Bk(s){return Vk(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Map;function Tj(s,e){const t=Hf(s);Sj(t,e),qk(t,e)}function Sj(s,e){const t=Ej.get(s);if(t)for(const r of t)r(e)}function qk(s,e){const t=$k();t&&t.postMessage({key:s,fid:e}),Hk()}let Ji=null;function $k(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=s=>{Sj(s.data.key,s.data.fid)}),Ji}function Hk(){Ej.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-installations-database",Qk=1,ho="firebase-installations-store";let wg=null;function by(){return wg||(wg=i2(Gk,Qk,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(ho)}}})),wg}async function of(s,e){const t=Hf(s),o=(await by()).transaction(ho,"readwrite"),c=o.objectStore(ho),d=await c.get(t);return await c.put(e,t),await o.done,(!d||d.fid!==e.fid)&&Tj(s,e.fid),e}async function Aj(s){const e=Hf(s),r=(await by()).transaction(ho,"readwrite");await r.objectStore(ho).delete(e),await r.done}async function Gf(s,e){const t=Hf(s),o=(await by()).transaction(ho,"readwrite"),c=o.objectStore(ho),d=await c.get(t),p=e(d);return p===void 0?await c.delete(t):await c.put(p,t),await o.done,p&&(!d||d.fid!==p.fid)&&Tj(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(s){let e;const t=await Gf(s.appConfig,r=>{const o=Yk(r),c=Kk(s,o);return e=c.registrationPromise,c.installationEntry});return t.fid===r0?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Yk(s){const e=s||{fid:zk(),registrationStatus:0};return Rj(e)}function Kk(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(uo.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Wk(s,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Xk(s)}:{installationEntry:e}}async function Wk(s,e){try{const t=await Uk(s,e);return of(s.appConfig,t)}catch(t){throw xj(t)&&t.customData.serverCode===409?await Aj(s.appConfig):await of(s.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Xk(s){let e=await z1(s.appConfig);for(;e.registrationStatus===1;)await jj(100),e=await z1(s.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await vy(s);return r||t}return e}function z1(s){return Gf(s,e=>{if(!e)throw uo.create("installation-not-found");return Rj(e)})}function Rj(s){return Zk(s)?{fid:s.fid,registrationStatus:0}:s}function Zk(s){return s.registrationStatus===1&&s.registrationTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk({appConfig:s,heartbeatServiceProvider:e},t){const r=eP(s,t),o=Mk(s,t),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={installation:{sdkVersion:gj,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await Nj(()=>fetch(r,p));if(m.ok){const g=await m.json();return vj(g)}else throw await wj("Generate Auth Token",m)}function eP(s,{fid:e}){return`${bj(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(s,e=!1){let t;const r=await Gf(s.appConfig,c=>{if(!Cj(c))throw uo.create("not-registered");const d=c.authToken;if(!e&&nP(d))return c;if(d.requestStatus===1)return t=tP(s,e),c;{if(!navigator.onLine)throw uo.create("app-offline");const p=aP(c);return t=sP(s,p),p}});return t?await t:r.authToken}async function tP(s,e){let t=await B1(s.appConfig);for(;t.authToken.requestStatus===1;)await jj(100),t=await B1(s.appConfig);const r=t.authToken;return r.requestStatus===0?wy(s,e):r}function B1(s){return Gf(s,e=>{if(!Cj(e))throw uo.create("not-registered");const t=e.authToken;return iP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sP(s,e){try{const t=await Jk(s,e),r=Object.assign(Object.assign({},e),{authToken:t});return await of(s.appConfig,r),t}catch(t){if(xj(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Aj(s.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await of(s.appConfig,r)}throw t}}function Cj(s){return s!==void 0&&s.registrationStatus===2}function nP(s){return s.requestStatus===2&&!rP(s)}function rP(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+Ik}function aP(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function iP(s){return s.requestStatus===1&&s.requestTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(s){const e=s,{installationEntry:t,registrationPromise:r}=await vy(e);return r?r.catch(console.error):wy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(s,e=!1){const t=s;return await cP(t),(await wy(t,e)).token}async function cP(s){const{registrationPromise:e}=await vy(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(s){if(!s||!s.options)throw _g("App Configuration");if(!s.name)throw _g("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!s.options[t])throw _g(t);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function _g(s){return uo.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="installations",dP="installations-internal",hP=s=>{const e=s.getProvider("app").getImmediate(),t=uP(e),r=fi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fP=s=>{const e=s.getProvider("app").getImmediate(),t=fi(e,Ij).getImmediate();return{getId:()=>oP(t),getToken:o=>lP(t,o)}};function mP(){Gn(new An(Ij,hP,"PUBLIC")),Gn(new An(dP,fP,"PRIVATE"))}mP();Xs(mj,xy);Xs(mj,xy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="analytics",pP="firebase_id",gP="origin",yP=60*1e3,xP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_y="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hn=new go("analytics","Analytics",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(s){if(!s.startsWith(_y)){const e=hn.create("invalid-gtag-resource",{gtagURL:s});return Zs.warn(e.message),""}return s}function kj(s){return Promise.all(s.map(e=>e.catch(t=>t)))}function wP(s,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(s,e)),t}function _P(s,e){const t=wP("firebase-js-sdk-policy",{createScriptURL:vP}),r=document.createElement("script"),o=`${_y}?l=${s}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function NP(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function jP(s,e,t,r,o,c){const d=r[o];try{if(d)await e[d];else{const m=(await kj(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(p){Zs.error(p)}s("config",o,c)}async function EP(s,e,t,r,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await kj(t);for(const m of d){const g=p.find(w=>w.measurementId===m),b=g&&e[g.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){Zs.error(c)}}function TP(s,e,t,r){async function o(c,...d){try{if(c==="event"){const[p,m]=d;await EP(s,e,t,p,m)}else if(c==="config"){const[p,m]=d;await jP(s,e,t,r,p,m)}else if(c==="consent"){const[p,m]=d;s("consent",p,m)}else if(c==="get"){const[p,m,g]=d;s("get",p,m,g)}else if(c==="set"){const[p]=d;s("set",p)}else s(c,...d)}catch(p){Zs.error(p)}}return o}function SP(s,e,t,r,o){let c=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=TP(c,s,e,t),{gtagCore:c,wrappedGtag:window[o]}}function AP(s){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_y)&&t.src.includes(s))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=30,CP=1e3;class IP{constructor(e={},t=CP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Pj=new IP;function kP(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function PP(s){var e;const{appId:t,apiKey:r}=s,o={method:"GET",headers:kP(r)},c=xP.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let p="";try{const m=await d.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function DP(s,e=Pj,t){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw hn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw hn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new LP;return setTimeout(async()=>{p.abort()},yP),Dj({appId:r,apiKey:o,measurementId:c},d,p,e)}async function Dj(s,{throttleEndTimeMillis:e,backoffCount:t},r,o=Pj){var c;const{appId:d,measurementId:p}=s;try{await MP(r,e)}catch(m){if(p)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:d,measurementId:p};throw m}try{const m=await PP(s);return o.deleteThrottleMetadata(d),m}catch(m){const g=m;if(!OP(g)){if(o.deleteThrottleMetadata(d),p)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:d,measurementId:p};throw m}const b=Number((c=g?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Ew(t,o.intervalMillis,RP):Ew(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return o.setThrottleMetadata(d,w),Zs.debug(`Calling attemptFetch again in ${b} millis`),Dj(s,w,r,o)}}function MP(s,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);s.addEventListener(()=>{clearTimeout(c),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OP(s){if(!(s instanceof In)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class LP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UP(s,e,t,r,o){if(o&&o.global){s("event",t,r);return}else{const c=await e,d=Object.assign(Object.assign({},r),{send_to:c});s("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(){if(s2())try{await n2()}catch(s){return Zs.warn(hn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return Zs.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FP(s,e,t,r,o,c,d){var p;const m=DP(s);m.then(j=>{t[j.measurementId]=j.appId,s.options.measurementId&&j.measurementId!==s.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>Zs.error(j)),e.push(m);const g=VP().then(j=>{if(j)return r.getId()}),[b,w]=await Promise.all([m,g]);AP(c)||_P(c,b.measurementId),o("js",new Date);const v=(p=d?.config)!==null&&p!==void 0?p:{};return v[gP]="firebase",v.update=!0,w!=null&&(v[pP]=w),o("config",b.measurementId,v),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.app=e}_delete(){return delete mu[this.app.options.appId],Promise.resolve()}}let mu={},q1=[];const $1={};let Ng="dataLayer",BP="gtag",H1,Mj,G1=!1;function qP(){const s=[];if(t2()&&s.push("This is a browser extension environment."),$R()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=hn.create("invalid-analytics-context",{errorInfo:e});Zs.warn(t.message)}}function $P(s,e,t){qP();const r=s.options.appId;if(!r)throw hn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hn.create("no-api-key");if(mu[r]!=null)throw hn.create("already-exists",{id:r});if(!G1){NP(Ng);const{wrappedGtag:c,gtagCore:d}=SP(mu,q1,$1,Ng,BP);Mj=c,H1=d,G1=!0}return mu[r]=FP(s,q1,$1,e,H1,Ng,t),new zP(s)}function HP(s=Ef()){s=Tt(s);const e=fi(s,lf);return e.isInitialized()?e.getImmediate():GP(s)}function GP(s,e={}){const t=fi(s,lf);if(t.isInitialized()){const o=t.getImmediate();if(Er(e,t.getOptions()))return o;throw hn.create("already-initialized")}return t.initialize({options:e})}function QP(s,e,t,r){s=Tt(s),UP(Mj,mu[s.app.options.appId],e,t,r).catch(o=>Zs.error(o))}const Q1="@firebase/analytics",Y1="0.10.17";function YP(){Gn(new An(lf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return $P(r,o,t)},"PUBLIC")),Gn(new An("analytics-internal",s,"PRIVATE")),Xs(Q1,Y1),Xs(Q1,Y1,"esm2017");function s(e){try{const t=e.getProvider(lf).getImmediate();return{logEvent:(r,o,c)=>QP(t,r,o,c)}}catch(t){throw hn.create("interop-component-reg-failed",{reason:t})}}}YP();function Ny(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(t[r[o]]=s[r[o]]);return t}function Oj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KP=Oj,Lj=new go("auth","Firebase",Oj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new jf("@firebase/auth");function WP(s,...e){cf.logLevel<=et.WARN&&cf.warn(`Auth (${yo}): ${s}`,...e)}function Vh(s,...e){cf.logLevel<=et.ERROR&&cf.error(`Auth (${yo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(s,...e){throw Ey(s,...e)}function $n(s,...e){return Ey(s,...e)}function jy(s,e,t){const r=Object.assign(Object.assign({},KP()),{[e]:t});return new go("auth","Firebase",r).create(e,{appName:s.name})}function wr(s){return jy(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uj(s,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(s,"argument-error"),jy(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ey(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return Lj.create(s,...e)}function Le(s,e,...t){if(!s)throw Ey(e,...t)}function sa(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Vh(e),new Error(e)}function ha(s,e){s||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function XP(){return K1()==="http:"||K1()==="https:"}function K1(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XP()||t2()||"connection"in navigator)?navigator.onLine:!0}function JP(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ha(t>e,"Short delay should be less than long delay!"),this.isMobile=UR()||zR()}get(){return ZP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(s,e){ha(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new Qu(3e4,6e4);function yi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function pa(s,e,t,r,o={}){return Fj(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Mu(Object.assign({key:s.config.apiKey},d)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const g=Object.assign({method:e,headers:m},c);return FR()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&hi(s.emulatorConfig.host)&&(g.credentials="include"),Vj.fetch()(await zj(s,s.config.apiHost,t,p),g)})}async function Fj(s,e,t){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},eD),e);try{const o=new rD(s),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Rh(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Rh(s,"user-disabled",d);const b=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jy(s,b,g);Rn(s,b)}}catch(o){if(o instanceof In)throw o;Rn(s,"network-request-failed",{message:String(o)})}}async function Yu(s,e,t,r,o={}){const c=await pa(s,e,t,r,o);return"mfaPendingCredential"in c&&Rn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function zj(s,e,t,r){const o=`${e}${t}?${r}`,c=s,d=c.config.emulator?Ty(s.config,o):`${s.config.apiScheme}://${o}`;return tD.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),sD.get())})}}function Rh(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=$n(s,e,r);return o.customData._tokenResponse=t,o}function W1(s){return s!==void 0&&s.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(s,e){return pa(s,"GET","/v2/recaptchaConfig",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(s,e){return pa(s,"POST","/v1/accounts:delete",e)}async function uf(s,e){return pa(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(s,e=!1){const t=Tt(s),r=await t.getIdToken(e),o=Sy(r);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:pu(jg(o.auth_time)),issuedAtTime:pu(jg(o.iat)),expirationTime:pu(jg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jg(s){return Number(s)*1e3}function Sy(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=K_(t);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function X1(s){const e=Sy(s);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof In&&cD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(s){var e;const t=s.auth,r=await s.getIdToken(),o=await Pl(s,uf(t,{idToken:r}));Le(o?.users.length,t,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Bj(c.providerUserInfo):[],p=hD(s.providerData,d),m=s.isAnonymous,g=!(s.email&&c.passwordHash)&&!p?.length,b=m?g:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new i0(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(s,w)}async function dD(s){const e=Tt(s);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Bj(s){return s.map(e=>{var{providerId:t}=e,r=Ny(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(s,e){const t=await Fj(s,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await zj(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:r};return s.emulatorConfig&&hi(s.emulatorConfig.host)&&(m.credentials="include"),Vj.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(s,e){return pa(s,"POST","/v2/accounts:revokeToken",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=X1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:c}=await fD(e,t);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,d=new wl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Le(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Le(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(s,e){Le(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,c=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new i0(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lD(this,e)}reload(){return dD(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await Pl(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,c,d,p,m,g,b;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(o=t.email)!==null&&o!==void 0?o:void 0,j=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,A=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(p=t.tenantId)!==null&&p!==void 0?p:void 0,L=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,V=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:P,emailVerified:B,isAnonymous:Y,providerData:ae,stsTokenManager:O}=t;Le(P&&O,e,"internal-error");const S=wl.fromJSON(this.name,O);Le(typeof P=="string",e,"internal-error"),Ha(w,e.name),Ha(v,e.name),Le(typeof B=="boolean",e,"internal-error"),Le(typeof Y=="boolean",e,"internal-error"),Ha(j,e.name),Ha(A,e.name),Ha(F,e.name),Ha(L,e.name),Ha(q,e.name),Ha(V,e.name);const R=new Fn({uid:P,auth:e,email:v,emailVerified:B,displayName:w,isAnonymous:Y,photoURL:A,phoneNumber:j,tenantId:F,stsTokenManager:S,createdAt:q,lastLoginAt:V});return ae&&Array.isArray(ae)&&(R.providerData=ae.map(U=>Object.assign({},U))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,r=!1){const o=new wl;o.updateFromServerResponse(t);const c=new Fn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await df(c),c}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bj(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new wl;p.updateFromIdToken(r);const m=new Fn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new i0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map;function na(s){ha(s instanceof Function,"Expected a class definition");let e=Z1.get(s);return e?(ha(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Z1.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qj.type="NONE";const J1=qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s,e,t){return`firebase:${s}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Fh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Fh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uf(this.auth,{idToken:e}).catch(()=>{});return t?Fn._fromGetAccountInfoResponse(this.auth,t,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(na(J1),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||na(J1);const d=Fh(r,e.config.apiKey,e.name);let p=null;for(const g of t)try{const b=await g._get(d);if(b){let w;if(typeof b=="string"){const v=await uf(e,{idToken:b}).catch(()=>{});if(!v)break;w=await Fn._fromGetAccountInfoResponse(e,v,b)}else w=Fn._fromJSON(e,b);g!==c&&(p=w),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new _l(c,e,r):(c=m[0],p&&await c._set(d,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new _l(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($j(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kj(e))return"Blackberry";if(Wj(e))return"Webos";if(Hj(e))return"Safari";if((e.includes("chrome/")||Gj(e))&&!e.includes("edge/"))return"Chrome";if(Yj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function $j(s=Ps()){return/firefox\//i.test(s)}function Hj(s=Ps()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gj(s=Ps()){return/crios\//i.test(s)}function Qj(s=Ps()){return/iemobile/i.test(s)}function Yj(s=Ps()){return/android/i.test(s)}function Kj(s=Ps()){return/blackberry/i.test(s)}function Wj(s=Ps()){return/webos/i.test(s)}function Ay(s=Ps()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pD(s=Ps()){var e;return Ay(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gD(){return BR()&&document.documentMode===10}function Xj(s=Ps()){return Ay(s)||Yj(s)||Wj(s)||Kj(s)||/windows phone/i.test(s)||Qj(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(s,e=[]){let t;switch(s){case"Browser":t=e_(Ps());break;case"Worker":t=`${e_(Ps())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,p)=>{try{const m=e(c);d(m)}catch(m){p(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(s,e={}){return pa(s,"GET","/v2/passwordPolicy",yi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class vD{constructor(e){var t,r,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:bD,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,c,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=na(t)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uf(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vs(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m?.user&&(o=m.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(wr(this));const t=e?Tt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xD(this),t=new vD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new go("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&na(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[na(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&WP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ar(s){return Tt(s)}class t_{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(s){Qf=s}function Jj(s){return Qf.loadJS(s)}function ND(){return Qf.recaptchaEnterpriseScript}function jD(){return Qf.gapiScript}function ED(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class TD{constructor(){this.enterprise=new SD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AD="recaptcha-enterprise",eE="NO_RECAPTCHA";class RD{constructor(e){this.type=AD,this.auth=Ar(e)}async verify(e="verify",t=!1){async function r(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{iD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new aD(m);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(m=>{p(m)})})}function o(c,d,p){const m=window.grecaptcha;W1(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(eE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TD().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!t&&W1(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ND();m.length!==0&&(m+=p),Jj(m).then(()=>{o(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function s_(s,e,t,r=!1,o=!1){const c=new RD(s);let d;if(o)d=eE;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function o0(s,e,t,r,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await s_(s,e,t,t==="getOobCode");return r(s,d)}else return r(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await s_(s,e,t,t==="getOobCode");return r(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(s,e){const t=fi(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Er(c,e??{}))return o;Rn(o,"already-initialized")}return t.initialize({options:e})}function ID(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(na);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function kD(s,e,t){const r=Ar(s);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=tE(e),{host:d,port:p}=PD(e),m=p===null?"":`:${p}`,g={url:`${c}//${d}${m}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Er(g,r.config.emulator)&&Er(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,hi(d)?(j0(`${c}//${d}${m}`),E0("Auth",!0)):DD()}function tE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PD(s){const e=tE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:n_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:n_(d)}}}function n_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function DD(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,t){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}async function MD(s,e){return pa(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(s,e){return Yu(s,"POST","/v1/accounts:signInWithPassword",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(s,e){return Yu(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}async function UD(s,e){return Yu(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Ry{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Su(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Su(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o0(e,t,"signInWithPassword",OD);case"emailLink":return LD(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o0(e,r,"signUpPassword",MD);case"emailLink":return UD(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s,e){return Yu(s,"POST","/v1/accounts:signInWithIdp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="http://localhost";class fo extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,c=Ny(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new fo(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Nl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Nl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}buildRequest(){const e={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(s){const e=tu(su(s)).link,t=e?tu(su(e)).deep_link_id:null,r=tu(su(s)).deep_link_id;return(r?tu(su(r)).link:null)||r||t||e||s}class Cy{constructor(e){var t,r,o,c,d,p;const m=tu(su(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,b=(r=m.oobCode)!==null&&r!==void 0?r:null,w=FD((o=m.mode)!==null&&o!==void 0?o:null);Le(g&&b&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=b,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=zD(e);try{return new Cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return Su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cy.parseLink(t);return Le(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Yf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Ku{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ta.credential(t,r)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Ku{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Ku{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ka.credential(t,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(s,e){return Yu(s,"POST","/v1/accounts:signUp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const c=await Fn._fromIdTokenResponse(e,r,o),d=r_(r);return new mo({user:c,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=r_(r);return new mo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function r_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends In{constructor(e,t,r,o){var c;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new hf(e,t,r,o)}}function sE(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(s,c,e,r):c})}async function qD(s,e,t=!1){const r=await Pl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return mo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(s,e,t=!1){const{auth:r}=s;if(Vs(r.app))return Promise.reject(wr(r));const o="reauthenticate";try{const c=await Pl(s,sE(r,o,e,s),t);Le(c.idToken,r,"internal-error");const d=Sy(c.idToken);Le(d,r,"internal-error");const{sub:p}=d;return Le(s.uid===p,r,"user-mismatch"),mo._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Rn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(s,e,t=!1){if(Vs(s.app))return Promise.reject(wr(s));const r="signIn",o=await sE(s,r,e),c=await mo._fromIdTokenResponse(s,r,o);return t||await s._updateCurrentUser(c.user),c}async function HD(s,e){return nE(Ar(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(s){const e=Ar(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GD(s,e,t){if(Vs(s.app))return Promise.reject(wr(s));const r=Ar(s),d=await o0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&rE(s),m}),p=await mo._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function QD(s,e,t){return Vs(s.app)?Promise.reject(wr(s)):HD(Tt(s),$l.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rE(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(s,e){return pa(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Pl(r,YD(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function WD(s,e,t,r){return Tt(s).onIdTokenChanged(e,t,r)}function XD(s,e,t){return Tt(s).beforeAuthStateChanged(e,t)}function ZD(s,e,t,r){return Tt(s).onAuthStateChanged(e,t,r)}function JD(s){return Tt(s).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1e3,tM=10;class iE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);gD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tM):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const sM=iE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oE.type="SESSION";const lE=oE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async g=>g(t.origin,c)),m=await nM(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,m)=>{const g=Iy("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const v=w;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(v.data.response);break;default:clearTimeout(b),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function aM(s){_r().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function iM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function lM(){return cE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebaseLocalStorageDb",cM=1,mf="firebaseLocalStorage",dE="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wf(s,e){return s.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function uM(){const s=indexedDB.deleteDatabase(uE);return new Wu(s).toPromise()}function l0(){const s=indexedDB.open(uE,cM);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mf,{keyPath:dE})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await uM(),e(await l0()))})})}async function a_(s,e,t){const r=Wf(s,!0).put({[dE]:e,value:t});return new Wu(r).toPromise()}async function dM(s,e){const t=Wf(s,!1).get(e),r=await new Wu(t).toPromise();return r===void 0?null:r.value}function i_(s,e){const t=Wf(s,!0).delete(e);return new Wu(t).toPromise()}const hM=800,fM=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(lM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l0();return await a_(e,ff,"1"),await i_(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>a_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>i_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Wf(o,!1).getAll();return new Wu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const mM=hE;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s,e){return e?na(e):(Le(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pM(s){return nE(s.auth,new Py(s),s.bypassAuthState)}function gM(s){const{auth:e,user:t}=s;return Le(t,e,"internal-error"),$D(t,new Py(s),s.bypassAuthState)}async function yM(s){const{auth:e,user:t}=s;return Le(t,e,"internal-error"),qD(t,new Py(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pM;case"linkViaPopup":case"linkViaRedirect":return yM;case"reauthViaPopup":case"reauthViaRedirect":return gM;default:Rn(this.auth,"internal-error")}}resolve(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Qu(2e3,1e4);async function bM(s,e,t){if(Vs(s.app))return Promise.reject($n(s,"operation-not-supported-in-this-environment"));const r=Ar(s);Uj(s,e,Yf);const o=ky(r,t);return new eo(r,"signInViaPopup",e,o).executeNotNull()}class eo extends fE{constructor(e,t,r,o,c){super(e,t,o,c),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const e=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="pendingRedirect",zh=new Map;class wM extends fE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(s,e){const t=pE(e),r=mE(s);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}async function NM(s,e){return mE(s)._set(pE(e),"true")}function jM(s,e){zh.set(s._key(),e)}function mE(s){return na(s._redirectPersistence)}function pE(s){return Fh(vM,s.config.apiKey,s.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(s,e,t){return TM(s,e,t)}async function TM(s,e,t){if(Vs(s.app))return Promise.reject(wr(s));const r=Ar(s);Uj(s,e,Yf),await r._initializationPromise;const o=ky(r,t);return await NM(o,r),o._openRedirect(r,e,"signInViaRedirect")}async function SM(s,e){return await Ar(s)._initializationPromise,gE(s,e,!1)}async function gE(s,e,t=!1){if(Vs(s.app))return Promise.reject(wr(s));const r=Ar(s),o=ky(r,e),d=await new wM(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=10*60*1e3;class RM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($n(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AM&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function CM(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(s,e={}){return pa(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PM=/^https?/;async function DM(s){if(s.config.emulator)return;const{authorizedDomains:e}=await IM(s);for(const t of e)try{if(MM(t))return}catch{}Rn(s,"unauthorized-domain")}function MM(s){const e=a0(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!PM.test(t))return!1;if(kM.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Qu(3e4,6e4);function l_(){const s=_r().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function LM(s){return new Promise((e,t)=>{var r,o,c;function d(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),t($n(s,"network-request-failed"))},timeout:OM.get()})}if(!((o=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=_r().gapi)===null||c===void 0)&&c.load)d();else{const p=ED("iframefcb");return _r()[p]=()=>{gapi.load?d():t($n(s,"network-request-failed"))},Jj(`${jD()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function UM(s){return Bh=Bh||LM(s),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Qu(5e3,15e3),FM="__/auth/iframe",zM="emulator/auth/iframe",BM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $M(s){const e=s.config;Le(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Ty(e,zM):`https://${s.config.authDomain}/${FM}`,r={apiKey:e.apiKey,appName:s.name,v:yo},o=qM.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${Mu(r).slice(1)}`}async function HM(s){const e=await UM(s),t=_r().gapi;return Le(t,s,"internal-error"),e.open({where:document.body,url:$M(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BM,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=$n(s,"network-request-failed"),p=_r().setTimeout(()=>{c(d)},VM.get());function m(){_r().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,YM=600,KM="_blank",WM="http://localhost";class c_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XM(s,e,t,r=QM,o=YM){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m=Object.assign(Object.assign({},GM),{width:r.toString(),height:o.toString(),top:c,left:d}),g=Ps().toLowerCase();t&&(p=Gj(g)?KM:t),$j(g)&&(e=e||WM,m.scrollbars="yes");const b=Object.entries(m).reduce((v,[j,A])=>`${v}${j}=${A},`,"");if(pD(g)&&p!=="_self")return ZM(e||"",p),new c_(null);const w=window.open(e||"",p,b);Le(w,s,"popup-blocked");try{w.focus()}catch{}return new c_(w)}function ZM(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function u_(s,e,t,r,o,c){Le(s.config.authDomain,s,"auth-domain-config-required"),Le(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:yo,eventId:o};if(e instanceof Yf){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",YR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Ku){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const m=await s._getAppCheckToken(),g=m?`#${tO}=${encodeURIComponent(m)}`:"";return`${sO(s)}?${Mu(p).slice(1)}${g}`}function sO({config:s}){return s.emulator?Ty(s,eO):`https://${s.authDomain}/${JM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class nO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=gE,this._overrideRedirectResult=jM}async _openPopup(e,t,r,o){var c;ha((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await u_(e,t,r,a0(),o);return XM(e,d,Iy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const c=await u_(e,t,r,a0(),o);return aM(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ha(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await HM(e),r=new RM(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},o=>{var c;const d=(c=o?.[0])===null||c===void 0?void 0:c[Eg];d!==void 0&&t(!!d),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xj()||Hj()||Ay()}}const rO=nO;var d_="@firebase/auth",h_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oO(s){Gn(new An("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Le(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zj(s)},g=new wD(r,o,c,m);return ID(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new An("auth-internal",e=>{const t=Ar(e.getProvider("auth").getImmediate());return(r=>new aO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(d_,h_,iO(s)),Xs(d_,h_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,cO=J_("authIdTokenMaxAge")||lO;let f_=null;const uO=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cO)return;const o=t?.token;f_!==o&&(f_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dO(s=Ef()){const e=fi(s,"auth");if(e.isInitialized())return e.getImmediate();const t=CD(s,{popupRedirectResolver:rO,persistence:[mM,sM,lE]}),r=J_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=uO(c.toString());XD(t,d,()=>d(t.currentUser)),WD(t,p=>d(p))}}const o=W_("auth");return o&&kD(t,`http://${o}`),t}function hO(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}_D({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=$n("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",hO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oO("Browser");const fO={apiKey:"AIzaSyDBgJGytsQvvYIEwNgbIbogkjcHZAwHzb8",authDomain:"properties-a2d2b.firebaseapp.com",projectId:"properties-a2d2b",storageBucket:"properties-a2d2b.firebasestorage.app",messagingSenderId:"546687848025",appId:"1:546687848025:web:783fefc052108b80206b48",measurementId:"G-J5VRQ6NBK3"},Xf=o2(fO);HP(Xf);const Cn=dO(Xf),Dy=new ta,mO=fj(Xf),dt=mt(Xf);Dy.setCustomParameters({prompt:"select_account"});const Zf=async(s,e={})=>{if(!s)return null;try{const t=ot(dt,"users",s.uid),r=await is(t);if(r.exists())return console.log("User profile already exists"),r.data();{const o={uid:s.uid,email:s.email,displayName:s.displayName||"",firstName:e.firstName||"",lastName:e.lastName||"",primaryPhone:e.primaryPhone||"",whatsappPhone:e.whatsappPhone||"",alternateEmail:e.alternateEmail||"",profileImage:e.profileImage||"",isRealEstateProfessional:e.isRealEstateProfessional||!1,companyName:e.companyName||"",companyPhone:e.companyPhone||"",category:e.category||"",website:e.website||"",country:e.country||"Nigeria",state:e.state||"",city:e.city||"",address:e.address||"",aboutUs:e.aboutUs||"",createdAt:Qs(),updatedAt:Qs(),isActive:!0,productCount:0};return await s0(t,o),console.log("User profile created successfully"),o}}catch(t){throw console.error("Error creating user profile:",t),t}},My=async s=>{if(!s)return null;try{const e=ot(dt,"users",s),t=await is(e);return t.exists()?t.data():(console.log("User profile not found"),null)}catch(e){throw console.error("Error getting user profile:",e),e}},pO=async(s,e,t={})=>{try{const o=(await GD(Cn,s,e)).user;return t.displayName&&await KD(o,{displayName:t.displayName}),await Zf(o,t),console.log("User signed up successfully:",o),o}catch(r){throw console.error("Error signing up:",r),r}},gO=async(s,e)=>{try{const r=(await QD(Cn,s,e)).user;return await Zf(r),console.log("User signed in:",r),r}catch(t){throw console.error("Error signing in:",t),t}},xE=async()=>{try{const e=(await bM(Cn,Dy)).user;return await Zf(e),console.log("User signed in:",e),e}catch(s){throw console.error("Error signing in:",s),s}},bE=()=>{EM(Cn,Dy)},vE=async()=>{try{const s=await SM(Cn);if(s){const e=s.user;return await Zf(e),console.log("User signed in through redirect:",e),e}}catch(s){throw console.error("Error handling redirect:",s),s}},kn=s=>ZD(Cn,e=>{e?console.log("Auth state changed: User is signed in",e):console.log("Auth state changed: User is signed out"),s(e)}),yO=async()=>{try{await JD(Cn),console.log("User signed out successfully")}catch(s){throw console.error("Error signing out:",s),s}},Jf=()=>Cn.currentUser,xO=async(s,e=null)=>{if(!s||!Cn.currentUser)return null;const t=Cn.currentUser,r=hj(mO,`profile-images/${t.uid}/${Date.now()}_${s.name}`),o={contentType:s.type,customMetadata:{originalName:s.name,uploadedBy:t.uid,uploadedAt:new Date().toISOString()}};try{const c=uj(r,s,o);return new Promise((d,p)=>{c.on("state_changed",m=>{const g=m.bytesTransferred/m.totalBytes*100;e&&e(g)},m=>{console.error("Upload failed:",m),p(m)},async()=>{try{const m=await dj(c.snapshot.ref);d({url:m,path:c.snapshot.ref.fullPath})}catch(m){p(m)}})})}catch(c){throw console.error("Error uploading profile image:",c),c}},bO=()=>{const[s,e]=T.useState(null),[t,r]=T.useState(null),[o,c]=T.useState(null),[d,p]=T.useState(0),[m,g]=T.useState(!1),[b,w]=T.useState(!1),[v,j]=T.useState(null),[A,F]=T.useState(!1),[L,q]=T.useState(!1),[V,P]=T.useState(""),[B,Y]=T.useState(!1),[ae,O]=T.useState([]),[S,R]=T.useState(!1),[U,z]=T.useState(-1),[C,E]=T.useState(!1),re=T.useRef(null),ce=T.useRef(null),W=[{name:"Buy",a:"/property_for_sale"},{name:"Rent",a:"/rent-property"},{name:"Estate Agent",a:"/Agents"}],me=[{name:"Shortlet",a:"/shortlet-property"},{name:"Services",a:"/services"},{name:"Blog",a:"/blogPage"}],ve={Buy:[{name:"Houses for Sale",href:"/houses-for-sale",icon:""},{name:"Apartments for Sale",href:"/apartments-for-sale",icon:""},{name:"Commercial Properties",href:"/commercial-sale",icon:""},{name:"Land for Sale",href:"/land-for-sale",icon:""},{name:"New Developments",href:"/new-developments",icon:""}],Rent:[{name:"Houses for Rent",href:"/houses-for-rent",icon:""},{name:"Apartments for Rent",href:"/apartments-for-rent",icon:""},{name:"Office Spaces",href:"/office-rent",icon:""},{name:"Student Housing",href:"/student-housing",icon:""},{name:"Furnished Rentals",href:"/furnished-rentals",icon:""}],"Estate Agent":[{name:"Find an Agent",href:"/find-agent",icon:""},{name:"Agent Services",href:"/agent-services",icon:""},{name:"Property Valuation",href:"/property-valuation",icon:""},{name:"Market Reports",href:"/market-reports",icon:""},{name:"Become an Agent",href:"/become-agent",icon:""}]},G=[{name:"Sign up",className:" font-medium text-[#306] rounded-md hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/signup"},{name:"Log in",className:" font-medium text-[#306] rounded-md hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/login"}],k=[{name:"Dashboard",icon:Pu,href:"/dashboard",description:"View your dashboard"},{name:"Wishlist",icon:jr,href:"/wishlist",description:`${d} saved properties`,badge:d>0?d:null},{name:"Profile",icon:l4,href:"/profile",description:"Manage your profile"},{name:"Settings",icon:rR,href:"/settings",description:"Account settings"}],Q=[...W,...me],$=async J=>{try{const fe=mt(),Ce=ot(fe,"users",J,"profiles","userProfile"),Ze=await is(Ce);if(Ze.exists()){const st=Ze.data();e(st),p(st.wishlist?.length||0)}else{const st=ot(fe,"users",J),Re=await is(st);if(Re.exists()){const Be=Re.data();e(Be),p(Be.wishlist?.length||0)}}}catch(fe){console.error("Error fetching profile from Firestore:",fe)}},D=async J=>{if(!J.trim()||J.length<2)return[];try{const fe=mt(),Ce=new Set,Ze=Ut(ft(fe,"properties"),ms("status","==","active"),t0(20));(await lt(Ze)).forEach(Re=>{const Be=Re.data(),le=J.toLowerCase();Be.title&&Be.title.toLowerCase().includes(le)&&Ce.add(Be.title),Be.city&&Be.city.toLowerCase().includes(le)&&(Ce.add(`${Be.city}, ${Be.state}`),Ce.add(Be.city)),Be.state&&Be.state.toLowerCase().includes(le)&&Ce.add(Be.state),Be.country&&Be.country.toLowerCase().includes(le)&&Ce.add(Be.country),Be.propertyType&&Be.propertyType.toLowerCase().includes(le)&&(Ce.add(`${Be.propertyType} for ${Be.advertisingFor}`),Ce.add(Be.propertyType)),Be.bedroom&&le.includes("bedroom")&&Ce.add(`${Be.bedroom} bedroom ${Be.propertyType}`),Be.showAddress&&Be.address&&Be.address.toLowerCase().includes(le)&&Ce.add(Be.address)});try{const Re=Ut(oo(fe,"properties"),ms("status","==","active"),t0(10));(await lt(Re)).forEach(le=>{const Ee=le.data(),_e=J.toLowerCase();Ee.title&&Ee.title.toLowerCase().includes(_e)&&Ce.add(Ee.title),Ee.city&&Ee.city.toLowerCase().includes(_e)&&Ce.add(`${Ee.city}, ${Ee.state}`)})}catch(Re){console.log("Collection group query not available:",Re)}return Array.from(Ce).slice(0,8)}catch(fe){return console.error("Error fetching search suggestions:",fe),[]}},Z=J=>{J.preventDefault(),V.trim()&&(window.location.href=`/search?q=${encodeURIComponent(V.trim())}`)},xe=J=>{const fe=J.target.value;P(fe),z(-1),fe.trim()||(R(!1),O([]))},ye=J=>{J.key==="ArrowDown"?(J.preventDefault(),z(fe=>fe<ae.length-1?fe+1:fe)):J.key==="ArrowUp"?(J.preventDefault(),z(fe=>fe>-1?fe-1:-1)):J.key==="Enter"?(J.preventDefault(),U>=0&&ae[U]?(P(ae[U]),R(!1),z(-1),window.location.href=`/search?q=${encodeURIComponent(ae[U])}`):V.trim()&&Z(J)):J.key==="Escape"&&(R(!1),z(-1))},De=J=>{P(J),R(!1),z(-1),window.location.href=`/search?q=${encodeURIComponent(J)}`},Te=(J,fe)=>{const[Ce,Ze]=T.useState(J);return T.useEffect(()=>{const st=setTimeout(()=>{Ze(J)},fe);return()=>{clearTimeout(st)}},[J,fe]),Ce},pt=async()=>{w(!0);try{await yO(),localStorage.removeItem("Status"),localStorage.removeItem("userToken"),localStorage.removeItem("userData"),console.log("User signed out successfully"),q(!1),window.location.href="/"}catch(J){console.error("Error signing out:",J),alert("Error signing out. Please try again.")}finally{w(!1)}},ys=()=>s?.firstName&&s?.lastName?`${s.firstName} ${s.lastName}`:s?.firstName?s.firstName:v?.displayName?v.displayName:v?.email||s?.email?(v?.email||s?.email).split("@")[0]:"User",be=Te(V,300);return T.useEffect(()=>{(async()=>{if(be.trim()&&be.length>=2){E(!0);try{const fe=await D(be);O(fe),R(fe.length>0)}catch(fe){console.error("Error fetching suggestions:",fe),O([]),R(!1)}finally{E(!1)}}else O([]),R(!1)})()},[be]),T.useEffect(()=>{const J=fe=>{ce.current&&!ce.current.contains(fe.target)&&q(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]),T.useEffect(()=>{const J=kn(fe=>{j(fe),F(!!fe),fe?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:fe.uid,email:fe.email,displayName:fe.displayName,photoURL:fe.photoURL})),$(fe.uid)):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"),p(0),e(null))});return()=>J()},[]),T.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),i.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gs,{className:"h-7 w-7 text-blue-600"}),i.jsx("a",{href:"/",className:"ml-2 text-xl font-bold text-gray-800",children:"Property Premium"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[W.map((J,fe)=>i.jsxs("div",{className:"relative group",onMouseEnter:()=>{o&&(clearTimeout(o),c(null)),r(J.name)},onMouseLeave:()=>{const Ce=setTimeout(()=>{r(null)},150);c(Ce)},children:[i.jsxs("a",{href:J.a,className:"relative text-sm font-medium text-gray-700 hover:text-blue-600 transition-all duration-300 group py-2 flex items-center",children:[i.jsx("span",{className:"relative z-10",children:J.name}),i.jsx(Xa,{className:`ml-1 h-3 w-3 transition-transform duration-200 ${t===J.name?"rotate-180":""}`}),i.jsx("div",{className:"absolute inset-0 bg-blue-50 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200 origin-center"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"})]}),t===J.name&&ve[J.name]&&i.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 py-3 z-50 transform animate-in slide-in-from-top-2 duration-200 z-50",onMouseEnter:()=>{o&&(clearTimeout(o),c(null))},onMouseLeave:()=>{const Ce=setTimeout(()=>{r(null)},150);c(Ce)},children:[i.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:i.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),J.name," Options"]})}),i.jsx("div",{className:"py-2",children:ve[J.name].map((Ce,Ze)=>i.jsxs("a",{href:Ce.href,className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 hover:translate-x-1 group",onClick:()=>r(null),children:[i.jsx("span",{className:"text-lg",children:Ce.icon}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-medium group-hover:text-blue-600 transition-colors duration-200",children:Ce.name})}),i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},Ze))}),i.jsx("div",{className:"border-t border-gray-100 pt-2",children:i.jsxs("a",{href:J.a,className:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 transition-all duration-200 rounded-lg mx-2",onClick:()=>r(null),children:["View All ",J.name,i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]},fe)),i.jsx("span",{className:"text-gray-300 mx-2",children:"|"}),me.map((J,fe)=>i.jsxs("a",{href:J.a,className:"relative text-sm font-medium text-gray-700 hover:text-blue-600 transition-all duration-300 group py-2",children:[i.jsx("span",{className:"relative z-10",children:J.name}),i.jsx("div",{className:"absolute inset-0 bg-blue-50 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200 origin-center"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"})]},fe)),i.jsxs("div",{className:"relative",children:[i.jsxs("form",{onSubmit:Z,className:"relative",children:[i.jsx("input",{ref:re,type:"text",value:V,onChange:xe,onKeyDown:ye,onFocus:()=>{V.trim()&&ae.length>0&&R(!0)},onBlur:()=>{setTimeout(()=>{R(!1),z(-1)},200)},placeholder:"Search properties...",className:`w-64 pl-10 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ${B?"w-72 bg-white shadow-lg":""}`}),i.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),V&&!C&&i.jsx("button",{type:"button",onClick:()=>{P(""),R(!1),O([])},className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-gray-600",children:i.jsx(ps,{className:"h-3 w-3"})}),C&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full"})})]}),S&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-2xl border border-gray-100 py-2 z-50 max-h-80 overflow-y-auto",children:[i.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 font-medium border-b border-gray-100 flex items-center gap-2",children:[i.jsx(cn,{className:"w-3 h-3"}),"Search Suggestions",C&&i.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full ml-auto"})]}),ae.length>0?ae.map((J,fe)=>i.jsxs("button",{onClick:()=>De(J),className:`w-full text-left px-4 py-3 text-sm hover:bg-blue-50 transition-colors duration-150 flex items-center gap-3 ${U===fe?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[i.jsx(cn,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"flex-1",children:J}),U===fe&&i.jsx("div",{className:"text-xs text-blue-600 font-medium",children:""})]},fe)):!C&&V.length>=2&&i.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center gap-3",children:[i.jsx(cn,{className:"w-4 h-4 text-gray-400"}),"No suggestions found"]})]})]})]}),i.jsx("div",{className:`hidden md:flex items-center gap-3 ${A?"md:hidden":""}`,children:G.map((J,fe)=>i.jsxs("a",{href:J.a,className:"relative overflow-hidden px-4 py-2 font-medium text-sm rounded-md border-1 border-blue-600 text-blue-600 hover:text-white transition-all duration-300 group",children:[i.jsx("span",{className:"relative z-10",children:J.name}),i.jsx("div",{className:"absolute inset-0 bg-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},fe))}),i.jsxs("div",{className:`relative hidden md:flex ${A?"md:flex":"md:hidden"}`,ref:ce,children:[i.jsxs("button",{onClick:()=>q(!L),className:"flex items-center p-2 rounded-xl hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-300 transform hover:scale-105 border-2 border-transparent hover:border-blue-200",children:[s?.profileImage||v?.photoURL?i.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-9 w-9 rounded-full border-2 border-gray-200 hover:border-blue-400 transition-all duration-300 shadow-md hover:shadow-lg"}):i.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center hover:from-blue-200 hover:to-purple-200 transition-all duration-300 shadow-md hover:shadow-lg",children:i.jsx(gr,{className:"h-5 w-5 text-blue-600"})}),i.jsx(Xa,{className:`ml-1 h-4 w-4 text-gray-500 transition-transform duration-200 ${L?"rotate-180":""}`})]}),L&&i.jsxs("div",{className:"absolute right-0 top-full mt-3 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 py-2 z-50 transform animate-in slide-in-from-top-2 duration-200",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center gap-3",children:[s?.profileImage||v?.photoURL?i.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-12 w-12 rounded-full border-3 border-white shadow-md"}):i.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center shadow-md",children:i.jsx(gr,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ys()}),(s?.email||v?.email)&&i.jsx("p",{className:"text-xs text-gray-600",children:s?.email||v.email})]})]})}),i.jsx("div",{className:"py-2",children:k.map((J,fe)=>i.jsxs("a",{href:J.href,className:"flex items-center gap-4 px-6 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 hover:translate-x-1 group",onClick:()=>q(!1),children:[i.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-blue-100 transition-colors duration-200",children:i.jsx(J.icon,{className:"h-4 w-4 text-gray-600 group-hover:text-blue-600 transition-colors duration-200"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:J.name}),i.jsx("p",{className:"text-xs text-gray-500",children:J.description})]}),J.badge&&i.jsx("span",{className:"bg-gradient-to-r from-red-100 to-pink-100 text-red-600 text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:J.badge})]},fe))}),i.jsx("div",{className:"border-t border-gray-100 pt-2",children:i.jsxs("button",{onClick:pt,disabled:b,className:"flex items-center gap-4 px-6 py-3 text-sm text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 transition-all duration-200 w-full text-left disabled:opacity-50 disabled:cursor-not-allowed hover:translate-x-1 group",children:[i.jsx("div",{className:"p-2 rounded-lg bg-red-100 group-hover:bg-red-200 transition-colors duration-200",children:i.jsx(pw,{className:"h-4 w-4 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:b?"Logging out...":"Logout"}),i.jsx("p",{className:"text-xs text-red-500",children:"Sign out of your account"})]})]})})]})]}),i.jsx("div",{className:"flex md:hidden",children:i.jsx("button",{onClick:()=>g(!m),className:"text-gray-700 focus:outline-none hover:text-blue-600 transition-colors p-2",children:m?i.jsx(ps,{className:"h-6 w-6"}):i.jsx(B_,{className:"h-6 w-6"})})})]})}),i.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ${m?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsxs("div",{className:"px-4 pb-4 space-y-3 bg-white border-t border-gray-100",children:[A&&i.jsxs("div",{className:"py-3 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s?.profileImage||v?.photoURL?i.jsx("img",{src:s?.profileImage||v.photoURL,alt:"User Avatar",className:"h-10 w-10 rounded-full border-2 border-gray-200"}):i.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(gr,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:ys()}),s?.email||v?.email&&i.jsx("p",{className:"text-xs text-gray-500",children:s?.email||v.email})]})]}),i.jsx("div",{className:"space-y-2",children:k.map((J,fe)=>i.jsxs("a",{href:J.href,className:"flex items-center gap-3 text-sm text-gray-700 hover:text-blue-700 transition-colors duration-200 py-1",onClick:()=>g(!1),children:[i.jsx(J.icon,{className:"h-4 w-4 text-gray-500"}),J.name]},fe))})]}),i.jsx("div",{className:"py-3 border-b border-gray-100",children:i.jsxs("form",{onSubmit:Z,className:"relative",children:[i.jsx("input",{type:"text",value:V,onChange:xe,placeholder:"Search properties...",className:"w-full pl-10 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),V&&i.jsx("button",{type:"button",onClick:()=>P(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx(ps,{className:"h-3 w-3 text-gray-400"})})]})}),Q.map((J,fe)=>i.jsx("a",{href:J.a,className:"block text-sm text-gray-700 hover:text-blue-600 hover:bg-blue-50 hover:translate-x-2 transition-all duration-300 py-3 px-2 rounded-lg font-medium",onClick:()=>g(!1),children:i.jsxs("span",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3 opacity-0 hover:opacity-100 transition-opacity duration-200"}),J.name]})},fe)),i.jsx("hr",{className:"border-gray-100"}),!A&&G.map((J,fe)=>i.jsx("a",{href:J.a,className:"block text-sm font-semibold text-blue-600 hover:text-white hover:bg-blue-600 border-2 border-blue-600 rounded-lg py-2 px-4 text-center transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg",onClick:()=>g(!1),children:J.name},fe)),A&&i.jsxs("button",{onClick:()=>{pt(),g(!1)},disabled:b,className:"flex items-center gap-3 text-red-600 hover:text-white hover:bg-red-600 transition-all duration-300 text-sm w-full text-left py-3 px-4 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg border-2 border-red-200 hover:border-red-600 transform hover:scale-105",children:[i.jsx(pw,{className:"h-4 w-4"}),b?"Logging out...":"Logout"]})]})})]})},vO=()=>i.jsx("section",{id:"hero",children:i.jsxs("div",{className:"bg-[url('https://img.freepik.com/free-photo/analog-landscape-city-with-buildings_23-2149661456.jpg?t=st=1756123910~exp=1756127510~hmac=6c244a93b8833948fcf8f1caa7809e43a6561a27790ad324d0d31652125ba684&w=1060')] bg-no-repeat bg-center bg-cover w-full h-screen flex items-center justify-center relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black/[0.4]"}),i.jsxs("div",{className:"relative z-10 text-center text-white max-w-4xl mx-auto px-6",children:[i.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Sell Your Property with",i.jsx("span",{className:"text-blue-400 block mt-2",children:"Confidence"})]}),i.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-200 max-w-2xl mx-auto",children:"Connect with serious buyers and get the best price for your property. Fast, secure, and hassle-free selling experience."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsxs(aa,{to:"/dashboard/post_a_listing",children:[" ",i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-colors duration-300 shadow-lg hover:shadow-xl",children:"List Your Property"})]}),i.jsx("button",{className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-300",children:"Browse Properties"})]}),i.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),i.jsx("span",{children:"10,000+ Properties Sold"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),i.jsx("span",{children:"Trusted by 50,000+ Users"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),i.jsx("span",{children:"Average 30 Days to Sell"})]})]})]}),i.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:i.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:i.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2"})})})]})}),wO=()=>{const[s,e]=T.useState(0),[t,r]=T.useState(!1),[o,c]=T.useState(new Set),d=T.useRef(null),p=T.useRef([]),m=[{id:1,title:"Luxury Oceanfront Villa",price:"$2,850,000",originalPrice:"$3,200,000",location:"Malibu, CA",beds:5,baths:4,sqft:4200,type:"Villa",badge:"Luxury",badgeColor:"bg-purple-500",badgeIcon:hw,image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!0},{id:2,title:"Modern Downtown Penthouse",price:"$1,450,000",location:"Manhattan, NY",beds:3,baths:3,sqft:2800,type:"Penthouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:yw,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!0,isNew:!0,isHot:!1},{id:3,title:"Suburban Family Estate",price:"$875,000",location:"Beverly Hills, CA",beds:6,baths:5,sqft:5200,type:"Estate",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:mw,image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",rating:4.7,isVerified:!0,isNew:!1,isHot:!0},{id:4,title:"Contemporary Waterfront Home",price:"$1,200,000",location:"Miami Beach, FL",beds:4,baths:3,sqft:3200,type:"House",badge:"Verified",badgeColor:"bg-blue-500",badgeIcon:Vn,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!1},{id:5,title:"Historic Brownstone Renovation",price:"$980,000",location:"Brooklyn, NY",beds:3,baths:2,sqft:2100,type:"Townhouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:yw,image:"https://images.unsplash.com/photo-1449844908441-8829872d2607?w=500&h=400&fit=crop&q=80",rating:4.6,isVerified:!0,isNew:!0,isHot:!1},{id:6,title:"Mountain View Retreat",price:"$675,000",location:"Aspen, CO",beds:4,baths:3,sqft:2800,type:"Cabin",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:mw,image:"https://images.unsplash.com/photo-1520637736862-4197d17c90a?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!1,isNew:!1,isHot:!0}],g=2,b=Math.ceil(m.length/g);T.useEffect(()=>{const j=new IntersectionObserver(([A])=>{A.isIntersecting&&r(!0)},{threshold:.1});return d.current&&j.observe(d.current),()=>j.disconnect()},[]),T.useEffect(()=>{const j=setInterval(()=>{e(A=>(A+1)%b)},1e4);return()=>clearInterval(j)},[b]);const w=j=>{c(A=>new Set([...A,j]))},v=()=>{const j=s*g;return m.slice(j,j+g)};return i.jsxs("section",{ref:d,className:"py-20 bg-gradient-to-br from-gray-500 to-gray-900 via-gray-100 relative z-10",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[i.jsx(hw,{className:"w-4 h-4"}),"Premium Properties"]}),i.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Featured ",i.jsx("span",{className:"text-blue-600",children:"Listings"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover handpicked premium properties from our exclusive collection. Each listing is carefully verified and represents exceptional value."})]}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"grid md:grid-cols-2 gap-8 px-16",children:v().map((j,A)=>{const F=j.badgeIcon;return i.jsxs("div",{ref:L=>p.current[A]=L,className:`group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden transform hover:-translate-y-2 ${t?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+A*.1}s`,animation:t?`slideInUp 0.8s ease-out ${.2+A*.1}s both`:"none"},children:[i.jsxs("div",{className:"relative overflow-hidden",children:[!o.has(j.id)&&i.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),i.jsx("img",{src:j.image,alt:j.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onLoad:()=>w(j.id)}),i.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[i.jsxs("div",{className:`${j.badgeColor} text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg`,children:[i.jsx(F,{className:"w-3 h-3"}),j.badge]}),j.isVerified&&i.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[i.jsx(Vn,{className:"w-3 h-3 fill-current"}),"Verified"]})]}),i.jsxs("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg backdrop-blur-sm",children:[i.jsx("div",{className:"text-lg font-bold",children:j.price}),j.originalPrice&&i.jsx("div",{className:"text-xs text-gray-300 line-through",children:j.originalPrice})]}),i.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 px-2 py-1 rounded-full flex items-center gap-1",children:[i.jsx(Vn,{className:"w-3 h-3 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-xs font-semibold",children:j.rating})]})]}),i.jsxs("div",{className:"flex ",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:j.title})}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[i.jsx(Bs,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:j.location})]}),i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:j.type})})]}),i.jsx("div",{children:i.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg",children:["View More",i.jsx(zn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]},j.id)})})}),i.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:b}).map((j,A)=>i.jsx("button",{onClick:()=>e(A),className:`w-3 h-3 rounded-full transition-all duration-300 ${s===A?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400"}`},A))}),i.jsx("div",{className:`text-center mt-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"0.8s"},children:i.jsxs("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:["View All Properties",i.jsx(zn,{className:"inline-block w-5 h-5 ml-2"})]})})]}),i.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(60px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})},_O=()=>{const[s,e]=T.useState(!1),[t,r]=T.useState(null),o=T.useRef(null),c=T.useRef([]),d=[{id:1,name:"Lagos",state:"Lagos State",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600&h=400&fit=crop&q=80",averagePrice:"85,000,000",priceRange:"25M - 500M",listings:2840,growth:"+15%",description:"Nigeria's commercial hub with luxury waterfront properties",highlights:["Victoria Island","Ikoyi","Lekki"],propertyTypes:["Luxury Apartments","Penthouses","Commercial"],trending:!0,popular:!0},{id:2,name:"Abuja",state:"Federal Capital Territory",image:"https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=600&h=400&fit=crop&q=80",averagePrice:"65,000,000",priceRange:"20M - 300M",listings:1650,growth:"+22%",description:"Federal capital with modern planned developments",highlights:["Maitama","Asokoro","Wuse 2"],propertyTypes:["Diplomatic Housing","Estates","Villas"],trending:!0,popular:!1},{id:3,name:"Ibadan",state:"Oyo State",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=600&h=400&fit=crop&q=80",averagePrice:"35,000,000",priceRange:"8M - 150M",listings:980,growth:"+12%",description:"Historic city with affordable family homes",highlights:["GRA","Bodija","UI Area"],propertyTypes:["Family Homes","Apartments","Land"],trending:!1,popular:!0},{id:4,name:"Port Harcourt",state:"Rivers State",image:"https://images.unsplash.com/photo-1566813558810-2c2b5cb62600?w=600&h=400&fit=crop&q=80",averagePrice:"45,000,000",priceRange:"12M - 200M",listings:740,growth:"+8%",description:"Oil city with growing real estate market",highlights:["GRA","D-Line","Trans Amadi"],propertyTypes:["Executive Homes","Apartments","Industrial"],trending:!1,popular:!1},{id:5,name:"Kano",state:"Kano State",image:"https://images.unsplash.com/photo-1570939274851-b6172e45834e?w=600&h=400&fit=crop&q=80",averagePrice:"28,000,000",priceRange:"5M - 120M",listings:650,growth:"+18%",description:"Northern commercial center with emerging opportunities",highlights:["Nassarawa","Fagge","Kano Municipal"],propertyTypes:["Traditional Homes","Modern Estates","Commercial"],trending:!0,popular:!1},{id:6,name:"Kaduna",state:"Kaduna State",image:"https://images.unsplash.com/photo-1582735689369-4fe89db7114c?w=600&h=400&fit=crop&q=80",averagePrice:"32,000,000",priceRange:"7M - 180M",listings:520,growth:"+14%",description:"Strategic location with growing infrastructure",highlights:["GRA","Barnawa","Ungwan Rimi"],propertyTypes:["Residential","Government Housing","New Developments"],trending:!1,popular:!1}];T.useEffect(()=>{const m=new IntersectionObserver(([g])=>{g.isIntersecting&&e(!0)},{threshold:.1});return o.current&&m.observe(o.current),()=>m.disconnect()},[]);const p=m=>m.toLocaleString();return i.jsxs("section",{ref:o,className:"py-20 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[i.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[i.jsx(Bs,{className:"w-4 h-4"}),"Top Locations in Nigeria"]}),i.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Explore Prime ",i.jsx("span",{className:"text-green-600",children:"Locations"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the most sought-after cities across Nigeria. From bustling Lagos to the capital Abuja, find your perfect property in these thriving locations."})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:d.slice(0,3).map((m,g)=>i.jsxs("div",{ref:b=>c.current[g]=b,className:`group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-700 overflow-hidden transform hover:-translate-y-3 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+g*.15}s`},onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:[i.jsxs("div",{className:"relative h-64 overflow-hidden",children:[i.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[m.trending&&i.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[i.jsx(xl,{className:"w-3 h-3"}),"Trending"]}),m.popular&&i.jsxs("div",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[i.jsx(Vn,{className:"w-3 h-3 fill-current"}),"Popular"]})]}),i.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[i.jsx("h3",{className:"text-2xl font-bold mb-1",children:m.name}),i.jsx("p",{className:"text-sm text-gray-200",children:m.state})]}),i.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:m.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[i.jsx(V_,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.averagePrice}),i.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[i.jsx(gs,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:p(m.listings)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Properties"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Popular Areas:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:m.highlights.map((b,w)=>i.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:b},w))})]}),i.jsxs("button",{className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg transform hover:scale-105",children:["Explore Properties",i.jsx(zn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),i.jsxs("div",{className:`absolute inset-0 bg-white bg-opacity-95 backdrop-blur-sm p-6 flex flex-col justify-center transition-all duration-500 ${t===m.id?"opacity-100 visible":"opacity-0 invisible"}`,children:[i.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"Property Types"}),i.jsx("div",{className:"space-y-2 mb-4",children:m.propertyTypes.map((b,w)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(M_,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-gray-700",children:b})]},w))}),i.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[i.jsx("strong",{children:"Price Range:"})," ",m.priceRange]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"View All Listings"})]})]},m.id))}),i.jsx("div",{className:`grid md:grid-cols-3 gap-6 mb-12 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:"0.8s"},children:d.slice(3).map((m,g)=>i.jsxs("div",{className:"group bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-500 overflow-hidden transform hover:-translate-y-1",children:[i.jsxs("div",{className:"relative h-40 overflow-hidden",children:[i.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),i.jsxs("div",{className:"absolute bottom-2 left-3 text-white",children:[i.jsx("h4",{className:"text-lg font-bold",children:m.name}),i.jsx("p",{className:"text-xs text-gray-200",children:m.state})]}),m.trending&&i.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-bold text-gray-900",children:m.averagePrice}),i.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-bold text-gray-900",children:p(m.listings)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Listings"})]})]}),i.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:["Explore Properties",i.jsx(zn,{className:"w-3 h-3"})]})]})]},m.id))}),i.jsx("div",{className:`text-center transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"1s"},children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-2xl mx-auto",children:[i.jsx(Du,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Can't Find Your Preferred Location?"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"We cover properties across all 36 states in Nigeria. Let us help you find the perfect property in your desired location."}),i.jsx("button",{className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:"Request Custom Search"})]})})]})]})},NO=()=>{const[s,e]=T.useState(null),t=[{id:1,title:"Modern Downtown Loft",location:"Manhattan, NY",price:"$2,850,000",beds:2,baths:2,sqft:"1,200",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=450&fit=crop",duration:"45s",views:"2.1k",featured:!0},{id:2,title:"Luxury Beachfront Villa",location:"Malibu, CA",price:"$5,200,000",beds:4,baths:3,sqft:"3,500",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=450&fit=crop",duration:"60s",views:"5.8k",featured:!1},{id:3,title:"Cozy Suburban Home",location:"Austin, TX",price:"$850,000",beds:3,baths:2,sqft:"2,100",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=450&fit=crop",duration:"38s",views:"1.3k",featured:!1},{id:4,title:"Urban Penthouse Suite",location:"Chicago, IL",price:"$3,100,000",beds:3,baths:3,sqft:"2,800",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=450&fit=crop",duration:"52s",views:"3.7k",featured:!0}],r=c=>{e(s===c?null:c)},o=({property:c})=>i.jsxs("div",{className:"group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[i.jsx("div",{className:"relative overflow-hidden",children:s===c.id?i.jsx("div",{className:"aspect-video",children:i.jsx("iframe",{src:c.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):i.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[i.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:i.jsx("button",{onClick:()=>r(c.id),className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300 shadow-xl",children:i.jsx(q_,{className:"w-8 h-8 text-gray-800 ml-1"})})}),i.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2",children:[i.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[i.jsx(_0,{className:"w-3 h-3"}),i.jsx("span",{children:c.duration})]}),i.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[i.jsx(Nr,{className:"w-3 h-3"}),i.jsx("span",{children:c.views})]})]}),c.featured&&i.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Featured"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-purple-600 transition-colors",children:c.title}),i.jsx("span",{className:"text-2xl font-bold text-purple-600",children:c.price})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-sm",children:c.location})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ku,{className:"w-4 h-4"}),i.jsxs("span",{children:[c.beds," beds"]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Iu,{className:"w-4 h-4"}),i.jsxs("span",{children:[c.baths," baths"]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ro,{className:"w-4 h-4"}),i.jsxs("span",{children:[c.sqft," sqft"]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Watch Full Tour"}),i.jsxs("button",{className:"flex-1 border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-semibold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 hover:bg-purple-50",children:[i.jsx("span",{children:"Book Viewing"}),i.jsx(zn,{className:"w-4 h-4"})]})]})]})]});return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Video Property Tours"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Bring properties to life visually with immersive video tours that showcase every detail"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:t.map(c=>i.jsx(o,{property:c},c.id))}),i.jsx("div",{className:"mt-20 text-center",children:i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Showcase Your Property?"}),i.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Create stunning video tours that capture buyers' attention and drive more viewings"}),i.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Creating Tours"})]})})]})})},jO=()=>{const[s,e]=T.useState(0),[t,r]=T.useState(null),o=[{id:1,name:"Sarah Johnson",title:"First-time Buyer",location:"Seattle, WA",profilePic:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",quote:"The video tours saved me so much time! I was able to narrow down my choices before visiting in person. Found my dream home in just 3 weeks.",rating:5,propertyType:"Condo",saleAmount:"$450,000"},{id:2,name:"Michael Chen",title:"Property Investor",location:"Austin, TX",profilePic:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",quote:"This platform revolutionized how I evaluate investment properties. The detailed video tours and analytics helped me make better decisions faster.",rating:5,propertyType:"Multi-family",saleAmount:"$1.2M"},{id:3,name:"Emma Rodriguez",title:"Real Estate Agent",location:"Miami, FL",profilePic:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",quote:"My listings get 3x more engagement with these video tours. Clients love the immersive experience, and I'm closing deals 40% faster!",rating:5,propertyType:"Luxury Homes",saleAmount:"$2.8M"},{id:4,name:"David Thompson",title:"Home Seller",location:"Denver, CO",profilePic:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",quote:"Sold our family home 2 weeks faster than expected! The video tour attracted serious buyers who were already pre-qualified when they visited.",rating:5,propertyType:"Family Home",saleAmount:"$680,000"},{id:5,name:"Lisa Park",title:"Relocating Professional",location:"San Francisco, CA",profilePic:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",quote:"Moving across the country was stressful, but the video tours let me house-hunt remotely. Made an offer sight unseen and couldn't be happier!",rating:5,propertyType:"Townhouse",saleAmount:"$950,000"},{id:6,name:"Robert Martinez",title:"Property Developer",location:"Phoenix, AZ",profilePic:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",quote:"The platform's video capabilities helped us showcase our new development beautifully. Pre-sales exceeded expectations by 200%!",rating:5,propertyType:"New Construction",saleAmount:"$15M"}],c=[{id:1,name:"Jennifer Walsh",title:"Happy Homeowner",location:"Portland, OR",thumbnailUrl:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:45",propertyType:"Modern Loft"},{id:2,name:"Carlos Mendez",title:"Real Estate Broker",location:"Los Angeles, CA",thumbnailUrl:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"2:10",propertyType:"Commercial Space"},{id:3,name:"Amanda Foster",title:"First-time Seller",location:"Nashville, TN",thumbnailUrl:"https://images.unsplash.com/photo-1551836022-8b2858c9c69b?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:30",propertyType:"Suburban Home"}];T.useEffect(()=>{const w=setInterval(()=>{e(v=>(v+1)%o.length)},5e3);return()=>clearInterval(w)},[o.length]);const d=()=>{e(w=>(w+1)%o.length)},p=()=>{e(w=>(w-1+o.length)%o.length)},m=({rating:w})=>i.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((v,j)=>i.jsx(Vn,{className:`w-5 h-5 ${j<w?"text-yellow-400 fill-current":"text-gray-300"}`},j))}),g=({testimonial:w,isActive:v})=>i.jsx("div",{className:`transition-all duration-500 ${v?"opacity-100 scale-100":"opacity-70 scale-95"}`,children:i.jsx("div",{className:"bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100",children:i.jsxs("div",{className:"flex items-start space-x-6",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("img",{src:w.profilePic,alt:w.name,className:"w-20 h-20 rounded-full object-cover border-4 border-purple-100"}),i.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-400 to-green-500 rounded-full p-1",children:i.jsx(yu,{className:"w-4 h-4 text-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w.name}),i.jsx("p",{className:"text-purple-600 font-medium",children:w.title}),i.jsx("p",{className:"text-sm text-gray-500",children:w.location})]}),i.jsx(m,{rating:w.rating})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Z4,{className:"absolute -top-2 -left-2 w-8 h-8 text-purple-200"}),i.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed italic pl-6",children:['"',w.quote,'"']})]}),i.jsx("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[i.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-medium",children:w.propertyType}),i.jsx("span",{className:"font-bold text-green-600",children:w.saleAmount})]})})]})]})})}),b=({video:w})=>i.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx("div",{className:"relative",children:t===w.id?i.jsx("div",{className:"aspect-video",children:i.jsx("iframe",{src:w.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):i.jsxs("div",{className:"relative aspect-video overflow-hidden cursor-pointer",onClick:()=>r(w.id),children:[i.jsx("img",{src:w.thumbnailUrl,alt:`${w.name} testimonial`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:i.jsx("div",{className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300",children:i.jsx(q_,{className:"w-8 h-8 text-purple-600 ml-1"})})}),i.jsx("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm",children:w.duration})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-1",children:w.name}),i.jsx("p",{className:"text-purple-600 font-medium mb-1",children:w.title}),i.jsx("p",{className:"text-sm text-gray-500 mb-3",children:w.location}),i.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:w.propertyType})]})]});return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Success Stories"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Real stories from real people who found their perfect properties and achieved their real estate goals"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(Du,{className:"w-8 h-8 text-purple-600 mr-2"}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"50K+"})]}),i.jsx("p",{className:"text-gray-600",children:"Happy Customers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(yu,{className:"w-8 h-8 text-purple-600 mr-2"}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"4.9/5"})]}),i.jsx("p",{className:"text-gray-600",children:"Average Rating"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(xl,{className:"w-8 h-8 text-purple-600 mr-2"}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"40%"})]}),i.jsx("p",{className:"text-gray-600",children:"Faster Sales"})]})]})]}),i.jsxs("div",{className:"relative mb-20",children:[i.jsx("div",{className:"overflow-hidden",children:i.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:o.map((w,v)=>i.jsx("div",{className:"w-full flex-shrink-0 px-4",children:i.jsx(g,{testimonial:w,isActive:v===s})},w.id))})}),i.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:i.jsx(w0,{className:"w-6 h-6 text-purple-600"})}),i.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:i.jsx(xf,{className:"w-6 h-6 text-purple-600"})}),i.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:o.map((w,v)=>i.jsx("button",{onClick:()=>e(v),className:`w-3 h-3 rounded-full transition-all duration-300 ${v===s?"bg-purple-600 w-8":"bg-purple-200"}`},v))})]}),i.jsxs("div",{className:"mb-16",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Video Testimonials"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Hear directly from our customers about their experiences"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(w=>i.jsx(b,{video:w},w.id))})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Create Your Success Story?"}),i.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who've found their perfect properties with our platform"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Your Journey"}),i.jsx("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105",children:"View All Properties"})]})]})})]})})},EO=()=>{const[s,e]=T.useState({lagosPrice:0,abujaSearches:0,priceGrowth:0,totalProperties:0}),[t,r]=T.useState("6months"),[o,c]=T.useState(null),d={lagosPrice:125e6,abujaSearches:2847,priceGrowth:15.7,totalProperties:12840};T.useEffect(()=>{const A=(F,L,q=2e3)=>{const V=L/(q/16);let P=0;const B=setInterval(()=>{P+=V,P>=L&&(P=L,clearInterval(B)),e(Y=>({...Y,[F]:Math.floor(P)}))},16)};setTimeout(()=>A("lagosPrice",d.lagosPrice),200),setTimeout(()=>A("abujaSearches",d.abujaSearches),400),setTimeout(()=>A("priceGrowth",d.priceGrowth*10),600),setTimeout(()=>A("totalProperties",d.totalProperties),800)},[]);const p=[{name:"Abuja",searches:2847,growth:12.3,color:"from-blue-500 to-blue-600"},{name:"Lagos",searches:2156,growth:8.7,color:"from-purple-500 to-purple-600"},{name:"Port Harcourt",searches:1834,growth:15.2,color:"from-green-500 to-green-600"},{name:"Kano",searches:1245,growth:6.8,color:"from-orange-500 to-orange-600"},{name:"Ibadan",searches:987,growth:9.4,color:"from-pink-500 to-pink-600"}],m=[{type:"Apartments",percentage:35,trend:"up",change:5.2},{type:"Detached Houses",percentage:28,trend:"up",change:3.8},{type:"Terraced Houses",percentage:22,trend:"down",change:-2.1},{type:"Commercial",percentage:15,trend:"up",change:8.7}],g=[{month:"Jan",price:105},{month:"Feb",price:108},{month:"Mar",price:112},{month:"Apr",price:118},{month:"May",price:122},{month:"Jun",price:125}],b=A=>A>=1e6?`${(A/1e6).toFixed(1)}M`:`${A.toLocaleString()}`,w=({icon:A,title:F,value:L,subtitle:q,trend:V,color:P="purple"})=>i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r from-${P}-100 to-${P}-200`,children:i.jsx(A,{className:`w-6 h-6 text-${P}-600`})}),V&&i.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${V==="up"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[V==="up"?i.jsx(xl,{className:"w-3 h-3"}):i.jsx(bw,{className:"w-3 h-3"}),i.jsxs("span",{children:[V==="up"?"+":"",q]})]})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:L}),i.jsx("p",{className:"text-gray-600 text-sm",children:F})]}),v=({city:A,isHovered:F})=>{const L=Math.max(...p.map(V=>V.searches)),q=A.searches/L*100;return i.jsxs("div",{className:"mb-4 cursor-pointer transition-all duration-300",onMouseEnter:()=>c(A.name),onMouseLeave:()=>c(null),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Bs,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-gray-900",children:A.name})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-sm font-bold text-gray-700",children:A.searches.toLocaleString()}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A.growth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[A.growth>0?"+":"",A.growth,"%"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:`h-full bg-gradient-to-r ${A.color} rounded-full transition-all duration-1000 ease-out ${F?"shadow-lg":""}`,style:{width:`${q}%`,transform:F?"scaleY(1.2)":"scaleY(1)"}})})]})},j=()=>i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Price Trends (Lagos)"}),i.jsx("div",{className:"flex space-x-2",children:["3months","6months","1year"].map(A=>i.jsx("button",{onClick:()=>r(A),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 ${t===A?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A==="3months"?"3M":A==="6months"?"6M":"1Y"},A))})]}),i.jsx("div",{className:"relative h-40 flex items-end justify-between space-x-2",children:g.map((A,F)=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx("div",{className:"w-full bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-lg transition-all duration-1000 ease-out hover:from-purple-600 hover:to-purple-500 cursor-pointer relative group",style:{height:`${A.price/125*100}%`,animationDelay:`${F*100}ms`},children:i.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:b(A.price*1e6)})}),i.jsx("span",{className:"text-xs text-gray-500 mt-2",children:A.month})]},A.month))})]});return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 py-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Market Trends & Insights"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Stay informed with real-time data and comprehensive analysis of Nigeria's real estate market"}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[i.jsx(qA,{className:"w-4 h-4"}),i.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString("en-NG")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[i.jsx(w,{icon:gs,title:"Avg. House Price in Lagos",value:b(s.lagosPrice),subtitle:`${(s.priceGrowth/10).toFixed(1)}%`,trend:"up",color:"purple"}),i.jsx(w,{icon:Nr,title:"Most Searched Searches (Abuja)",value:s.abujaSearches.toLocaleString(),subtitle:"12.3%",trend:"up",color:"blue"}),i.jsx(w,{icon:xl,title:"Market Growth (YoY)",value:`${(s.priceGrowth/10).toFixed(1)}%`,subtitle:"vs last year",trend:"up",color:"green"}),i.jsx(w,{icon:Pu,title:"Active Properties",value:s.totalProperties.toLocaleString(),subtitle:"8.7%",trend:"up",color:"orange"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[i.jsx(j,{}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Top Searched Cities"}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(Nr,{className:"w-4 h-4"}),i.jsx("span",{children:"Weekly searches"})]})]}),i.jsx("div",{className:"space-y-1",children:p.map(A=>i.jsx(v,{city:A,isHovered:o===A.name},A.name))})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg mb-12",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Property Type Trends"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((A,F)=>i.jsxs("div",{className:"text-center group",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsxs("svg",{className:"w-24 h-24 mx-auto transform -rotate-90 group-hover:scale-110 transition-transform duration-300",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeDasharray:`${A.percentage*2.51} 251`,className:"transition-all duration-1000 ease-out",style:{animationDelay:`${F*200}ms`}}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),i.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[A.percentage,"%"]})})]}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:A.type}),i.jsxs("div",{className:`flex items-center justify-center space-x-1 text-sm ${A.trend==="up"?"text-green-600":"text-red-600"}`,children:[A.trend==="up"?i.jsx(xl,{className:"w-4 h-4"}):i.jsx(bw,{className:"w-4 h-4"}),i.jsxs("span",{children:[A.change>0?"+":"",A.change,"%"]})]})]},A.type))})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl p-12 text-white",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get Detailed Market Analysis"}),i.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Access comprehensive reports, neighborhood insights, and investment opportunities tailored to your needs"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[i.jsx("span",{children:"See Full Report"}),i.jsx(zn,{className:"w-5 h-5"})]}),i.jsxs("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[i.jsx(F_,{className:"w-5 h-5"}),i.jsx("span",{children:"Download PDF"})]})]})]})})]})})},TO=()=>{const[s,e]=T.useState([]),[t,r]=T.useState(null),o=[{id:1,icon:Du,emoji:"",title:"Trusted Agents",description:"Verified professionals with proven track records and stellar client reviews",stats:"500+ Certified Agents",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",delay:0},{id:2,icon:G_,emoji:"",title:"Fast Transactions",description:"Streamlined processes that close deals 40% faster than industry average",stats:"24-48 Hour Response",color:"from-yellow-500 to-orange-500",bgColor:"from-yellow-50 to-orange-100",delay:200},{id:3,icon:V_,emoji:"",title:"No Hidden Charges",description:"Transparent pricing with all costs disclosed upfront - no surprises",stats:"100% Transparent Fees",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",delay:400},{id:4,icon:El,emoji:"",title:"Secure Listings",description:"Bank-level security with verified properties and protected transactions",stats:"256-bit SSL Encryption",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",delay:600}],c=[{icon:yu,title:"Industry Recognition",description:"Winner of 2024 Best Real Estate Platform Award"},{icon:_0,title:"24/7 Support",description:"Round-the-clock customer service and assistance"},{icon:xl,title:"Market Insights",description:"Real-time analytics and market trend reports"},{icon:jr,title:"Client Satisfaction",description:"98% customer satisfaction rate and growing"}];T.useEffect(()=>{o.forEach((m,g)=>{setTimeout(()=>{e(b=>[...b,m.id])},m.delay)})},[]);const d=({item:m,isVisible:g})=>{const b=m.icon;return i.jsx("div",{className:`relative group cursor-pointer transition-all duration-700 transform ${g?"translate-y-0 opacity-100":"translate-y-8 opacity-0"} ${t===m.id?"scale-105 -translate-y-2":""}`,onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:i.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.bgColor} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${m.color} rounded-full opacity-10 group-hover:opacity-20 transition-opacity duration-500 group-hover:animate-pulse`})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:`relative p-4 rounded-2xl bg-gradient-to-br ${m.color} shadow-lg group-hover:shadow-xl transition-all duration-300`,children:[i.jsx(b,{className:"w-8 h-8 text-white"}),i.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce",children:m.emoji})]}),i.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((w,v)=>i.jsx(Vn,{className:"w-4 h-4 text-yellow-400 fill-current"},v))})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors",children:m.title}),i.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:m.description}),i.jsxs("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full bg-gradient-to-r ${m.color} text-white text-sm font-semibold shadow-md group-hover:shadow-lg transition-shadow duration-300`,children:[i.jsx(Ja,{className:"w-4 h-4"}),i.jsx("span",{children:m.stats})]}),i.jsx("div",{className:`absolute bottom-6 right-6 transform transition-all duration-300 ${t===m.id?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,children:i.jsx(zn,{className:"w-6 h-6 text-gray-400"})})]})]})})},p=({feature:m,index:g})=>{const b=m.icon;return i.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl hover:bg-gray-50 transition-all duration-300 group",style:{animationDelay:`${g*100}ms`},children:[i.jsx("div",{className:"flex-shrink-0 p-2 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:i.jsx(b,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.title}),i.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]})};return i.jsx("div",{className:"bg-gradient-to-br from-gray-50 via-white to-purple-50 py-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[i.jsx(yu,{className:"w-4 h-4"}),i.jsx("span",{children:"Why Choose Our Platform"})]}),i.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-6",children:"Your Success is Our Priority"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We've revolutionized real estate with cutting-edge technology, trusted partnerships, and unwavering commitment to transparency"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:o.map(m=>i.jsx(d,{item:m,isVisible:s.includes(m.id)},m.id))}),i.jsx("div",{className:"bg-white rounded-3xl p-12 shadow-xl border border-gray-100",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"More Reasons to Choose Us"}),i.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Beyond our core promises, we offer additional benefits that set us apart from the competition and ensure your real estate journey is smooth and successful."}),i.jsx("div",{className:"space-y-4",children:c.map((m,g)=>i.jsx(p,{feature:m,index:g},m.title))})]}),i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl p-8 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h4",{className:"text-2xl font-bold mb-8",children:"Our Track Record"}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:"50K+"}),i.jsx("div",{className:"text-sm opacity-90",children:"Happy Clients"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:"98%"}),i.jsx("div",{className:"text-sm opacity-90",children:"Satisfaction Rate"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:"50B+"}),i.jsx("div",{className:"text-sm opacity-90",children:"Properties Sold"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:"24/7"}),i.jsx("div",{className:"text-sm opacity-90",children:"Support Available"})]})]})]})]})})]})}),i.jsxs("div",{className:"text-center mt-16",children:[i.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[i.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[i.jsx("span",{children:"Get Started Today"}),i.jsx(zn,{className:"w-5 h-5"})]}),i.jsx("button",{className:"border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-bold py-4 px-8 rounded-xl transition-all duration-300 hover:bg-purple-50",children:"Learn More About Us"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Join thousands of satisfied customers who made the smart choice"})]})]})})},SO=()=>i.jsxs(i.Fragment,{children:[i.jsx(vO,{}),i.jsx(wO,{}),i.jsx(_O,{}),i.jsx(NO,{}),i.jsx(jO,{}),i.jsx(EO,{}),i.jsx(TO,{})]}),AO=()=>{const[s,e]=T.useState({fullName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[t,r]=T.useState({}),[o,c]=T.useState(!1),[d,p]=T.useState({type:"",text:""}),[m,g]=T.useState(0),[b,w]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const Y=await vE();Y&&q(Y)}catch(Y){p({type:"error",text:Y.message})}})()},[]);const v=B=>{const{name:Y,value:ae,type:O,checked:S}=B.target,R=O==="checkbox"?S:ae;e(U=>({...U,[Y]:R})),t[Y]&&r(U=>({...U,[Y]:""})),Y==="password"&&j(ae)},j=B=>{let Y=0;B.length>=8&&(Y+=1),/[A-Z]/.test(B)&&(Y+=1),/[a-z]/.test(B)&&(Y+=1),/[0-9]/.test(B)&&(Y+=1),/[^A-Za-z0-9]/.test(B)&&(Y+=1),g(Y)},A=()=>{const B={};return s.fullName.trim()||(B.fullName="Name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(B.email="Email is invalid"):B.email="Email is required",s.password?s.password.length<8&&(B.password="Password must be at least 8 characters"):B.password="Password is required",s.password!==s.confirmPassword&&(B.confirmPassword="Passwords do not match"),s.agreeToTerms||(B.agreeToTerms="You must agree to the terms and conditions"),r(B),Object.keys(B).length===0},F=async B=>{if(B.preventDefault(),!!A()){c(!0),p({type:"",text:""});try{const Y=await pO(s.email,s.password,s.fullName);p({type:"success",text:"Registration successful! Redirecting to dashboard..."}),setTimeout(()=>{window.location.href="/dashboard",localStorage.setItem("Status","Authenticated")},1500)}catch(Y){let ae="An error occurred during registration. Please try again.";Y.code==="auth/email-already-in-use"?ae="This email is already registered. Please use a different email or sign in.":Y.code==="auth/invalid-email"?ae="The email address is not valid.":Y.code==="auth/weak-password"&&(ae="Password is too weak. Please choose a stronger password."),p({type:"error",text:ae})}finally{c(!1)}}},L=async(B=!1)=>{c(!0);try{if(B)await bE();else{const Y=await xE();q(Y)}}catch(Y){p({type:"error",text:Y.message}),c(!1)}},q=B=>{p({type:"success",text:`Welcome, ${B.displayName||"User"}! Redirecting to dashboard...`}),setTimeout(()=>{window.location.href="/dashboard"},1500),c(!1)},V=()=>{w(B=>!B)},P=()=>m===0?"bg-gray-200":m<=2?"bg-red-500":m<=3?"bg-yellow-500":"bg-green-500";return i.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&i.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),i.jsx("div",{className:"space-y-3",children:i.jsxs("button",{type:"button",onClick:()=>L(!1),disabled:o,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[i.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),i.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),i.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),i.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign up with Google"]})}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),i.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),i.jsxs("div",{className:"mt-1",children:[i.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:s.fullName,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.fullName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.fullName&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.fullName})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsxs("div",{className:"mt-1",children:[i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:b?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:V,children:b?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]}),s.password&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:i.jsx("div",{className:`h-full rounded-full ${P()}`,style:{width:`${m/5*100}%`}})}),i.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[m<=2&&"Weak password",m===3&&"Medium password",m>=4&&"Strong password"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),i.jsxs("div",{className:"mt-1",children:[i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.confirmPassword&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.confirmPassword})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:s.agreeToTerms,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",i.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," and ",i.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),t.agreeToTerms&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.agreeToTerms}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:o?"Creating account...":"Sign up"})})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",i.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})]})},RO=()=>{const[s,e]=T.useState({email:"",password:""}),[t,r]=T.useState({}),[o,c]=T.useState(!1),[d,p]=T.useState({type:"",text:""}),[m,g]=T.useState(!1),[b,w]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const S=await vE();S&&q(S)}catch(S){p({type:"error",text:A(S)})}})();const ae=kn(S=>{S&&(window.location.href="/dashboard",localStorage.setItem("Status","Authenticated"))});return localStorage.getItem("rememberMe")&&w(!0),()=>ae()},[]);const v=Y=>{const{name:ae,value:O}=Y.target;e(S=>({...S,[ae]:O})),t[ae]&&r(S=>({...S,[ae]:""}))},j=()=>{const Y={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(Y.email="Email is invalid"):Y.email="Email is required",s.password||(Y.password="Password is required"),r(Y),Object.keys(Y).length===0},A=Y=>{switch(Y.code){case"auth/user-not-found":case"auth/wrong-password":return"Invalid email or password. Please try again.";case"auth/too-many-requests":return"Too many failed login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/popup-closed-by-user":return"Sign-in popup was closed before completing the sign in process.";case"auth/cancelled-popup-request":return"The sign-in process was cancelled. Please try again.";case"auth/popup-blocked":return"The sign-in popup was blocked by your browser. Please allow popups for this site and try again.";default:return Y.message||"An error occurred during login. Please try again."}},F=async Y=>{if(Y.preventDefault(),!!j()){c(!0),p({type:"",text:""});try{const ae=await gO(s.email,s.password);q(ae)}catch(ae){p({type:"error",text:A(ae)}),c(!1)}}},L=async(Y=!1)=>{c(!0),p({type:"",text:""});try{if(Y)await bE();else{const ae=await xE();q(ae)}}catch(ae){p({type:"error",text:A(ae)}),c(!1)}},q=Y=>{p({type:"success",text:`Welcome back, ${Y.displayName||"User"}! Redirecting to dashboard...`}),b?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe"),setTimeout(()=>{window.location.href="/dashboard"},1500),c(!1)},V=()=>{g(Y=>!Y)},P=()=>{w(Y=>!Y)},B=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return i.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",i.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&i.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),i.jsx("div",{className:"space-y-3",children:i.jsxs("button",{type:"button",onClick:()=>L(B()),disabled:o,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[i.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),i.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),i.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),i.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),i.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsxs("div",{className:"mt-1",children:[i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:v,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:V,children:m?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:b,onChange:P,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),i.jsx("div",{className:"text-sm",children:i.jsx("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})})]})]})]})})]})},CO=({user:s})=>i.jsx(i.Fragment,{children:i.jsxs("div",{children:[i.jsx("div",{className:"mb-8",children:i.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(aa,{to:"/post_a_listing",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(Hn,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]})}),i.jsx(aa,{to:"/dashboard/my-account",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(N0,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Upadet Profile"})]})}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(U_,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subcription"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),i.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",i.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})})]}),i.jsxs("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 p-6 ",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:i.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"160,000"}),i.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[i.jsx("span",{children:"Olamax suites"}),i.jsx("span",{children:"|"}),i.jsx("span",{children:" 2 days ago"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx(Bn,{className:"w-3 h-3"}),i.jsx("span",{children:"Email"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx(qn,{className:"w-3 h-3"}),i.jsx("span",{children:"Phone"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[i.jsx(pr,{className:"w-3 h-3"}),i.jsx("span",{children:"WhatsApp"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx($h,{className:"w-3 h-3"}),i.jsx("span",{children:"Save"})]})]})]})]})]})]})}),IO=()=>i.jsx(i.Fragment,{children:i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(Hn,{className:"w-8 h-8 text-green-600"})}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),i.jsxs("a",{href:"/post_a_listing",children:["  ",i.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})]})})});mt();fj();const wE=async(s=!1)=>{try{const e=Jf();if(!e?.uid)throw new Error("User not authenticated");const t=mt(),r=ft(t,"users",e.uid,"properties");if(!s)return(await lt(r)).size;const o=await lt(r);let c=0,d=0,p=0;return o.forEach(m=>{const g=m.data();c++,g.status==="active"?d++:p++}),{total:c,active:d,inactive:p}}catch(e){throw console.error("Error fetching property count:",e),e}},_E=async(s=!1,e="createdAt",t="desc")=>{try{const r=Jf();if(!r?.uid)throw new Error("User not authenticated");const o=mt(),c=ft(o,"users",r.uid,"properties"),d=Ut(c,uy(e,t)),p=await lt(d),m=[];return p.forEach(g=>{const b=g.data();if(!s&&b.status!=="active")return;let w=0;if(b.createdAt){const v=b.createdAt.toDate?b.createdAt.toDate():new Date(b.createdAt);w=Math.floor((new Date-v)/(1e3*60*60*24))}m.push({id:g.id,...b,daysSinceCreated:w})}),e!=="createdAt"&&m.sort((g,b)=>{let w=g[e],v=b[e];return typeof w=="string"&&(w=w.toLowerCase(),v=v.toLowerCase()),w<v?t==="asc"?-1:1:w>v?t==="asc"?1:-1:0}),m}catch(r){throw console.error("Error fetching user properties:",r),r}},NE=async s=>{try{const e=Jf();if(!e?.uid)throw new Error("User not authenticated");if(!s)throw new Error("Property ID is required");const t=mt(),r=ot(t,"users",e.uid,"properties",s),o=await is(r);if(!o.exists())throw new Error("Property not found");if(o.data().userId!==e.uid)throw new Error("You do not have permission to delete this property");return await m5(r),{success:!0,message:"Property deleted successfully"}}catch(e){throw console.error("Error deleting property:",e),e}},kO=Object.freeze(Object.defineProperty({__proto__:null,arrayRemove:lo,arrayUnion:$u,deleteProperty:NE,getDownloadURL:dj,getUserProperties:_E,getUserPropertyCount:wE,ref:hj,serverTimestamp:Qs,uploadBytesResumable:uj},Symbol.toStringTag,{value:"Module"})),PO=({onPreviewProperty:s})=>{const[e,t]=T.useState("all"),[r,o]=T.useState(null),[c,d]=T.useState([]),[p,m]=T.useState(!0),[g,b]=T.useState(""),[w,v]=T.useState(null),[j,A]=T.useState(!1),[F,L]=T.useState(null),[q,V]=T.useState(null),P=()=>e==="all"?c:c.filter(G=>{const k=G.status?.toLowerCase()||"active";return e==="active"?k==="active"||k==="pending":e==="inactive"?k==="sold"||k==="rented"||k==="inactive"||k==="draft":!0}),[B,Y]=T.useState({total:0,active:0,inactive:0}),ae=T.useRef({});T.useEffect(()=>()=>{ae.current={}},[]),T.useEffect(()=>{let G;try{G=kn(k=>{console.log("Auth state changed:",k),o(k)})}catch(k){console.error("Error setting up auth listener:",k),b("Failed to initialize authentication. Please refresh the page."),m(!1)}return()=>{G&&typeof G=="function"&&G()}},[]),T.useEffect(()=>{r?(O(),S()):(d([]),Y({total:0,active:0,inactive:0}),m(!1))},[r]),T.useEffect(()=>{const G=k=>{q&&ae.current[q]&&(ae.current[q].contains(k.target)||V(null))};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[q]);const O=async()=>{if(!r?.uid){console.warn("No user UID available for fetching properties");return}m(!0),b("");try{console.log("Fetching properties for user:",r.uid);const G=await _E(),k=Array.isArray(G)?G:[];d(k),console.log("Fetched properties:",k.length)}catch(G){console.error("Error fetching user properties:",G);let k="Failed to load your properties. Please try again.";G.message.includes("permission")?k="You don't have permission to view these properties.":G.message.includes("network")?k="Network error. Please check your connection and try again.":G.message.includes("auth")&&(k="Authentication error. Please sign in again."),b(k)}finally{m(!1)}},S=async()=>{try{const G=await wE(!0);Y(G)}catch(G){console.error("Error fetching property stats:",G)}},R=async G=>{if(!G){console.error("No property ID provided for deletion"),b("Invalid property ID. Cannot delete property.");return}v(G);try{console.log("Deleting property:",G),await NE(G),d(k=>k.filter(Q=>Q.id!==G)),await S(),A(!1),L(null),console.log("Property deleted successfully")}catch(k){console.error("Error deleting property:",k);let Q="Failed to delete property. Please try again.";k.message.includes("permission")?Q="You don't have permission to delete this property.":k.message.includes("not found")&&(Q="Property not found. It may have already been deleted.",d($=>$.filter(D=>D.id!==G)),A(!1),L(null)),b(Q)}finally{v(null)}},U=(G,k,Q)=>{try{if(!G||isNaN(G))return"Price not available";const $=new Intl.NumberFormat("en-US"),Z=`${k==="Nigeria Naira"?"":"$"}${$.format(Number(G))}`;return Q?`${Z}${Q.toLowerCase()==="not applicable"?"":"/"}${Q.toLowerCase()==="not applicable"?"":Q.toLowerCase()}`:Z}catch($){return console.error("Error formatting price:",$),"Price error"}},z=G=>{try{if(!G)return"N/A";let k;if(G&&typeof G.toDate=="function")k=G.toDate();else if(G instanceof Date)k=G;else if(typeof G=="string"||typeof G=="number")k=new Date(G);else return"Invalid date";return isNaN(k.getTime())?"Invalid date":k.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(k){return console.error("Error formatting date:",k),"Date error"}},C=G=>{const k=G?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[k]||"bg-gray-100 text-gray-800"},E=(G,k)=>{k.stopPropagation(),V(q===G?null:G)},re=(G,k)=>{switch(V(null),G){case"preview":s&&typeof s=="function"?(s(k),O()):console.warn("onPreviewProperty callback not provided");break;case"edit":ce(k),O();break;case"delete":L(k),A(!0);break;default:console.warn("Unknown menu action:",G)}},ce=G=>{window.location.href=`/post_a_listing?edit=${G.id}`},W=({property:G})=>{if(!G||!G.id)return console.warn("Invalid property data:",G),null;const k=q===G.id;return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gray-200",children:[G.images&&Array.isArray(G.images)&&G.images.length>0?i.jsx("img",{src:G.images[0],alt:G.title||"Property image",className:"w-full h-full object-cover",onError:Q=>{Q.target.onerror=null,Q.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiAxNkw4IDEySDEwVjhIMTRWMTJIMTZMMTIgMTZaIiBmaWxsPSIjOUI5QkExIi8+Cjwvc3ZnPgo="}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:i.jsx(ro,{className:"w-12 h-12 text-gray-400"})}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C(G.status)}`,children:G.status||"Active"})}),G.daysSinceCreated!==void 0&&i.jsx("div",{className:"absolute bottom-3 left-3",children:i.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-xs rounded",children:[G.daysSinceCreated," days ago"]})}),i.jsx("div",{className:"absolute top-3 right-3",ref:Q=>{Q?ae.current[G.id]=Q:delete ae.current[G.id]},children:i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:Q=>E(G.id,Q),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full transition-all","aria-label":"Property actions",children:i.jsx(b4,{className:"w-4 h-4 text-gray-600"})}),k&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[120px]",children:[i.jsxs("button",{onClick:Q=>{Q.stopPropagation(),re("preview",G)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[i.jsx(Nr,{className:"w-4 h-4"}),"Preview"]}),i.jsxs("button",{onClick:Q=>{Q.stopPropagation(),re("edit",G)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[i.jsx(Hh,{className:"w-4 h-4"}),"Edit"]}),i.jsxs("button",{onClick:Q=>{Q.stopPropagation(),re("delete",G)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[i.jsx(_f,{className:"w-4 h-4"}),"Delete"]})]})]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:G.title||"Untitled Property"}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1 flex-shrink-0"}),i.jsx("span",{className:"text-sm truncate",children:G.location||(G.city&&G.state?`${G.city}, ${G.state}`:"Location not specified")})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:U(G.price,G.currency,G.pricePer)}),i.jsx("div",{className:"text-sm text-gray-500",children:G.advertisingFor||"For Sale"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[G.bedroom&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ku,{className:"w-4 h-4"}),i.jsx("span",{children:G.bedroom})]}),G.bathroom&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Iu,{className:"w-4 h-4"}),i.jsx("span",{children:G.bathroom})]}),G.totalArea&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ro,{className:"w-4 h-4"}),i.jsxs("span",{children:[G.totalArea," ",G.totalAreaUnit||"sqft"]})]})]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[i.jsx(ri,{className:"w-3 h-3 mr-1"}),i.jsxs("span",{children:["Listed ",z(G.createdAt)]})]})]})]})},me=()=>i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2  gap-4 mb-6",children:[i.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="all"?"bg-blue-100 border-blue-300":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,onClick:()=>t("all"),children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:B.total}),i.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]}),i.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="active"?"bg-green-100 border-green-300":"bg-green-50 border-green-200 hover:bg-green-100"}`,onClick:()=>t("active"),children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:B.active}),i.jsx("div",{className:"text-sm text-green-600",children:"Active"})]}),i.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e!=="active"?"bg-gray-100 border-gray-300":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t("inactive"),children:[i.jsx("div",{className:"text-2xl font-bold text-gray-600",children:B.inactive}),i.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]})]}),ve=()=>i.jsx("div",{className:"fixed inset-0 bg-black/[0.5] bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Za,{className:"w-6 h-6 text-red-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Delete Property"})]}),i.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',F?.title||"this property",'"? This action cannot be undone.']}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:()=>{A(!1),L(null)},disabled:w,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>R(F?.id),disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w===F?.id?i.jsxs(i.Fragment,{children:[i.jsx(bu,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})});return!r&&!p?i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[i.jsx(Za,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),i.jsx("p",{className:"text-yellow-700",children:"Please sign in to view your property listings."})]})})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:" rounded-lg p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{children:i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your property listings"})}),i.jsx(aa,{to:"/post_a_listing",children:i.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",disabled:p,children:[i.jsx(Hn,{className:"w-4 h-4"}),"New Listing"]})})]}),r&&B.total>0&&i.jsx(me,{}),g&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Za,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700 text-sm",children:g}),i.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-500 hover:text-red-700","aria-label":"Close error",children:""})]})}),p?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):P().length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(wf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e==="all"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-600 mb-2",children:"You don't have any listings yet."}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first listing to get started."}),i.jsx(aa,{to:"/post_a_listing",children:i.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-gray-600 mb-2",children:["No ",e," listings found."]}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try viewing all listings or create a new one."}),i.jsxs("div",{className:"space-x-3",children:[i.jsx("button",{onClick:()=>t("all"),className:"text-blue-600 hover:text-blue-700 underline",children:"Show all listings"}),i.jsx(aa,{to:"/post_a_listing",children:i.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[P().length," listing",P().length!==1?"s":""," found",e!=="all"&&i.jsxs("span",{className:"ml-2 text-blue-600",children:[" Showing ",e," properties"]})]}),e!=="all"&&i.jsx("button",{onClick:()=>t("all"),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Show all"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P().map(G=>i.jsx(W,{property:G},G.id))})]})]}),j&&i.jsx(ve,{})]})},DO=()=>{const[s,e]=T.useState([]),[t,r]=T.useState(!0),[o,c]=T.useState(null),[d,p]=T.useState(!1),m="963871356ba532833088d07c8e8d15c6",g="https://gnews.io/api/v4/search",b=async(A=!1)=>{try{A?p(!0):r(!0),c(null);const L=["real estate market","property prices","housing market","property investment","real estate trends"].join(" OR "),q=await fetch(`${g}?q=${encodeURIComponent(L)}&token=${m}&lang=en&country=any&max=20&sortby=publishedAt`);if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const V=await q.json();if(V.articles){const P=V.articles.filter(B=>{const Y=(B.title+" "+B.description).toLowerCase();return Y.includes("real estate")||Y.includes("property")||Y.includes("housing")||Y.includes("market")||Y.includes("investment")});e(P.slice(0,12))}else throw new Error("No articles found")}catch(F){console.error("Error fetching news:",F),c(F.message)}finally{r(!1),p(!1)}};T.useEffect(()=>{b()},[]);const w=()=>{b(!0)},v=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=(A,F=120)=>A.length<=F?A:A.substr(0,F)+"...";return t?i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[i.jsx(wh,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]})]}):o?i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[i.jsx(wh,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),i.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(gw,{className:"h-4 w-4 mr-2"}),"Retry"]})]}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Za,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load property news"}),i.jsx("p",{className:"text-gray-500 text-sm",children:o}),i.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Make sure your GNews API key is valid"})]})]}):i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[i.jsx(wh,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),i.jsxs("button",{onClick:w,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[i.jsx(gw,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),d?"Refreshing...":"Refresh"]})]}),s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(wh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No property news available at the moment."}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try refreshing to load the latest articles."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((A,F)=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[A.image&&i.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:i.jsx("img",{src:A.image,alt:A.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:L=>{L.target.style.display="none"}})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[i.jsx(ri,{className:"h-3 w-3 mr-1"}),v(A.publishedAt)]}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:A.title}),i.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:j(A.description)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center text-xs text-gray-500",children:i.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:A.source.name})}),i.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center transition-colors",children:["Read more",i.jsx(z_,{className:"h-3 w-3 ml-1"})]})]})]})]},F))}),s.length>0&&i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("p",{className:"text-gray-500 text-sm",children:["Showing latest property news  Last updated: ",new Date().toLocaleTimeString()]})})]})},MO=()=>i.jsx(i.Fragment,{children:i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:i.jsx("p",{className:"text-blue-800 text-sm",children:" Coming Soon!"})})]})})}),Gs={getCurrentUser:()=>Jf(),getUserProfile:async s=>{try{const e=ot(dt,"users",s,"profiles","userProfile"),t=await is(e);if(console.log("Profile document exists:",t.exists()),t.exists()){const r=t.data();return console.log("Profile data from Firestore:",r),console.log("Uploaded files from Firestore:",r.uploadedFiles),r.uploadedFiles||(r.uploadedFiles={govtId:null,selfiePhoto:null,businessCAC:null}),r}else{console.log("No profile document found, creating new structure");const r=await My(s);if(r){const o={firstName:r.firstName||"",lastName:r.lastName||"",primaryPhone:r.primaryPhone||"",email:r.email||"",whatsappPhone:r.whatsappPhone||"",alternateEmail:r.alternateEmail||"",isRealEstateProfessional:r.isRealEstateProfessional||!1,profileImage:r.profileImage||"",companyName:r.companyName||"",companyPhone:r.companyPhone||"",category:r.category||"",website:r.website||"",country:r.country||"Nigeria",state:r.state||"",city:r.city||"",address:r.address||"",aboutUs:r.aboutUs||"",uploadedFiles:{govtId:null,selfiePhoto:null,businessCAC:null}};return await s0(e,o),console.log("Migrated profile data:",o),o}return null}}catch(e){throw console.error("Error in getUserProfile:",e),e}},updateUserProfile:async(s,e)=>{try{const t=ot(dt,"users",s,"profiles","userProfile");console.log("Saving profile data:",e),console.log("Uploaded files in save:",e.uploadedFiles);const r={...e,uploadedFiles:e.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null},updatedAt:new Date().toISOString()};return console.log("Data being saved to Firestore:",r),await s0(t,r,{merge:!0}),console.log("Profile saved successfully to Firestore"),!0}catch(t){throw console.error("Error in updateUserProfile:",t),t}},uploadImage:async(s,e)=>{try{return await xO(s,e)}catch(t){throw console.error("Upload error:",t),t}},subscribeToAuthChanges:kn};function OO(){const[s,e]=T.useState(null),[t,r]=T.useState(!0),[o,c]=T.useState(!1),[d,p]=T.useState({show:!1,message:"",type:"success"}),m=["govtId","selfiePhoto"],[g,b]=T.useState({govtId:null,selfiePhoto:null,businessCAC:null}),[w,v]=T.useState(!1),[j,A]=T.useState({firstName:"",lastName:"",primaryPhone:"",email:"",whatsappPhone:"",alternateEmail:"",isRealEstateProfessional:!1,companyName:"",companyPhone:"",category:"",website:"",country:"Nigeria",state:"",city:"",address:"",aboutUs:"",profileImage:""}),[F,L]=T.useState(null),[q,V]=T.useState(0),[P,B]=T.useState({}),Y=["Lagos","Abuja","Rivers","Ogun","Kano","Kaduna","Oyo","Delta","Edo","Anambra"],ae={Lagos:["Lagos Island","Victoria Island","Ikeja","Lekki","Surulere","Yaba"],Abuja:["Garki","Wuse","Maitama","Gwarinpa","Kubwa","Nyanya"],Rivers:["Port Harcourt","Obio-Akpor","Eleme","Ikwerre","Oyigbo"],Ogun:["Abeokuta","Sagamu","Ijebu-Ode","Ota","Ilaro"]};T.useEffect(()=>{const G=Gs.subscribeToAuthChanges(async k=>{k?(e(k),await U(k.uid)):(e(null),r(!1))});return()=>G()},[]),T.useEffect(()=>{console.log("uploadedFiles state changed:",g)},[g]),T.useEffect(()=>{const G=S(g,j.isRealEstateProfessional);v(G)},[j.isRealEstateProfessional,g]);const O=async(G,k)=>{if(k){if(k.size>5*1024*1024){C("File size must be less than 5MB","error");return}try{const Q=await W(k),$={...g,[G]:{name:k.name,data:Q,type:k.type,size:k.size}};b($);const D=S($,j.isRealEstateProfessional);if(v(D),s){const xe={...await Gs.getUserProfile(s.uid),uploadedFiles:$,validation:D,updatedAt:new Date().toISOString()};await Gs.updateUserProfile(s.uid,xe)}C(`${G} uploaded successfully!`)}catch(Q){console.error("File upload error:",Q),C("Error uploading file: "+Q.message,"error")}}},S=(G,k)=>{const Q=["govtId","selfiePhoto"];return k&&Q.push("businessCAC"),Q.every($=>G[$]!==null)},R=async G=>{if(s)try{const k={...g,[G]:null};b(k);const Q=S(k,j.isRealEstateProfessional);v(Q);const D={...await Gs.getUserProfile(s.uid),uploadedFiles:k,validation:Q,updatedAt:new Date().toISOString()};await Gs.updateUserProfile(s.uid,D),C(`${G.replace(/([A-Z])/g," $1").toLowerCase()} removed successfully!`)}catch(k){console.error("Error removing file:",k),C("Error removing file: "+k.message,"error")}},U=async G=>{try{r(!0);const k=Cn.currentUser,Q=await Gs.getUserProfile(G);if(Q){A({...Q,firstName:Q.firstName||k?.displayName?.split(" ")[0]||"",lastName:Q.lastName||k?.displayName?.split(" ")[1]||"",email:Q.email||k?.email||""}),L(Q.profileImage||null),b(Q.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null});const $=Q.uploadedFiles||{govtId:null,selfiePhoto:null,businessCAC:null};b($);const D=S($,Q.isRealEstateProfessional||!1);v(D)}else A({...j,firstName:k?.displayName?.split(" ")[0]||"",lastName:k?.displayName?.split(" ")[1]||"",email:k?.email||""}),b({govtId:null,selfiePhoto:null,businessCAC:null})}catch(k){console.error("Error loading user profile:",k),C("Error loading profile data","error")}finally{r(!1)}},z=async()=>{if(!s)return;const G={companyName:j.companyName||"",companyPhone:j.companyPhone||"",category:j.category||"",website:j.website||"",country:j.country||"Nigeria",state:j.state||"",city:j.city||"",address:j.address||"",aboutUs:j.aboutUs||""};if(!E(G,!0)){C("Please fix the errors in the company form","error");return}try{c(!0);const k=await Gs.getUserProfile(s.uid),Q={...k,...G,uploadedFiles:g,firstName:k?.firstName||"",lastName:k?.lastName||"",primaryPhone:k?.primaryPhone||"",email:k?.email||"",whatsappPhone:k?.whatsappPhone||"",alternateEmail:k?.alternateEmail||"",isRealEstateProfessional:k?.isRealEstateProfessional||!1,profileImage:k?.profileImage||""};await Gs.updateUserProfile(s.uid,Q),C("Company information saved successfully!")}catch(k){console.error("Error saving company profile:",k),C("Error saving company profile: "+k.message,"error")}finally{c(!1)}},C=(G,k="success")=>{p({show:!0,message:G,type:k}),setTimeout(()=>{p({show:!1,message:"",type:"success"})},3e3)},E=(G,k=!1)=>{const Q={};return k?(G.companyName?.trim()||(Q.companyName="Company name is required"),G.category||(Q.category="Category is required"),G.state||(Q.state="State is required"),G.city||(Q.city="City is required")):(G.firstName?.trim()||(Q.firstName="First name is required"),G.lastName?.trim()||(Q.lastName="Last name is required"),G.primaryPhone?.trim()||(Q.primaryPhone="Primary phone is required"),G.email?.trim()?/\S+@\S+\.\S+/.test(G.email)||(Q.email="Email is invalid"):Q.email="Email is required",console.log("Validating uploadedFiles:",g),m.forEach($=>{if(!g[$]){const D=$.replace(/([A-Z])/g," $1").toLowerCase();Q[$]=`${D} is required`,console.log(`Validation error for ${$}:`,Q[$])}})),console.log("Validation errors:",Q),B(Q),Object.keys(Q).length===0},re=G=>{const{name:k,value:Q,type:$,checked:D}=G.target;A(Z=>({...Z,[k]:$==="checkbox"?D:Q})),P[k]&&B(Z=>({...Z,[k]:""}))},ce=async G=>{const k=G.target.files[0];if(!(!k||!s)){if(!k.type.startsWith("image/")){C("Please select a valid image file","error");return}if(k.size>1*1024*1024){C("Image size must be less than 1MB for profile pictures","error");return}try{V(10);const Q=await W(k);V(50);const $=await Gs.getUserProfile(s.uid)||{};V(70);const D={firstName:$.firstName||j.firstName||"",lastName:$.lastName||j.lastName||"",primaryPhone:$.primaryPhone||j.primaryPhone||"",email:$.email||j.email||"",whatsappPhone:$.whatsappPhone||j.whatsappPhone||"",alternateEmail:$.alternateEmail||j.alternateEmail||"",isRealEstateProfessional:$.isRealEstateProfessional||j.isRealEstateProfessional||!1,profileImage:Q,companyName:$.companyName||j.companyName||"",companyPhone:$.companyPhone||j.companyPhone||"",category:$.category||j.category||"",website:$.website||j.website||"",country:$.country||j.country||"Nigeria",state:$.state||j.state||"",city:$.city||j.city||"",address:$.address||j.address||"",aboutUs:$.aboutUs||j.aboutUs||""};V(90),await Gs.updateUserProfile(s.uid,D),L(Q),A(Z=>({...Z,profileImage:Q})),V(100),setTimeout(()=>{V(0),C("Profile image uploaded successfully!")},500)}catch(Q){console.error("Upload error:",Q),C("Error uploading image: "+Q.message,"error"),V(0)}}},W=G=>new Promise((k,Q)=>{const $=new FileReader;$.onload=()=>k($.result),$.onerror=D=>Q(D),$.readAsDataURL(G)}),me=async()=>{if(s&&F)try{const G=await Gs.getUserProfile(s.uid)||{},k={...G,profileImage:"",firstName:G.firstName||j.firstName||"",lastName:G.lastName||j.lastName||"",primaryPhone:G.primaryPhone||j.primaryPhone||"",email:G.email||j.email||"",whatsappPhone:G.whatsappPhone||j.whatsappPhone||"",alternateEmail:G.alternateEmail||j.alternateEmail||"",isRealEstateProfessional:G.isRealEstateProfessional||j.isRealEstateProfessional||!1,companyName:G.companyName||j.companyName||"",companyPhone:G.companyPhone||j.companyPhone||"",category:G.category||j.category||"",website:G.website||j.website||"",country:G.country||j.country||"Nigeria",state:G.state||j.state||"",city:G.city||j.city||"",address:G.address||j.address||"",aboutUs:G.aboutUs||j.aboutUs||""};await Gs.updateUserProfile(s.uid,k),L(null),A(Q=>({...Q,profileImage:""})),C("Profile image deleted successfully!")}catch(G){console.error("Error deleting image:",G),C("Error deleting image: "+G.message,"error")}},ve=async()=>{if(!s)return;const G={firstName:j.firstName||"",lastName:j.lastName||"",primaryPhone:j.primaryPhone||"",email:j.email||"",whatsappPhone:j.whatsappPhone||"",alternateEmail:j.alternateEmail||"",isRealEstateProfessional:j.isRealEstateProfessional||!1};if(!E(G,!1)){C("Please fix the errors in the form","error");return}try{c(!0);const k=await Gs.getUserProfile(s.uid),Q={...k,...G,uploadedFiles:g,companyName:k?.companyName||"",companyPhone:k?.companyPhone||"",category:k?.category||"",website:k?.website||"",country:k?.country||"Nigeria",state:k?.state||"",city:k?.city||"",address:k?.address||"",aboutUs:k?.aboutUs||"",profileImage:k?.profileImage||""};await Gs.updateUserProfile(s.uid,Q),C("Profile information saved successfully!")}catch(k){console.error("Error saving profile:",k),C("Error saving profile: "+k.message,"error")}finally{c(!1)}};return t?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):s?i.jsxs("div",{className:" mx-auto p-2 md:p-6 bg-white min-h-screen",children:[d.show&&i.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${d.type==="error"?"bg-red-100 border border-red-300":"bg-green-100 border border-green-300"}`,children:i.jsxs("div",{className:"flex items-center",children:[d.type==="error"?i.jsx(Za,{className:"h-5 w-5 text-red-600 mr-2"}):i.jsx(Ja,{className:"h-5 w-5 text-green-600 mr-2"}),i.jsx("span",{className:d.type==="error"?"text-red-800":"text-green-800",children:d.message})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage your personal and company information"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Image"}),i.jsxs("div",{className:" sm:flex items-center sm:space-x-6",children:[i.jsxs("div",{className:"relative",children:[F?i.jsx("img",{src:F,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:i.jsx(gr,{className:"h-12 w-12 text-gray-400"})}),q>0&&q<100&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full",children:i.jsxs("div",{className:"text-white text-sm font-medium",children:[q,"%"]})})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("label",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[i.jsx(Ig,{className:"inline h-4 w-4 mr-2"}),"Upload Photo",i.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"hidden"})]}),F&&i.jsxs("button",{onClick:me,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:[i.jsx(ps,{className:"inline h-4 w-4 mr-2"}),"Remove"]})]})})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),i.jsx("input",{type:"text",name:"firstName",value:j.firstName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.firstName?"border-red-500":"border-gray-300"}`}),P.firstName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.firstName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),i.jsx("input",{type:"text",name:"lastName",value:j.lastName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.lastName?"border-red-500":"border-gray-300"}`}),P.lastName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.lastName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone *"}),i.jsx("input",{type:"tel",name:"primaryPhone",value:j.primaryPhone,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.primaryPhone?"border-red-500":"border-gray-300"}`}),P.primaryPhone&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.primaryPhone})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),i.jsx("input",{type:"email",name:"email",value:j.email,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.email?"border-red-500":"border-gray-300"}`}),P.email&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Phone"}),i.jsx("input",{type:"tel",name:"whatsappPhone",value:j.whatsappPhone,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternate Email"}),i.jsx("input",{type:"email",name:"alternateEmail",value:j.alternateEmail,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isRealEstateProfessional",checked:j.isRealEstateProfessional,onChange:re,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I am a real estate professional",j.isRealEstateProfessional&&i.jsx("span",{className:"ml-2 text-blue-600 text-xs",children:"(Company form will appear below)"})]})]})}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx("button",{onClick:ve,disabled:o,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx($h,{className:"inline h-4 w-4 mr-2"}),"Save Changes"]})})})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Documents"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Govt. Issued ID *"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.govtId?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(kh,{className:"inline h-4 w-4 mr-2"}),g.govtId?"File Uploaded":"Choose File",i.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:G=>O("govtId",G.target.files[0]),className:"hidden"})]}),g.govtId&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:g.govtId.name}),i.jsx("button",{onClick:()=>R("govtId"),className:"text-red-600 hover:text-red-700",children:i.jsx(ps,{className:"h-4 w-4"})})]})]}),P.govtId&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.govtId})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selfie Photo *"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.selfiePhoto?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(kh,{className:"inline h-4 w-4 mr-2"}),g.selfiePhoto?"File Uploaded":"Choose File",i.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:G=>O("selfiePhoto",G.target.files[0]),className:"hidden"})]}),g.selfiePhoto&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:g.selfiePhoto.name}),i.jsx("button",{onClick:()=>R("selfiePhoto"),className:"text-red-600 hover:text-red-700",children:i.jsx(ps,{className:"h-4 w-4"})})]})]}),P.selfiePhoto&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.selfiePhoto})]}),j.isRealEstateProfessional&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business CAC Document"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:`cursor-pointer px-4 py-2 rounded-md transition-colors ${g.businessCAC?"bg-green-100 text-green-700 border border-green-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(kh,{className:"inline h-4 w-4 mr-2"}),g.businessCAC?"File Uploaded":"Choose File",i.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:G=>O("businessCAC",G.target.files[0]),className:"hidden"})]}),g.businessCAC&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:g.businessCAC.name}),i.jsx("button",{onClick:()=>R("businessCAC"),className:"text-red-600 hover:text-red-700",children:i.jsx(ps,{className:"h-4 w-4"})})]})]}),P.businessCAC&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.businessCAC})]})]})]}),j.isRealEstateProfessional&&i.jsx("div",{className:"space-y-6 mt-8",children:i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),i.jsx("input",{type:"text",name:"companyName",value:j.companyName,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.companyName?"border-red-500":"border-gray-300"}`}),P.companyName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.companyName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Phone"}),i.jsx("input",{type:"tel",name:"companyPhone",value:j.companyPhone,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),i.jsxs("select",{name:"category",value:j.category,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.category?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select category"}),i.jsx("option",{value:"real-estate-agent",children:"Real Estate Agent"}),i.jsx("option",{value:"real-estate-organization",children:"Real Estate Organization"}),i.jsx("option",{value:"estate-surverying-firm",children:"Estate Surveying Firm"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"property-manager",children:"Property Manager"}),i.jsx("option",{value:"broker",children:"Broker"})]}),P.category&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.category})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),i.jsx("input",{type:"url",name:"website",value:j.website,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),i.jsx("input",{type:"text",name:"country",value:j.country,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),i.jsxs("select",{name:"state",value:j.state,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.state?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select state"}),Y.map(G=>i.jsx("option",{value:G,children:G},G))]}),P.state&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.state})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),i.jsxs("select",{name:"city",value:j.city,onChange:re,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${P.city?"border-red-500":"border-gray-300"}`,disabled:!j.state,children:[i.jsx("option",{value:"",children:"Select city"}),j.state&&ae[j.state]?.map(G=>i.jsx("option",{value:G,children:G},G))]}),P.city&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.city})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",name:"address",value:j.address,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Us"}),i.jsx("textarea",{name:"aboutUs",value:j.aboutUs,onChange:re,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx("button",{onClick:z,disabled:o,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx($h,{className:"inline h-4 w-4 mr-2"}),"Save Company Info"]})})})]})})]}):i.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-white min-h-screen",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Please sign in to manage your profile"}),i.jsx("p",{className:"text-gray-600",children:"You need to be logged in to view and edit your profile information."})]})})}const LO=()=>i.jsx(i.Fragment,{children:i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(xu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:i.jsx("p",{className:"text-green-800 text-sm",children:" Pro Feature"})})]})})}),UO=({property:s,isOpen:e,onClose:t,onEdit:r,onDelete:o,showActions:c=!0})=>{const[d,p]=T.useState(0),[m,g]=T.useState(!1);if(T.useEffect(()=>{p(0),g(!1)},[s]),T.useEffect(()=>{const V=P=>{P.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",V),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",V),document.body.style.overflow="unset"}},[e,t]),!e||!s)return null;const b=(V,P,B)=>{try{if(!V||isNaN(V))return"Price not available";const Y=new Intl.NumberFormat("en-US"),O=`${P==="Nigeria Naira"?"":"$"}${Y.format(Number(V))}`;return B?`${O}${B.toLowerCase()==="not applicable"?"":"/"}${B.toLowerCase()==="not applicable"?"":B.toLowerCase()}`:O}catch(Y){return console.error("Error formatting price:",Y),"Price error"}},w=V=>{try{if(!V)return"N/A";let P;if(V&&typeof V.toDate=="function")P=V.toDate();else if(V instanceof Date)P=V;else if(typeof V=="string"||typeof V=="number")P=new Date(V);else return"Invalid date";return isNaN(P.getTime())?"Invalid date":P.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(P){return console.error("Error formatting date:",P),"Date error"}},v=V=>{const P=V?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[P]||"bg-gray-100 text-gray-800"},j=()=>{s.images&&s.images.length>1&&p(V=>V===0?s.images.length-1:V-1)},A=()=>{s.images&&s.images.length>1&&p(V=>V===s.images.length-1?0:V+1)},F=()=>{g(!0)},L={parking:uw,wifi:ww,gym:fw,pool:vw,security:El,garden:xw,"gym/fitness":fw,"swimming pool":vw,"parking space":uw,"internet/wifi":ww,"security system":El,"garden/yard":xw,"community center":Du,"coffee shop":h4},q=V=>{const P=V?.toLowerCase()||"";for(const[B,Y]of Object.entries(L))if(P.includes(B))return Y;return gs};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Nr,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Property Preview"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[c&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>r&&r(s),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Property",children:i.jsx(Hh,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>o&&o(s),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Property",children:i.jsx(_f,{className:"w-5 h-5"})})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:i.jsx(ps,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[i.jsxs("div",{className:"relative h-64 md:h-80 bg-gray-200",children:[s.images&&s.images.length>0&&!m?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:s.images[d],alt:`Property image ${d+1}`,className:"w-full h-full object-cover",onError:F}),s.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:i.jsx(w0,{className:"w-5 h-5"})}),i.jsx("button",{onClick:A,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:i.jsx(xf,{className:"w-5 h-5"})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:s.images.map((V,P)=>i.jsx("button",{onClick:()=>p(P),className:`w-2 h-2 rounded-full transition-all ${P===d?"bg-white":"bg-white bg-opacity-50"}`},P))})]})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:i.jsx(ro,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${v(s.status)}`,children:s.status||"Active"})}),s.images&&s.images.length>0&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-sm rounded",children:[d+1," / ",s.images.length]})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:s.title||"Untitled Property"}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[i.jsx(Bs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-lg",children:s.location||(s.city&&s.state?`${s.city}, ${s.state}`:"Location not specified")})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:b(s.price,s.currency,s.pricePer)}),i.jsx("div",{className:"text-lg text-blue-700 font-medium",children:s.advertisingFor||"For Sale"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Listed on"}),i.jsx("div",{className:"text-lg font-medium text-gray-800",children:w(s.createdAt)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.bedroom&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(ku,{className:"w-6 h-6 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:s.bedroom}),i.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),s.bathroom&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(Iu,{className:"w-6 h-6 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:s.bathroom}),i.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),s.totalArea&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(ro,{className:"w-6 h-6 text-gray-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-800",children:[s.totalArea," ",s.totalAreaUnit||"sqft"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Area"})]})]}),s.propertyType&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(gs,{className:"w-6 h-6 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:s.propertyType}),i.jsx("div",{className:"text-sm text-gray-600",children:"Property Type"})]})]})]}),s.description&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),i.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 bg-gray-50 p-4 rounded-lg",children:s.description.split(`
`).map((V,P)=>V.trim()&&i.jsx("p",{className:"mb-2 last:mb-0",children:V},P))})]}),s.amenities&&s.amenities.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Amenities"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.amenities.map((V,P)=>{const B=q(V);return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[i.jsx(B,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-green-800",children:V})]},P)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Property Details"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[s.yearBuilt&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Year Built:"}),i.jsx("span",{className:"font-medium",children:s.yearBuilt})]}),s.furnished&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Furnished:"}),i.jsx("span",{className:"font-medium",children:s.furnished})]}),s.parkingSpaces&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Parking Spaces:"}),i.jsx("span",{className:"font-medium",children:s.parkingSpaces})]}),s.floors&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Number of Floors:"}),i.jsx("span",{className:"font-medium",children:s.floors})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Contact Information"}),i.jsxs("div",{className:"space-y-3",children:[s.contactPhone&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qn,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm",children:s.contactPhone})]}),s.contactEmail&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bn,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm",children:s.contactEmail})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[i.jsx(qn,{className:"w-4 h-4"}),"Call"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[i.jsx(pr,{className:"w-4 h-4"}),"Message"]})]})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ri,{className:"w-4 h-4"}),i.jsxs("span",{children:["Created: ",w(s.createdAt)]})]}),s.updatedAt&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ri,{className:"w-4 h-4"}),i.jsxs("span",{children:["Updated: ",w(s.updatedAt)]})]}),s.daysSinceCreated!==void 0&&i.jsx("div",{children:i.jsxs("span",{children:[s.daysSinceCreated," days ago"]})})]})})]})]})]})})},VO=s=>{},FO=({user:s})=>i.jsxs("div",{children:[i.jsx("div",{className:"mb-8",children:i.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("a",{href:"/post_a_listing",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(Hn,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]})}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(U_,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subscription"})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(vf,{className:"w-6 h-6 text-green-600"})}),i.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Website"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),i.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",i.jsxs(aa,{to:"/post_a_listing",children:["  ",i.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:i.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"160,000"}),i.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[i.jsx("span",{children:"Olamax suites"}),i.jsx("span",{children:"|"}),i.jsx("span",{children:" 2 days ago"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx(Bn,{className:"w-3 h-3"}),i.jsx("span",{children:"Email"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx(qn,{className:"w-3 h-3"}),i.jsx("span",{children:"Phone"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[i.jsx(pr,{className:"w-3 h-3"}),i.jsx("span",{children:"WhatsApp"})]}),i.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[i.jsx($h,{className:"w-3 h-3"}),i.jsx("span",{children:"Save"})]})]})]})]})]})]}),zO=()=>i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(Hn,{className:"w-8 h-8 text-green-600"})}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),i.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})}),BO=()=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"My Listings"}),i.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Hn,{className:"w-4 h-4 inline mr-2"}),"New Listing"]})]}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(wf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"You don't have any listings yet."}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Create your first listing to get started."})]})]}),qO=()=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Listing Feed"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-600",children:"Browse the latest property listings in your area."}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Stay updated with new properties and market trends."})]})]}),$O=()=>i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:i.jsx("p",{className:"text-blue-800 text-sm",children:" Coming Soon!"})})]})}),HO=()=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"My Account"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:i.jsx(N0,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:"Omolaye Amoss"}),i.jsx("p",{className:"text-gray-600",children:"Individual Account"}),i.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full mt-1",children:"Free Plan"})]})]}),i.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade Account"})]})]}),GO=()=>i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(xu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:i.jsx("p",{className:"text-green-800 text-sm",children:" Pro Feature"})})]})}),m_=()=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Help & Support"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[i.jsx(L_,{className:"w-8 h-8 text-blue-600 mb-4"}),i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"FAQ"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Find answers to commonly asked questions."})]}),i.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[i.jsx(pr,{className:"w-8 h-8 text-green-600 mb-4"}),i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Contact Support"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Get help from our support team."})]})]})]}),QO=()=>i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-600",children:"The requested page could not be found."})]})});function YO({externalComponents:s={},additionalRoutes:e={},additionalSidebarItems:t=[]}){const[r,o]=T.useState(null),[c,d]=T.useState(!0),[p,m]=T.useState(!1),[g,b]=T.useState(null),w=Wn(),j=Sr().pathname.replace("/dashboard/","")||"overview",A=re=>{b(re),m(!0)};T.useEffect(()=>{kn(re=>{console.log(re.displayName),o(re.displayName)})},[]);const L={...{overview:{component:FO,title:"Your Dashboard",breadcrumb:"Dashboard"},"post-listing":{component:zO,title:"Post a Listing",breadcrumb:"Post Listing"},"my-listings":{component:BO,title:"My Listings",breadcrumb:"My Listings"},"listing-feed":{component:qO,title:"Listing Feed",breadcrumb:"Listing Feed"},reporting:{component:$O,title:"Reporting",breadcrumb:"Reporting"},"my-account":{component:HO,title:"My Account",breadcrumb:"My Account"},"property-requests":{component:GO,title:"Property Requests",breadcrumb:"Property Requests"},"help-support":{component:m_,title:"Help & Support",breadcrumb:"Help & Support"}},...e,...Object.keys(s).reduce((re,ce)=>(re[ce]={component:s[ce].component,title:s[ce].title||ce,breadcrumb:s[ce].breadcrumb||ce},re),{})},V=[...[{id:"post-listing",label:"Post a Listing",icon:Hn,section:"general"},{id:"overview",label:"Dashboard",icon:gs,section:"general",hasSubmenu:!1},{id:"my-listings",label:"My Listings",icon:xu,section:"general"},{id:"listing-feed",label:"Listing Feed",icon:M_,section:"general"},{id:"my-account",label:"My Account",icon:gr,section:"general",hasSubmenu:!1},{id:"reporting",label:"Reporting",icon:Pu,section:"general",badge:"Soon"},{id:"property-requests",label:"Property Requests",icon:xu,section:"general",badge:"Pro"},{id:"help-support",label:"Help and Support",icon:L_,section:"extra"}],...t],P=V.filter(re=>re.section==="general"),B=V.filter(re=>re.section==="extra"),Y=()=>i.jsx(CO,{user:r}),ae=()=>i.jsx(IO,{}),O=()=>i.jsxs(i.Fragment,{children:[i.jsx(PO,{onPreviewProperty:A}),i.jsx(UO,{property:g,isOpen:p,onClose:()=>m(!1),onEdit:VO,onDelete:re=>{}})]}),S=()=>i.jsx(DO,{}),R=()=>i.jsx(MO,{}),U=()=>i.jsx(OO,{}),z=()=>i.jsx(LO,{}),C=L[j]||L.overview,E=re=>{w(`/dashboard/${re}`),window.innerWidth<768&&d(!1)};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black/[0.2] z-40 lg:hidden",onClick:()=>d(!1)}),i.jsxs("div",{className:`${c?"translate-x-0":"-translate-x-full"} fixed lg:relative  lg:translate-x-0 z-50 w-64 bg-gray-800 text-white flex flex-col transition-transform duration-300 ease-in-out`,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Property Premium"}),i.jsx("button",{onClick:()=>d(!1),className:"lg:hidden",children:i.jsx(ps,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),i.jsx("div",{className:"p-4 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:i.jsx(N0,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:r}),i.jsx("p",{className:"text-sm text-gray-400",children:"(individual account)"}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Free Plan (upgrade)"})]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"General"}),i.jsx("nav",{className:"space-y-1",children:P.map(re=>{const ce=re.icon;return i.jsx("div",{children:i.jsxs("button",{onClick:()=>E(re.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${j===re.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ce,{className:"w-4 h-4"}),i.jsx("span",{children:re.label})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[re.badge&&i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${re.badge==="Pro"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:re.badge}),re.hasSubmenu&&i.jsx(xf,{className:"w-4 h-4"})]})]})},re.id)})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Extra"}),i.jsx("nav",{className:"space-y-1",children:B.map(re=>{const ce=re.icon;return i.jsxs("button",{onClick:()=>E(re.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-md transition-colors ${j===re.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[i.jsx(ce,{className:"w-4 h-4"}),i.jsx("span",{children:re.label})]},re.id)})})]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:()=>d(!c),className:"lg:hidden p-2 rounded-md hover:bg-gray-100",children:i.jsx(B_,{className:"w-5 h-5 text-gray-600"})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:C.title})]}),i.jsxs("div",{className:"md:flex items-center space-x-2 text-sm text-gray-600 hidden",children:[i.jsx("span",{children:"Help Line:"}),i.jsx(pr,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-blue-600 font-medium",children:"+234 806 193 6756"})]})]})}),i.jsx("div",{className:"p-3 md:p-6",children:i.jsxs(A_,{children:[i.jsx(Pt,{path:"/",element:i.jsx(gf,{to:"overview",replace:!0})}),i.jsx(Pt,{path:"overview",element:i.jsx(Y,{})}),i.jsx(Pt,{path:"post-listing",element:i.jsx(ae,{})}),i.jsx(Pt,{path:"my-listings",element:i.jsx(O,{})}),i.jsx(Pt,{path:"listing-feed",element:i.jsx(S,{})}),i.jsx(Pt,{path:"reporting",element:i.jsx(R,{})}),i.jsx(Pt,{path:"my-account",element:i.jsx(U,{})}),i.jsx(Pt,{path:"property-requests",element:i.jsx(z,{})}),i.jsx(Pt,{path:"help-support",element:i.jsx(m_,{})}),i.jsx(Pt,{path:"*",element:i.jsx(QO,{})})]})})]})]})}const KO="modulepreload",WO=function(s){return"/Property_Premium/"+s},p_={},XO=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let g=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=g;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");o=g(t.map(b=>{if(b=WO(b),b in p_)return;p_[b]=!0;const w=b.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${v}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":KO,w||(j.as="script"),j.crossOrigin="",j.href=b,m&&j.setAttribute("nonce",m),document.head.appendChild(j),w)return new Promise((A,F)=>{j.addEventListener("load",A),j.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return o.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},Rs=({label:s,value:e,onChange:t,options:r,required:o,className:c="",disabled:d=!1,placeholder:p})=>i.jsxs("div",{className:`space-y-2 ${c}`,children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s," ",o&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:e,onChange:m=>t(m.target.value),disabled:d,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-700 ${d?"bg-gray-100 cursor-not-allowed":""}`,required:o,children:[i.jsx("option",{value:"",children:p||`Select ${s}`}),r.map((m,g)=>i.jsx("option",{value:m,children:m},g))]})]}),ZO=({formData:s,handleInputChange:e,options:t,selectedOptions:r,handleCheckboxChange:o,addressViewer:c,priceViewer:d,locationData:p,availableStates:m,availableCities:g,getPriceDisplayText:b,disabled:w=!1})=>i.jsx(i.Fragment,{children:i.jsxs("div",{className:"gap-6",children:[i.jsxs("section",{id:"listing_info",className:"grid md:grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Listing Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.listingTitle,onChange:v=>e("listingTitle",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 4 Bedroom Serviced Duplex with BQ",required:!0})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[i.jsx(Rs,{label:"Advertising For",value:s.advertisingFor,onChange:v=>e("advertisingFor",v),options:["Sale","Rent","Lease","Shortlet"],disabled:w,required:!0}),i.jsx(Rs,{label:"Property Type",value:s.propertyType,onChange:v=>e("propertyType",v),options:["House","Apartment","Duplex","Bungalow","Commercial","Land","Penthouse","Studio","Warehouse","Office Space"],disabled:w,required:!0})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-2 w-full",children:[i.jsx(Rs,{label:"Use of Property",value:s.useOfProperty,onChange:v=>e("useOfProperty",v),options:["Residential","Commercial","Industrial","Mixed Use","Unspecified"],className:"w-full",disabled:w,required:!0}),i.jsx(Rs,{label:"Market Status",value:s.marketStatus,onChange:v=>e("marketStatus",v),options:["Available","Under Offer","Sold","Let","Withdrawn"],className:"w-full",disabled:w,required:!0})]})]}),i.jsxs("section",{className:"my-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Additional Property Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsx(Rs,{label:"Property Condition",value:s.propertyCondition,onChange:v=>e("propertyCondition",v),options:["Newly Built","Renovated","Good Condition","Fair Condition","Needs Renovation"],disabled:w}),i.jsx(Rs,{label:"Furnishing Status",value:s.furnishingStatus,onChange:v=>e("furnishingStatus",v),options:["Fully Furnished","Semi Furnished","Unfurnished"],disabled:w}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available From"}),i.jsx("input",{type:"date",value:s.availableFrom,onChange:v=>e("availableFrom",v.target.value),disabled:w,min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),i.jsx(Rs,{label:"Minimum Rent Period",value:s.minimumRentPeriod,onChange:v=>e("minimumRentPeriod",v),options:["6 Months","1 Year","2 Years","3 Years","Negotiable"],disabled:w})]})]}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Provide information on location of property"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsx(Rs,{label:"Country",value:s.country,onChange:v=>e("country",v),options:Object.keys(p),placeholder:"Select Country",disabled:w,required:!0}),i.jsx(Rs,{label:"State/Province",value:s.state,onChange:v=>e("state",v),options:m,placeholder:"Select State",disabled:!s.country||w,required:!0}),i.jsx(Rs,{label:"City",value:s.city,onChange:v=>e("city",v),options:g,placeholder:"Select City",disabled:!s.state||w,required:!0})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-start",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Property Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.address,onChange:v=>e("address",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 70 Maintain Close",required:!0})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show address to viewers?"}),c.map((v,j)=>i.jsxs("label",{className:"flex items-center mb-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"showAddress",checked:s.showAddress===v,onChange:()=>e("showAddress",v),disabled:w,className:"mr-2"}),i.jsx("span",{className:"text-sm",children:v})]},j))]})]})]}),i.jsxs("section",{className:"w-full my-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Pricing"}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[i.jsx(Rs,{label:"Currency",value:s.currency,onChange:v=>e("currency",v),options:["Nigeria Naira","US Dollar","British Pounds","Euro","South African Rand","Ghanaian Cedi"],disabled:w,required:!0}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Price ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:s.price,onChange:v=>e("price",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Eg. 7,000,000",required:!0})]}),i.jsx(Rs,{label:"Price Per What?",value:s.price_per,onChange:v=>e("price_per",v),options:["Not Applicable","Unit","Year","Half Year","Month","Week","Day","Night","Square meter","Plot","Hectare","Acre"],disabled:w,required:!0}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show price to viewers?"}),d.map((v,j)=>i.jsxs("label",{className:"flex items-center mb-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"showPrice",checked:s.showPrice===v,onChange:()=>e("showPrice",v),disabled:w,className:"mr-2"}),i.jsx("span",{className:"text-xs",children:v})]},j)),s.price&&s.price!=="0"&&b&&i.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:[i.jsx("strong",{children:"Preview:"})," ",b(s.showPrice,s.price)]})]})]})]}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Features"}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bedrooms"}),i.jsx("input",{type:"number",value:s.bedroom,onChange:v=>e("bedroom",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bedrooms",min:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bathrooms"}),i.jsx("input",{type:"number",value:s.bathroom,onChange:v=>e("bathroom",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bathrooms",min:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Toilets"}),i.jsx("input",{type:"number",value:s.toilet,onChange:v=>e("toilet",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Toilets",min:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year Built"}),i.jsx("input",{type:"number",value:s.year_built,onChange:v=>e("year_built",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Year Property was built",min:"1900",max:new Date().getFullYear(),required:!0})]})]}),i.jsxs("div",{className:"p-4 w-full justify-center",children:[i.jsx("h2",{className:"text-md mb-4 font-medium",children:"Select Available facilities at this property"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:t.map((v,j)=>i.jsxs("label",{className:"flex items-center mb-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[i.jsx("input",{type:"checkbox",checked:r.includes(v),onChange:()=>o(v),disabled:w,className:"mr-2 rounded border-gray-300 text-green-600 focus:ring-green-500"}),i.jsx("span",{className:"text-sm",children:v})]},j))}),i.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded",children:[i.jsx("strong",{className:"text-green-800",children:"Selected Amenities:"}),i.jsx("span",{className:"text-green-700 ml-2",children:r.length>0?r.join(", "):"None selected"})]})]})]}),i.jsxs("section",{className:"my-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Policies"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsx(Rs,{label:"Pet Policy",value:s.petPolicy,onChange:v=>e("petPolicy",v),options:["Allowed","Not Allowed","Cats Only","Dogs Only","Negotiable"],disabled:w}),i.jsx(Rs,{label:"Smoking Policy",value:s.smokingPolicy,onChange:v=>e("smokingPolicy",v),options:["Not Allowed","Allowed","Outdoor Only","Designated Areas"],disabled:w})]})]}),i.jsxs("section",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Utilities Included"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Electricity","Water","Gas","Internet","Cable TV","Waste Management","Security","Maintenance"].map(v=>i.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[i.jsx("input",{type:"checkbox",checked:s.utilitiesIncluded?.includes(v)||!1,onChange:j=>{const A=j.target.checked?[...s.utilitiesIncluded||[],v]:(s.utilitiesIncluded||[]).filter(F=>F!==v);e("utilitiesIncluded",A)},disabled:w,className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:v})]},v))}),s.utilitiesIncluded&&s.utilitiesIncluded.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[i.jsx("strong",{className:"text-blue-800",children:"Utilities Included:"}),i.jsx("span",{className:"text-blue-700 ml-2",children:s.utilitiesIncluded.join(", ")})]})]}),i.jsxs("section",{className:"w-full",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Measurements"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Area"}),i.jsx("input",{type:"number",value:s.totalArea,onChange:v=>e("totalArea",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Total Area",min:"0",required:!0})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Rs,{label:"Unit",value:s.totalAreaUnit,onChange:v=>e("totalAreaUnit",v),options:["sqm","hectares","acres","plots","sqft"],disabled:w,required:!0})})]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Covered Area"}),i.jsx("input",{type:"number",value:s.coveredArea,onChange:v=>e("coveredArea",v.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Covered Area",min:"0",required:!0})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Rs,{label:"Unit",value:s.coveredAreaUnit,onChange:v=>e("coveredAreaUnit",v),options:["sqm","hectares","acres","plots","sqft"],disabled:w,required:!0})})]})]}),s.totalArea&&s.coveredArea&&i.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Area Summary:"}),i.jsxs("span",{className:"ml-2",children:["Total: ",s.totalArea," ",s.totalAreaUnit," | Covered: ",s.coveredArea," ",s.coveredAreaUnit," | Open: ",(parseFloat(s.totalArea)-parseFloat(s.coveredArea)).toFixed(2)," ",s.totalAreaUnit]})]})})]})]})}),JO=({formData:s,handleInputChange:e,handleDrop:t,handleDragOver:r,handleDragLeave:o,handleImageUpload:c,uploadedImages:d,removeImage:p,dragOver:m,disabled:g=!1})=>{const[b,w]=T.useState(""),[v,j]=T.useState(!1),A=async L=>{if(!(!L||L.length===0)){w(""),j(!0);try{if(d.length+L.length>20){w("Maximum 20 images allowed per property"),j(!1);return}const V=[];for(const P of Array.from(L)){if(P.size>10*1024*1024){w(`${P.name} is too large. Maximum size is 10MB.`);continue}if(!P.type.startsWith("image/")){w(`${P.name} is not a valid image file.`);continue}V.push(P)}V.length>0&&await c(V)}catch(q){console.error("Upload error:",q),w("Failed to upload images. Please try again.")}finally{j(!1)}}},F=()=>{w("")};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Images"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Upload high-quality images of your property. First image will be used as the main photo. Images will be automatically compressed to optimize storage."}),b&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Za,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-red-700 text-sm",children:b})}),i.jsx("button",{onClick:F,className:"text-red-500 hover:text-red-700 ml-2",children:i.jsx(ps,{className:"w-4 h-4"})})]})}),i.jsxs("div",{onDrop:t,onDragOver:r,onDragLeave:o,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-blue-500 bg-blue-50":g?"border-gray-200 bg-gray-50":"border-gray-300 hover:border-blue-400"} ${g?"cursor-not-allowed":"cursor-pointer"}`,children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:L=>A(L.target.files),className:"hidden",id:"image-upload",disabled:g||v}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:v?i.jsx(bu,{className:"w-12 h-12 text-blue-500 animate-spin"}):i.jsx(kh,{className:`w-12 h-12 ${g?"text-gray-300":"text-gray-400"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-lg font-medium ${g?"text-gray-400":"text-gray-700"}`,children:v?"Processing images...":"Drop images here or"}),i.jsx("label",{htmlFor:"image-upload",className:`inline-block mt-2 px-6 py-2 rounded-md transition-colors ${g||v?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer"}`,children:v?"Uploading...":"Browse Files"})]}),i.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-500"}`,children:"Supports: JPG, PNG, WebP (Max 10MB each, 20 images total)"})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Image Guidelines"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Upload clear, well-lit photos"}),i.jsx("li",{children:" Include exterior, interior, and key features"}),i.jsx("li",{children:" First image becomes your main listing photo"}),i.jsx("li",{children:" Images are automatically compressed for optimal performance"}),i.jsx("li",{children:" Avoid blurry or low-quality images"})]})]}),d.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"font-medium text-gray-800",children:["Uploaded Images (",d.length,"/20)"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Drag images to reorder  First image is main photo"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map((L,q)=>i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:i.jsx("img",{src:L.preview||L.url,alt:`Property ${q+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:V=>{V.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMTJMMTEgMTRMMTUgMTBNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxQzcuMDI5NDQgMjEgMyAxNi45NzA2IDMgMTJDMyA3LjAyOTQ0IDcuMDI5NDQgMyAxMiAzQzE2Ljk3MDYgMyAyMSA3LjAyOTQ0IDIxIDEyWiIgc3Ryb2tlPSIjOTk5IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}})}),q===0&&i.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm",children:"Main"}),i.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black bg-opacity-60 text-white text-xs p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("p",{className:"truncate",children:L.name}),i.jsxs("p",{children:[(L.size/1024/1024).toFixed(1),"MB"]})]}),i.jsx("button",{onClick:()=>p(L.id),disabled:g,className:`absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity ${g?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,title:"Remove image",children:i.jsx(ps,{className:"w-3 h-3"})}),v&&!L.isExisting&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:i.jsx(bu,{className:"w-6 h-6 text-white animate-spin"})})]},L.id))}),d.length<20&&i.jsx("div",{className:"flex justify-center",children:i.jsxs("label",{htmlFor:"image-upload",className:`flex items-center gap-2 px-4 py-2 border-2 border-dashed rounded-lg transition-colors ${g?"border-gray-200 text-gray-400 cursor-not-allowed":"border-blue-300 text-blue-600 hover:border-blue-400 hover:bg-blue-50 cursor-pointer"}`,children:[i.jsx(Ig,{className:"w-4 h-4"}),"Add More Images"]})})]}),d.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ig,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No images uploaded yet"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Upload some high-quality photos to showcase your property"})]})]})})},e8=({formData:s,handleInputChange:e,handleListChange:t,addListItem:r,removeListItem:o})=>i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Description"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),i.jsx("textarea",{value:s.description,onChange:c=>e("description",c.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",placeholder:"Provide a detailed description of your property, including its unique features, condition, and any special amenities..."}),i.jsx("p",{className:"text-sm text-gray-500",children:"Be descriptive and highlight what makes your property special."})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Features"}),i.jsx("p",{className:"text-sm text-gray-600",children:"List the key features and amenities of your property."}),i.jsxs("div",{className:"space-y-3",children:[s.features.map((c,d)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:p=>t("features",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Swimming pool, Parking space, Air conditioning"}),s.features.length>1&&i.jsx("button",{onClick:()=>o("features",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:i.jsx(ps,{className:"w-4 h-4"})})]},d)),i.jsxs("button",{onClick:()=>r("features"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[i.jsx(Hn,{className:"w-4 h-4"}),"Add Feature"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Nearby Amenities"}),i.jsx("p",{className:"text-sm text-gray-600",children:"List nearby schools, hospitals, shopping centers, and other amenities."}),i.jsxs("div",{className:"space-y-3",children:[s.nearbyAmenities.map((c,d)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:p=>t("nearbyAmenities",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Shoprite Mall (5 mins), Lagos University Teaching Hospital (10 mins)"}),s.nearbyAmenities.length>1&&i.jsx("button",{onClick:()=>o("nearbyAmenities",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:i.jsx(ps,{className:"w-4 h-4"})})]},d)),i.jsxs("button",{onClick:()=>r("nearbyAmenities"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[i.jsx(Hn,{className:"w-4 h-4"}),"Add Amenity"]})]})]})]})});function jE(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(e=0;e<o;e++)s[e]&&(t=jE(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function no(){for(var s,e,t=0,r="",o=arguments.length;t<o;t++)(s=arguments[t])&&(e=jE(s))&&(r&&(r+=" "),r+=e);return r}function t8(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}t8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Xu=s=>typeof s=="number"&&!isNaN(s),po=s=>typeof s=="string",fa=s=>typeof s=="function",s8=s=>po(s)||Xu(s),c0=s=>po(s)||fa(s)?s:null,n8=(s,e)=>s===!1||Xu(s)&&s>0?s:e,u0=s=>T.isValidElement(s)||po(s)||fa(s)||Xu(s);function r8(s,e,t=300){let{scrollHeight:r,style:o}=s;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function a8({enter:s,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:c,position:d,preventExitTransition:p,done:m,nodeRef:g,isIn:b,playToast:w}){let v=t?`${s}--${d}`:s,j=t?`${e}--${d}`:e,A=T.useRef(0);return T.useLayoutEffect(()=>{let F=g.current,L=v.split(" "),q=V=>{V.target===g.current&&(w(),F.removeEventListener("animationend",q),F.removeEventListener("animationcancel",q),A.current===0&&V.type!=="animationcancel"&&F.classList.remove(...L))};F.classList.add(...L),F.addEventListener("animationend",q),F.addEventListener("animationcancel",q)},[]),T.useEffect(()=>{let F=g.current,L=()=>{F.removeEventListener("animationend",L),r?r8(F,m,o):m()};b||(p?L():(A.current=1,F.className+=` ${j}`,F.addEventListener("animationend",L)))},[b]),Rt.createElement(Rt.Fragment,null,c)}}function g_(s,e){return{content:EE(s.content,s.props),containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,reason:s.removalReason,status:e}}function EE(s,e,t=!1){return T.isValidElement(s)&&!po(s.type)?T.cloneElement(s,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):fa(s)?s({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):s}function i8({closeToast:s,theme:e,ariaLabel:t="close"}){return Rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),s(!0)},"aria-label":t},Rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function o8({delay:s,isRunning:e,closeToast:t,type:r="default",hide:o,className:c,controlledProgress:d,progress:p,rtl:m,isIn:g,theme:b}){let w=o||d&&p===0,v={animationDuration:`${s}ms`,animationPlayState:e?"running":"paused"};d&&(v.transform=`scaleX(${p})`);let j=no("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":m}),A=fa(c)?c({rtl:m,type:r,defaultClassName:j}):no(j,c),F={[d&&p>=1?"onTransitionEnd":"onAnimationEnd"]:d&&p<1?null:()=>{g&&t()}};return Rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${r}`}),Rt.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:A,style:v,...F}))}var l8=1,TE=()=>`${l8++}`;function c8(s,e,t){let r=1,o=0,c=[],d=[],p=e,m=new Map,g=new Set,b=V=>(g.add(V),()=>g.delete(V)),w=()=>{d=Array.from(m.values()),g.forEach(V=>V())},v=({containerId:V,toastId:P,updateId:B})=>{let Y=V?V!==s:s!==1,ae=m.has(P)&&B==null;return Y||ae},j=(V,P)=>{m.forEach(B=>{var Y;(P==null||P===B.props.toastId)&&((Y=B.toggle)==null||Y.call(B,V))})},A=V=>{var P,B;(B=(P=V.props)==null?void 0:P.onClose)==null||B.call(P,V.removalReason),V.isActive=!1},F=V=>{if(V==null)m.forEach(A);else{let P=m.get(V);P&&A(P)}w()},L=()=>{o-=c.length,c=[]},q=V=>{var P,B;let{toastId:Y,updateId:ae}=V.props,O=ae==null;V.staleId&&m.delete(V.staleId),V.isActive=!0,m.set(Y,V),w(),t(g_(V,O?"added":"updated")),O&&((B=(P=V.props).onOpen)==null||B.call(P))};return{id:s,props:p,observe:b,toggle:j,removeToast:F,toasts:m,clearQueue:L,buildToast:(V,P)=>{if(v(P))return;let{toastId:B,updateId:Y,data:ae,staleId:O,delay:S}=P,R=Y==null;R&&o++;let U={...p,style:p.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([C,E])=>E!=null)),toastId:B,updateId:Y,data:ae,isIn:!1,className:c0(P.className||p.toastClassName),progressClassName:c0(P.progressClassName||p.progressClassName),autoClose:P.isLoading?!1:n8(P.autoClose,p.autoClose),closeToast(C){m.get(B).removalReason=C,F(B)},deleteToast(){let C=m.get(B);if(C!=null){if(t(g_(C,"removed")),m.delete(B),o--,o<0&&(o=0),c.length>0){q(c.shift());return}w()}}};U.closeButton=p.closeButton,P.closeButton===!1||u0(P.closeButton)?U.closeButton=P.closeButton:P.closeButton===!0&&(U.closeButton=u0(p.closeButton)?p.closeButton:!0);let z={content:V,props:U,staleId:O};p.limit&&p.limit>0&&o>p.limit&&R?c.push(z):Xu(S)?setTimeout(()=>{q(z)},S):q(z)},setProps(V){p=V},setToggle:(V,P)=>{let B=m.get(V);B&&(B.toggle=P)},isToastActive:V=>{var P;return(P=m.get(V))==null?void 0:P.isActive},getSnapshot:()=>d}}var Fs=new Map,Au=[],d0=new Set,u8=s=>d0.forEach(e=>e(s)),SE=()=>Fs.size>0;function d8(){Au.forEach(s=>RE(s.content,s.options)),Au=[]}var h8=(s,{containerId:e})=>{var t;return(t=Fs.get(e||1))==null?void 0:t.toasts.get(s)};function AE(s,e){var t;if(e)return!!((t=Fs.get(e))!=null&&t.isToastActive(s));let r=!1;return Fs.forEach(o=>{o.isToastActive(s)&&(r=!0)}),r}function f8(s){if(!SE()){Au=Au.filter(e=>s!=null&&e.options.toastId!==s);return}if(s==null||s8(s))Fs.forEach(e=>{e.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){let e=Fs.get(s.containerId);e?e.removeToast(s.id):Fs.forEach(t=>{t.removeToast(s.id)})}}var m8=(s={})=>{Fs.forEach(e=>{e.props.limit&&(!s.containerId||e.id===s.containerId)&&e.clearQueue()})};function RE(s,e){u0(s)&&(SE()||Au.push({content:s,options:e}),Fs.forEach(t=>{t.buildToast(s,e)}))}function p8(s){var e;(e=Fs.get(s.containerId||1))==null||e.setToggle(s.id,s.fn)}function CE(s,e){Fs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(s,e?.id)})}function g8(s){let e=s.containerId||1;return{subscribe(t){let r=c8(e,s,u8);Fs.set(e,r);let o=r.observe(t);return d8(),()=>{o(),Fs.delete(e)}},setProps(t){var r;(r=Fs.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Fs.get(e))==null?void 0:t.getSnapshot()}}}function y8(s){return d0.add(s),()=>{d0.delete(s)}}function x8(s){return s&&(po(s.toastId)||Xu(s.toastId))?s.toastId:TE()}function Zu(s,e){return RE(s,e),e.toastId}function em(s,e){return{...e,type:e&&e.type||s,toastId:x8(e)}}function tm(s){return(e,t)=>Zu(e,em(s,t))}function Ke(s,e){return Zu(s,em("default",e))}Ke.loading=(s,e)=>Zu(s,em("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function b8(s,{pending:e,error:t,success:r},o){let c;e&&(c=po(e)?Ke.loading(e,o):Ke.loading(e.render,{...o,...e}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(g,b,w)=>{if(b==null){Ke.dismiss(c);return}let v={type:g,...d,...o,data:w},j=po(b)?{render:b}:b;return c?Ke.update(c,{...v,...j}):Ke(j.render,{...v,...j}),w},m=fa(s)?s():s;return m.then(g=>p("success",r,g)).catch(g=>p("error",t,g)),m}Ke.promise=b8;Ke.success=tm("success");Ke.info=tm("info");Ke.error=tm("error");Ke.warning=tm("warning");Ke.warn=Ke.warning;Ke.dark=(s,e)=>Zu(s,em("default",{theme:"dark",...e}));function v8(s){f8(s)}Ke.dismiss=v8;Ke.clearWaitingQueue=m8;Ke.isActive=AE;Ke.update=(s,e={})=>{let t=h8(s,e);if(t){let{props:r,content:o}=t,c={delay:100,...r,...e,toastId:e.toastId||s,updateId:TE()};c.toastId!==s&&(c.staleId=s);let d=c.render||o;delete c.render,Zu(d,c)}};Ke.done=s=>{Ke.update(s,{progress:1})};Ke.onChange=y8;Ke.play=s=>CE(!0,s);Ke.pause=s=>CE(!1,s);function w8(s){var e;let{subscribe:t,getSnapshot:r,setProps:o}=T.useRef(g8(s)).current;o(s);let c=(e=T.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function d(p){if(!c)return[];let m=new Map;return s.newestOnTop&&c.reverse(),c.forEach(g=>{let{position:b}=g.props;m.has(b)||m.set(b,[]),m.get(b).push(g)}),Array.from(m,g=>p(g[0],g[1]))}return{getToastToRender:d,isToastActive:AE,count:c?.length}}function _8(s){let[e,t]=T.useState(!1),[r,o]=T.useState(!1),c=T.useRef(null),d=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:m,closeToast:g,onClick:b,closeOnClick:w}=s;p8({id:s.toastId,containerId:s.containerId,fn:t}),T.useEffect(()=>{if(s.pauseOnFocusLoss)return v(),()=>{j()}},[s.pauseOnFocusLoss]);function v(){document.hasFocus()||q(),window.addEventListener("focus",L),window.addEventListener("blur",q)}function j(){window.removeEventListener("focus",L),window.removeEventListener("blur",q)}function A(O){if(s.draggable===!0||s.draggable===O.pointerType){V();let S=c.current;d.canCloseOnClick=!0,d.canDrag=!0,S.style.transition="none",s.draggableDirection==="x"?(d.start=O.clientX,d.removalDistance=S.offsetWidth*(s.draggablePercent/100)):(d.start=O.clientY,d.removalDistance=S.offsetHeight*(s.draggablePercent===80?s.draggablePercent*1.5:s.draggablePercent)/100)}}function F(O){let{top:S,bottom:R,left:U,right:z}=c.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&s.pauseOnHover&&O.clientX>=U&&O.clientX<=z&&O.clientY>=S&&O.clientY<=R?q():L()}function L(){t(!0)}function q(){t(!1)}function V(){d.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",Y)}function P(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y)}function B(O){let S=c.current;if(d.canDrag&&S){d.didMove=!0,e&&q(),s.draggableDirection==="x"?d.delta=O.clientX-d.start:d.delta=O.clientY-d.start,d.start!==O.clientX&&(d.canCloseOnClick=!1);let R=s.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Y(){P();let O=c.current;if(d.canDrag&&d.didMove&&O){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){o(!0),s.closeToast(!0),s.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let ae={onPointerDown:A,onPointerUp:F};return p&&m&&(ae.onMouseEnter=q,s.stacked||(ae.onMouseLeave=L)),w&&(ae.onClick=O=>{b&&b(O),d.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:q,isRunning:e,preventExitTransition:r,toastRef:c,eventHandlers:ae}}var N8=typeof window<"u"?T.useLayoutEffect:T.useEffect,sm=({theme:s,type:e,isLoading:t,...r})=>Rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function j8(s){return Rt.createElement(sm,{...s},Rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function E8(s){return Rt.createElement(sm,{...s},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function T8(s){return Rt.createElement(sm,{...s},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function S8(s){return Rt.createElement(sm,{...s},Rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function A8(){return Rt.createElement("div",{className:"Toastify__spinner"})}var h0={info:E8,warning:j8,success:T8,error:S8,spinner:A8},R8=s=>s in h0;function C8({theme:s,type:e,isLoading:t,icon:r}){let o=null,c={theme:s,type:e};return r===!1||(fa(r)?o=r({...c,isLoading:t}):T.isValidElement(r)?o=T.cloneElement(r,c):t?o=h0.spinner():R8(e)&&(o=h0[e](c))),o}var I8=s=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:c}=_8(s),{closeButton:d,children:p,autoClose:m,onClick:g,type:b,hideProgressBar:w,closeToast:v,transition:j,position:A,className:F,style:L,progressClassName:q,updateId:V,role:P,progress:B,rtl:Y,toastId:ae,deleteToast:O,isIn:S,isLoading:R,closeOnClick:U,theme:z,ariaLabel:C}=s,E=no("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":U}),re=fa(F)?F({rtl:Y,position:A,type:b,defaultClassName:E}):no(E,F),ce=C8(s),W=!!B||!m,me={closeToast:v,type:b,theme:z},ve=null;return d===!1||(fa(d)?ve=d(me):T.isValidElement(d)?ve=T.cloneElement(d,me):ve=i8(me)),Rt.createElement(j,{isIn:S,done:O,position:A,preventExitTransition:t,nodeRef:r,playToast:c},Rt.createElement("div",{id:ae,tabIndex:0,onClick:g,"data-in":S,className:re,...o,style:L,ref:r,...S&&{role:P,"aria-label":C}},ce!=null&&Rt.createElement("div",{className:no("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ce),EE(p,s,!e),ve,!s.customProgressBar&&Rt.createElement(o8,{...V&&!W?{key:`p-${V}`}:{},rtl:Y,theme:z,delay:m,isRunning:e,isIn:S,closeToast:v,hide:w,type:b,className:q,controlledProgress:W,progress:B||0})))},k8=(s,e=!1)=>({enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:e}),P8=a8(k8("bounce",!0)),D8={position:"top-right",transition:P8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:s=>s.altKey&&s.code==="KeyT"};function M8(s){let e={...D8,...s},t=s.stacked,[r,o]=T.useState(!0),c=T.useRef(null),{getToastToRender:d,isToastActive:p,count:m}=w8(e),{className:g,style:b,rtl:w,containerId:v,hotKeys:j}=e;function A(L){let q=no("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":w});return fa(g)?g({position:L,rtl:w,defaultClassName:q}):no(q,c0(g))}function F(){t&&(o(!0),Ke.play())}return N8(()=>{var L;if(t){let q=c.current.querySelectorAll('[data-in="true"]'),V=12,P=(L=e.position)==null?void 0:L.includes("top"),B=0,Y=0;Array.from(q).reverse().forEach((ae,O)=>{let S=ae;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=P?"top":"bot");let R=B*(r?.2:1)+(r?0:V*O);S.style.setProperty("--y",`${P?R:R*-1}px`),S.style.setProperty("--g",`${V}`),S.style.setProperty("--s",`${1-(r?Y:0)}`),B+=S.offsetHeight,Y+=.025})}},[r,m,t]),T.useEffect(()=>{function L(q){var V;let P=c.current;j(q)&&((V=P.querySelector('[tabIndex="0"]'))==null||V.focus(),o(!1),Ke.pause()),q.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),Ke.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[j]),Rt.createElement("section",{ref:c,className:"Toastify",id:v,onMouseEnter:()=>{t&&(o(!1),Ke.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},d((L,q)=>{let V=q.length?{...b}:{...b,pointerEvents:"none"};return Rt.createElement("div",{tabIndex:-1,className:A(L),"data-stacked":t,style:V,key:`c-${L}`},q.map(({content:P,props:B})=>Rt.createElement(I8,{...B,stacked:t,collapseAll:F,isIn:p(B.toastId,B.containerId),key:`t-${B.key}`},P)))}))}const O8=({propertyId:s=null,existingProperty:e=null})=>{const t=["24/7 Electricity","Water facilities","Furnished","Serviced","Swimming pool","Parking Space","Elevator","Gym","Security","Generator","CCTV","Balcony","Garden","Laundry"],r=["YES, show it (recommended)","No, do not"],o=["YES, show it","No, do not show","Show price range only","Contact for price"],c={Nigeria:{Lagos:["Ikeja","Victoria Island","Lekki","Surulere","Yaba","Ajah","Ikoyi","Maryland","Gbagada","Festac"],Abuja:["Garki","Wuse","Maitama","Asokoro","Gwarinpa","Kubwa","Lugbe","Nyanya","Karu","Jahi"],Rivers:["Port Harcourt","Obio-Akpor","Eleme","Ikwerre","Oyigbo","Okrika","OguBolo","Degema"],Kano:["Kano Municipal","Fagge","Dala","Gwale","Tarauni","Nassarawa","Ungogo","Kumbotso"],Oyo:["Ibadan North","Ibadan South-West","Ibadan North-East","Ibadan North-West","Ibadan South-East","Egbeda","Akinyele","Lagelu"]},Ghana:{"Greater Accra":["Accra","Tema","Ga West","Ga East","Ga Central","Ga South","Ledzokuku-Krowor"],Ashanti:["Kumasi","Obuasi","Ejisu-Juaben","Bekwai","Oforikrom","Asokwa","Kwadaso"],Western:["Sekondi-Takoradi","Tarkwa-Nsuaem","Prestea Huni-Valley","Ellembelle","Nzema East"]},"South Africa":{Gauteng:["Johannesburg","Pretoria","Soweto","Randburg","Sandton","Midrand","Germiston","Benoni"],"Western Cape":["Cape Town","Stellenbosch","Paarl","George","Worcester","Hermanus","Mossel Bay"],"KwaZulu-Natal":["Durban","Pietermaritzburg","Newcastle","Richards Bay","Pinetown","Chatsworth"]}},d=async le=>{try{const Ee=mt(),_e=ot(Ee,"users",le,"profiles","userProfile"),ke=await is(_e);return ke.exists()&&ke.data().validation||!1}catch(Ee){return console.error("Error checking profile validation:",Ee),!1}},[p,m]=T.useState([]),[g,b]=T.useState(null),[w,v]=T.useState(!1),[j,A]=T.useState(""),[F,L]=T.useState(""),[q,V]=T.useState(!1),[P,B]=T.useState({listingTitle:e?.title||"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:e?.advertisingFor||"",propertyType:e?.propertyType||"House",useOfProperty:e?.useOfProperty||"Unspecified",marketStatus:e?.marketStatus||"Available",country:e?.country||"Nigeria",state:e?.state||"Lagos",city:e?.city||"Ikeja",address:e?.address||"No 14, adeshina street",currency:e?.currency||"Nigeria Naira",price:e?.price||"0",price_per:e?.price_per||"Year",bedroom:e?.bedroom||3,bathroom:e?.bathroom||4,toilet:e?.toilet||5,year_built:e?.year_built||"2014",totalArea:e?.totalArea||"3425",totalAreaUnit:e?.totalAreaUnit||"sqm",coveredArea:e?.coveredArea||1234,coveredAreaUnit:e?.coveredAreaUnit||"sqm",images:e?.images||[],description:e?.description||"",features:e?.features||[""],nearbyAmenities:e?.nearbyAmenities||[""],showAddress:e?.showAddress||"YES, show it (recommended)",showPrice:e?.showPrice||"YES, show it",propertyCondition:e?.propertyCondition||"Newly Built",furnishingStatus:e?.furnishingStatus||"Unfurnished",availableFrom:e?.availableFrom||"",minimumRentPeriod:e?.minimumRentPeriod||"1 Year",utilitiesIncluded:e?.utilitiesIncluded||[],petPolicy:e?.petPolicy||"Not Allowed",smokingPolicy:e?.smokingPolicy||"Not Allowed"}),[Y,ae]=T.useState(Object.keys(c.Nigeria||{})),[O,S]=T.useState(c.Nigeria?.Lagos||[]);T.useEffect(()=>{if(P.country&&c[P.country]){const le=Object.keys(c[P.country]);ae(le),le.includes(P.state)||B(Ee=>({...Ee,state:le[0]||"",city:""}))}},[P.country]),T.useEffect(()=>{if(P.country&&P.state&&c[P.country]?.[P.state]){const le=c[P.country][P.state];S(le),le.includes(P.city)||B(Ee=>({...Ee,city:le[0]||""}))}},[P.country,P.state]);const[R,U]=T.useState("details"),[z,C]=T.useState([]),[E,re]=T.useState(!1);T.useEffect(()=>{const Ee=new URLSearchParams(window.location.search).get("edit");Ee?ce(Ee):s&&e&&W(e)},[g]);const ce=async le=>{if(g)try{v(!0);const{getUserProperties:Ee}=await XO(async()=>{const{getUserProperties:Je}=await Promise.resolve().then(()=>kO);return{getUserProperties:Je}},[]),ke=(await Ee()).find(Je=>Je.id===le);if(ke){if(ke.userId!==g.uid){const Je="You do not have permission to edit this property.";A(Je),Ke.error(Je);return}W(ke)}else A("Property not found."),Ke.error("Property not found.")}catch{A("Error loading property for editing.")}finally{v(!1)}},W=le=>{if(V(!0),m(le.amenities||[]),B({listingTitle:le.title||"",advertisingFor:le.advertisingFor||"",propertyType:le.propertyType||"House",useOfProperty:le.useOfProperty||"Unspecified",marketStatus:le.marketStatus||"Available",country:le.country||"Nigeria",state:le.state||"Lagos",city:le.city||"",address:le.address||"",currency:le.currency||"Nigeria Naira",price:le.price?.toString()||"0",price_per:le.pricePer||"Year",bedroom:le.bedroom||0,bathroom:le.bathroom||0,toilet:le.toilet||0,year_built:le.yearBuilt||"",totalArea:le.totalArea?.toString()||"",totalAreaUnit:le.totalAreaUnit||"sqm",coveredArea:le.coveredArea||0,coveredAreaUnit:le.coveredAreaUnit||"sqm",images:le.images||[],description:le.description||"",features:le.features||[""],nearbyAmenities:le.nearbyAmenities||[""],showAddress:le.showAddress?"YES, show it (recommended)":"No, do not",showPrice:le.showPrice?"YES, show it (recommended)":"No, do not",propertyCondition:le.propertyCondition||"Newly Built",furnishingStatus:le.furnishingStatus||"Unfurnished",availableFrom:le.availableFrom||"",minimumRentPeriod:le.minimumRentPeriod||"1 Year",utilitiesIncluded:le.utilitiesIncluded||[],petPolicy:le.petPolicy||"Not Allowed",smokingPolicy:le.smokingPolicy||"Not Allowed"}),le.images&&le.images.length>0){const Ee=le.images.map((_e,ke)=>({id:`existing-${ke}`,name:`image-${ke}`,size:0,type:"image/jpeg",preview:_e,isExisting:!0,url:_e}));C(Ee)}};T.useEffect(()=>kn(Ee=>{b(Ee)}),[]);const me=le=>{m(Ee=>Ee.includes(le)?Ee.filter(_e=>_e!==le):[...Ee,le])},ve=(le,Ee)=>{B(_e=>({..._e,[le]:Ee})),le==="images"&&B(_e=>({..._e,images:z.map(ke=>ke.preview||ke.url)}))},G=(le,Ee,_e)=>{B(ke=>({...ke,[le]:ke[le].map((Je,Mt)=>Mt===Ee?_e:Je)}))},k=le=>{B(Ee=>({...Ee,[le]:[...Ee[le],""]}))},Q=(le,Ee)=>{B(_e=>({..._e,[le]:_e[le].filter((ke,Je)=>Je!==Ee)}))},$=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),D=le=>new Promise((Ee,_e)=>{const ke=new FileReader;ke.onload=Je=>Ee(Je.target.result),ke.onerror=_e,ke.readAsDataURL(le)}),Z=(le,Ee=800,_e=600,ke=.8)=>new Promise((Je,Mt)=>{if(typeof window>"u"||typeof document>"u"){D(le).then(Je).catch(Mt);return}const Js=document.createElement("canvas"),ct=Js.getContext("2d"),Fe=document.createElement("img");Fe.onload=()=>{try{let{width:Qe,height:Ot}=Fe;if(Qe>Ee||Ot>_e){const ga=Math.min(Ee/Qe,_e/Ot);Qe*=ga,Ot*=ga}Js.width=Qe,Js.height=Ot,ct.drawImage(Fe,0,0,Qe,Ot);const xi=Js.toDataURL(le.type,ke);if(xi.length>200*1024*1.37){const ga=Math.max(.3,ke-.2),Rr=Js.toDataURL(le.type,ga);Je(Rr)}else Je(xi);Fe.src&&Fe.src.startsWith("blob:")&&URL.revokeObjectURL(Fe.src)}catch(Qe){console.error("Error in image compression:",Qe),Fe.src&&Fe.src.startsWith("blob:")&&URL.revokeObjectURL(Fe.src),D(le).then(Je).catch(Mt)}},Fe.onerror=Qe=>{console.error("Error loading image:",Qe),D(le).then(Je).catch(Mt)};try{Fe.src=URL.createObjectURL(le)}catch(Qe){console.error("Error creating object URL:",Qe),D(le).then(Je).catch(Mt)}}),xe=async le=>{if(!le)return;v(!0);const Ee=[];try{for(const _e of Array.from(le)){if(_e.size>10*1024*1024){Ke.error(`${_e.name} is too large. Maximum size is 10MB.`);continue}if(!_e.type.startsWith("image/")){Ke.error(`${_e.name} is not a valid image file.`);continue}try{const ke=await Z(_e);Ee.push({id:$(),name:_e.name,size:_e.size,type:_e.type,preview:ke,isExisting:!1,url:ke})}catch(ke){console.error(`Error compressing ${_e.name}:`,ke),Ke.error("Failed to process images. Please try again.")}}Ee.length>0&&(C(_e=>[..._e,...Ee]),setTimeout(()=>{B(_e=>({..._e,images:[...z,...Ee].map(ke=>ke.url||ke.preview)}))},0))}catch(_e){console.error("Error processing images:",_e),alert("Failed to process images. Please try again.")}finally{v(!1)}},ye=le=>{const Ee=z.filter(_e=>_e.id!==le);C(Ee),B(_e=>({..._e,images:Ee.map(ke=>ke.url||ke.preview)}))},De=le=>{le.preventDefault(),re(!1);const Ee=le.dataTransfer.files;xe(Ee)},Te=le=>{le.preventDefault(),re(!0)},pt=le=>{le.preventDefault(),re(!1)},ys=()=>{R==="details"?U("media"):R==="media"?U("description"):R==="description"&&fe()},be=()=>{R==="media"?U("details"):R==="description"&&U("media")},J=()=>{const le=[];return(!P.listingTitle||P.listingTitle.trim()===""||P.listingTitle==="e.g, 4 Bedroom Serviced Duplex with BQ")&&le.push("Please enter a valid listing title"),P.advertisingFor||le.push("Please select what you are advertising for"),(!P.price||P.price==="0")&&le.push("Please enter a valid price"),(!P.description||P.description.trim()==="")&&le.push("Please enter a property description"),z.length===0&&le.push("Please upload at least one image"),P.country||le.push("Please select a country"),P.state||le.push("Please select a state"),P.city||le.push("Please select a city"),P.availableFrom&&new Date(P.availableFrom)<new Date&&le.push("Available from date cannot be in the past"),le},fe=async()=>{if(!g){const _e="Please sign in to create a listing";A(_e),Ke.error(_e);return}if(!await d(g.uid)){const _e="Your profile is not validated yet. Please complete your profile validation by uploading required documents.";A(_e),Ke.error(_e,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{window.confirm("Would you like to go to Profile Management to complete validation?")&&(window.location.href="/dashboard/my-account")},2e3);return}const Ee=J();if(Ee.length>0){const _e=Ee.join(". ");A(_e),Ke.error(_e);return}v(!0),A(""),L("");try{const _e=z.map(Qe=>Qe.url||Qe.preview),ke=new Date,Je={userId:g.uid,userEmail:g.email,userName:g.displayName||g.email?.split("@")[0]||"Anonymous",userPhotoURL:g.photoURL||null,title:P.listingTitle,advertisingFor:P.advertisingFor,propertyType:P.propertyType,useOfProperty:P.useOfProperty,marketStatus:P.marketStatus,country:P.country,state:P.state,city:P.city,address:P.address,showAddress:P.showAddress==="YES, show it (recommended)",currency:P.currency,price:parseFloat(P.price),pricePer:P.price_per,showPriceOption:P.showPrice,showPrice:P.showPrice==="YES, show it",bedroom:parseInt(P.bedroom),bathroom:parseInt(P.bathroom),toilet:parseInt(P.toilet),yearBuilt:P.year_built,totalArea:parseFloat(P.totalArea),totalAreaUnit:P.totalAreaUnit,coveredArea:parseFloat(P.coveredArea),coveredAreaUnit:P.coveredAreaUnit,images:_e,description:P.description,features:P.features.filter(Qe=>Qe.trim()!==""),nearbyAmenities:P.nearbyAmenities.filter(Qe=>Qe.trim()!==""),amenities:p,location:`${P.city}, ${P.state}, ${P.country}`,status:"active",propertyCondition:P.propertyCondition,furnishingStatus:P.furnishingStatus,availableFrom:P.availableFrom,minimumRentPeriod:P.minimumRentPeriod,utilitiesIncluded:P.utilitiesIncluded,petPolicy:P.petPolicy,smokingPolicy:P.smokingPolicy,locationHierarchy:{country:P.country,state:P.state,city:P.city,fullAddress:P.address},createdAt:q&&e?.createdAt||ke,updatedAt:ke,source:"web_app",version:"1.1",searchKeywords:[P.propertyType.toLowerCase(),P.city.toLowerCase(),P.state.toLowerCase(),P.advertisingFor.toLowerCase(),...p.map(Qe=>Qe.toLowerCase())],pricePerUnit:P.totalArea?parseFloat(P.price)/parseFloat(P.totalArea):0},Mt=mt(),ct=new URLSearchParams(window.location.search).get("edit");let Fe;if(q&&ct){const Qe=ot(Mt,"users",g.uid,"properties",ct);await ks(Qe,Je),Fe={id:ct,...Je},L("Property updated successfully! "),Ke.success("Property updated successfully! "),setTimeout(()=>{window.location.href="/dashboard/my-listings"},2e3)}else{const Qe=ft(Mt,"users",g.uid,"properties");Fe={id:(await hu(Qe,Je)).id,...Je},L("Property listing created successfully! "),Ke.success("Property listing created successfully! "),setTimeout(()=>{window.location.href="/dashboard/my-listings"},1500)}console.log("Property saved:",Fe),console.log("Associated with user:",g.uid),setTimeout(()=>{q||Ze(),L("")},3e3)}catch(_e){console.error("Error submitting property:",_e);const ke=_e.message||"Failed to submit property. Please try again.";A(ke),Ke.error(ke)}finally{v(!1)}},Ce=({user:le,onCheckValidation:Ee})=>{const[_e,ke]=T.useState(null),[Je,Mt]=T.useState(!0);T.useEffect(()=>{le&&Js()},[le]);const Js=async()=>{try{const ct=await d(le.uid);ke(ct)}catch(ct){console.error("Error checking validation:",ct),ke(!1)}finally{Mt(!1)}};return Je?i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsx("p",{className:"text-blue-700",children:"Checking profile validation..."})}):_e===!1?i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Profile Validation Required"}),i.jsx("p",{className:"mt-1 text-sm text-red-700",children:"You need to complete your profile validation before creating listings. Please upload your required documents."}),i.jsx("div",{className:"mt-3",children:i.jsx("button",{onClick:()=>window.location.href="/dashboard/my-account",className:"bg-red-100 text-red-800 px-3 py-2 rounded-md text-sm font-medium hover:bg-red-200 transition-colors",children:"Complete Profile Validation"})})]})]})}):_e===!0?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-green-700 font-medium",children:" Profile validated - You can create listings"})})]})}):null},Ze=()=>{B({listingTitle:"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:"",propertyType:"House",useOfProperty:"Unspecified",marketStatus:"Available",country:"Nigeria",state:"Lagos",city:"Ikeja",address:"No 14, adeshina street",currency:"Nigeria Naira",price:"0",price_per:"Year",bedroom:3,bathroom:4,toilet:5,year_built:"2014",totalArea:"3425",totalAreaUnit:"sqm",coveredArea:1234,coveredAreaUnit:"sqm",images:[],description:"",features:[""],nearbyAmenities:[""],showAddress:"YES, show it (recommended)",showPrice:"YES, show it",propertyCondition:"Newly Built",furnishingStatus:"Unfurnished",availableFrom:"",minimumRentPeriod:"1 Year",utilitiesIncluded:[],petPolicy:"Not Allowed",smokingPolicy:"Not Allowed"}),C([]),m([]),U("details"),ae(Object.keys(c.Nigeria||{})),S(c.Nigeria?.Lagos||[])},st=(le,Ee)=>{switch(le){case"YES, show it":return Ee;case"Show price range only":const _e=parseFloat(Ee);return _e<1e5?"Under 100k":_e<5e5?"100k - 500k":_e<1e6?"500k - 1M":_e<5e6?"1M - 5M":"Above 5M";case"Contact for price":return"Contact for Price";default:return"Price not disclosed"}},Re=({id:le,icon:Ee,label:_e,isActive:ke})=>i.jsxs("button",{onClick:()=>U(le),disabled:w,className:`flex flex-col items-center px-6 py-4 border-b-2 transition-colors ${ke?"border-blue-500 text-blue-600":"border-gray-200 text-gray-500 hover:text-gray-700"} ${w?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(Ee,{className:"w-6 h-6 mb-2"}),i.jsx("span",{className:"text-sm font-medium",children:_e})]}),Be=({label:le,value:Ee,onChange:_e,options:ke,placeholder:Je="--select--"})=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:le}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:Ee,onChange:Mt=>_e(Mt.target.value),disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:opacity-50",children:[i.jsx("option",{value:"",children:Je}),ke.map(Mt=>i.jsx("option",{value:Mt,children:Mt},Mt))]}),i.jsx(Xa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]});return g?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[i.jsxs("div",{className:"flex border-b border-gray-200",children:[i.jsx(Re,{id:"details",icon:wf,label:"DETAILS",isActive:R==="details"}),i.jsx(Re,{id:"media",icon:P4,label:"MEDIA",isActive:R==="media"}),i.jsx(Re,{id:"description",icon:xu,label:"DESCRIPTION",isActive:R==="description"})]}),i.jsxs("div",{className:"p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:q?"EDIT PROPERTY":"CREATE NEW PROPERTY"}),g&&i.jsx(Ce,{user:g}),j&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(ps,{className:"h-5 w-5 text-red-400"})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:j})}),i.jsx("div",{className:"ml-auto pl-3",children:i.jsx("div",{className:"-mx-1.5 -my-1.5",children:i.jsx("button",{onClick:()=>A(""),className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-400 hover:bg-red-100",children:i.jsx(ps,{className:"w-4 h-4"})})})})]})}),F&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-green-700",children:F})}),i.jsx("div",{className:"ml-auto pl-3",children:i.jsx("div",{className:"-mx-1.5 -my-1.5",children:i.jsx("button",{onClick:()=>L(""),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-400 hover:bg-green-100",children:i.jsx(ps,{className:"w-4 h-4"})})})})]})}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Important notice"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"We do not allow the posting or marketing of properties that you do not have the legal authority to do so. Should we suspect potential scam or are reported to, we reserve the right to notify security operatives and share your information to the authorities before account is permanently closed. Thank you for your honesty."})]}),R==="details"&&i.jsx(ZO,{formData:P,handleInputChange:ve,options:t,addressViewer:r,selectedOptions:p,handleCheckboxChange:me,SelectField:Be,priceViewer:o,disabled:w,locationData:c,availableStates:Y,availableCities:O,getPriceDisplayText:st}),R==="media"&&i.jsx(JO,{handleDrop:De,handleDragOver:Te,handleDragLeave:pt,handleImageUpload:xe,uploadedImages:z,removeImage:ye,dragOver:E,disabled:w}),R==="description"&&i.jsx(e8,{formData:P,handleInputChange:ve,handleListChange:G,addListItem:k,removeListItem:Q,disabled:w}),i.jsxs("div",{className:"flex justify-between items-center mt-12",children:[i.jsx("button",{onClick:be,disabled:R==="details"||w,className:`px-6 py-2 border rounded-md transition-colors ${R==="details"||w?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${R==="details"?"bg-blue-600":"bg-blue-200"}`}),i.jsx("div",{className:`w-3 h-3 rounded-full ${R==="media"?"bg-blue-600":"bg-blue-200"}`}),i.jsx("div",{className:`w-3 h-3 rounded-full ${R==="description"?"bg-blue-600":"bg-blue-200"}`})]}),i.jsx("button",{onClick:ys,disabled:w,className:`px-8 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,children:w?i.jsxs(i.Fragment,{children:[i.jsx(bu,{className:"w-4 h-4 animate-spin"}),R==="description"?"Submitting...":"Processing..."]}):i.jsxs(i.Fragment,{children:[R==="description"?q?"Update":"Submit":"Next",R==="description"&&i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})})]})]}),i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-lg shadow-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})}),i.jsx(M8,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",style:{zIndex:9999}})]})}):i.jsx("div",{className:"max-w-4xl mx-auto bg-white p-8",children:i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),i.jsx("p",{className:"text-yellow-700",children:"Please sign in to create or edit property listings."})]})})})},L8=()=>{const[s,e]=T.useState([]),[t,r]=T.useState([]),[o,c]=T.useState([]),[d,p]=T.useState(!1),[m,g]=T.useState(!0),[b,w]=T.useState(""),[v,j]=T.useState(null),[A,F]=T.useState(1),[L]=T.useState(8),q=Wn(),V=async $=>{try{const D=mt(),Z=ot(D,"users",$),xe=await is(Z);if(xe.exists()){const ye=xe.data();e(ye.wishlist||[])}}catch(D){console.error("Error fetching wishlist:",D)}},P=$=>{const D=[...$];for(let Z=D.length-1;Z>0;Z--){const xe=Math.floor(Math.random()*(Z+1));[D[Z],D[xe]]=[D[xe],D[Z]]}return D},B=A*L,Y=B-L,ae=o.slice(Y,B),O=Math.ceil(o.length/L),[S,R]=T.useState({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:""}),[U,z]=T.useState("newest"),[C,E]=T.useState(!1);T.useEffect(()=>{F(1)},[S,U]),T.useEffect(()=>kn(D=>{j(D),D?V(D.uid):e([])}),[]);const re=async()=>{try{g(!0);const $=mt();let D;try{D=Ut(ft($,"properties"),ms("advertisingFor","==","Sale"),ms("status","==","active"),uy("createdAt","desc"))}catch{console.log("Composite index not ready, using simpler query"),D=Ut(ft($,"properties"),ms("advertisingFor","==","Sale"),ms("status","==","active"))}const Z=await lt(D),xe=[];Z.forEach(De=>{const Te=De.data();xe.push({id:De.id,...Te,createdAt:Te.createdAt?.toDate?Te.createdAt.toDate():new Date(Te.createdAt)})}),xe.sort((De,Te)=>new Date(Te.createdAt)-new Date(De.createdAt));const ye=P(xe);r(ye),c(ye),w("")}catch($){console.error("Error fetching properties:",$);try{const D=mt(),Z=Ut(ft(D,"properties")),xe=await lt(Z),ye=[];xe.forEach(Te=>{const pt=Te.data();pt.advertisingFor==="Sale"&&pt.status==="active"&&ye.push({id:Te.id,...pt,createdAt:pt.createdAt?.toDate?pt.createdAt.toDate():new Date(pt.createdAt)})}),ye.sort((Te,pt)=>new Date(pt.createdAt)-new Date(Te.createdAt));const De=P(ye);r(De),c(De),w("")}catch(D){console.error("Fallback query also failed:",D),w("Failed to load properties. The database index is still building. Please try again in a few minutes.")}}finally{g(!1)}},ce=async()=>{try{g(!0);const $=mt();try{const D=Ut(oo($,"properties"),ms("advertisingFor","==","Sale"),ms("status","==","active")),Z=await lt(D),xe=[];Z.forEach(De=>{const Te=De.data();xe.push({id:De.id,...Te,createdAt:Te.createdAt?.toDate?Te.createdAt.toDate():new Date(Te.createdAt)})}),allProperties.sort((De,Te)=>new Date(Te.createdAt)-new Date(De.createdAt));const ye=P(allProperties);r(ye),c(ye),w("")}catch(D){console.error("Collection group query failed:",D),await W()}}catch($){console.error("Error fetching properties from user collections:",$),w("Failed to load properties. The database is still setting up. Please try again in a few minutes.")}finally{g(!1)}},W=async()=>{const $=mt(),D=[];try{const Z=await lt(ft($,"users"));for(const xe of Z.docs)try{(await lt(ft($,"users",xe.id,"properties"))).forEach(De=>{const Te=De.data();Te.advertisingFor==="Sale"&&Te.status==="active"&&D.push({id:De.id,...Te,createdAt:Te.createdAt?.toDate?Te.createdAt.toDate():new Date(Te.createdAt)})})}catch(ye){console.log(`Error fetching properties for user ${xe.id}:`,ye)}D.sort((xe,ye)=>new Date(ye.createdAt)-new Date(xe.createdAt)),r(D),c(D)}catch(Z){throw Z}};T.useEffect(()=>{ce()},[]);const me=$=>`${$.currency==="Nigeria Naira"?"":"$"}${$.price?.toLocaleString()||"0"}`;T.useEffect(()=>{let $=t.filter(D=>{const Z=!S.searchQuery||D.title?.toLowerCase().includes(S.searchQuery.toLowerCase())||D.location?.toLowerCase().includes(S.searchQuery.toLowerCase())||D.description?.toLowerCase().includes(S.searchQuery.toLowerCase()),xe=(!S.priceMin||D.price>=parseInt(S.priceMin))&&(!S.priceMax||D.price<=parseInt(S.priceMax)),ye=!S.location||D.city?.toLowerCase().includes(S.location.toLowerCase())||D.state?.toLowerCase().includes(S.location.toLowerCase())||D.country?.toLowerCase().includes(S.location.toLowerCase()),De=!S.propertyType||D.propertyType===S.propertyType,Te=!S.bedrooms||D.bedroom>=parseInt(S.bedrooms),pt=!S.bathrooms||D.bathroom>=parseInt(S.bathrooms),ys=!S.country||D.country===S.country,be=!S.state||D.state===S.state,J=!S.city||D.city===S.city;return Z&&xe&&ye&&De&&Te&&pt&&ys&&be&&J});if(U==="shuffle"||C)$=P($),E(!0);else switch(E(!1),U){case"newest":$.sort((D,Z)=>{const xe=D.createdAt?.toDate?D.createdAt.toDate():new Date(D.createdAt);return(Z.createdAt?.toDate?Z.createdAt.toDate():new Date(Z.createdAt))-xe});break;case"price-low":$.sort((D,Z)=>D.price-Z.price);break;case"price-high":$.sort((D,Z)=>Z.price-D.price);break;case"bedrooms":$.sort((D,Z)=>Z.bedroom-D.bedroom);break}c($)},[S,U,t]);const ve=($,D)=>{R(Z=>({...Z,[$]:D}))},G=()=>{R({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:""})},k=async $=>{if(!v){alert("Please log in to add properties to wishlist");return}try{const D=mt(),Z=ot(D,"users",v.uid);s.includes($)?(await ks(Z,{wishlist:lo($)}),e(ye=>ye.filter(De=>De!==$))):(await ks(Z,{wishlist:$u($)}),e(ye=>[...ye,$]))}catch(D){console.error("Error updating wishlist:",D),alert("Failed to update wishlist. Please try again.")}},Q=({property:$})=>i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:$.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:$.title,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:$.propertyType})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("button",{onClick:()=>k($.id),className:`p-2 rounded-full transition-colors ${s.includes($.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:i.jsx(jr,{className:"w-4 h-4",fill:s.includes($.id)?"currentColor":"none"})})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2",children:$.title}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xl font-semibold text-blue-600",children:me($)}),i.jsx("div",{className:"text-sm text-gray-500",children:"For Sale"})]})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-sm",children:$.showAddress?$.address:`${$.city}, ${$.state}`})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{children:[$.bedroom," Beds"]})]}),i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{children:[$.bathroom," Baths"]})]}),$.totalArea&&i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{children:[$.totalArea," ",$.totalAreaUnit]})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:$.description}),i.jsxs("button",{onClick:()=>q(`/property/${$.id}`),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Nr,{className:"w-4 h-4"}),"View Details"]})]})]});return m?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):b?i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx("p",{className:"text-red-700",children:b}),i.jsx("button",{onClick:re,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 top-0 z-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(bf,{className:"w-5 h-5"}),"Filters"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:G,className:"text-blue-600 text-sm hover:text-blue-700",children:"Clear Filters"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),i.jsxs("select",{value:U,onChange:$=>z($.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[i.jsx("option",{value:"newest",children:"Newest"}),i.jsx("option",{value:"price-low",children:"Price "}),i.jsx("option",{value:"price-high",children:"Price "}),i.jsx("option",{value:"bedrooms",children:"Bedrooms"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{children:i.jsx("input",{type:"text",placeholder:"Search properties...",value:S.searchQuery,onChange:$=>ve("searchQuery",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),i.jsx("div",{children:i.jsx("input",{type:"number",placeholder:"Min Price",value:S.priceMin,onChange:$=>ve("priceMin",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),i.jsx("div",{children:i.jsx("input",{type:"number",placeholder:"Max Price",value:S.priceMax,onChange:$=>ve("priceMax",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:S.propertyType,onChange:$=>ve("propertyType",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none text-sm",children:[i.jsx("option",{value:"",children:"Property Type"}),["House","Apartment","Condo","Townhouse","Land","Commercial","Office Space"].map($=>i.jsx("option",{value:$,children:$},$))]}),i.jsx(Xa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",o.length," of ",t.length," properties"]})})]}),i.jsxs("div",{className:"p-4 lg:p-6",children:[o.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[i.jsx(cn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Properties Found"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters to find more properties."}),i.jsx("button",{onClick:G,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:ae.map($=>i.jsx(Q,{property:$},$.id))}),o.length>L&&i.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[i.jsxs("button",{onClick:()=>F($=>Math.max($-1,1)),disabled:A===1,className:`flex items-center px-3 py-2 rounded-md ${A===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[i.jsx(Xa,{className:"w-4 h-4 mr-1 rotate-90"}),"Previous"]}),Array.from({length:Math.min(5,O)},($,D)=>{let Z;return O<=5||A<=3?Z=D+1:A>=O-2?Z=O-4+D:Z=A-2+D,i.jsx("button",{onClick:()=>F(Z),className:`px-3 py-2 rounded-md ${A===Z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:Z},Z)}),i.jsxs("button",{onClick:()=>F($=>Math.min($+1,O)),disabled:A===O,className:`flex items-center px-3 py-2 rounded-md ${A===O?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:["Next",i.jsx(Xa,{className:"w-4 h-4 ml-1 -rotate-90"})]})]}),o.length>0&&i.jsx("div",{className:"text-center mt-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",Y+1," to ",Math.min(B,o.length)," of ",o.length," results"]})})]}),v&&i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsx("button",{onClick:()=>window.location.href="/post_a_listing",className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110",title:"Create New Listing",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})})]})})},U8=({onBack:s,currentUser:e})=>{const t=Wn(),[r,o]=T.useState([]),[c,d]=T.useState(!1),[p,m]=T.useState(!1),[g,b]=T.useState({rating:5,comment:"",propertyTitle:""}),{userId:w}=E_(),[v,j]=T.useState(null),[A,F]=T.useState([]),[L,q]=T.useState(!0),[V,P]=T.useState(!0),[B,Y]=T.useState("overview"),[ae,O]=T.useState("grid"),[S,R]=T.useState("all"),[U,z]=T.useState(""),[C,E]=T.useState({totalListings:0,activeListings:0,soldListings:0,rentedListings:0});console.log("UserProfileView - userId from params:",w),console.log("UserProfileView - currentUser:",e);const re=()=>{t(-1)};T.useEffect(()=>{ce(),W(),me()},[w]);const ce=async()=>{try{if(q(!0),console.log("Loading profile for userId:",w),!w){console.error("No userId provided"),j(null),q(!1);return}let D=null;try{const Z=ot(dt,"users",w,"profiles","userProfile"),xe=await is(Z);xe.exists()&&(D=xe.data(),console.log("Found profile in new structure:",D))}catch(Z){console.log("New structure failed:",Z.message)}if(!D)try{const Z=ot(dt,"users",w),xe=await is(Z);xe.exists()&&(D=xe.data(),console.log("Found profile in old structure:",D))}catch(Z){console.log("Old structure failed:",Z.message)}if(!D)try{D=await My(w),console.log("Found profile via getUserProfile:",D)}catch(Z){console.log("getUserProfile failed:",Z.message)}if(D){const Z={id:w,firstName:D.firstName||"",lastName:D.lastName||"",displayName:D.displayName||`${D.firstName||""} ${D.lastName||""}`.trim()||"User",primaryPhone:D.primaryPhone||D.phone||"Not provided",email:D.email||"Not provided",whatsappPhone:D.whatsappPhone||D.primaryPhone||D.phone||"Not provided",alternateEmail:D.alternateEmail||"",isRealEstateProfessional:D.isRealEstateProfessional||!1,profileImage:D.profileImage||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",companyName:D.companyName||"",companyPhone:D.companyPhone||"",category:D.category||"",website:D.website||"",country:D.country||"",state:D.state||"",city:D.city||"",address:D.address||"",aboutUs:D.aboutUs||"",joinedDate:D.createdAt?.toDate?D.createdAt.toDate():D.createdAt?new Date(D.createdAt):new Date,totalListings:D.totalListings||0,responseRate:D.responseRate||"95%",responseTime:D.responseTime||"Within an hour",verified:D.verified||!1,averageRating:D.averageRating||4.5,totalReviews:D.totalReviews||0,yearsExperience:D.yearsExperience||1};console.log("Transformed profile:",Z),j(Z)}else console.log("No profile found for userId:",w),j(null)}catch(D){console.error("Error loading user profile:",D),j(null)}finally{q(!1)}},W=async()=>{try{P(!0),console.log("Loading properties for userId:",w);let D=[];try{const Z=Ut(ft(dt,"properties"),ms("ownerId","==",w));D=(await lt(Z)).docs.map(ye=>({id:ye.id,...ye.data(),createdAt:ye.data().createdAt?.toDate?ye.data().createdAt.toDate():new Date(ye.data().createdAt)})),console.log("Properties found by ownerId:",D.length)}catch(Z){console.log("Query by ownerId failed:",Z.message)}if(D.length===0)try{const Z=Ut(ft(dt,"properties"),ms("userId","==",w));D=(await lt(Z)).docs.map(ye=>({id:ye.id,...ye.data(),createdAt:ye.data().createdAt?.toDate?ye.data().createdAt.toDate():new Date(ye.data().createdAt)})),console.log("Properties found by userId:",D.length)}catch(Z){console.log("Query by userId failed:",Z.message)}if(D.length===0)try{const Z=ft(dt,"users",w,"properties");D=(await lt(Z)).docs.map(ye=>({id:ye.id,...ye.data(),createdAt:ye.data().createdAt?.toDate?ye.data().createdAt.toDate():new Date(ye.data().createdAt)})),console.log("Properties found in subcollection:",D.length)}catch(Z){console.log("Subcollection query failed:",Z.message)}F(D),G(D)}catch(D){console.error("Error loading properties:",D),F([]),G([])}finally{P(!1)}},me=async()=>{try{const D=Ut(ft(dt,"users",w,"reviews"),uy("createdAt","desc")),xe=(await lt(D)).docs.map(ye=>({id:ye.id,...ye.data(),createdAt:ye.data().createdAt?.toDate?ye.data().createdAt.toDate():new Date(ye.data().createdAt)}));if(o(xe),xe.length>0){const De=xe.reduce((Te,pt)=>Te+pt.rating,0)/xe.length;j(Te=>({...Te,averageRating:De,totalReviews:xe.length}))}}catch(D){console.error("Error loading reviews:",D),o([])}},ve=async D=>{if(e)try{m(!0);const Z=ft(dt,"users",w,"reviews");await hu(Z,{...D,reviewerId:e.uid,reviewerName:e.displayName||"Anonymous",createdAt:new Date,updatedAt:new Date}),await me(),b({rating:5,comment:"",propertyTitle:""}),d(!1)}catch(Z){console.error("Error submitting review:",Z)}finally{m(!1)}};T.useEffect(()=>{console.log("=== UserProfileView Debug Info ==="),console.log("userId:",w),console.log("currentUser:",e),console.log("db instance:",dt),console.log("auth instance:",Cn),console.log("=================================")},[w,e]),T.useEffect(()=>{console.log("Profile state changed:",v)},[v]),T.useEffect(()=>{console.log("Properties state changed:",A)},[A]);const G=D=>{const Z={totalListings:D.length,activeListings:D.filter(xe=>xe.marketStatus==="Available").length,soldListings:D.filter(xe=>xe.marketStatus==="Sold").length,rentedListings:D.filter(xe=>xe.marketStatus==="Rented").length};E(Z)},k=(D,Z,xe=null)=>{const De=`${Z==="Nigeria Naira"?"":"$"}${D?.toLocaleString()}`;return xe&&xe!=="Year"?`${De}/${xe.toLowerCase()}`:De},Q=A.filter(D=>{const Z=D.title.toLowerCase().includes(U.toLowerCase())||D.city.toLowerCase().includes(U.toLowerCase()),xe=S==="all"||S==="available"&&D.marketStatus==="Available"||S==="sold"&&D.marketStatus==="Sold"||S==="rented"&&D.marketStatus==="Rented";return Z&&xe}),$=e&&e.uid===w;return L?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):v?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:re,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Cg,{className:"w-5 h-5"}),"Back"]}),$&&i.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Hh,{className:"w-4 h-4"}),"Edit Profile"]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:v.profileImage,alt:v.displayName,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),v.verified&&i.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 text-white rounded-full p-1.5",children:i.jsx(El,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.displayName}),v.verified&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Verified"})]}),v.isRealEstateProfessional?i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-lg text-gray-700 font-medium",children:v.category}),v.companyName&&i.jsx("p",{className:"text-blue-600 font-medium",children:v.companyName}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[v.city,", ",v.state]})]}):i.jsx("p",{className:"text-gray-600 mb-3",children:"Property Owner"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ri,{className:"w-4 h-4"}),i.jsxs("span",{children:["Joined ",v.joinedDate.toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(O_,{className:"w-4 h-4"}),i.jsxs("span",{children:[v.totalListings," listings"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vn,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{children:[v.averageRating," (",v.totalReviews," reviews)"]})]})]})]}),!$&&i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("a",{href:`https://wa.me/${v.whatsappPhone?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(pr,{className:"w-4 h-4"}),"WhatsApp"]}),i.jsxs("a",{href:`tel:${v.primaryPhone}`,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(qn,{className:"w-4 h-4"}),"Call"]})]})]})}),i.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.totalListings}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Listings"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.activeListings}),i.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.soldListings}),i.jsx("div",{className:"text-sm text-gray-600",children:"Sold"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:C.rentedListings}),i.jsx("div",{className:"text-sm text-gray-600",children:"Rented"})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("div",{className:"flex space-x-8 px-6",children:[i.jsx("button",{onClick:()=>Y("overview"),className:`py-3 border-b-2 font-medium text-sm ${B==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview"}),i.jsxs("button",{onClick:()=>Y("properties"),className:`py-3 border-b-2 font-medium text-sm ${B==="properties"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Properties (",A.length,")"]}),i.jsxs("button",{onClick:()=>Y("reviews"),className:`py-3 border-b-2 font-medium text-sm ${B==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Reviews (",v.totalReviews,")"]})]})}),i.jsxs("div",{className:"p-6",children:[B==="overview"&&i.jsxs("div",{className:"space-y-6",children:[v.aboutUs&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About"}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.aboutUs})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(qn,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Primary Phone"}),i.jsx("div",{className:"text-gray-600",children:v.primaryPhone})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(pr,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),i.jsx("div",{className:"text-gray-600",children:v.whatsappPhone})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(Bn,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Email"}),i.jsx("div",{className:"text-gray-600",children:v.email})]})]}),v.website&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(vf,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Website"}),i.jsx("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:v.website})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.responseRate}),i.jsx("div",{className:"text-sm text-gray-600",children:"Response Rate"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.responseTime}),i.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]}),i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[v.yearsExperience," years"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Experience"})]})]})]})]}),B==="properties"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center",children:[i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(cn,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search properties...",value:U,onChange:D=>z(D.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:S,onChange:D=>R(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"available",children:"Available"}),i.jsx("option",{value:"sold",children:"Sold"}),i.jsx("option",{value:"rented",children:"Rented"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>O("grid"),className:`p-2 rounded-lg ${ae==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:i.jsx(R4,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>O("list"),className:`p-2 rounded-lg ${ae==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:i.jsx(wf,{className:"w-4 h-4"})}),$&&i.jsxs("button",{className:"ml-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"w-4 h-4"}),"Add Property"]})]})]}),V?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading properties..."})]})}):Q.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Properties Found"}),i.jsx("p",{className:"text-gray-600",children:U||S!=="all"?"Try adjusting your search or filter criteria.":"This user hasn't listed any properties yet."})]}):i.jsx("div",{className:ae==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Q.map(D=>i.jsxs("div",{className:`bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${ae==="list"?"flex":""}`,children:[i.jsxs("div",{className:`relative ${ae==="list"?"w-48 flex-shrink-0":""}`,children:[i.jsx("img",{src:D.images[0],alt:D.title,className:`object-cover ${ae==="list"?"w-full h-32":"w-full h-48"}`}),i.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${D.marketStatus==="Available"?"bg-green-500":D.marketStatus==="Sold"?"bg-blue-500":"bg-orange-500"}`,children:D.marketStatus}),D.featured&&i.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"})]}),$&&i.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[i.jsx("button",{className:"bg-white bg-opacity-80 p-1.5 rounded-full hover:bg-opacity-100 transition-all",children:i.jsx(Hh,{className:"w-3 h-3 text-gray-600"})}),i.jsx("button",{className:"bg-white bg-opacity-80 p-1.5 rounded-full hover:bg-opacity-100 transition-all",children:i.jsx(_f,{className:"w-3 h-3 text-red-600"})})]})]}),i.jsxs("div",{className:`p-4 ${ae==="list"?"flex-1":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:D.title}),i.jsx("div",{className:"text-lg font-bold text-blue-600",children:k(D.price,D.currency,D.pricePer)})]}),i.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-3",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[D.city,", ",D.state]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[D.bedroom&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ku,{className:"w-4 h-4"}),i.jsx("span",{children:D.bedroom})]}),D.bathroom&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Iu,{className:"w-4 h-4"}),i.jsx("span",{children:D.bathroom})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ro,{className:"w-4 h-4"}),i.jsxs("span",{children:[D.totalArea," ",D.totalAreaUnit]})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nr,{className:"w-4 h-4"}),i.jsx("span",{children:D.views})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(jr,{className:"w-4 h-4"}),i.jsx("span",{children:D.favorites})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_0,{className:"w-4 h-4"}),i.jsx("span",{children:D.createdAt.toLocaleDateString()})]})]})]})]},D.id))})]}),B==="reviews"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Reviews"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(D=>i.jsx(Vn,{className:`w-4 h-4 ${D<=Math.floor(v.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},D))}),i.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[v.averageRating.toFixed(1)," (",v.totalReviews," reviews)"]})]})]}),!$&&e&&i.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"w-4 h-4"}),"Write Review"]})]}),c&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write a Review"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),i.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(D=>i.jsx("button",{onClick:()=>b(Z=>({...Z,rating:D})),className:"focus:outline-none",children:i.jsx(Vn,{className:`w-6 h-6 ${D<=g.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},D))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property (Optional)"}),i.jsx("input",{type:"text",value:g.propertyTitle,onChange:D=>b(Z=>({...Z,propertyTitle:D.target.value})),placeholder:"Which property did you interact with?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),i.jsx("textarea",{value:g.comment,onChange:D=>b(Z=>({...Z,comment:D.target.value})),placeholder:"Share your experience...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>ve(g),disabled:p||!g.comment.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[p&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submit Review"]}),i.jsx("button",{onClick:()=>d(!1),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]}),r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Vn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Reviews Yet"}),i.jsx("p",{className:"text-gray-600",children:$?"You haven't received any reviews yet.":"Be the first to leave a review!"})]}):i.jsx("div",{className:"space-y-4",children:r.map(D=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx(gr,{className:"w-5 h-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:D.reviewerName}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(Z=>i.jsx(Vn,{className:`w-3 h-3 ${Z<=D.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Z))}),i.jsx("span",{className:"text-sm text-gray-500",children:D.createdAt.toLocaleDateString()})]})]})]})}),i.jsx("p",{className:"text-gray-700 mb-2",children:D.comment}),D.propertyTitle&&i.jsxs("div",{className:"text-sm text-blue-600",children:["Property: ",D.propertyTitle]})]},D.id))})]})]})]}),!$&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Get in Touch"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("a",{href:`tel:${v.primaryPhone}`,className:"flex items-center justify-center gap-2 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(qn,{className:"w-4 h-4"}),"Call Now"]}),i.jsxs("a",{href:`https://wa.me/${v.whatsappPhone?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(pr,{className:"w-4 h-4"}),"WhatsApp"]}),i.jsxs("a",{href:`mailto:${v.email}`,className:"flex items-center justify-center gap-2 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(Bn,{className:"w-4 h-4"}),"Email"]})]})]})]})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(gr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Profile Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"The user profile you're looking for doesn't exist."}),i.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})},V8=({currentPropertyId:s,preferredLocation:e=null,preferredType:t=null,maxProperties:r=6})=>{const[o,c]=T.useState([]),[d,p]=T.useState([]),[m,g]=T.useState(!0),[b,w]=T.useState(null),v=Wn(),j=B=>{const Y=[...B];for(let ae=Y.length-1;ae>0;ae--){const O=Math.floor(Math.random()*(ae+1));[Y[ae],Y[O]]=[Y[O],Y[ae]]}return Y};T.useEffect(()=>kn(Y=>{w(Y),Y?A(Y.uid):p([])}),[]);const A=async B=>{try{const Y=mt(),ae=ot(Y,"users",B),O=await is(ae);if(O.exists()){const S=O.data();p(S.wishlist||[])}}catch(Y){console.error("Error fetching wishlist:",Y)}},F=async()=>{try{g(!0);const B=mt();let Y=[];try{const R=Ut(oo(B,"properties"));(await lt(R)).forEach(z=>{const C=z.data();z.id!==s&&Y.push({id:z.id,...C,createdAt:C.createdAt?.toDate?C.createdAt.toDate():new Date(C.createdAt)})})}catch(R){console.log("Collection group query failed, trying main collection:",R);const U=Ut(ft(B,"properties"));(await lt(U)).forEach(C=>{const E=C.data();C.id!==s&&Y.push({id:C.id,...E,createdAt:E.createdAt?.toDate?E.createdAt.toDate():new Date(E.createdAt)})})}let ae=[...Y];if(e||t){const R=[],U=[];ae.forEach(z=>{let C=0;e&&(z.city===e.city?C+=3:z.state===e.state?C+=2:z.country===e.country&&(C+=1)),t&&z.propertyType===t&&(C+=2),C>0?R.push({...z,score:C}):U.push(z)}),R.sort((z,C)=>C.score-z.score),ae=[...R,...U]}const S=j(ae).slice(0,r);c(S)}catch(B){console.error("Error fetching recommended properties:",B)}finally{g(!1)}};T.useEffect(()=>{F()},[s,e,t]);const L=async B=>{if(!b){alert("Please log in to add properties to wishlist");return}try{const Y=mt(),ae=ot(Y,"users",b.uid);d.includes(B)?(await ks(ae,{wishlist:lo(B)}),p(S=>S.filter(R=>R!==B))):(await ks(ae,{wishlist:$u(B)}),p(S=>[...S,B]))}catch(Y){console.error("Error updating wishlist:",Y),alert("Failed to update wishlist. Please try again.")}},q=B=>{const Y=B.currency==="Nigeria Naira"?"":"$",ae=B.price||0;return ae>=1e6?`${Y}${(ae/1e6).toFixed(1)}M`:ae>=1e3?`${Y}${(ae/1e3).toFixed(0)}K`:`${Y}${ae.toLocaleString()}`},V=B=>B==="Sale"?"For Sale":"For Rent",P=({property:B})=>i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:B.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:B.title,className:"w-full h-40 sm:h-48 object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:B.propertyType})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("button",{onClick:()=>L(B.id),className:`p-1.5 rounded-full transition-colors ${d.includes(B.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:i.jsx(jr,{className:"w-3 h-3",fill:d.includes(B.id)?"currentColor":"none"})})})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:q(B)}),i.jsx("div",{className:"text-xs text-gray-500",children:V(B.advertisingFor)})]}),i.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2 text-sm",children:B.title}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[i.jsx(Bs,{className:"w-3 h-3 mr-1 flex-shrink-0"}),i.jsx("span",{className:"text-xs truncate",children:B.showAddress?B.address:`${B.city}, ${B.state}`})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[B.bedroom&&i.jsxs("span",{children:[" ",B.bedroom]}),B.bathroom&&i.jsxs("span",{children:[" ",B.bathroom]})]}),B.totalArea&&i.jsxs("span",{children:[" ",B.totalArea," ",B.totalAreaUnit]})]}),i.jsxs("button",{onClick:()=>v(`/property/${B.id}`),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-1 text-sm",children:[i.jsx(Nr,{className:"w-3 h-3"}),"View Details"]})]})]});return m?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):o.length===0?i.jsx("div",{className:"py-8 text-center text-gray-500",children:i.jsx("p",{children:"No recommended properties available at the moment."})}):i.jsxs("div",{className:"py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recommended Properties"}),i.jsxs("button",{onClick:F,className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.map(B=>i.jsx(P,{property:B},`${B.id}-${Math.random()}`))}),o.length===r&&i.jsx("div",{className:"text-center mt-6",children:i.jsx("button",{onClick:()=>v("/properties"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"View All Properties "})})]})},F8=()=>{const{id:s}=E_(),e=Wn(),[t,r]=T.useState(null),[o,c]=T.useState([]),[d,p]=T.useState(null),[m,g]=T.useState(0),[b,w]=T.useState(!1),[v,j]=T.useState({name:"",email:"",phone:"",message:""}),[A,F]=T.useState(!1),[L,q]=T.useState(!0),V=s;T.useEffect(()=>{ae()},[V]),T.useEffect(()=>{(async()=>{if(!V){q(!1);return}try{q(!0);const E=mt();let re=await is(ot(E,"properties",V));if(!re.exists()){const ce=await lt(ft(E,"users"));for(const W of ce.docs)try{if(re=await is(ot(E,"users",W.id,"properties",V)),re.exists())break}catch{continue}}if(re.exists()){const ce=re.data();let W=null;const me=ce.ownerId||ce.userId||ce.createdBy;me&&(W=await P(me)),p({id:re.id,...ce,createdAt:ce.createdAt?.toDate?ce.createdAt.toDate():new Date(ce.createdAt),owner:W?{id:me,name:W.displayName||`${W.firstName} ${W.lastName}`.trim()||"Property Owner",profilePicture:W.profileImage||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",phone:W.primaryPhone||"Not provided",whatsapp:W.whatsappPhone||W.primaryPhone||"Not provided",email:W.email||"Not provided",joinedDate:W.createdAt?.toDate?W.createdAt.toDate():new Date,totalListings:W.totalListings||1,responseRate:W.responseRate||"95%",responseTime:W.responseTime||"Within an hour",verified:W.verified||!1,isRealEstateProfessional:W.isRealEstateProfessional||!1,companyName:W.companyName||"",category:W.category||"",website:W.website||"",aboutUs:W.aboutUs||"",city:W.city||"",state:W.state||""}:{id:"unknown",name:"Property Owner",profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",phone:"Not provided",whatsapp:"Not provided",email:"Not provided",joinedDate:new Date,totalListings:1,responseRate:"95%",responseTime:"Within an hour",verified:!1,isRealEstateProfessional:!1,companyName:"",category:"",website:"",aboutUs:"",city:"",state:""}})}else console.log("Property not found"),p(null)}catch(E){console.error("Error fetching property details:",E),p(null)}finally{q(!1)}})()},[V]),T.useEffect(()=>kn(E=>{r(E),E?B(E.uid):(c([]),w(!1))}),[V]),T.useEffect(()=>{console.log("Property loaded:",d),d?.owner&&console.log("Property owner ID:",d?.owner?.id)},[d]);const P=async C=>{try{const E=ot(dt,"users",C,"profiles","userProfile"),re=await is(E);if(re.exists())return re.data();{const ce=await My(C);return ce?{firstName:ce.firstName||"",lastName:ce.lastName||"",displayName:ce.displayName||`${ce.firstName} ${ce.lastName}`.trim(),primaryPhone:ce.primaryPhone||ce.phone||"",email:ce.email||"",whatsappPhone:ce.whatsappPhone||ce.primaryPhone||ce.phone||"",alternateEmail:ce.alternateEmail||"",isRealEstateProfessional:ce.isRealEstateProfessional||!1,profileImage:ce.profileImage||"",companyName:ce.companyName||"",companyPhone:ce.companyPhone||"",category:ce.category||"",website:ce.website||"",country:ce.country||"",state:ce.state||"",city:ce.city||"",address:ce.address||"",aboutUs:ce.aboutUs||"",createdAt:ce.createdAt||new Date,totalListings:ce.totalListings||1,responseRate:ce.responseRate||"95%",responseTime:ce.responseTime||"Within an hour",verified:ce.verified||!1}:null}}catch(E){return console.error("Error fetching user profile:",E),null}},B=async C=>{try{const E=mt(),re=ot(E,"users",C),ce=await is(re);if(ce.exists()){const W=ce.data();c(W.wishlist||[]),V&&w((W.wishlist||[]).includes(V))}}catch(E){console.error("Error fetching wishlist:",E)}},Y=async()=>{if(!t){alert("Please log in to add properties to wishlist");return}try{const C=mt(),E=ot(C,"users",t.uid);o.includes(V)?(await ks(E,{wishlist:lo(V)}),c(ce=>ce.filter(W=>W!==V)),w(!1)):(await ks(E,{wishlist:$u(V)}),c(ce=>[...ce,V]),w(!0))}catch(C){console.error("Error updating wishlist:",C),alert("Failed to update wishlist. Please try again.")}},ae=async()=>{try{console.log("Testing database connection...");const C=ft(dt,"users"),E=await lt(Ut(C,limit(1)));if(console.log("Can read users collection:",!E.empty),userId){const W=await is(ot(dt,"users",userId));console.log("User document exists:",W.exists()),W.exists()&&console.log("User document data:",W.data())}const re=ft(dt,"properties"),ce=await lt(Ut(re,limit(1)));console.log("Can read properties collection:",!ce.empty)}catch(C){console.error("Database connection test failed:",C)}},O=(C,E,re=null)=>{const W=`${E==="Nigeria Naira"?"":E==="Ghana Cedis"?"":E==="South African Rand"?"R":"$"}${C?.toLocaleString()}`;return re&&re!=="Year"?`${W}${re=="Not Applicable"?"":`/${re}`}`:W},S=(C,E)=>{j(re=>({...re,[C]:E}))},R=async()=>{if(!v.name.trim()||!v.email.trim()||!v.message.trim()){alert("Please fill in all required fields");return}try{const C=mt();alert("Message sent successfully!"),j({name:"",email:"",phone:"",message:""}),F(!1)}catch(C){console.error("Error sending message:",C),alert("Failed to send message. Please try again.")}},U=()=>{g(C=>C===d.images.length-1?0:C+1)},z=()=>{g(C=>C===0?d.images.length-1:C-1)};return L?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading property details..."})]})}):d?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:i.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Cg,{className:"w-5 h-5"}),"Back to listings"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:`p-2 rounded-full transition-colors ${b?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:b?"Remove from wishlist":"Add to wishlist",children:i.jsx(jr,{className:"w-5 h-5",fill:b?"currentColor":"none"})}),i.jsx("button",{className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:i.jsx(H_,{className:"w-5 h-5"})})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-4 md:py-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[i.jsxs("div",{className:" lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"relative",children:[t&&i.jsxs("div",{className:"flex items-center absolute right-0 gap-2 text-md",children:[i.jsx(jr,{className:`w-4 h-4 ${b?"text-red-500 fill-current":"text-gray-400"}`}),i.jsx("span",{className:b?"text-red-600":"text-gray-500",children:b?"Saved to wishlist":"Not in wishlist"})]}),i.jsx("img",{src:d.images[m],alt:d.title,className:"w-full h-64 sm:h-80 md:h-96 object-cover"}),i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[i.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:d.propertyType}),d.marketStatus&&d.marketStatus!=="Available"&&i.jsx("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:d.marketStatus})]}),d.propertyCondition==="Newly Built"&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"New"})}),d.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:z,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:i.jsx(w0,{className:"w-5 h-5"})}),i.jsx("button",{onClick:U,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:i.jsx(xf,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:d.images.map((C,E)=>i.jsx("button",{onClick:()=>g(E),className:`w-2 h-2 rounded-full transition-all ${E===m?"bg-white":"bg-white bg-opacity-50"}`},E))})]}),i.jsx("div",{className:"p-3 sm:p-4 flex gap-2 overflow-x-auto",children:d.images.map((C,E)=>i.jsx("button",{onClick:()=>g(E),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${E===m?"border-blue-600":"border-gray-200"}`,children:i.jsx("img",{src:C,alt:`View ${E+1}`,className:"w-full h-full object-cover"})},E))})]}),i.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-sm ",children:[i.jsx("h2",{className:"font-bold text-2xl text-blue-500",children:"Safety Tips "}),i.jsxs("ol",{className:"flex flex-col gap-1 text-gray-600 pt-2 list-decimal pl-5",children:[i.jsx("li",{children:"Do not make any inspection fee without seeing the agent and property."}),i.jsx("li",{children:"Only pay Rental fee, Sales fee or any upfront payment after you verify the Landlord."}),i.jsx("li",{children:"Ensure you meet the Agent in an open location."}),i.jsx("li",{children:"The Agent does not represent Proerty Preprium and Property Preprium is not liable for any monetary transaction between you and the Agent."})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:d.title}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:d.showAddress?d.address:`${d.city}, ${d.state}`})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:d.showPriceOption==="Contact for price"?"Contact for Price":O(d.price,d.currency,d.pricePer)}),i.jsx("div",{className:"text-sm text-gray-500",children:d.advertisingFor==="Sale"?"For Sale":d.advertisingFor==="Rent"?"For Rent":d.advertisingFor||"Available"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 py-4 sm:py-6 border-y border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:["",i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.bedroom}),i.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:["",i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.bathroom}),i.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:["",i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.toilet||"N/A"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Toilets"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:["",i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.totalArea}),i.jsx("div",{className:"text-sm text-gray-600",children:d.totalAreaUnit})]})]})]}),i.jsxs("div",{className:"py-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]}),i.jsxs("div",{className:"py-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Details"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Property Type"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.propertyType||"Not specified"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Use of Property"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.useOfProperty||"Not specified"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Market Status"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.marketStatus||"Available"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Location"}),i.jsxs("span",{className:"font-medium text-gray-800",children:[d.city,", ",d.state,", ",d.country]})]}),d.yearBuilt&&i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Year Built"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.yearBuilt})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Condition"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.propertyCondition||"Not specified"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Furnishing Status"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.furnishingStatus||"Not specified"})]}),d.coveredArea&&i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Covered Area"}),i.jsxs("span",{className:"font-medium text-gray-800",children:[d.coveredArea," ",d.coveredAreaUnit]})]}),d.availableFrom&&i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Available From"}),i.jsx("span",{className:"font-medium text-gray-800",children:new Date(d.availableFrom).toLocaleDateString()})]}),d.minimumRentPeriod&&d.advertisingFor==="Rent"&&i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Minimum Rent Period"}),i.jsx("span",{className:"font-medium text-gray-800",children:d.minimumRentPeriod})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Pet Policy"}),i.jsx("span",{className:"font-medium text-gray-800 flex items-center gap-1",children:d.petPolicy==="Allowed"?i.jsxs(i.Fragment,{children:[i.jsx(Ja,{className:"w-4 h-4 text-green-500"})," Pets Allowed"]}):i.jsxs(i.Fragment,{children:[i.jsx(dw,{className:"w-4 h-4 text-red-500"})," No Pets"]})})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Smoking Policy"}),i.jsx("span",{className:"font-medium text-gray-800 flex items-center gap-1",children:d.smokingPolicy==="Allowed"?i.jsxs(i.Fragment,{children:[i.jsx(Ja,{className:"w-4 h-4 text-green-500"})," Smoking Allowed"]}):i.jsxs(i.Fragment,{children:[i.jsx(dw,{className:"w-4 h-4 text-red-500"})," No Smoking"]})})]})]})]}),d.utilitiesIncluded&&d.utilitiesIncluded.length>0&&i.jsxs("div",{className:"py-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Utilities Included"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:d.utilitiesIncluded.map((C,E)=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(G_,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.amenities&&d.amenities.length>0&&i.jsxs("div",{className:"py-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Amenities"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.amenities.map((C,E)=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),i.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.features&&d.features.length>0&&i.jsxs("div",{className:"py-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Features"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.features.map((C,E)=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),i.jsx("span",{className:"text-sm",children:C})]},E))})]}),d.nearbyAmenities&&d.nearbyAmenities.length>0&&d.nearbyAmenities.some(C=>C.trim()!=="")&&i.jsxs("div",{className:"py-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Nearby Amenities"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.nearbyAmenities.filter(C=>C.trim()!=="").map((C,E)=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(Bs,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-sm",children:C})]},E))})]})]}),i.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"https://propertypro.ng/assets/new_public/images/8356a8ec6fcfe71b646ae827967e7d06-shield.webp",alt:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-xl py-3 text-gray-800",children:"Property is verified as real "}),i.jsx("p",{className:"text-gray-600",children:"if reported as fake, we will investigate to comfirm if this property isn't real  "})]})]}),i.jsx("button",{className:"border-1 p-3 rounded-md font-medium text-blue-500 hover:bg-blue-500 hover:text-white animation-all duration-300",children:"Report Property "})]}),i.jsx(V8,{currentPropertyId:V,preferredLocation:{city:d.city,state:d.state,country:d.country},preferredType:d.propertyType,maxProperties:3})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm lg:sticky lg:top-24",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"relative inline-block cursor-pointer",onClick:()=>e(`/profile/${d.owner.id}`),children:[i.jsx("img",{src:d.owner.profilePicture,alt:d.owner.name,className:"w-20 h-20 rounded-full object-cover mx-auto mb-3 hover:opacity-80 transition-opacity"}),d.owner.verified&&i.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 text-white rounded-full p-1",children:i.jsx(El,{className:"w-3 h-3"})})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>e(`/profile/${d.owner.id}`),children:d.owner.name}),d.owner.isRealEstateProfessional?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-600",children:d.owner.category||"Real Estate Professional"}),d.owner.companyName&&i.jsx("p",{className:"text-sm font-medium text-blue-600",children:d.owner.companyName}),d.owner.city&&d.owner.state&&i.jsxs("p",{className:"text-xs text-gray-500",children:[d.owner.city,", ",d.owner.state]})]}):i.jsx("p",{className:"text-sm text-gray-600",children:"Property Owner"})]}),d.owner.aboutUs&&i.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:d.owner.aboutUs})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.owner.totalListings}),i.jsx("div",{className:"text-xs text-gray-600",children:"Total Listings"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-800",children:d.owner.responseRate}),i.jsx("div",{className:"text-xs text-gray-600",children:"Response Rate"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[i.jsx(qn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:d.owner.phone})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[i.jsx(pr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:d.owner.whatsapp})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[i.jsx(Bn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:d.owner.email})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[i.jsx(ri,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["Responds ",d.owner.responseTime]})]}),d.owner.website&&i.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[i.jsx(vf,{className:"w-4 h-4"}),i.jsx("a",{href:d.owner.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"Visit Website"})]})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("a",{href:`https://wa.me/${d.owner.whatsapp?.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-600 text-white py-2 sm:py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[i.jsx(pr,{className:"w-4 h-4"}),"WhatsApp"]}),i.jsxs("a",{href:`tel:${d.owner.phone}`,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(qn,{className:"w-4 h-4"}),"Call Now"]}),i.jsxs("button",{onClick:()=>F(!A),className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[i.jsx(G4,{className:"w-4 h-4"}),"Send Message"]}),i.jsxs("button",{onClick:()=>{const C=d?.owner?.id;C?e(`/profile/${C}`):alert("Owner information not available")},className:"w-full border border-blue-300 text-blue-600 py-3 rounded-lg hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[i.jsx(gr,{className:"w-4 h-4"}),"View Profile"]})]}),A&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Send a Message"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("input",{type:"text",placeholder:"Your Name",value:v.name,onChange:C=>S("name",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm touch-manipulation"}),i.jsx("input",{type:"email",placeholder:"Your Email",value:v.email,onChange:C=>S("email",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),i.jsx("input",{type:"tel",placeholder:"Your Phone",value:v.phone,onChange:C=>S("phone",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),i.jsx("textarea",{placeholder:"Your message...",value:v.message,onChange:C=>S("message",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm resize-none"}),i.jsxs("button",{onClick:R,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx($_,{className:"w-4 h-4"}),"Send Message"]})]})]})]})})]})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-600",children:"Property not found"}),i.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Cg,{className:"w-5 h-5"}),"Back to listings"]})]})},z8=()=>{const s=Wn(),[e,t]=T.useState(null),[r,o]=T.useState([]),[c,d]=T.useState(!0),[p,m]=T.useState(""),[g,b]=T.useState(""),[w,v]=T.useState("dateAdded"),[j,A]=T.useState(""),[F,L]=T.useState([]),[q,V]=T.useState(!1),P=async E=>{try{d(!0);const re=mt(),ce=ot(re,"users",E),W=await is(ce);if(!W.exists()||!W.data().wishlist?.length){o([]),d(!1);return}const me=W.data().wishlist,ve=[];try{const G=Ut(oo(re,"properties"),ms(I1(),"in",me.slice(0,10)));if((await lt(G)).forEach(Q=>{const $=Q.data();ve.push({id:Q.id,...$,createdAt:$.createdAt?.toDate?$.createdAt.toDate():new Date($.createdAt),dateAddedToWishlist:new Date})}),me.length>10)for(let Q=10;Q<me.length;Q+=10){const $=me.slice(Q,Q+10),D=Ut(oo(re,"properties"),ms(I1(),"in",$));(await lt(D)).forEach(xe=>{const ye=xe.data();ve.push({id:xe.id,...ye,createdAt:ye.createdAt?.toDate?ye.createdAt.toDate():new Date(ye.createdAt),dateAddedToWishlist:new Date})})}}catch(G){console.error("CollectionGroup query failed, trying manual fetch:",G);const k=await lt(ft(re,"users"));for(const Q of k.docs)try{(await lt(ft(re,"users",Q.id,"properties"))).forEach(D=>{if(me.includes(D.id)){const Z=D.data();ve.push({id:D.id,...Z,createdAt:Z.createdAt?.toDate?Z.createdAt.toDate():new Date(Z.createdAt),dateAddedToWishlist:new Date})}})}catch($){console.log(`Error fetching properties for user ${Q.id}:`,$)}}o(ve),m("")}catch(re){console.error("Error fetching wishlist properties:",re),m("Failed to load wishlist properties. Please try again.")}finally{d(!1)}};T.useEffect(()=>kn(re=>{t(re),re?P(re.uid):(o([]),d(!1))}),[]);const B=async E=>{if(e)try{const re=mt(),ce=ot(re,"users",e.uid);await ks(ce,{wishlist:lo(E)}),o(W=>W.filter(me=>me.id!==E)),L(W=>W.filter(me=>me!==E))}catch(re){console.error("Error removing from wishlist:",re),alert("Failed to remove property from wishlist. Please try again.")}},Y=async()=>{if(!(!e||F.length===0))try{const E=mt(),re=ot(E,"users",e.uid);for(const ce of F)await ks(re,{wishlist:lo(ce)});o(ce=>ce.filter(W=>!F.includes(W.id))),L([])}catch(E){console.error("Error removing multiple from wishlist:",E),alert("Failed to remove properties from wishlist. Please try again.")}},ae=async E=>{if(navigator.share)try{await navigator.share({title:E.title,text:`Check out this property: ${E.title}`,url:`${window.location.origin}/property/${E.id}`})}catch(re){console.log("Error sharing:",re)}else{const re=`${window.location.origin}/property/${E.id}`;navigator.clipboard.writeText(re).then(()=>{alert("Property link copied to clipboard!")}).catch(()=>{alert("Unable to copy link. Please copy manually: "+re)})}},O=E=>{s(`/property/${E}`)},S=()=>{s("/properties-for-sale")},R=(E,re)=>`${re==="Nigeria Naira"?"":"$"}${E?.toLocaleString()||"0"}`,U=r.filter(E=>{const re=!g||E.title?.toLowerCase().includes(g.toLowerCase())||E.city?.toLowerCase().includes(g.toLowerCase())||E.state?.toLowerCase().includes(g.toLowerCase()),ce=!j||E.propertyType===j;return re&&ce}).sort((E,re)=>{switch(w){case"dateAdded":return new Date(re.dateAddedToWishlist)-new Date(E.dateAddedToWishlist);case"price-low":return E.price-re.price;case"price-high":return re.price-E.price;case"newest":return new Date(re.createdAt)-new Date(E.createdAt);default:return 0}}),z=[...new Set(r.map(E=>E.propertyType).filter(Boolean))],C=({property:E})=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:E.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:E.title,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("input",{type:"checkbox",checked:F.includes(E.id),onChange:re=>{re.target.checked?L(ce=>[...ce,E.id]):L(ce=>ce.filter(W=>W!==E.id))},className:"w-4 h-4 text-blue-600 bg-white border-2 border-gray-300 rounded focus:ring-blue-500"})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:E.propertyType})}),i.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[i.jsx("button",{onClick:()=>ae(E),className:"p-2 bg-white/90 hover:bg-white rounded-full shadow-sm transition-colors",title:"Share property",children:i.jsx(H_,{className:"w-4 h-4 text-gray-600"})}),i.jsx("button",{onClick:()=>B(E.id),className:"p-2 bg-white/90 hover:bg-red-50 rounded-full shadow-sm transition-colors",title:"Remove from wishlist",children:i.jsx(_f,{className:"w-4 h-4 text-red-600"})})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R(E.price,E.currency)}),i.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx(ri,{className:"w-3 h-3"}),"Added ",new Date(E.dateAddedToWishlist).toLocaleDateString()]})]}),i.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2",children:E.title}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-sm",children:E.showAddress?E.address:`${E.city}, ${E.state}`})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ku,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[E.bedroom," Beds"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Iu,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[E.bathroom," Baths"]})]}),E.totalArea&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(ro,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[E.totalArea," ",E.totalAreaUnit]})]})]}),i.jsxs("button",{onClick:()=>O(E.id),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Nr,{className:"w-4 h-4"}),"View Details"]})]})]});return e?c?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}):p?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md",children:[i.jsx("p",{className:"text-red-700 mb-4",children:p}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(jr,{className:"w-8 h-8 text-red-500",fill:"currentColor"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Wishlist"})]}),i.jsxs("p",{className:"text-gray-600",children:[r.length," ",r.length===1?"property":"properties"," saved for later"]})]}),r.length===0?i.jsx("div",{className:"text-center py-16",children:i.jsxs("div",{className:"bg-white rounded-lg p-12 shadow-sm border border-gray-200 max-w-md mx-auto",children:[i.jsx(jr,{className:"w-16 h-16 text-gray-300 mx-auto mb-6"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-4",children:"Your wishlist is empty"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Start browsing properties and save your favorites to see them here."}),i.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search your saved properties...",value:g,onChange:E=>b(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),g&&i.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),i.jsxs("div",{className:"flex gap-3 items-center",children:[i.jsxs("button",{onClick:()=>V(!q),className:`px-4 py-2 rounded-lg border transition-colors ${q||j?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[i.jsx(bf,{className:"w-4 h-4 inline mr-2"}),"Filter"]}),i.jsxs("select",{value:w,onChange:E=>v(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"dateAdded",children:"Recently Added"}),i.jsx("option",{value:"newest",children:"Newest Listings"}),i.jsx("option",{value:"price-low",children:"Price: Low to High"}),i.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),F.length>0&&i.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:["Remove Selected (",F.length,")"]})]})]}),q&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),i.jsxs("select",{value:j,onChange:E=>A(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"All Types"}),z.map(E=>i.jsx("option",{value:E,children:E},E))]})]})}),(j||g)&&i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:()=>{A(""),b("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear all filters"})})]})]}),r.length>0&&i.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("input",{type:"checkbox",checked:F.length===U.length&&U.length>0,onChange:E=>{E.target.checked?L(U.map(re=>re.id)):L([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),"Select all visible (",U.length,")"]}),F.length>0&&i.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[F.length," selected"]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("p",{className:"text-gray-600",children:["Showing ",U.length," of ",r.length," properties"]})}),U.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[i.jsx(cn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No properties found"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria."}),i.jsx("button",{onClick:()=>{b(""),A(""),V(!1)},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(E=>i.jsx(C,{property:E},E.id))}),i.jsx("div",{className:"mt-12 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Properties Saved"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:R(Math.min(...r.map(E=>E.price||0)),r[0]?.currency||"Nigeria Naira")}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Lowest Price"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:R(Math.max(...r.map(E=>E.price||0)),r[0]?.currency||"Nigeria Naira")}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Highest Price"})]})]})})]})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bu,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Please log in to view your wishlist"})]})})};class B8{constructor(){this.subscribersCollection="newsletter_subscribers",this.campaignsCollection="newsletter_campaigns",this.templatesCollection="newsletter_templates"}async subscribe(e,t="website"){try{if(!this.isValidEmail(e))throw new Error("Invalid email address");const r=await this.getSubscriber(e);if(r){if(r.status==="active")throw new Error("Email is already subscribed");if(r.status==="unsubscribed")return await this.resubscribe(e)}const o={email:e.toLowerCase().trim(),status:"active",source:t,subscribeDate:Qs(),lastUpdated:Qs(),preferences:{propertyUpdates:!0,marketInsights:!0,newsletters:!0,promotions:!1},metadata:{ipAddress:null,userAgent:navigator.userAgent,referrer:document.referrer}},c=await hu(ft(dt,this.subscribersCollection),o);return await this.logEvent("subscribe",e,{source:t}),{success:!0,message:"Successfully subscribed to newsletter",subscriberId:c.id}}catch(r){throw console.error("Newsletter subscription error:",r),new Error(r.message||"Failed to subscribe to newsletter")}}async unsubscribe(e,t="user_request"){try{const r=await this.getSubscriber(e);if(!r)throw new Error("Email not found in subscribers list");return await ks(ot(dt,this.subscribersCollection,r.id),{status:"unsubscribed",unsubscribeDate:Qs(),unsubscribeReason:t,lastUpdated:Qs()}),await this.logEvent("unsubscribe",e,{reason:t}),{success:!0,message:"Successfully unsubscribed from newsletter"}}catch(r){throw console.error("Newsletter unsubscribe error:",r),new Error(r.message||"Failed to unsubscribe from newsletter")}}async resubscribe(e){try{const t=await this.getSubscriber(e);if(!t)throw new Error("Email not found in subscribers list");return await ks(ot(dt,this.subscribersCollection,t.id),{status:"active",resubscribeDate:Qs(),lastUpdated:Qs()}),await this.logEvent("resubscribe",e),{success:!0,message:"Successfully resubscribed to newsletter"}}catch(t){throw console.error("Newsletter resubscribe error:",t),new Error(t.message||"Failed to resubscribe to newsletter")}}async getSubscriber(e){try{const t=Ut(ft(dt,this.subscribersCollection),ms("email","==",e.toLowerCase().trim())),r=await lt(t);if(r.empty)return null;const o=r.docs[0];return{id:o.id,...o.data()}}catch(t){return console.error("Get subscriber error:",t),null}}async getActiveSubscribers(){try{const e=Ut(ft(dt,this.subscribersCollection),ms("status","==","active"));return(await lt(e)).docs.map(r=>({id:r.id,...r.data()})).sort((r,o)=>{const c=r.subscribeDate?.toDate?.()||new Date(0);return(o.subscribeDate?.toDate?.()||new Date(0))-c})}catch(e){throw console.error("Get active subscribers error:",e),new Error("Failed to fetch subscribers")}}async updatePreferences(e,t){try{const r=await this.getSubscriber(e);if(!r)throw new Error("Subscriber not found");return await ks(ot(dt,this.subscribersCollection,r.id),{preferences:{...r.preferences,...t},lastUpdated:Qs()}),{success:!0,message:"Preferences updated successfully"}}catch(r){throw console.error("Update preferences error:",r),new Error("Failed to update preferences")}}async createCampaign(e){try{const t={...e,createdAt:Qs(),status:"draft",stats:{sent:0,delivered:0,opened:0,clicked:0,bounced:0,unsubscribed:0}};return{success:!0,message:"Campaign created successfully",campaignId:(await hu(ft(dt,this.campaignsCollection),t)).id}}catch(t){throw console.error("Create campaign error:",t),new Error("Failed to create campaign")}}async sendNewsletter(e,t=null){try{const r=await getDoc(ot(dt,this.campaignsCollection,e));if(!r.exists())throw new Error("Campaign not found");const o=r.data(),c=await this.getActiveSubscribers();if(c.length===0)throw new Error("No active subscribers found");await ks(ot(dt,this.campaignsCollection,e),{status:"sending",sentAt:Qs()}),console.log(`Sending newsletter to ${c.length} subscribers`);const d=D1(dt);let p=0;for(const m of c)try{await this.sendEmailToSubscriber(m.email,o,t),p++,await this.logEvent("sent",m.email,{campaignId:e})}catch(g){console.error(`Failed to send to ${m.email}:`,g),await this.logEvent("bounced",m.email,{campaignId:e,error:g.message})}return await ks(ot(dt,this.campaignsCollection,e),{status:"sent","stats.sent":p,completedAt:Qs()}),{success:!0,message:`Newsletter sent to ${p} subscribers`,sentCount:p}}catch(r){throw console.error("Send newsletter error:",r),new Error("Failed to send newsletter")}}async sendEmailToSubscriber(e,t,r=null){return console.log(`Sending email to: ${e}`),console.log(`Subject: ${t.subject}`),console.log(`Content: ${t.content}`),await new Promise(o=>setTimeout(o,100)),!0}async getNewsletterStats(){try{const e=Ut(ft(dt,this.subscribersCollection)),t=await lt(e),r={totalSubscribers:t.size,activeSubscribers:0,unsubscribedSubscribers:0,recentSubscribers:0},o=new Date;o.setDate(o.getDate()-30),t.forEach(p=>{const m=p.data();m.status==="active"?(r.activeSubscribers++,m.subscribeDate&&m.subscribeDate.toDate()>o&&r.recentSubscribers++):m.status==="unsubscribed"&&r.unsubscribedSubscribers++});const c=Ut(ft(dt,this.campaignsCollection)),d=await lt(c);return r.totalCampaigns=d.size,r.campaignStats={totalSent:0,totalOpened:0,totalClicked:0},d.forEach(p=>{const m=p.data();m.stats&&(r.campaignStats.totalSent+=m.stats.sent||0,r.campaignStats.totalOpened+=m.stats.opened||0,r.campaignStats.totalClicked+=m.stats.clicked||0)}),r}catch(e){throw console.error("Get newsletter stats error:",e),new Error("Failed to fetch newsletter statistics")}}async logEvent(e,t,r={}){try{await hu(ft(dt,"newsletter_events"),{event:e,email:t,timestamp:Qs(),metadata:r})}catch(o){console.error("Log event error:",o)}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async cleanupOldUnsubscribers(e=365){try{const t=new Date;t.setDate(t.getDate()-e);const r=Ut(ft(dt,this.subscribersCollection),ms("status","==","unsubscribed"),ms("unsubscribeDate","<",t)),o=await lt(r),c=D1(dt);return o.docs.forEach(d=>{c.delete(d.ref)}),await c.commit(),{success:!0,message:`Cleaned up ${o.size} old unsubscribed users`}}catch(t){throw console.error("Cleanup error:",t),new Error("Failed to cleanup old subscribers")}}async exportSubscribers(){try{const e=await this.getActiveSubscribers(),t=`Email,Status,Subscribe Date,Source,Preferences
`,r=e.map(o=>{const c=o.subscribeDate?.toDate?.()||new Date,d=Object.entries(o.preferences||{}).filter(([p,m])=>m).map(([p,m])=>p).join(";");return`${o.email},${o.status},${c.toISOString()},${o.source},${d}`}).join(`
`);return t+r}catch(e){throw console.error("Export subscribers error:",e),new Error("Failed to export subscribers")}}}const jl=new B8,{subscribe:X8,unsubscribe:Z8,getSubscriber:J8,getActiveSubscribers:e9,updatePreferences:t9,createCampaign:s9,sendNewsletter:n9,getNewsletterStats:r9,exportSubscribers:a9}=jl,q8=()=>{const[s,e]=T.useState(!1),[t,r]=T.useState(null),[o,c]=T.useState(!1),d=T.useCallback(async(w,v="website")=>{e(!0),r(null),c(!1);try{const j=await jl.subscribe(w,v);return c(!0),setTimeout(()=>c(!1),3e3),j}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),p=T.useCallback(async(w,v)=>{e(!0),r(null);try{return await jl.unsubscribe(w,v)}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),m=T.useCallback(async(w,v)=>{e(!0),r(null);try{return await jl.updatePreferences(w,v)}catch(j){return r(j.message),{success:!1,error:j.message}}finally{e(!1)}},[]),g=T.useCallback(()=>{r(null)},[]),b=T.useCallback(()=>{c(!1)},[]);return{loading:s,error:t,success:o,subscribe:d,unsubscribe:p,updatePreferences:m,clearError:g,clearSuccess:b}},$8=()=>{const[s,e]=T.useState(""),{loading:t,error:r,success:o,subscribe:c,clearError:d}=q8(),p=async()=>{if(!s.trim())return;r&&d(),(await c(s.trim(),"footer")).success&&e("")},m=j=>{j.key==="Enter"&&p()},g=[{icon:N4,href:"https://facebook.com",label:"Facebook",color:"hover:text-blue-600"},{icon:gR,href:"https://twitter.com",label:"Twitter",color:"hover:text-blue-400"},{icon:M4,href:"https://instagram.com",label:"Instagram",color:"hover:text-pink-600"},{icon:L4,href:"https://linkedin.com",label:"LinkedIn",color:"hover:text-blue-700"},{icon:ER,href:"https://youtube.com",label:"YouTube",color:"hover:text-red-600"}],b=["Buy Properties","Rent Properties","Sell Property","Property Management","Market Analysis","Investment Properties"],w=["About Us","Our Team","Careers","Press","Blog","Contact"],v=["Help Center","Safety Tips","Community Guidelines","Terms of Service"];return i.jsxs("footer",{className:"bg-gray-900 text-white",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(gs,{className:"w-8 h-8 text-blue-400"}),i.jsx("span",{className:"text-2xl font-bold",children:"Property Premium"})]}),i.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Your trusted partner in finding the perfect property. We connect buyers, sellers, and renters with premium real estate opportunities."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[i.jsx(Bs,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{children:"123 Real Estate St, Property City, PC 12345"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[i.jsx(qn,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{children:"+1 (555) 123-4567"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[i.jsx(Bn,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{children:"hello@propertypremium.com"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Follow Us"}),i.jsx("div",{className:"flex gap-3",children:g.map(({icon:j,href:A,label:F,color:L})=>i.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:`p-2 bg-gray-800 rounded-full transition-colors ${L} hover:bg-gray-700`,"aria-label":F,children:i.jsx(j,{className:"w-5 h-5"})},F))})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Services"}),i.jsx("ul",{className:"space-y-3",children:b.map(j=>i.jsx("li",{children:i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[i.jsx(zn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Company"}),i.jsx("ul",{className:"space-y-3",children:w.map(j=>i.jsx("li",{children:i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[i.jsx(zn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Newsletter"}),i.jsxs("div",{className:"mb-8",children:[i.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get property updates and market insights delivered weekly."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:s,onChange:j=>e(j.target.value),onKeyPress:m,placeholder:"Enter your email",className:`w-full px-3 py-2 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 text-sm transition-all ${r?"border-2 border-red-500 focus:ring-red-400":o?"border-2 border-green-500 focus:ring-green-400":"focus:ring-blue-400"}`,disabled:t}),r&&i.jsx(Za,{className:"absolute right-3 top-2.5 w-4 h-4 text-red-500"}),o&&i.jsx(Ja,{className:"absolute right-3 top-2.5 w-4 h-4 text-green-500"})]}),i.jsx("button",{onClick:p,disabled:t||o||!s.trim(),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:t?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o?i.jsxs(i.Fragment,{children:["Subscribed! ",i.jsx(Ja,{className:"w-3 h-3"})]}):i.jsxs(i.Fragment,{children:["Subscribe ",i.jsx($_,{className:"w-3 h-3"})]})})]}),r&&i.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700 rounded text-red-400 text-xs flex items-center gap-2",children:[i.jsx(Za,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{children:r})]}),o&&i.jsxs("div",{className:"mt-2 p-2 bg-green-900/30 border border-green-700 rounded text-green-400 text-xs flex items-center gap-2",children:[i.jsx(Ja,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{children:"Check your email for confirmation!"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Support"}),i.jsx("ul",{className:"space-y-2",children:v.map(j=>i.jsx("li",{children:i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm flex items-center gap-2 group",children:[i.jsx(zn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),j]})},j))})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Why Choose Us"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[i.jsx(El,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"Verified Properties"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[i.jsx(Du,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{children:"Trusted Agents"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[i.jsx(yu,{className:"w-4 h-4 text-yellow-400"}),i.jsx("span",{children:"Award Winning Service"})]})]})]})]})]})}),i.jsx("div",{className:"border-t border-gray-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsx("div",{className:"text-gray-400 text-sm",children:" 2025 Property Premiumb. All rights reserved. Made with  for property seekers."}),i.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Unsubscribe"})]})]})})})]})},H8=()=>{const[s,e]=T.useState([]),[t,r]=T.useState(!0),[o,c]=T.useState(null);T.useEffect(()=>{(async()=>{try{r(!0),c(null);const m=await jl.getActiveSubscribers();console.log("Fetched subscribers:",m),e(m||[])}catch(m){console.error("Detailed error:",m),c(`Failed to load subscribers: ${m.message}`);try{console.log("Attempting fallback query..."),e([])}catch(g){console.error("Fallback also failed:",g)}}finally{r(!1)}})()},[]);const d=async()=>{try{const p=await jl.exportSubscribers(),m=new Blob([p],{type:"text/csv"}),g=window.URL.createObjectURL(m),b=document.createElement("a");b.href=g,b.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(g)}catch(p){console.error("Export error:",p),alert("Export failed. Please try again.")}};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Bn,{className:"w-6 h-6 text-blue-600"}),"Newsletter Subscribers"]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",t?"...":s.length," subscribers"]})]}),i.jsxs("button",{onClick:d,disabled:t||s.length===0,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(F_,{className:"w-4 h-4"}),"Export CSV"]})]}),t&&i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(Home,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),o&&i.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-lg border border-red-200",children:[i.jsxs("div",{className:"text-red-600 mb-4",children:[i.jsx(Bn,{className:"w-12 h-12 mx-auto mb-2 text-red-400"}),i.jsx("p",{className:"font-semibold",children:"Unable to load subscribers"}),i.jsx("p",{className:"text-sm mt-2 text-red-500",children:o})]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}),!t&&!o&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"ID"}),i.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Email Address"}),i.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Subscription Date"}),i.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 border-b",children:"Source"})]})}),i.jsx("tbody",{children:s.map((p,m)=>i.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${m%2===0?"bg-white":"bg-gray-25"}`,children:[i.jsxs("td",{className:"p-4 border-b text-gray-900 font-medium",children:["#",m+1]}),i.jsx("td",{className:"p-4 border-b text-gray-900",children:p.email}),i.jsxs("td",{className:"p-4 border-b text-gray-700 flex items-center gap-2",children:[i.jsx(ri,{className:"w-4 h-4 text-gray-500"}),p.subscribeDate?.toDate?p.subscribeDate.toDate().toLocaleDateString():"N/A"]}),i.jsx("td",{className:"p-4 border-b",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.source==="footer"?"bg-blue-100 text-blue-800":p.source==="popup"?"bg-purple-100 text-purple-800":p.source==="website"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.source||"unknown"})})]},p.id))})]})}),!t&&!o&&s.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Bn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No subscribers found"})]})]})},G8=()=>{const s=Wn(),[e,t]=T.useState([]),[r,o]=T.useState(!0),[c,d]=T.useState(""),[p,m]=T.useState(""),[g,b]=T.useState(""),[w,v]=T.useState(""),[j,A]=T.useState(1),[F,L]=T.useState(null),[q,V]=T.useState(!0),P=12,B=["Lagos","Abuja","Rivers","Ogun","Kano","Kaduna","Oyo","Delta","Edo","Anambra"],Y=["real-estate-agent","real-estate-organization","estate-surverying-firm","developer","property-manager","broker"],ae=C=>C.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),O=C=>{const E=[...C];for(let re=E.length-1;re>0;re--){const ce=Math.floor(Math.random()*(re+1));[E[re],E[ce]]=[E[ce],E[re]]}return E},S=async(C=!1)=>{try{o(!0),d("");const E=mt(),re=ft(E,"users"),ce=await lt(re),W=[];for(const $ of ce.docs){const D=$.id,Z=$.data();try{const xe=ft(E,"users",D,"profiles"),ye=await lt(xe);for(const De of ye.docs){const Te=De.data();Te.isRealEstateProfessional===!0&&W.push({id:D,...Z,...Te,profileId:De.id,searchableText:`${Te.firstName||""} ${Te.lastName||""} ${Te.companyName||""} ${Te.city||""}`.toLowerCase()})}}catch(xe){console.error(`Error fetching profiles for user ${D}:`,xe)}}let ve=O(W);if(p.trim()){const $=p.toLowerCase();ve=ve.filter(D=>D.searchableText.includes($))}g&&(ve=ve.filter($=>$.state===g)),w&&(ve=ve.filter($=>$.category===w));const G=C?0:e.length,k=G+P,Q=ve.slice(G,k);t(C?Q:$=>[...$,...Q]),V(k<ve.length)}catch(E){console.error("Error fetching agents:",E),d("Failed to load agents. Please try again.")}finally{o(!1)}};T.useEffect(()=>{S(!0)},[]),T.useEffect(()=>{A(1),L(null),V(!0),S(!0)},[p,g,w]);const R=()=>{!r&&q&&S(!1)},U=({agent:C})=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[i.jsxs("div",{className:"relative",children:[C.profileImage?i.jsx("img",{src:C.profileImage,alt:`${C.firstName} ${C.lastName}`,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx(gr,{className:"w-8 h-8 text-gray-400"})}),i.jsx("div",{className:`absolute -top-1 -right-1 rounded-full p-1 ${C.validation?"bg-green-500":"bg-yellow-500"}`,children:i.jsx(Ja,{className:"w-4 h-4 text-white"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{onClick:()=>s(`/profile/${C.id}`),className:"text-lg font-semibold text-gray-900 cursor-pointer hover:text-blue-600",children:[C.firstName," ",C.lastName]}),C.companyName&&i.jsx("p",{className:"text-sm text-blue-600 font-medium",children:C.companyName}),i.jsx("p",{className:"text-sm text-gray-500 capitalize",children:ae(C.category||"real-estate-agent")})]})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[i.jsx(Bs,{className:"w-4 h-4 mr-2"}),i.jsxs("span",{className:"text-sm",children:[C.city,", ",C.state]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[C.primaryPhone&&i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm",children:C.primaryPhone})]}),C.email&&i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Bn,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm",children:C.email})]}),C.website&&i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(vf,{className:"w-4 h-4 mr-2"}),i.jsxs("a",{href:C.website.startsWith("http")?C.website:`https://${C.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:["Visit Website ",i.jsx(z_,{className:"w-3 h-3 inline ml-1"})]})]})]}),C.aboutUs&&i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:C.aboutUs.length>120?`${C.aboutUs.substring(0,120)}...`:C.aboutUs})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Contact Agent"}),i.jsx("button",{onClick:()=>s(`/profile/${C.id}`),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Profile"})]})]}),z=()=>i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-8",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(bf,{className:"w-5 h-5 text-gray-500 mr-2"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Agents"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search agents...",value:p,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:g,onChange:C=>b(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"All States"}),B.map(C=>i.jsx("option",{value:C,children:C},C))]}),i.jsxs("select",{value:w,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"All Categories"}),Y.map(C=>i.jsx("option",{value:C,children:ae(C)},C))]})]}),(p||g||w)&&i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:()=>{m(""),b(""),v("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})})]});return i.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Real Estate Professionals"}),i.jsx("p",{className:"text-gray-600",children:"Connect with verified real estate agents, brokers, and professionals"})]}),i.jsx(z,{}),c&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[i.jsx("p",{className:"text-red-700",children:c}),i.jsx("button",{onClick:()=>S(!0),className:"mt-2 text-red-600 hover:text-red-700 font-medium text-sm",children:"Try Again"})]}),!r&&i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"text-gray-600",children:e.length===0?"No agents found":e.length===1?"1 agent found":`${e.length} agents found`})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(C=>i.jsx(U,{agent:C},C.id))}),r&&e.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center max-h-lg",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),!r&&q&&e.length>0&&i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-8 py-3 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Load More Agents"})}),!r&&!q&&e.length>0&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"You've reached the end of the list"})}),!r&&e.length===0&&!c&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(O_,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No agents found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:p||g||w?"Try adjusting your filters to see more results.":"No verified real estate professionals available at the moment."}),(p||g||w)&&i.jsx("button",{onClick:()=>{m(""),b(""),v("")},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]})]})},Q8=()=>{const[s,e]=IA(),[t,r]=T.useState([]),[o,c]=T.useState([]),[d,p]=T.useState([]),[m,g]=T.useState(!0),[b,w]=T.useState(""),[v,j]=T.useState(null),[A,F]=T.useState(1),[L]=T.useState(12),[q,V]=T.useState([]),[P,B]=T.useState(!1),[Y,ae]=T.useState(!1),O=Wn(),S=s.get("q")||"",[R,U]=T.useState({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:S,country:"",state:"",city:"",advertisingFor:""}),[z,C]=T.useState("newest"),[E,re]=T.useState(!1),ce=async be=>{try{const J=mt(),fe=ot(J,"users",be,"profiles","userProfile"),Ce=await is(fe);if(Ce.exists()){const Ze=Ce.data();r(Ze.wishlist||[])}else{const Ze=ot(J,"users",be),st=await is(Ze);if(st.exists()){const Re=st.data();r(Re.wishlist||[])}}}catch(J){console.error("Error fetching wishlist:",J)}},W=be=>{const J=[...be];for(let fe=J.length-1;fe>0;fe--){const Ce=Math.floor(Math.random()*(fe+1));[J[fe],J[Ce]]=[J[Ce],J[fe]]}return J},ve=((be,J)=>{const[fe,Ce]=T.useState(be);return T.useEffect(()=>{const Ze=setTimeout(()=>{Ce(be)},J);return()=>{clearTimeout(Ze)}},[be,J]),fe})(R.searchQuery,300),G=A*L,k=G-L,Q=d.slice(k,G),$=Math.ceil(d.length/L),D=async be=>{try{const J=mt(),fe=new Set,Ce=Ut(oo(J,"properties"),ms("status","==","active"),t0(50));return(await lt(Ce)).forEach(st=>{const Re=st.data(),Be=be.toLowerCase();Re.title&&Re.title.toLowerCase().includes(Be)&&fe.add(Re.title),Re.city&&Re.city.toLowerCase().includes(Be)&&fe.add(Re.city),Re.state&&Re.state.toLowerCase().includes(Be)&&fe.add(Re.state),Re.address&&Re.address.toLowerCase().includes(Be)&&fe.add(Re.address),Re.propertyType&&Re.propertyType.toLowerCase().includes(Be)&&fe.add(Re.propertyType)}),Array.from(fe).slice(0,8)}catch(J){return console.error("Error fetching search suggestions:",J),[]}};T.useEffect(()=>{(async()=>{if(ve.trim()&&ve.length>=2){ae(!0);try{const J=await D(ve);V(J),B(J.length>0)}catch(J){console.error("Error fetching filter suggestions:",J),V([]),B(!1)}finally{ae(!1)}}else V([]),B(!1)})()},[ve]),T.useEffect(()=>{F(1)},[R,z]),T.useEffect(()=>kn(J=>{j(J),J?ce(J.uid):r([])}),[]);const Z=async()=>{try{g(!0);const be=mt();try{const J=oo(be,"properties"),fe=await lt(J),Ce=[];fe.forEach(st=>{const Re=st.data();Re.status==="active"&&Ce.push({id:st.id,docPath:st.ref.path,...Re,createdAt:Re.createdAt?.toDate?Re.createdAt.toDate():new Date(Re.createdAt)})}),Ce.sort((st,Re)=>new Date(Re.createdAt)-new Date(st.createdAt));const Ze=W(Ce);c(Ze),p(Ze),w("")}catch(J){console.error("Collection group query failed:",J),await xe()}}catch(be){console.error("Error fetching properties:",be),w("Failed to load properties. Please try again in a few minutes.")}finally{g(!1)}},xe=async()=>{const be=mt();try{const J=Ut(ft(be,"properties"),ms("status","==","active")),fe=await lt(J),Ce=[];fe.forEach(st=>{const Re=st.data();Ce.push({id:st.id,...Re,createdAt:Re.createdAt?.toDate?Re.createdAt.toDate():new Date(Re.createdAt)})}),Ce.sort((st,Re)=>new Date(Re.createdAt)-new Date(st.createdAt));const Ze=W(Ce);c(Ze),p(Ze)}catch(J){throw J}};T.useEffect(()=>{Z()},[]);const ye=be=>`${be.currency==="Nigeria Naira"?"":"$"}${be.price?.toLocaleString()||"0"}`;T.useEffect(()=>{let be=o.filter(J=>{const fe=!R.searchQuery||J.title?.toLowerCase().includes(R.searchQuery.toLowerCase())||J.location?.toLowerCase().includes(R.searchQuery.toLowerCase())||J.description?.toLowerCase().includes(R.searchQuery.toLowerCase())||J.address?.toLowerCase().includes(R.searchQuery.toLowerCase())||J.city?.toLowerCase().includes(R.searchQuery.toLowerCase())||J.state?.toLowerCase().includes(R.searchQuery.toLowerCase()),Ce=(!R.priceMin||J.price>=parseInt(R.priceMin))&&(!R.priceMax||J.price<=parseInt(R.priceMax)),Ze=!R.location||J.city?.toLowerCase().includes(R.location.toLowerCase())||J.state?.toLowerCase().includes(R.location.toLowerCase())||J.country?.toLowerCase().includes(R.location.toLowerCase())||J.address?.toLowerCase().includes(R.location.toLowerCase()),st=!R.propertyType||J.propertyType===R.propertyType,Re=!R.bedrooms||J.bedroom>=parseInt(R.bedrooms),Be=!R.bathrooms||J.bathroom>=parseInt(R.bathrooms),le=!R.country||J.country===R.country,Ee=!R.state||J.state===R.state,_e=!R.city||J.city===R.city,ke=!R.advertisingFor||J.advertisingFor===R.advertisingFor;return fe&&Ce&&Ze&&st&&Re&&Be&&le&&Ee&&_e&&ke});if(z==="shuffle"||E)be=W(be),re(!0);else switch(re(!1),z){case"newest":be.sort((J,fe)=>{const Ce=J.createdAt?.toDate?J.createdAt.toDate():new Date(J.createdAt);return(fe.createdAt?.toDate?fe.createdAt.toDate():new Date(fe.createdAt))-Ce});break;case"price-low":be.sort((J,fe)=>(J.price||0)-(fe.price||0));break;case"price-high":be.sort((J,fe)=>(fe.price||0)-(J.price||0));break;case"bedrooms":be.sort((J,fe)=>(fe.bedroom||0)-(J.bedroom||0));break}p(be)},[R,z,o]);const De=(be,J)=>{U(fe=>({...fe,[be]:J}))},Te=()=>{U({priceMin:"",priceMax:"",location:"",propertyType:"",bedrooms:"",bathrooms:"",searchQuery:"",country:"",state:"",city:"",advertisingFor:""}),e({})},pt=async be=>{if(!v){alert("Please log in to add properties to wishlist");return}try{const J=mt(),fe=ot(J,"users",v.uid);t.includes(be)?(await ks(fe,{wishlist:lo(be)}),r(Ze=>Ze.filter(st=>st!==be))):(await ks(fe,{wishlist:$u(be)}),r(Ze=>[...Ze,be]))}catch(J){console.error("Error updating wishlist:",J),alert("Failed to update wishlist. Please try again.")}},ys=({property:be})=>(console.log("Property in card:",be.id),i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:be.images?.[0]||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=300&fit=crop",alt:be.title,className:"w-full h-48 object-cover"}),i.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:be.propertyType}),i.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-medium",children:["For ",be.advertisingFor]})]}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("button",{onClick:()=>pt(be.id),className:`p-2 rounded-full transition-colors ${t.includes(be.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:i.jsx(jr,{className:"w-4 h-4",fill:t.includes(be.id)?"currentColor":"none"})})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("h3",{className:"text-gray-800 font-medium mb-2 line-clamp-2 flex-1",children:be.title}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xl font-semibold text-blue-600",children:ye(be)}),i.jsx("div",{className:"text-sm text-gray-500",children:be.advertisingFor==="Rent"&&be.paymentFrequency&&`/${be.paymentFrequency.toLowerCase()}`})]})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[i.jsx(Bs,{className:"w-4 h-4 mr-1 flex-shrink-0"}),i.jsx("span",{className:"text-sm truncate",children:be.showAddress?be.address:`${be.city}, ${be.state}`})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{className:"ml-1",children:[be.bedroom||0," Beds"]})]}),i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{className:"ml-1",children:[be.bathroom||0," Baths"]})]}),be.totalArea&&i.jsxs("div",{className:"flex items-center",children:["",i.jsxs("span",{className:"ml-1",children:[be.totalArea," ",be.totalAreaUnit]})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:be.description}),i.jsxs("button",{onClick:()=>{console.log("Navigating to property:",be.id),O(`/property/${be.id}`,{state:{property:be,returnTo:"/property-search"}})},className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Nr,{className:"w-4 h-4"}),"View Details"]})]})]}));return m?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Searching Properties..."})]}):b?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md",children:[i.jsx("p",{className:"text-red-700 mb-4",children:b}),i.jsx("button",{onClick:Z,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Search"}),S&&i.jsxs("p",{className:"text-gray-600 mt-1",children:["Search results for: ",i.jsxs("span",{className:"font-medium",children:['"',S,'"']})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("button",{onClick:Te,className:"text-blue-600 text-sm hover:text-blue-700 flex items-center gap-1",children:[i.jsx(ps,{className:"w-4 h-4"}),"Clear Filters"]})})]})}),i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(bf,{className:"w-5 h-5"}),"Filters"]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),i.jsxs("select",{value:z,onChange:be=>C(be.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[i.jsx("option",{value:"newest",children:"Newest"}),i.jsx("option",{value:"price-low",children:"Price "}),i.jsx("option",{value:"price-high",children:"Price "}),i.jsx("option",{value:"bedrooms",children:"Bedrooms"}),i.jsx("option",{value:"shuffle",children:"Shuffle"})]})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search properties...",value:R.searchQuery,onChange:be=>{const J=be.target.value;De("searchQuery",J),J.trim()||(B(!1),V([]))},onFocus:()=>{R.searchQuery.trim()&&q.length>0&&B(!0)},onBlur:()=>{setTimeout(()=>B(!1),200)},className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),Y&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin h-3 w-3 border border-gray-400 border-t-transparent rounded-full"})})]}),P&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50 max-h-60 overflow-y-auto",children:[i.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 font-medium border-b border-gray-100",children:"Suggestions"}),q.length>0?q.map((be,J)=>i.jsxs("button",{onClick:()=>{De("searchQuery",be),B(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center gap-2",children:[i.jsx(cn,{className:"w-3 h-3 text-gray-400"}),i.jsx("span",{children:be})]},J)):!Y&&R.searchQuery.length>=2&&i.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 flex items-center gap-2",children:[i.jsx(cn,{className:"w-3 h-3 text-gray-400"}),"No suggestions found"]})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",d.length," of ",o.length," properties"]})})]}),i.jsxs("div",{className:"p-4 lg:p-6",children:[d.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[i.jsx(cn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Properties Found"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters to find more properties."}),i.jsx("button",{onClick:Te,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:Q.map(be=>i.jsx(ys,{property:be},be.id))}),d.length>L&&i.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[i.jsxs("button",{onClick:()=>F(be=>Math.max(be-1,1)),disabled:A===1,className:`flex items-center px-3 py-2 rounded-md ${A===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[i.jsx(Xa,{className:"w-4 h-4 mr-1 rotate-90"}),"Previous"]}),Array.from({length:Math.min(5,$)},(be,J)=>{let fe;return $<=5||A<=3?fe=J+1:A>=$-2?fe=$-4+J:fe=A-2+J,i.jsx("button",{onClick:()=>F(fe),className:`px-3 py-2 rounded-md ${A===fe?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:fe},fe)}),i.jsxs("button",{onClick:()=>F(be=>Math.min(be+1,$)),disabled:A===$,className:`flex items-center px-3 py-2 rounded-md ${A===$?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:["Next",i.jsx(Xa,{className:"w-4 h-4 ml-1 -rotate-90"})]})]}),d.length>0&&i.jsx("div",{className:"text-center mt-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",k+1," to ",Math.min(G,d.length)," of ",d.length," results"]})})]}),v&&i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsx("button",{onClick:()=>O("/post_a_listing"),className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110",title:"Create New Listing",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})})]})})},Oy=()=>i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(gs,{className:"text-blue-600 h-10 w-10 z-10"}),i.jsx("div",{className:"absolute animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"})]}),i.jsx("span",{className:"mt-4 text-gray-600 text-lg font-medium",children:"Property Premium"})]}),Tg=({children:s,isAuthenticated:e,isLoading:t})=>t?i.jsx(Oy,{}):e?s:i.jsx(gf,{to:"/Property_Premium/login",replace:!0}),y_=({children:s,isAuthenticated:e,isLoading:t})=>t?i.jsx(Oy,{}):e?i.jsx(gf,{to:"/Property_Premium/dashboard",replace:!0}):s,Y8=()=>{const[s,e]=T.useState(null),[t,r]=T.useState(!1),[o,c]=T.useState(!0);return T.useEffect(()=>{const d=kn(p=>{e(p),r(!!p),c(!1),p?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL}))):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"))});return()=>d()},[]),o?i.jsx(Oy,{}):i.jsx(i.Fragment,{children:i.jsxs(TA,{children:[i.jsx(bO,{}),i.jsxs(A_,{children:[i.jsx(Pt,{path:"/Property_Premium",element:i.jsx(SO,{})}),i.jsx(Pt,{path:"/Property_Premium/property_for_sale",element:i.jsx(L8,{})}),i.jsx(Pt,{path:"/Property_Premium/newsletter_table",element:i.jsx(H8,{})}),i.jsx(Pt,{path:"/Property_Premium/Agents",element:i.jsx(G8,{})}),i.jsx(Pt,{path:"/Property_Premium/property/:id",element:i.jsx(F8,{})}),i.jsx(Pt,{path:"/Property_Premium/profile/:userId",element:i.jsx(U8,{})}),i.jsx(Pt,{path:"/Property_Premium/search",element:i.jsx(Q8,{})}),i.jsx(Pt,{path:"/Property_Premium/signup",element:i.jsx(y_,{isAuthenticated:t,isLoading:o,children:i.jsx(AO,{})})}),i.jsx(Pt,{path:"/Property_Premium/login",element:i.jsx(y_,{isAuthenticated:t,isLoading:o,children:i.jsx(RO,{})})}),i.jsx(Pt,{path:"/Property_Premium/dashboard/*",element:i.jsx(Tg,{isAuthenticated:t,isLoading:o,children:i.jsx(YO,{})})}),i.jsx(Pt,{path:"/Property_Premium/post_a_listing",element:i.jsx(Tg,{isAuthenticated:t,isLoading:o,children:i.jsx(O8,{})})}),i.jsx(Pt,{path:"/Property_Premium/wishlist",element:i.jsx(Tg,{isAuthenticated:t,isLoading:o,children:i.jsx(z8,{})})}),i.jsx(Pt,{path:"*",element:i.jsx(gf,{to:"/Property_Premium",replace:!0})})]}),i.jsx($8,{})]})})};dS.createRoot(document.getElementById("root")).render(i.jsx(T.StrictMode,{children:i.jsx(Y8,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();var ip={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function $N(){if(Gx)return oc;Gx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:s,type:i,key:d,ref:a!==void 0?a:null,props:c}}return oc.Fragment=e,oc.jsx=t,oc.jsxs=t,oc}var Yx;function GN(){return Yx||(Yx=1,ip.exports=$N()),ip.exports}var l=GN(),ap={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function YN(){if(Kx)return De;Kx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function E(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function V(I,ee,ue){this.props=I,this.context=ee,this.refs=F,this.updater=ue||R}V.prototype.isReactComponent={},V.prototype.setState=function(I,ee){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ee,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=V.prototype;function z(I,ee,ue){this.props=I,this.context=ee,this.refs=F,this.updater=ue||R}var q=z.prototype=new M;q.constructor=z,N(q,V.prototype),q.isPureReactComponent=!0;var W=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function O(I,ee,ue,le,xe,Me){return ue=Me.ref,{$$typeof:s,type:I,key:ee,ref:ue!==void 0?ue:null,props:Me}}function S(I,ee){return O(I.type,ee,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function U(I){var ee={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return ee[ue]})}var k=/\/+/g;function P(I,ee){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):ee.toString(36)}function j(){}function fe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(j,j):(I.status="pending",I.then(function(ee){I.status==="pending"&&(I.status="fulfilled",I.value=ee)},function(ee){I.status==="pending"&&(I.status="rejected",I.reason=ee)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ke(I,ee,ue,le,xe){var Me=typeof I;(Me==="undefined"||Me==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(Me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case s:case e:Re=!0;break;case x:return Re=I._init,ke(Re(I._payload),ee,ue,le,xe)}}if(Re)return xe=xe(I),Re=le===""?"."+P(I,0):le,W(xe)?(ue="",Re!=null&&(ue=Re.replace(k,"$&/")+"/"),ke(xe,ee,ue,"",function(Vn){return Vn})):xe!=null&&(C(xe)&&(xe=S(xe,ue+(xe.key==null||I&&I.key===xe.key?"":(""+xe.key).replace(k,"$&/")+"/")+Re)),ee.push(xe)),1;Re=0;var Nt=le===""?".":le+":";if(W(I))for(var Qe=0;Qe<I.length;Qe++)le=I[Qe],Me=Nt+P(le,Qe),Re+=ke(le,ee,ue,Me,xe);else if(Qe=E(I),typeof Qe=="function")for(I=Qe.call(I),Qe=0;!(le=I.next()).done;)le=le.value,Me=Nt+P(le,Qe++),Re+=ke(le,ee,ue,Me,xe);else if(Me==="object"){if(typeof I.then=="function")return ke(fe(I),ee,ue,le,xe);throw ee=String(I),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(I,ee,ue){if(I==null)return I;var le=[],xe=0;return ke(I,le,"","",function(Me){return ee.call(ue,Me,xe++)}),le}function he(I){if(I._status===-1){var ee=I._result;ee=ee(),ee.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=ee)}if(I._status===1)return I._result.default;throw I._result}var ve=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function te(){}return De.Children={map:J,forEach:function(I,ee,ue){J(I,function(){ee.apply(this,arguments)},ue)},count:function(I){var ee=0;return J(I,function(){ee++}),ee},toArray:function(I){return J(I,function(ee){return ee})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},De.Component=V,De.Fragment=t,De.Profiler=a,De.PureComponent=z,De.StrictMode=i,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return X.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cloneElement=function(I,ee,ue){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var le=N({},I.props),xe=I.key,Me=void 0;if(ee!=null)for(Re in ee.ref!==void 0&&(Me=void 0),ee.key!==void 0&&(xe=""+ee.key),ee)!oe.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(le[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)le.children=ue;else if(1<Re){for(var Nt=Array(Re),Qe=0;Qe<Re;Qe++)Nt[Qe]=arguments[Qe+2];le.children=Nt}return O(I.type,xe,void 0,void 0,Me,le)},De.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},De.createElement=function(I,ee,ue){var le,xe={},Me=null;if(ee!=null)for(le in ee.key!==void 0&&(Me=""+ee.key),ee)oe.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=ee[le]);var Re=arguments.length-2;if(Re===1)xe.children=ue;else if(1<Re){for(var Nt=Array(Re),Qe=0;Qe<Re;Qe++)Nt[Qe]=arguments[Qe+2];xe.children=Nt}if(I&&I.defaultProps)for(le in Re=I.defaultProps,Re)xe[le]===void 0&&(xe[le]=Re[le]);return O(I,Me,void 0,void 0,null,xe)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:p,render:I}},De.isValidElement=C,De.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:he}},De.memo=function(I,ee){return{$$typeof:y,type:I,compare:ee===void 0?null:ee}},De.startTransition=function(I){var ee=X.T,ue={};X.T=ue;try{var le=I(),xe=X.S;xe!==null&&xe(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(te,ve)}catch(Me){ve(Me)}finally{X.T=ee}},De.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},De.use=function(I){return X.H.use(I)},De.useActionState=function(I,ee,ue){return X.H.useActionState(I,ee,ue)},De.useCallback=function(I,ee){return X.H.useCallback(I,ee)},De.useContext=function(I){return X.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,ee){return X.H.useDeferredValue(I,ee)},De.useEffect=function(I,ee,ue){var le=X.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(I,ee)},De.useId=function(){return X.H.useId()},De.useImperativeHandle=function(I,ee,ue){return X.H.useImperativeHandle(I,ee,ue)},De.useInsertionEffect=function(I,ee){return X.H.useInsertionEffect(I,ee)},De.useLayoutEffect=function(I,ee){return X.H.useLayoutEffect(I,ee)},De.useMemo=function(I,ee){return X.H.useMemo(I,ee)},De.useOptimistic=function(I,ee){return X.H.useOptimistic(I,ee)},De.useReducer=function(I,ee,ue){return X.H.useReducer(I,ee,ue)},De.useRef=function(I){return X.H.useRef(I)},De.useState=function(I){return X.H.useState(I)},De.useSyncExternalStore=function(I,ee,ue){return X.H.useSyncExternalStore(I,ee,ue)},De.useTransition=function(){return X.H.useTransition()},De.version="19.1.0",De}var Qx;function fg(){return Qx||(Qx=1,ap.exports=YN()),ap.exports}var L=fg(),op={exports:{}},lc={},lp={exports:{}},cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function KN(){return Xx||(Xx=1,function(s){function e(J,he){var ve=J.length;J.push(he);e:for(;0<ve;){var te=ve-1>>>1,I=J[te];if(0<a(I,he))J[te]=he,J[ve]=I,ve=te;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var he=J[0],ve=J.pop();if(ve!==he){J[0]=ve;e:for(var te=0,I=J.length,ee=I>>>1;te<ee;){var ue=2*(te+1)-1,le=J[ue],xe=ue+1,Me=J[xe];if(0>a(le,ve))xe<I&&0>a(Me,le)?(J[te]=Me,J[xe]=ve,te=xe):(J[te]=le,J[ue]=ve,te=ue);else if(xe<I&&0>a(Me,ve))J[te]=Me,J[xe]=ve,te=xe;else break e}}return he}function a(J,he){var ve=J.sortIndex-he.sortIndex;return ve!==0?ve:J.id-he.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],y=[],x=1,w=null,E=3,R=!1,N=!1,F=!1,V=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(J){for(var he=t(y);he!==null;){if(he.callback===null)i(y);else if(he.startTime<=J)i(y),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(y)}}function X(J){if(F=!1,W(J),!N)if(t(m)!==null)N=!0,oe||(oe=!0,P());else{var he=t(y);he!==null&&ke(X,he.startTime-J)}}var oe=!1,O=-1,S=5,C=-1;function U(){return V?!0:!(s.unstable_now()-C<S)}function k(){if(V=!1,oe){var J=s.unstable_now();C=J;var he=!0;try{e:{N=!1,F&&(F=!1,z(O),O=-1),R=!0;var ve=E;try{t:{for(W(J),w=t(m);w!==null&&!(w.expirationTime>J&&U());){var te=w.callback;if(typeof te=="function"){w.callback=null,E=w.priorityLevel;var I=te(w.expirationTime<=J);if(J=s.unstable_now(),typeof I=="function"){w.callback=I,W(J),he=!0;break t}w===t(m)&&i(m),W(J)}else i(m);w=t(m)}if(w!==null)he=!0;else{var ee=t(y);ee!==null&&ke(X,ee.startTime-J),he=!1}}break e}finally{w=null,E=ve,R=!1}he=void 0}}finally{he?P():oe=!1}}}var P;if(typeof q=="function")P=function(){q(k)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,fe=j.port2;j.port1.onmessage=k,P=function(){fe.postMessage(null)}}else P=function(){M(k,0)};function ke(J,he){O=M(function(){J(s.unstable_now())},he)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(J){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ve=E;E=he;try{return J()}finally{E=ve}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(J,he){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ve=E;E=J;try{return he()}finally{E=ve}},s.unstable_scheduleCallback=function(J,he,ve){var te=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?te+ve:te):ve=te,J){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ve+I,J={id:x++,callback:he,priorityLevel:J,startTime:ve,expirationTime:I,sortIndex:-1},ve>te?(J.sortIndex=ve,e(y,J),t(m)===null&&J===t(y)&&(F?(z(O),O=-1):F=!0,ke(X,ve-te))):(J.sortIndex=I,e(m,J),N||R||(N=!0,oe||(oe=!0,P()))),J},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(J){var he=E;return function(){var ve=E;E=he;try{return J.apply(this,arguments)}finally{E=ve}}}}(cp)),cp}var Wx;function QN(){return Wx||(Wx=1,lp.exports=KN()),lp.exports}var up={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function XN(){if(Zx)return rn;Zx=1;var s=fg();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(m,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:y,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,x)},rn.flushSync=function(m){var y=d.T,x=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=y,i.p=x,i.d.f()}},rn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(m,y))},rn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},rn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,w=p(x,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:R}):x==="script"&&i.d.X(m,{crossOrigin:w,integrity:E,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(m)},rn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=p(x,y.crossOrigin);i.d.L(m,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=p(y.as,y.crossOrigin);i.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(m)},rn.requestFormReset=function(m){i.d.r(m)},rn.unstable_batchedUpdates=function(m,y){return m(y)},rn.useFormState=function(m,y,x){return d.H.useFormState(m,y,x)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Jx;function WN(){if(Jx)return up.exports;Jx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),up.exports=XN(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function ZN(){if(eb)return lc;eb=1;var s=QN(),e=fg(),t=WN();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(i(188))}function m(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return p(f),n;if(g===u)return p(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var _=!1,T=f.child;T;){if(T===o){_=!0,o=f,u=g;break}if(T===u){_=!0,u=f,o=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===o){_=!0,o=g,u=f;break}if(T===u){_=!0,u=g,o=f;break}T=T.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var j=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===j?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case V:return"Profiler";case F:return"StrictMode";case X:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case q:return(n.displayName||"Context")+".Provider";case z:return(n._context.displayName||"Context")+".Consumer";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:fe(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return fe(n(r))}catch{}}return null}var ke=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},te=[],I=-1;function ee(n){return{current:n}}function ue(n){0>I||(n.current=te[I],te[I]=null,I--)}function le(n,r){I++,te[I]=n.current,n.current=r}var xe=ee(null),Me=ee(null),Re=ee(null),Nt=ee(null);function Qe(n,r){switch(le(Re,r),le(Me,n),le(xe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?bx(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=bx(r),n=_x(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(xe),le(xe,n)}function Vn(){ue(xe),ue(Me),ue(Re)}function ce(n){n.memoizedState!==null&&le(Nt,n);var r=xe.current,o=_x(r,n.type);r!==o&&(le(Me,n),le(xe,o))}function we(n){Me.current===n&&(ue(xe),ue(Me)),Nt.current===n&&(ue(Nt),nc._currentValue=ve)}var Ee=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,at=s.unstable_cancelCallback,tn=s.unstable_shouldYield,vn=s.unstable_requestPaint,Vt=s.unstable_now,bt=s.unstable_getCurrentPriorityLevel,un=s.unstable_ImmediatePriority,zn=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,Cr=s.unstable_LowPriority,kr=s.unstable_IdlePriority,tl=s.log,ru=s.unstable_setDisableYieldValue,yt=null,Ze=null;function Sn(n){if(typeof tl=="function"&&ru(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(yt,n)}catch{}}var nn=Math.clz32?Math.clz32:Ii,iu=Math.log,of=Math.LN2;function Ii(n){return n>>>=0,n===0?32:31-(iu(n)/of|0)|0}var Ci=256,ki=4194304;function ss(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ja(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~g,u!==0?f=ss(u):(_&=T,_!==0?f=ss(_):o||(o=T&~n,o!==0&&(f=ss(o))))):(T=u&~g,T!==0?f=ss(T):_!==0?f=ss(_):o||(o=u&~n,o!==0&&(f=ss(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Pi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function nl(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var n=Ci;return Ci<<=1,(Ci&4194048)===0&&(Ci=256),n}function rl(){var n=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),n}function $s(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Gs(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function il(n,r,o,u,f,g){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,D=n.expirationTimes,Y=n.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-nn(o),re=1<<ne;T[ne]=0,D[ne]=-1;var K=Y[ne];if(K!==null)for(Y[ne]=null,ne=0;ne<K.length;ne++){var Q=K[ne];Q!==null&&(Q.lane&=-536870913)}o&=~re}u!==0&&xs(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(_&~r))}function xs(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-nn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function al(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-nn(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function Pr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dr(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:zx(n.type))}function au(n,r){var o=he.p;try{return he.p=n,r()}finally{he.p=o}}var dt=Math.random().toString(36).slice(2),kt="__reactFiber$"+dt,At="__reactProps$"+dt,Bn="__reactContainer$"+dt,ol="__reactEvents$"+dt,lf="__reactListeners$"+dt,Mr="__reactHandles$"+dt,ou="__reactResources$"+dt,Di="__reactMarker$"+dt;function Or(n){delete n[kt],delete n[At],delete n[ol],delete n[lf],delete n[Mr]}function Ys(n){var r=n[kt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Bn]||o[kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Nx(n);n!==null;){if(o=n[kt])return o;n=Nx(n)}return r}n=o,o=n.parentNode}return null}function bs(n){if(n=n[kt]||n[Bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function _s(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function dn(n){var r=n[ou];return r||(r=n[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(n){n[Di]=!0}var ll=new Set,Ca={};function rs(n,r){Ks(n,r),Ks(n+"Capture",r)}function Ks(n,r){for(Ca[n]=r,n=0;n<r.length;n++)ll.add(r[n])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},Mi={};function uu(n){return Ee.call(Mi,n)?!0:Ee.call(cu,n)?!1:lu.test(n)?Mi[n]=!0:(cu[n]=!0,!1)}function Lr(n,r,o){if(uu(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function ws(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Gt(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var Oi,du;function Qs(n){if(Oi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Oi=r&&r[1]||"",du=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+n+du}var ka=!1;function Pa(n,r){if(!n||ka)return"";ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var K=Q}Reflect.construct(n,[],re)}else{try{re.call()}catch(Q){K=Q}n.call(re.prototype)}}else{try{throw Error()}catch(Q){K=Q}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],T=g[1];if(_&&T){var D=_.split(`
`),Y=T.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===Y.length)for(u=D.length-1,f=Y.length-1;1<=u&&0<=f&&D[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==Y[f]){var ne=`
`+D[u].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=u&&0<=f);break}}}finally{ka=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Qs(o):""}function cl(n){switch(n.tag){case 26:case 27:case 5:return Qs(n.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 15:return Pa(n.type,!1);case 11:return Pa(n.type.render,!1);case 1:return Pa(n.type,!0);case 31:return Qs("Activity");default:return""}}function Da(n){try{var r="";do r+=cl(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function hn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ul(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cf(n){var r=ul(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,g.call(this,_)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ma(n){n._valueTracker||(n._valueTracker=cf(n))}function dl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=ul(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Li(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var uf=/[\n"\\]/g;function St(n){return n.replace(uf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rn(n,r,o,u,f,g,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+hn(r)):n.value!==""+hn(r)&&(n.value=""+hn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Ur(n,_,hn(r)):o!=null?Ur(n,_,hn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+hn(T):n.removeAttribute("name")}function Ui(n,r,o,u,f,g,_,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ur(n,r,o){r==="number"&&Li(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Xs(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function tt(n,r,o){if(r!=null&&(r=""+hn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+hn(o):""}function Vi(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(ke(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function qn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||zi.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function hl(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&hu(n,f,u)}else for(var g in r)r.hasOwnProperty(g)&&hu(n,g,r[g])}function fl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(n){return hf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ws=null;function Fn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zs=null,Js=null;function ml(n){var r=bs(n);if(r&&(n=r.stateNode)){var o=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(Rn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+St(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[At]||null;if(!f)throw Error(i(90));Rn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&dl(u)}break e;case"textarea":tt(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Xs(n,!!o.multiple,r,!1)}}}var Es=!1;function fu(n,r,o){if(Es)return n(r,o);Es=!0;try{var u=n(r);return u}finally{if(Es=!1,(Zs!==null||Js!==null)&&(ad(),Zs&&(r=Zs,n=Js,Js=Zs=null,ml(r),n)))for(r=0;r<n.length;r++)ml(n[r])}}function Bi(n,r){var o=n.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(is)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Hn=!1}var Ts=null,Vr=null,er=null;function pl(){if(er)return er;var n,r=Vr,o=r.length,u,f="value"in Ts?Ts.value:Ts.textContent,g=f.length;for(n=0;n<o&&r[n]===f[n];n++);var _=o-n;for(u=1;u<=_&&r[o-u]===f[g-u];u++);return er=f.slice(n,1<u?1-u:void 0)}function Ns(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function As(){return!0}function gl(){return!1}function zt(n){function r(o,u,f,g,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:gl,this.isPropagationStopped=gl,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=zt(Xe),Fi=x({},Xe,{view:0,detail:0}),mu=zt(Fi),Ua,Va,Ss,Hi=x({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ss&&(Ss&&n.type==="mousemove"?(Ua=n.screenX-Ss.screenX,Va=n.screenY-Ss.screenY):Va=Ua=0,Ss=n),Ua)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),$n=zt(Hi),pu=x({},Hi,{dataTransfer:0}),ff=zt(pu),$i=x({},Fi,{relatedTarget:0}),za=zt($i),yl=x({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=zt(yl),gu=x({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=zt(gu),mf=x({},Xe,{data:0}),vl=zt(mf),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=vu[n])?!!r[n]:!1}function Yi(){return xl}var xu=x({},Fi,{key:function(n){if(n.key){var r=Gi[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ns(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(n){return n.type==="keypress"?Ns(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ns(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fa=zt(xu),bu=x({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=zt(bu),tr=x({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),_u=zt(tr),wu=x({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=zt(wu),Tu=x({},Hi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=zt(Tu),fn=x({},Xe,{newState:0,oldState:0}),Nu=zt(fn),Au=[9,13,27,32],Rs=is&&"CompositionEvent"in window,h=null;is&&"documentMode"in document&&(h=document.documentMode);var v=is&&"TextEvent"in window&&!h,b=is&&(!Rs||h&&8<h&&11>=h),A=" ",$=!1;function Z(n,r){switch(n){case"keyup":return Au.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fe=!1;function Pt(n,r){switch(n){case"compositionend":return de(r);case"keypress":return r.which!==32?null:($=!0,A);case"textInput":return n=r.data,n===A&&$?null:n;default:return null}}function He(n,r){if(Fe)return n==="compositionend"||!Rs&&Z(n,r)?(n=pl(),er=Vr=Ts=null,Fe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Bt[n.type]:r==="textarea"}function nr(n,r,o,u){Zs?Js?Js.push(u):Js=[u]:Zs=u,r=hd(r,"onChange"),0<r.length&&(o=new La("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Yt=null,js=null;function _l(n){px(n,0)}function Su(n){var r=_s(n);if(dl(r))return n}function O0(n,r){if(n==="change")return r}var L0=!1;if(is){var pf;if(is){var gf="oninput"in document;if(!gf){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),gf=typeof U0.oninput=="function"}pf=gf}else pf=!1;L0=pf&&(!document.documentMode||9<document.documentMode)}function V0(){Yt&&(Yt.detachEvent("onpropertychange",z0),js=Yt=null)}function z0(n){if(n.propertyName==="value"&&Su(js)){var r=[];nr(r,js,n,Fn(n)),fu(_l,r)}}function _T(n,r,o){n==="focusin"?(V0(),Yt=r,js=o,Yt.attachEvent("onpropertychange",z0)):n==="focusout"&&V0()}function wT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Su(js)}function ET(n,r){if(n==="click")return Su(r)}function TT(n,r){if(n==="input"||n==="change")return Su(r)}function NT(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var jn=typeof Object.is=="function"?Object.is:NT;function wl(n,r){if(jn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ee.call(r,f)||!jn(n[f],r[f]))return!1}return!0}function B0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function q0(n,r){var o=B0(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=B0(o)}}function F0(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?F0(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function H0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Li(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Li(n.document)}return r}function yf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var AT=is&&"documentMode"in document&&11>=document.documentMode,$a=null,vf=null,El=null,xf=!1;function $0(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xf||$a==null||$a!==Li(u)||(u=$a,"selectionStart"in u&&yf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&wl(El,u)||(El=u,u=hd(vf,"onSelect"),0<u.length&&(r=new La("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=$a)))}function Ki(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ga={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},bf={},G0={};is&&(G0=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Qi(n){if(bf[n])return bf[n];if(!Ga[n])return n;var r=Ga[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in G0)return bf[n]=r[o];return n}var Y0=Qi("animationend"),K0=Qi("animationiteration"),Q0=Qi("animationstart"),ST=Qi("transitionrun"),RT=Qi("transitionstart"),jT=Qi("transitioncancel"),X0=Qi("transitionend"),W0=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function as(n,r){W0.set(n,r),rs(r,[n])}var Z0=new WeakMap;function Gn(n,r){if(typeof n=="object"&&n!==null){var o=Z0.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Da(r)},Z0.set(n,r),r)}return{value:n,source:r,stack:Da(r)}}var Yn=[],Ya=0,wf=0;function Ru(){for(var n=Ya,r=wf=Ya=0;r<n;){var o=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var f=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}g!==0&&J0(o,f,g)}}function ju(n,r,o,u){Yn[Ya++]=n,Yn[Ya++]=r,Yn[Ya++]=o,Yn[Ya++]=u,wf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ef(n,r,o,u){return ju(n,r,o,u),Iu(n)}function Ka(n,r){return ju(n,null,null,r),Iu(n)}function J0(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&r!==null&&(f=31-nn(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Iu(n){if(50<Kl)throw Kl=0,jm=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qa={};function IT(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,o,u){return new IT(n,r,o,u)}function Tf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,r){var o=n.alternate;return o===null?(o=In(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function ey(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Cu(n,r,o,u,f,g){var _=0;if(u=n,typeof n=="function")Tf(n)&&(_=1);else if(typeof n=="string")_=kN(n,o,xe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=In(31,o,r,f),n.elementType=C,n.lanes=g,n;case N:return Xi(o.children,f,g,r);case F:_=8,f|=24;break;case V:return n=In(12,o,r,f|2),n.elementType=V,n.lanes=g,n;case X:return n=In(13,o,r,f),n.elementType=X,n.lanes=g,n;case oe:return n=In(19,o,r,f),n.elementType=oe,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case q:_=10;break e;case z:_=9;break e;case W:_=11;break e;case O:_=14;break e;case S:_=16,u=null;break e}_=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=In(_,o,r,f),r.elementType=n,r.type=u,r.lanes=g,r}function Xi(n,r,o,u){return n=In(7,n,u,r),n.lanes=o,n}function Nf(n,r,o){return n=In(6,n,null,r),n.lanes=o,n}function Af(n,r,o){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xa=[],Wa=0,ku=null,Pu=0,Kn=[],Qn=0,Wi=null,rr=1,ir="";function Zi(n,r){Xa[Wa++]=Pu,Xa[Wa++]=ku,ku=n,Pu=r}function ty(n,r,o){Kn[Qn++]=rr,Kn[Qn++]=ir,Kn[Qn++]=Wi,Wi=n;var u=rr;n=ir;var f=32-nn(u)-1;u&=~(1<<f),o+=1;var g=32-nn(r)+f;if(30<g){var _=f-f%5;g=(u&(1<<_)-1).toString(32),u>>=_,f-=_,rr=1<<32-nn(r)+f|o<<f|u,ir=g+n}else rr=1<<g|o<<f|u,ir=n}function Sf(n){n.return!==null&&(Zi(n,1),ty(n,1,0))}function Rf(n){for(;n===ku;)ku=Xa[--Wa],Xa[Wa]=null,Pu=Xa[--Wa],Xa[Wa]=null;for(;n===Wi;)Wi=Kn[--Qn],Kn[Qn]=null,ir=Kn[--Qn],Kn[Qn]=null,rr=Kn[--Qn],Kn[Qn]=null}var mn=null,vt=null,Ke=!1,Ji=null,Is=!1,jf=Error(i(519));function ea(n){var r=Error(i(418,""));throw Al(Gn(r,n)),jf}function ny(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[kt]=n,r[At]=u,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Xl.length;o++)ze(Xl[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Ui(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ma(r);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Vi(r,u.value,u.defaultValue,u.children),Ma(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||xx(r.textContent,o)?(u.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),u.onScroll!=null&&ze("scroll",r),u.onScrollEnd!=null&&ze("scrollend",r),u.onClick!=null&&(r.onclick=fd),r=!0):r=!1,r||ea(n)}function sy(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:mn=mn.return}}function Tl(n){if(n!==mn)return!1;if(!Ke)return sy(n),Ke=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||$m(n.type,n.memoizedProps)),o=!o),o&&vt&&ea(n),sy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){vt=ls(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}vt=null}}else r===27?(r=vt,ti(n.type)?(n=Qm,Qm=null,vt=n):vt=r):vt=mn?ls(n.stateNode.nextSibling):null;return!0}function Nl(){vt=mn=null,Ke=!1}function ry(){var n=Ji;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Ji=null),n}function Al(n){Ji===null?Ji=[n]:Ji.push(n)}var If=ee(null),ta=null,ar=null;function zr(n,r,o){le(If,r._currentValue),r._currentValue=o}function or(n){n._currentValue=If.current,ue(If)}function Cf(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function kf(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var D=0;D<r.length;D++)if(T.context===r[D]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),Cf(g.return,o,n),u||(_=null);break e}g=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),Cf(_,o,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Sl(n,r,o,u){n=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var T=f.type;jn(f.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(f===Nt.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(nc):n=[nc])}f=f.return}n!==null&&kf(r,n,o,u),r.flags|=262144}function Du(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,ar=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return iy(ta,n)}function Mu(n,r){return ta===null&&na(n),iy(n,r)}function iy(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ar===null){if(n===null)throw Error(i(308));ar=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ar=ar.next=r;return o}var CT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},kT=s.unstable_scheduleCallback,PT=s.unstable_NormalPriority,Mt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new CT,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&kT(PT,function(){n.controller.abort()})}var jl=null,Df=0,Za=0,Ja=null;function DT(n,r){if(jl===null){var o=jl=[];Df=0,Za=Om(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Df++,r.then(ay,ay),r}function ay(){if(--Df===0&&jl!==null){Ja!==null&&(Ja.status="fulfilled");var n=jl;jl=null,Za=0,Ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function MT(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var oy=J.S;J.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&DT(n,r),oy!==null&&oy(n,r)};var sa=ee(null);function Mf(){var n=sa.current;return n!==null?n:ot.pooledCache}function Ou(n,r){r===null?le(sa,sa.current):le(sa,r.pool)}function ly(){var n=Mf();return n===null?null:{parent:Mt._currentValue,pool:n}}var Il=Error(i(460)),cy=Error(i(474)),Lu=Error(i(542)),Of={then:function(){}};function uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uu(){}function dy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Uu,Uu),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n;default:if(typeof r.status=="string")r.then(Uu,Uu);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n}throw Cl=r,Il}}var Cl=null;function hy(){if(Cl===null)throw Error(i(459));var n=Cl;return Cl=null,n}function fy(n){if(n===Il||n===Lu)throw Error(i(483))}var Br=!1;function Lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Iu(n),J0(n,null,o),r}return ju(n,u,r,o),Iu(n)}function kl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,al(n,o)}}function Vf(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var zf=!1;function Pl(){if(zf){var n=Ja;if(n!==null)throw n}}function Dl(n,r,o,u){zf=!1;var f=n.updateQueue;Br=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,Y=D.next;D.next=null,_===null?g=Y:_.next=Y,_=D;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==_&&(T===null?ne.firstBaseUpdate=Y:T.next=Y,ne.lastBaseUpdate=D))}if(g!==null){var re=f.baseState;_=0,ne=Y=D=null,T=g;do{var K=T.lane&-536870913,Q=K!==T.lane;if(Q?($e&K)===K:(u&K)===K){K!==0&&K===Za&&(zf=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var je=n,Te=T;K=r;var rt=o;switch(Te.tag){case 1:if(je=Te.payload,typeof je=="function"){re=je.call(rt,re,K);break e}re=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Te.payload,K=typeof je=="function"?je.call(rt,re,K):je,K==null)break e;re=x({},re,K);break e;case 2:Br=!0}}K=T.callback,K!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(Y=ne=Q,D=re):ne=ne.next=Q,_|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ne===null&&(D=re),f.baseState=D,f.firstBaseUpdate=Y,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Wr|=_,n.lanes=_,n.memoizedState=re}}function my(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function py(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)my(o[n],r)}var eo=ee(null),Vu=ee(0);function gy(n,r){n=mr,le(Vu,n),le(eo,r),mr=n|r.baseLanes}function Bf(){le(Vu,mr),le(eo,eo.current)}function qf(){mr=Vu.current,ue(eo),ue(Vu)}var Hr=0,Oe=null,nt=null,Rt=null,zu=!1,to=!1,ra=!1,Bu=0,Ml=0,no=null,OT=0;function wt(){throw Error(i(321))}function Ff(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!jn(n[o],r[o]))return!1;return!0}function Hf(n,r,o,u,f,g){return Hr=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=n===null||n.memoizedState===null?Jy:ev,ra=!1,g=o(u,f),ra=!1,to&&(g=vy(r,o,u,f)),yy(n),g}function yy(n){J.H=Yu;var r=nt!==null&&nt.next!==null;if(Hr=0,Rt=nt=Oe=null,zu=!1,Ml=0,no=null,r)throw Error(i(300));n===null||qt||(n=n.dependencies,n!==null&&Du(n)&&(qt=!0))}function vy(n,r,o,u){Oe=n;var f=0;do{if(to&&(no=null),Ml=0,to=!1,25<=f)throw Error(i(301));if(f+=1,Rt=nt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=FT,g=r(o,u)}while(to);return g}function LT(){var n=J.H,r=n.useState()[0];return r=typeof r.then=="function"?Ol(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Oe.flags|=1024),r}function $f(){var n=Bu!==0;return Bu=0,n}function Gf(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Yf(n){if(zu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}zu=!1}Hr=0,Rt=nt=Oe=null,to=!1,Ml=Bu=0,no=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function jt(){if(nt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=Rt===null?Oe.memoizedState:Rt.next;if(r!==null)Rt=r,nt=n;else{if(n===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Oe.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(n){var r=Ml;return Ml+=1,no===null&&(no=[]),n=dy(no,n,r),r=Oe,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Jy:ev),n}function qu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ol(n);if(n.$$typeof===q)return sn(n)}throw Error(i(438,String(n)))}function Qf(n){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Kf(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=U;return r.index++,o}function lr(n,r){return typeof r=="function"?r(n):r}function Fu(n){var r=jt();return Xf(r,nt,n)}function Xf(n,r,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}r.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{r=f.next;var T=_=null,D=null,Y=r,ne=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?($e&re)===re:(Hr&re)===re){var K=Y.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===Za&&(ne=!0);else if((Hr&K)===K){Y=Y.next,K===Za&&(ne=!0);continue}else re={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(T=D=re,_=g):D=D.next=re,Oe.lanes|=K,Wr|=K;re=Y.action,ra&&o(g,re),g=Y.hasEagerState?Y.eagerState:o(g,re)}else K={lane:re,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(T=D=K,_=g):D=D.next=K,Oe.lanes|=re,Wr|=re;Y=Y.next}while(Y!==null&&Y!==r);if(D===null?_=g:D.next=T,!jn(g,n.memoizedState)&&(qt=!0,ne&&(o=Ja,o!==null)))throw o;n.memoizedState=g,n.baseState=_,n.baseQueue=D,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Wf(n){var r=jt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=n(g,_.action),_=_.next;while(_!==f);jn(g,r.memoizedState)||(qt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function xy(n,r,o){var u=Oe,f=jt(),g=Ke;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!jn((nt||f).memoizedState,o);_&&(f.memoizedState=o,qt=!0),f=f.queue;var T=wy.bind(null,u,f,n);if(Ll(2048,8,T,[n]),f.getSnapshot!==r||_||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,so(9,Hu(),_y.bind(null,u,f,o,r),null),ot===null)throw Error(i(349));g||(Hr&124)!==0||by(u,r,o)}return o}function by(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Kf(),Oe.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function _y(n,r,o,u){r.value=o,r.getSnapshot=u,Ey(r)&&Ty(n)}function wy(n,r,o){return o(function(){Ey(r)&&Ty(n)})}function Ey(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!jn(n,o)}catch{return!0}}function Ty(n){var r=Ka(n,2);r!==null&&Mn(r,n,2)}function Zf(n){var r=xn();if(typeof n=="function"){var o=n;if(n=o(),ra){Sn(!0);try{o()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r}function Ny(n,r,o,u){return n.baseState=o,Xf(n,nt,typeof u=="function"?u:lr)}function UT(n,r,o,u,f){if(Gu(n))throw Error(i(485));if(n=r.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Ay(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Ay(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var g=J.T,_={};J.T=_;try{var T=o(f,u),D=J.S;D!==null&&D(_,T),Sy(n,r,T)}catch(Y){Jf(n,r,Y)}finally{J.T=g}}else try{g=o(f,u),Sy(n,r,g)}catch(Y){Jf(n,r,Y)}}function Sy(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ry(n,r,u)},function(u){return Jf(n,r,u)}):Ry(n,r,o)}function Ry(n,r,o){r.status="fulfilled",r.value=o,jy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Ay(n,o)))}function Jf(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,jy(r),r=r.next;while(r!==u)}n.action=null}function jy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Iy(n,r){return r}function Cy(n,r){if(Ke){var o=ot.formState;if(o!==null){e:{var u=Oe;if(Ke){if(vt){t:{for(var f=vt,g=Is;f.nodeType!==8;){if(!g){f=null;break t}if(f=ls(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){vt=ls(f.nextSibling),u=f.data==="F!";break e}}ea(u)}u=!1}u&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:r},o.queue=u,o=Xy.bind(null,Oe,u),u.dispatch=o,u=Zf(!1),g=rm.bind(null,Oe,!1,u.queue),u=xn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=UT.bind(null,Oe,f,g,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function ky(n){var r=jt();return Py(r,nt,n)}function Py(n,r,o){if(r=Xf(n,r,Iy)[0],n=Fu(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ol(r)}catch(_){throw _===Il?Lu:_}else u=r;r=jt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,so(9,Hu(),VT.bind(null,f,o),null)),[u,g,n]}function VT(n,r){n.action=r}function Dy(n){var r=jt(),o=nt;if(o!==null)return Py(r,o,n);jt(),r=r.memoizedState,o=jt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function so(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Kf(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Hu(){return{destroy:void 0,resource:void 0}}function My(){return jt().memoizedState}function $u(n,r,o,u){var f=xn();u=u===void 0?null:u,Oe.flags|=n,f.memoizedState=so(1|r,Hu(),o,u)}function Ll(n,r,o,u){var f=jt();u=u===void 0?null:u;var g=f.memoizedState.inst;nt!==null&&u!==null&&Ff(u,nt.memoizedState.deps)?f.memoizedState=so(r,g,o,u):(Oe.flags|=n,f.memoizedState=so(1|r,g,o,u))}function Oy(n,r){$u(8390656,8,n,r)}function Ly(n,r){Ll(2048,8,n,r)}function Uy(n,r){return Ll(4,2,n,r)}function Vy(n,r){return Ll(4,4,n,r)}function zy(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function By(n,r,o){o=o!=null?o.concat([n]):null,Ll(4,4,zy.bind(null,r,n),o)}function em(){}function qy(n,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Ff(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Fy(n,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Ff(r,u[1]))return u[0];if(u=n(),ra){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,r],u}function tm(n,r,o){return o===void 0||(Hr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=Gv(),Oe.lanes|=n,Wr|=n,o)}function Hy(n,r,o,u){return jn(o,r)?o:eo.current!==null?(n=tm(n,o,u),jn(n,r)||(qt=!0),n):(Hr&42)===0?(qt=!0,n.memoizedState=o):(n=Gv(),Oe.lanes|=n,Wr|=n,r)}function $y(n,r,o,u,f){var g=he.p;he.p=g!==0&&8>g?g:8;var _=J.T,T={};J.T=T,rm(n,!1,r,o);try{var D=f(),Y=J.S;if(Y!==null&&Y(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=MT(D,u);Ul(n,r,ne,Dn(n))}else Ul(n,r,u,Dn(n))}catch(re){Ul(n,r,{then:function(){},status:"rejected",reason:re},Dn())}finally{he.p=g,J.T=_}}function zT(){}function nm(n,r,o,u){if(n.tag!==5)throw Error(i(476));var f=Gy(n).queue;$y(n,f,r,ve,o===null?zT:function(){return Yy(n),o(u)})}function Gy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ve},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Yy(n){var r=Gy(n).next.queue;Ul(n,r,{},Dn())}function sm(){return sn(nc)}function Ky(){return jt().memoizedState}function Qy(){return jt().memoizedState}function BT(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Dn();n=qr(o);var u=Fr(r,n,o);u!==null&&(Mn(u,r,o),kl(u,r,o)),r={cache:Pf()},n.payload=r;return}r=r.return}}function qT(n,r,o){var u=Dn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(n)?Wy(r,o):(o=Ef(n,r,o,u),o!==null&&(Mn(o,n,u),Zy(o,r,u)))}function Xy(n,r,o){var u=Dn();Ul(n,r,o,u)}function Ul(n,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gu(n))Wy(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,T=g(_,o);if(f.hasEagerState=!0,f.eagerState=T,jn(T,_))return ju(n,r,f,0),ot===null&&Ru(),!1}catch{}finally{}if(o=Ef(n,r,f,u),o!==null)return Mn(o,n,u),Zy(o,r,u),!0}return!1}function rm(n,r,o,u){if(u={lane:2,revertLane:Om(),action:u,hasEagerState:!1,eagerState:null,next:null},Gu(n)){if(r)throw Error(i(479))}else r=Ef(n,o,u,2),r!==null&&Mn(r,n,2)}function Gu(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Wy(n,r){to=zu=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Zy(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,al(n,o)}}var Yu={readContext:sn,use:qu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Jy={readContext:sn,use:qu,useCallback:function(n,r){return xn().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:Oy,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,$u(4194308,4,zy.bind(null,r,n),o)},useLayoutEffect:function(n,r){return $u(4194308,4,n,r)},useInsertionEffect:function(n,r){$u(4,2,n,r)},useMemo:function(n,r){var o=xn();r=r===void 0?null:r;var u=n();if(ra){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=xn();if(o!==void 0){var f=o(r);if(ra){Sn(!0);try{o(r)}finally{Sn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=qT.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var r=xn();return n={current:n},r.memoizedState=n},useState:function(n){n=Zf(n);var r=n.queue,o=Xy.bind(null,Oe,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:em,useDeferredValue:function(n,r){var o=xn();return tm(o,n,r)},useTransition:function(){var n=Zf(!1);return n=$y.bind(null,Oe,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Oe,f=xn();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ot===null)throw Error(i(349));($e&124)!==0||by(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Oy(wy.bind(null,u,g,n),[n]),u.flags|=2048,so(9,Hu(),_y.bind(null,u,g,o,r),null),o},useId:function(){var n=xn(),r=ot.identifierPrefix;if(Ke){var o=ir,u=rr;o=(u&~(1<<32-nn(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Bu++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=OT++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:sm,useFormState:Cy,useActionState:Cy,useOptimistic:function(n){var r=xn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rm.bind(null,Oe,!0,o),o.dispatch=r,[n,r]},useMemoCache:Qf,useCacheRefresh:function(){return xn().memoizedState=BT.bind(null,Oe)}},ev={readContext:sn,use:qu,useCallback:qy,useContext:sn,useEffect:Ly,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:Vy,useMemo:Fy,useReducer:Fu,useRef:My,useState:function(){return Fu(lr)},useDebugValue:em,useDeferredValue:function(n,r){var o=jt();return Hy(o,nt.memoizedState,n,r)},useTransition:function(){var n=Fu(lr)[0],r=jt().memoizedState;return[typeof n=="boolean"?n:Ol(n),r]},useSyncExternalStore:xy,useId:Ky,useHostTransitionStatus:sm,useFormState:ky,useActionState:ky,useOptimistic:function(n,r){var o=jt();return Ny(o,nt,n,r)},useMemoCache:Qf,useCacheRefresh:Qy},FT={readContext:sn,use:qu,useCallback:qy,useContext:sn,useEffect:Ly,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:Vy,useMemo:Fy,useReducer:Wf,useRef:My,useState:function(){return Wf(lr)},useDebugValue:em,useDeferredValue:function(n,r){var o=jt();return nt===null?tm(o,n,r):Hy(o,nt.memoizedState,n,r)},useTransition:function(){var n=Wf(lr)[0],r=jt().memoizedState;return[typeof n=="boolean"?n:Ol(n),r]},useSyncExternalStore:xy,useId:Ky,useHostTransitionStatus:sm,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,r){var o=jt();return nt!==null?Ny(o,nt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Qy},ro=null,Vl=0;function Ku(n){var r=Vl;return Vl+=1,ro===null&&(ro=[]),dy(ro,n,r)}function zl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Qu(n,r){throw r.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function tv(n){var r=n._init;return r(n._payload)}function nv(n){function r(H,B){if(n){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function o(H,B){if(!n)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=sr(H,B),H.index=0,H.sibling=null,H}function g(H,B,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function _(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function T(H,B,G,se){return B===null||B.tag!==6?(B=Nf(G,H.mode,se),B.return=H,B):(B=f(B,G),B.return=H,B)}function D(H,B,G,se){var ye=G.type;return ye===N?ne(H,B,G.props.children,se,G.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&tv(ye)===B.type)?(B=f(B,G.props),zl(B,G),B.return=H,B):(B=Cu(G.type,G.key,G.props,null,H.mode,se),zl(B,G),B.return=H,B)}function Y(H,B,G,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Af(G,H.mode,se),B.return=H,B):(B=f(B,G.children||[]),B.return=H,B)}function ne(H,B,G,se,ye){return B===null||B.tag!==7?(B=Xi(G,H.mode,se,ye),B.return=H,B):(B=f(B,G),B.return=H,B)}function re(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Nf(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return G=Cu(B.type,B.key,B.props,null,H.mode,G),zl(G,B),G.return=H,G;case R:return B=Af(B,H.mode,G),B.return=H,B;case S:var se=B._init;return B=se(B._payload),re(H,B,G)}if(ke(B)||P(B))return B=Xi(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return re(H,Ku(B),G);if(B.$$typeof===q)return re(H,Mu(H,B),G);Qu(H,B)}return null}function K(H,B,G,se){var ye=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:T(H,B,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===ye?D(H,B,G,se):null;case R:return G.key===ye?Y(H,B,G,se):null;case S:return ye=G._init,G=ye(G._payload),K(H,B,G,se)}if(ke(G)||P(G))return ye!==null?null:ne(H,B,G,se,null);if(typeof G.then=="function")return K(H,B,Ku(G),se);if(G.$$typeof===q)return K(H,B,Mu(H,G),se);Qu(H,G)}return null}function Q(H,B,G,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(G)||null,T(B,H,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return H=H.get(se.key===null?G:se.key)||null,D(B,H,se,ye);case R:return H=H.get(se.key===null?G:se.key)||null,Y(B,H,se,ye);case S:var Ue=se._init;return se=Ue(se._payload),Q(H,B,G,se,ye)}if(ke(se)||P(se))return H=H.get(G)||null,ne(B,H,se,ye,null);if(typeof se.then=="function")return Q(H,B,G,Ku(se),ye);if(se.$$typeof===q)return Q(H,B,G,Mu(B,se),ye);Qu(B,se)}return null}function je(H,B,G,se){for(var ye=null,Ue=null,be=B,Ne=B=0,Ht=null;be!==null&&Ne<G.length;Ne++){be.index>Ne?(Ht=be,be=null):Ht=be.sibling;var Ye=K(H,be,G[Ne],se);if(Ye===null){be===null&&(be=Ht);break}n&&be&&Ye.alternate===null&&r(H,be),B=g(Ye,B,Ne),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye,be=Ht}if(Ne===G.length)return o(H,be),Ke&&Zi(H,Ne),ye;if(be===null){for(;Ne<G.length;Ne++)be=re(H,G[Ne],se),be!==null&&(B=g(be,B,Ne),Ue===null?ye=be:Ue.sibling=be,Ue=be);return Ke&&Zi(H,Ne),ye}for(be=u(be);Ne<G.length;Ne++)Ht=Q(be,H,Ne,G[Ne],se),Ht!==null&&(n&&Ht.alternate!==null&&be.delete(Ht.key===null?Ne:Ht.key),B=g(Ht,B,Ne),Ue===null?ye=Ht:Ue.sibling=Ht,Ue=Ht);return n&&be.forEach(function(ai){return r(H,ai)}),Ke&&Zi(H,Ne),ye}function Te(H,B,G,se){if(G==null)throw Error(i(151));for(var ye=null,Ue=null,be=B,Ne=B=0,Ht=null,Ye=G.next();be!==null&&!Ye.done;Ne++,Ye=G.next()){be.index>Ne?(Ht=be,be=null):Ht=be.sibling;var ai=K(H,be,Ye.value,se);if(ai===null){be===null&&(be=Ht);break}n&&be&&ai.alternate===null&&r(H,be),B=g(ai,B,Ne),Ue===null?ye=ai:Ue.sibling=ai,Ue=ai,be=Ht}if(Ye.done)return o(H,be),Ke&&Zi(H,Ne),ye;if(be===null){for(;!Ye.done;Ne++,Ye=G.next())Ye=re(H,Ye.value,se),Ye!==null&&(B=g(Ye,B,Ne),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye);return Ke&&Zi(H,Ne),ye}for(be=u(be);!Ye.done;Ne++,Ye=G.next())Ye=Q(be,H,Ne,Ye.value,se),Ye!==null&&(n&&Ye.alternate!==null&&be.delete(Ye.key===null?Ne:Ye.key),B=g(Ye,B,Ne),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye);return n&&be.forEach(function(HN){return r(H,HN)}),Ke&&Zi(H,Ne),ye}function rt(H,B,G,se){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var ye=G.key;B!==null;){if(B.key===ye){if(ye=G.type,ye===N){if(B.tag===7){o(H,B.sibling),se=f(B,G.props.children),se.return=H,H=se;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&tv(ye)===B.type){o(H,B.sibling),se=f(B,G.props),zl(se,G),se.return=H,H=se;break e}o(H,B);break}else r(H,B);B=B.sibling}G.type===N?(se=Xi(G.props.children,H.mode,se,G.key),se.return=H,H=se):(se=Cu(G.type,G.key,G.props,null,H.mode,se),zl(se,G),se.return=H,H=se)}return _(H);case R:e:{for(ye=G.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(H,B.sibling),se=f(B,G.children||[]),se.return=H,H=se;break e}else{o(H,B);break}else r(H,B);B=B.sibling}se=Af(G,H.mode,se),se.return=H,H=se}return _(H);case S:return ye=G._init,G=ye(G._payload),rt(H,B,G,se)}if(ke(G))return je(H,B,G,se);if(P(G)){if(ye=P(G),typeof ye!="function")throw Error(i(150));return G=ye.call(G),Te(H,B,G,se)}if(typeof G.then=="function")return rt(H,B,Ku(G),se);if(G.$$typeof===q)return rt(H,B,Mu(H,G),se);Qu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(H,B.sibling),se=f(B,G),se.return=H,H=se):(o(H,B),se=Nf(G,H.mode,se),se.return=H,H=se),_(H)):o(H,B)}return function(H,B,G,se){try{Vl=0;var ye=rt(H,B,G,se);return ro=null,ye}catch(be){if(be===Il||be===Lu)throw be;var Ue=In(29,be,null,H.mode);return Ue.lanes=se,Ue.return=H,Ue}finally{}}}var io=nv(!0),sv=nv(!1),Xn=ee(null),Cs=null;function $r(n){var r=n.alternate;le(Ot,Ot.current&1),le(Xn,n),Cs===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Cs=n)}function rv(n){if(n.tag===22){if(le(Ot,Ot.current),le(Xn,n),Cs===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Cs=n)}}else Gr()}function Gr(){le(Ot,Ot.current),le(Xn,Xn.current)}function cr(n){ue(Xn),Cs===n&&(Cs=null),ue(Ot)}var Ot=ee(0);function Xu(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Km(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function im(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:x({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var am={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Dn(),f=qr(u);f.payload=r,o!=null&&(f.callback=o),r=Fr(n,f,u),r!==null&&(Mn(r,n,u),kl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Dn(),f=qr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Fr(n,f,u),r!==null&&(Mn(r,n,u),kl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Dn(),u=qr(o);u.tag=2,r!=null&&(u.callback=r),r=Fr(n,u,o),r!==null&&(Mn(r,n,o),kl(r,n,o))}};function iv(n,r,o,u,f,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,_):r.prototype&&r.prototype.isPureReactComponent?!wl(o,u)||!wl(f,g):!0}function av(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&am.enqueueReplaceState(r,r.state,null)}function ia(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=x({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Wu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ov(n){Wu(n)}function lv(n){console.error(n)}function cv(n){Wu(n)}function Zu(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function uv(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function om(n,r,o){return o=qr(o),o.tag=3,o.payload={element:null},o.callback=function(){Zu(n,r)},o}function dv(n){return n=qr(n),n.tag=3,n}function hv(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){uv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){uv(r,o,u),typeof f!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function HT(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Sl(r,o,f,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Cs===null?Cm():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Of?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Pm(n,u,f)),!1;case 22:return o.flags|=65536,u===Of?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Pm(n,u,f)),!1}throw Error(i(435,o.tag))}return Pm(n,u,f),Cm(),!1}if(Ke)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==jf&&(n=Error(i(422),{cause:u}),Al(Gn(n,o)))):(u!==jf&&(r=Error(i(423),{cause:u}),Al(Gn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Gn(u,o),f=om(n.stateNode,u,f),Vf(n,f),xt!==4&&(xt=2)),!1;var g=Error(i(520),{cause:u});if(g=Gn(g,o),Yl===null?Yl=[g]:Yl.push(g),xt!==4&&(xt=2),r===null)return!0;u=Gn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=om(o.stateNode,u,n),Vf(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=dv(f),hv(f,n,o,u),Vf(o,f),!1}o=o.return}while(o!==null);return!1}var fv=Error(i(461)),qt=!1;function Kt(n,r,o,u){r.child=n===null?sv(r,null,o,u):io(r,n.child,o,u)}function mv(n,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return na(r),u=Hf(n,r,o,_,g,f),T=$f(),n!==null&&!qt?(Gf(n,r,f),ur(n,r,f)):(Ke&&T&&Sf(r),r.flags|=1,Kt(n,r,u,f),r.child)}function pv(n,r,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Tf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,gv(n,r,g,u,f)):(n=Cu(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!pm(n,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:wl,o(_,u)&&n.ref===r.ref)return ur(n,r,f)}return r.flags|=1,n=sr(g,u),n.ref=r.ref,n.return=r,r.child=n}function gv(n,r,o,u,f){if(n!==null){var g=n.memoizedProps;if(wl(g,u)&&n.ref===r.ref)if(qt=!1,r.pendingProps=u=g,pm(n,f))(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,ur(n,r,f)}return lm(n,r,o,u,f)}function yv(n,r,o){var u=r.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=r.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return vv(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ou(r,g!==null?g.cachePool:null),g!==null?gy(r,g):Bf(),rv(r);else return r.lanes=r.childLanes=536870912,vv(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ou(r,g.cachePool),gy(r,g),Gr(),r.memoizedState=null):(n!==null&&Ou(r,null),Bf(),Gr());return Kt(n,r,f,o),r.child}function vv(n,r,o,u){var f=Mf();return f=f===null?null:{parent:Mt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&Ou(r,null),Bf(),rv(r),n!==null&&Sl(n,r,u,!0),null}function Ju(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function lm(n,r,o,u,f){return na(r),o=Hf(n,r,o,u,void 0,f),u=$f(),n!==null&&!qt?(Gf(n,r,f),ur(n,r,f)):(Ke&&u&&Sf(r),r.flags|=1,Kt(n,r,o,f),r.child)}function xv(n,r,o,u,f,g){return na(r),r.updateQueue=null,o=vy(r,u,o,f),yy(n),u=$f(),n!==null&&!qt?(Gf(n,r,g),ur(n,r,g)):(Ke&&u&&Sf(r),r.flags|=1,Kt(n,r,o,g),r.child)}function bv(n,r,o,u,f){if(na(r),r.stateNode===null){var g=Qa,_=o.contextType;typeof _=="object"&&_!==null&&(g=sn(_)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=am,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Lf(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?sn(_):Qa,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(im(r,o,_,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&am.enqueueReplaceState(g,g.state,null),Dl(r,u,g,f),Pl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){g=r.stateNode;var T=r.memoizedProps,D=ia(o,T);g.props=D;var Y=g.context,ne=o.contextType;_=Qa,typeof ne=="object"&&ne!==null&&(_=sn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||Y!==_)&&av(r,g,u,_),Br=!1;var K=r.memoizedState;g.state=K,Dl(r,u,g,f),Pl(),Y=r.memoizedState,T||K!==Y||Br?(typeof re=="function"&&(im(r,o,re,u),Y=r.memoizedState),(D=Br||iv(r,o,D,u,K,Y,_))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=_,u=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Uf(n,r),_=r.memoizedProps,ne=ia(o,_),g.props=ne,re=r.pendingProps,K=g.context,Y=o.contextType,D=Qa,typeof Y=="object"&&Y!==null&&(D=sn(Y)),T=o.getDerivedStateFromProps,(Y=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==re||K!==D)&&av(r,g,u,D),Br=!1,K=r.memoizedState,g.state=K,Dl(r,u,g,f),Pl();var Q=r.memoizedState;_!==re||K!==Q||Br||n!==null&&n.dependencies!==null&&Du(n.dependencies)?(typeof T=="function"&&(im(r,o,T,u),Q=r.memoizedState),(ne=Br||iv(r,o,ne,u,K,Q,D)||n!==null&&n.dependencies!==null&&Du(n.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=D,u=ne):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ju(n,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&u?(r.child=io(r,n.child,null,f),r.child=io(r,null,o,f)):Kt(n,r,o,f),r.memoizedState=g.state,n=r.child):n=ur(n,r,f),n}function _v(n,r,o,u){return Nl(),r.flags|=256,Kt(n,r,o,u),r.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(n){return{baseLanes:n,cachePool:ly()}}function dm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Wn),n}function wv(n,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ke){if(f?$r(r):Gr(),Ke){var T=vt,D;if(D=T){e:{for(D=T,T=Is;D.nodeType!==8;){if(!T){T=null;break e}if(D=ls(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Wi!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},D=In(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,mn=r,vt=null,D=!0):D=!1}D||ea(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Km(T)?r.lanes=32:r.lanes=536870912,null;cr(r)}return T=u.children,u=u.fallback,f?(Gr(),f=r.mode,T=ed({mode:"hidden",children:T},f),u=Xi(u,f,o,null),T.return=r,u.return=r,T.sibling=u,r.child=T,f=r.child,f.memoizedState=um(o),f.childLanes=dm(n,_,o),r.memoizedState=cm,u):($r(r),hm(r,T))}if(D=n.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(g)r.flags&256?($r(r),r.flags&=-257,r=fm(n,r,o)):r.memoizedState!==null?(Gr(),r.child=n.child,r.flags|=128,r=null):(Gr(),f=u.fallback,T=r.mode,u=ed({mode:"visible",children:u.children},T),f=Xi(f,T,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,io(r,n.child,null,o),u=r.child,u.memoizedState=um(o),u.childLanes=dm(n,_,o),r.memoizedState=cm,r=f);else if($r(r),Km(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var Y=_.dgst;_=Y,u=Error(i(419)),u.stack="",u.digest=_,Al({value:u,source:null,stack:null}),r=fm(n,r,o)}else if(qt||Sl(n,r,o,!1),_=(o&n.childLanes)!==0,qt||_){if(_=ot,_!==null&&(u=o&-o,u=(u&42)!==0?1:Pr(u),u=(u&(_.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Ka(n,u),Mn(_,n,u),fv;T.data==="$?"||Cm(),r=fm(n,r,o)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,vt=ls(T.nextSibling),mn=r,Ke=!0,Ji=null,Is=!1,n!==null&&(Kn[Qn++]=rr,Kn[Qn++]=ir,Kn[Qn++]=Wi,rr=n.id,ir=n.overflow,Wi=r),r=hm(r,u.children),r.flags|=4096);return r}return f?(Gr(),f=u.fallback,T=r.mode,D=n.child,Y=D.sibling,u=sr(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,Y!==null?f=sr(Y,f):(f=Xi(f,T,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,T=n.child.memoizedState,T===null?T=um(o):(D=T.cachePool,D!==null?(Y=Mt._currentValue,D=D.parent!==Y?{parent:Y,pool:Y}:D):D=ly(),T={baseLanes:T.baseLanes|o,cachePool:D}),f.memoizedState=T,f.childLanes=dm(n,_,o),r.memoizedState=cm,u):($r(r),o=n.child,n=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=o,r.memoizedState=null,o)}function hm(n,r){return r=ed({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ed(n,r){return n=In(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function fm(n,r,o){return io(r,n.child,null,o),n=hm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ev(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Cf(n.return,r,o)}function mm(n,r,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Tv(n,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Kt(n,r,u.children,o),u=Ot.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ev(n,o,r);else if(n.tag===19)Ev(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(le(Ot,u),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&Xu(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),mm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Xu(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}mm(r,!0,o,null,g);break;case"together":mm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ur(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Wr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Sl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=sr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=sr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function pm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Du(n)))}function $T(n,r,o){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),zr(r,Mt,n.memoizedState.cache),Nl();break;case 27:case 5:ce(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?($r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?wv(n,r,o):($r(r),n=ur(n,r,o),n!==null?n.sibling:null);$r(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Sl(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Tv(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ot,Ot.current),u)break;return null;case 22:case 23:return r.lanes=0,yv(n,r,o);case 24:zr(r,Mt,n.memoizedState.cache)}return ur(n,r,o)}function Nv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)qt=!0;else{if(!pm(n,o)&&(r.flags&128)===0)return qt=!1,$T(n,r,o);qt=(n.flags&131072)!==0}else qt=!1,Ke&&(r.flags&1048576)!==0&&ty(r,Pu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Tf(u)?(n=ia(u,n),r.tag=1,r=bv(null,r,u,n,o)):(r.tag=0,r=lm(null,r,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===W){r.tag=11,r=mv(null,r,u,n,o);break e}else if(f===O){r.tag=14,r=pv(null,r,u,n,o);break e}}throw r=fe(u)||u,Error(i(306,r,""))}}return r;case 0:return lm(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ia(u,r.pendingProps),bv(n,r,u,f,o);case 3:e:{if(Qe(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Uf(n,r),Dl(r,u,null,o);var _=r.memoizedState;if(u=_.cache,zr(r,Mt,u),u!==g.cache&&kf(r,[Mt],o,!0),Pl(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=_v(n,r,u,o);break e}else if(u!==f){f=Gn(Error(i(424)),r),Al(f),r=_v(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=ls(n.firstChild),mn=r,Ke=!0,Ji=null,Is=!0,o=sv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nl(),u===f){r=ur(n,r,o);break e}Kt(n,r,u,o)}r=r.child}return r;case 26:return Ju(n,r),n===null?(o=jx(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,n=r.pendingProps,u=md(Re.current).createElement(o),u[kt]=r,u[At]=n,Xt(u,o,n),_t(u),r.stateNode=u):r.memoizedState=jx(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ce(r),n===null&&Ke&&(u=r.stateNode=Ax(r.type,r.pendingProps,Re.current),mn=r,Is=!0,f=vt,ti(r.type)?(Qm=f,vt=ls(u.firstChild)):vt=f),Kt(n,r,r.pendingProps.children,o),Ju(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ke&&((f=u=vt)&&(u=xN(u,r.type,r.pendingProps,Is),u!==null?(r.stateNode=u,mn=r,vt=ls(u.firstChild),Is=!1,f=!0):f=!1),f||ea(r)),ce(r),f=r.type,g=r.pendingProps,_=n!==null?n.memoizedProps:null,u=g.children,$m(f,g)?u=null:_!==null&&$m(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Hf(n,r,LT,null,null,o),nc._currentValue=f),Ju(n,r),Kt(n,r,u,o),r.child;case 6:return n===null&&Ke&&((n=o=vt)&&(o=bN(o,r.pendingProps,Is),o!==null?(r.stateNode=o,mn=r,vt=null,n=!0):n=!1),n||ea(r)),null;case 13:return wv(n,r,o);case 4:return Qe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=io(r,null,u,o):Kt(n,r,u,o),r.child;case 11:return mv(n,r,r.type,r.pendingProps,o);case 7:return Kt(n,r,r.pendingProps,o),r.child;case 8:return Kt(n,r,r.pendingProps.children,o),r.child;case 12:return Kt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,zr(r,r.type,u.value),Kt(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,na(r),f=sn(f),u=u(f),r.flags|=1,Kt(n,r,u,o),r.child;case 14:return pv(n,r,r.type,r.pendingProps,o);case 15:return gv(n,r,r.type,r.pendingProps,o);case 19:return Tv(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=ed(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=sr(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return yv(n,r,o);case 24:return na(r),u=sn(Mt),n===null?(f=Mf(),f===null&&(f=ot,g=Pf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Lf(r),zr(r,Mt,f)):((n.lanes&o)!==0&&(Uf(n,r),Dl(r,null,null,o),Pl()),f=n.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zr(r,Mt,u)):(u=g.cache,zr(r,Mt,u),u!==f.cache&&kf(r,[Mt],o,!0))),Kt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function dr(n){n.flags|=4}function Av(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Dx(r)){if(r=Xn.current,r!==null&&(($e&4194048)===$e?Cs!==null:($e&62914560)!==$e&&($e&536870912)===0||r!==Cs))throw Cl=Of,cy;n.flags|=8192}}function td(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?rl():536870912,n.lanes|=r,co|=r)}function Bl(n,r){if(!Ke)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function mt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function GT(n,r,o){var u=r.pendingProps;switch(Rf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),or(Mt),Vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Tl(r)?dr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ry())),mt(r),null;case 26:return o=r.memoizedState,n===null?(dr(r),o!==null?(mt(r),Av(r,o)):(mt(r),r.flags&=-16777217)):o?o!==n.memoizedState?(dr(r),mt(r),Av(r,o)):(mt(r),r.flags&=-16777217):(n.memoizedProps!==u&&dr(r),mt(r),r.flags&=-16777217),null;case 27:we(r),o=Re.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&dr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}n=xe.current,Tl(r)?ny(r):(n=Ax(f,u,o),r.stateNode=n,dr(r))}return mt(r),null;case 5:if(we(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&dr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}if(n=xe.current,Tl(r))ny(r);else{switch(f=md(Re.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[kt]=r,n[At]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Xt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&dr(r)}}return mt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&dr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=Re.current,Tl(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xx(n.nodeValue,o)),n||ea(r)}else n=md(n).createTextNode(u),n[kt]=r,r.stateNode=n}return mt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Tl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[kt]=r}else Nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),f=!1}else f=ry(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(cr(r),r):(cr(r),null)}if(cr(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),td(r,r.updateQueue),mt(r),null;case 4:return Vn(),n===null&&zm(r.stateNode.containerInfo),mt(r),null;case 10:return or(r.type),mt(r),null;case 19:if(ue(Ot),f=r.memoizedState,f===null)return mt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Bl(f,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=Xu(n),g!==null){for(r.flags|=128,Bl(f,!1),n=g.updateQueue,r.updateQueue=n,td(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)ey(o,n),o=o.sibling;return le(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&Vt()>rd&&(r.flags|=128,u=!0,Bl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Xu(g),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,td(r,n),Bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ke)return mt(r),null}else 2*Vt()-f.renderingStartTime>rd&&o!==536870912&&(r.flags|=128,u=!0,Bl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(n=f.last,n!==null?n.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Vt(),r.sibling=null,n=Ot.current,le(Ot,u?n&1|2:n&1),r):(mt(r),null);case 22:case 23:return cr(r),qf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&td(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ue(sa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),or(Mt),mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function YT(n,r){switch(Rf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return or(Mt),Vn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return we(r),null;case 13:if(cr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Nl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return Vn(),null;case 10:return or(r.type),null;case 22:case 23:return cr(r),qf(),n!==null&&ue(sa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return or(Mt),null;case 25:return null;default:return null}}function Sv(n,r){switch(Rf(r),r.tag){case 3:or(Mt),Vn();break;case 26:case 27:case 5:we(r);break;case 4:Vn();break;case 13:cr(r);break;case 19:ue(Ot);break;case 10:or(r.type);break;case 22:case 23:cr(r),qf(),n!==null&&ue(sa);break;case 24:or(Mt)}}function ql(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,_=o.inst;u=g(),_.destroy=u}o=o.next}while(o!==f)}}catch(T){it(r,r.return,T)}}function Yr(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=r;var D=o,Y=T;try{Y()}catch(ne){it(f,D,ne)}}}u=u.next}while(u!==g)}}catch(ne){it(r,r.return,ne)}}function Rv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{py(r,o)}catch(u){it(n,n.return,u)}}}function jv(n,r,o){o.props=ia(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){it(n,r,u)}}function Fl(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){it(n,r,f)}}function ks(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){it(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){it(n,r,f)}else o.current=null}function Iv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){it(n,n.return,f)}}function gm(n,r,o){try{var u=n.stateNode;mN(u,n.type,o,r),u[At]=r}catch(f){it(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ti(n.type)||n.tag===4}function ym(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ti(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fd));else if(u!==4&&(u===27&&ti(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(vm(n,r,o),n=n.sibling;n!==null;)vm(n,r,o),n=n.sibling}function nd(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&ti(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(nd(n,r,o),n=n.sibling;n!==null;)nd(n,r,o),n=n.sibling}function kv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,u,o),r[kt]=n,r[At]=o}catch(g){it(n,n.return,g)}}var hr=!1,Et=!1,xm=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function KT(n,r){if(n=n.containerInfo,Fm=bd,n=H0(n),yf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,T=-1,D=-1,Y=0,ne=0,re=n,K=null;t:for(;;){for(var Q;re!==o||f!==0&&re.nodeType!==3||(T=_+f),re!==g||u!==0&&re.nodeType!==3||(D=_+u),re.nodeType===3&&(_+=re.nodeValue.length),(Q=re.firstChild)!==null;)K=re,re=Q;for(;;){if(re===n)break t;if(K===o&&++Y===f&&(T=_),K===g&&++ne===u&&(D=_),(Q=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=Q}o=T===-1||D===-1?null:{start:T,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hm={focusedElem:n,selectionRange:o},bd=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var je=ia(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(je,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Te){it(o,o.return,Te)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Ym(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}}function Dv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Kr(n,o),u&4&&ql(5,o);break;case 1:if(Kr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(_){it(o,o.return,_)}else{var f=ia(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){it(o,o.return,_)}}u&64&&Rv(o),u&512&&Fl(o,o.return);break;case 3:if(Kr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{py(n,r)}catch(_){it(o,o.return,_)}}break;case 27:r===null&&u&4&&kv(o);case 26:case 5:Kr(n,o),r===null&&u&4&&Iv(o),u&512&&Fl(o,o.return);break;case 12:Kr(n,o);break;case 13:Kr(n,o),u&4&&Lv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=sN.bind(null,o),_N(n,o))));break;case 22:if(u=o.memoizedState!==null||hr,!u){r=r!==null&&r.memoizedState!==null||Et,f=hr;var g=Et;hr=u,(Et=r)&&!g?Qr(n,o,(o.subtreeFlags&8772)!==0):Kr(n,o),hr=f,Et=g}break;case 30:break;default:Kr(n,o)}}function Mv(n){var r=n.alternate;r!==null&&(n.alternate=null,Mv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Or(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,bn=!1;function fr(n,r,o){for(o=o.child;o!==null;)Ov(n,r,o),o=o.sibling}function Ov(n,r,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:Et||ks(o,r),fr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||ks(o,r);var u=ht,f=bn;ti(o.type)&&(ht=o.stateNode,bn=!1),fr(n,r,o),Zl(o.stateNode),ht=u,bn=f;break;case 5:Et||ks(o,r);case 6:if(u=ht,f=bn,ht=null,fr(n,r,o),ht=u,bn=f,ht!==null)if(bn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){it(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){it(o,r,g)}break;case 18:ht!==null&&(bn?(n=ht,Tx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ac(n)):Tx(ht,o.stateNode));break;case 4:u=ht,f=bn,ht=o.stateNode.containerInfo,bn=!0,fr(n,r,o),ht=u,bn=f;break;case 0:case 11:case 14:case 15:Et||Yr(2,o,r),Et||Yr(4,o,r),fr(n,r,o);break;case 1:Et||(ks(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&jv(o,r,u)),fr(n,r,o);break;case 21:fr(n,r,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,fr(n,r,o),Et=u;break;default:fr(n,r,o)}}function Lv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ac(n)}catch(o){it(r,r.return,o)}}function QT(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Pv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Pv),r;default:throw Error(i(435,n.tag))}}function bm(n,r){var o=QT(n);r.forEach(function(u){var f=rN.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Cn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ti(T.type)){ht=T.stateNode,bn=!1;break e}break;case 5:ht=T.stateNode,bn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(ht===null)throw Error(i(160));Ov(g,_,f),ht=null,bn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Uv(r,n),r=r.sibling}var os=null;function Uv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(r,n),kn(n),u&4&&(Yr(3,n,n.return),ql(3,n),Yr(5,n,n.return));break;case 1:Cn(r,n),kn(n),u&512&&(Et||o===null||ks(o,o.return)),u&64&&hr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=os;if(Cn(r,n),kn(n),u&512&&(Et||o===null||ks(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Di]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Xt(g,u,o),g[kt]=n,_t(g),u=g;break e;case"link":var _=kx("link","href",f).get(u+(o.href||""));if(_){for(var T=0;T<_.length;T++)if(g=_[T],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(T,1);break t}}g=f.createElement(u),Xt(g,u,o),f.head.appendChild(g);break;case"meta":if(_=kx("meta","content",f).get(u+(o.content||""))){for(T=0;T<_.length;T++)if(g=_[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(T,1);break t}}g=f.createElement(u),Xt(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[kt]=n,_t(g),u=g}n.stateNode=u}else Px(f,n.type,n.stateNode);else n.stateNode=Cx(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Px(f,n.type,n.stateNode):Cx(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&gm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,n),kn(n),u&512&&(Et||o===null||ks(o,o.return)),o!==null&&u&4&&gm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,n),kn(n),u&512&&(Et||o===null||ks(o,o.return)),n.flags&32){f=n.stateNode;try{qn(f,"")}catch(Q){it(n,n.return,Q)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,gm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(xm=!0);break;case 6:if(Cn(r,n),kn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Q){it(n,n.return,Q)}}break;case 3:if(yd=null,f=os,os=pd(r.containerInfo),Cn(r,n),os=f,kn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ac(r.containerInfo)}catch(Q){it(n,n.return,Q)}xm&&(xm=!1,Vv(n));break;case 4:u=os,os=pd(n.stateNode.containerInfo),Cn(r,n),kn(n),os=u;break;case 12:Cn(r,n),kn(n);break;case 13:Cn(r,n),kn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Am=Vt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,bm(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,Y=hr,ne=Et;if(hr=Y||f,Et=ne||D,Cn(r,n),Et=ne,hr=Y,kn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||hr||Et||aa(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var re=D.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){it(D,D.return,Q)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Q){it(D,D.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(n,o))));break;case 19:Cn(r,n),kn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,bm(n,u)));break;case 30:break;case 21:break;default:Cn(r,n),kn(n)}}function kn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(Cv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=ym(n);nd(n,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(qn(_,""),o.flags&=-33);var T=ym(n);nd(n,T,_);break;case 3:case 4:var D=o.stateNode.containerInfo,Y=ym(n);vm(n,Y,D);break;default:throw Error(i(161))}}catch(ne){it(n,n.return,ne)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Vv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Vv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Kr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Dv(n,r.alternate,r),r=r.sibling}function aa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),aa(r);break;case 1:ks(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&jv(r,r.return,o),aa(r);break;case 27:Zl(r.stateNode);case 26:case 5:ks(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}n=n.sibling}}function Qr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Qr(f,g,o),ql(4,g);break;case 1:if(Qr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){it(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var T=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)my(D[f],T)}catch(Y){it(u,u.return,Y)}}o&&_&64&&Rv(g),Fl(g,g.return);break;case 27:kv(g);case 26:case 5:Qr(f,g,o),o&&u===null&&_&4&&Iv(g),Fl(g,g.return);break;case 12:Qr(f,g,o);break;case 13:Qr(f,g,o),o&&_&4&&Lv(f,g);break;case 22:g.memoizedState===null&&Qr(f,g,o),Fl(g,g.return);break;case 30:break;default:Qr(f,g,o)}r=r.sibling}}function _m(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Rl(o))}function wm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n))}function Ps(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(n,r,o,u),r=r.sibling}function zv(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ps(n,r,o,u),f&2048&&ql(9,r);break;case 1:Ps(n,r,o,u);break;case 3:Ps(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n)));break;case 12:if(f&2048){Ps(n,r,o,u),n=r.stateNode;try{var g=r.memoizedProps,_=g.id,T=g.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){it(r,r.return,D)}}else Ps(n,r,o,u);break;case 13:Ps(n,r,o,u);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?Ps(n,r,o,u):Hl(n,r):g._visibility&2?Ps(n,r,o,u):(g._visibility|=2,ao(n,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&_m(_,r);break;case 24:Ps(n,r,o,u),f&2048&&wm(r.alternate,r);break;default:Ps(n,r,o,u)}}function ao(n,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,_=r,T=o,D=u,Y=_.flags;switch(_.tag){case 0:case 11:case 15:ao(g,_,T,D,f),ql(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?ao(g,_,T,D,f):Hl(g,_):(ne._visibility|=2,ao(g,_,T,D,f)),f&&Y&2048&&_m(_.alternate,_);break;case 24:ao(g,_,T,D,f),f&&Y&2048&&wm(_.alternate,_);break;default:ao(g,_,T,D,f)}r=r.sibling}}function Hl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:Hl(o,u),f&2048&&_m(u.alternate,u);break;case 24:Hl(o,u),f&2048&&wm(u.alternate,u);break;default:Hl(o,u)}r=r.sibling}}var $l=8192;function oo(n){if(n.subtreeFlags&$l)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 26:oo(n),n.flags&$l&&n.memoizedState!==null&&DN(os,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var r=os;os=pd(n.stateNode.containerInfo),oo(n),os=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=$l,$l=16777216,oo(n),$l=r):oo(n));break;default:oo(n)}}function qv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Gl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,Hv(u,n)}qv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Gl(n),n.flags&2048&&Yr(9,n,n.return);break;case 3:Gl(n);break;case 12:Gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,sd(n)):Gl(n);break;default:Gl(n)}}function sd(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,Hv(u,n)}qv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),sd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,sd(r));break;default:sd(r)}n=n.sibling}}function Hv(n,r){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Yr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=n;Ft!==null;){u=Ft;var f=u.sibling,g=u.return;if(Mv(u),u===o){Ft=null;break e}if(f!==null){f.return=g,Ft=f;break e}Ft=g}}}var XT={getCacheForType:function(n){var r=sn(Mt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},WT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ve=null,$e=0,et=0,Pn=null,Xr=!1,lo=!1,Em=!1,mr=0,xt=0,Wr=0,oa=0,Tm=0,Wn=0,co=0,Yl=null,_n=null,Nm=!1,Am=0,rd=1/0,id=null,Zr=null,Qt=0,Jr=null,uo=null,ho=0,Sm=0,Rm=null,$v=null,Kl=0,jm=null;function Dn(){if((Je&2)!==0&&$e!==0)return $e&-$e;if(J.T!==null){var n=Za;return n!==0?n:Om()}return Dr()}function Gv(){Wn===0&&(Wn=($e&536870912)===0||Ke?sl():536870912);var n=Xn.current;return n!==null&&(n.flags|=32),Wn}function Mn(n,r,o){(n===ot&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(fo(n,0),ei(n,$e,Wn,!1)),Gs(n,o),((Je&2)===0||n!==ot)&&(n===ot&&((Je&2)===0&&(oa|=o),xt===4&&ei(n,$e,Wn,!1)),Ds(n))}function Yv(n,r,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Pi(n,r),f=u?eN(n,r):km(n,r,!0),g=u;do{if(f===0){lo&&!u&&ei(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!ZT(o)){f=km(n,r,!1),g=!1;continue}if(f===2){if(g=r,n.errorRecoveryDisabledLanes&g)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=n;f=Yl;var D=T.current.memoizedState.isDehydrated;if(D&&(fo(T,_).flags|=256),_=km(T,_,!1),_!==2){if(Em&&!D){T.errorRecoveryDisabledLanes|=g,oa|=g,f=4;break e}g=_n,_n=f,g!==null&&(_n===null?_n=g:_n.push.apply(_n,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){fo(n,0),ei(n,r,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ei(u,r,Wn,!Xr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Am+300-Vt(),10<f)){if(ei(u,r,Wn,!Xr),ja(u,0,!0)!==0)break e;u.timeoutHandle=wx(Kv.bind(null,u,o,_n,id,Nm,r,Wn,oa,co,Xr,g,2,-0,0),f);break e}Kv(u,o,_n,id,Nm,r,Wn,oa,co,Xr,g,0,-0,0)}}break}while(!0);Ds(n)}function Kv(n,r,o,u,f,g,_,T,D,Y,ne,re,K,Q){if(n.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:PN},Bv(r),re=MN(),re!==null)){n.cancelPendingCommit=re(tx.bind(null,n,r,g,o,u,f,_,T,D,ne,1,K,Q)),ei(n,g,_,!Y);return}tx(n,r,g,o,u,f,_,T,D)}function ZT(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!jn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ei(n,r,o,u){r&=~Tm,r&=~oa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var g=31-nn(f),_=1<<g;u[g]=-1,f&=~_}o!==0&&xs(n,o,r)}function ad(){return(Je&6)===0?(Ql(0),!1):!0}function Im(){if(Ve!==null){if(et===0)var n=Ve.return;else n=Ve,ar=ta=null,Yf(n),ro=null,Vl=0,n=Ve;for(;n!==null;)Sv(n.alternate,n),n=n.return;Ve=null}}function fo(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,gN(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Im(),ot=n,Ve=o=sr(n.current,null),$e=r,et=0,Pn=null,Xr=!1,lo=Pi(n,r),Em=!1,co=Wn=Tm=oa=Wr=xt=0,_n=Yl=null,Nm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-nn(u),g=1<<f;r|=n[f],u&=~g}return mr=r,Ru(),o}function Qv(n,r){Oe=null,J.H=Yu,r===Il||r===Lu?(r=hy(),et=3):r===cy?(r=hy(),et=4):et=r===fv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Ve===null&&(xt=1,Zu(n,Gn(r,n.current)))}function Xv(){var n=J.H;return J.H=Yu,n===null?Yu:n}function Wv(){var n=J.A;return J.A=XT,n}function Cm(){xt=4,Xr||($e&4194048)!==$e&&Xn.current!==null||(lo=!0),(Wr&134217727)===0&&(oa&134217727)===0||ot===null||ei(ot,$e,Wn,!1)}function km(n,r,o){var u=Je;Je|=2;var f=Xv(),g=Wv();(ot!==n||$e!==r)&&(id=null,fo(n,r)),r=!1;var _=xt;e:do try{if(et!==0&&Ve!==null){var T=Ve,D=Pn;switch(et){case 8:Im(),_=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var Y=et;if(et=0,Pn=null,mo(n,T,D,Y),o&&lo){_=0;break e}break;default:Y=et,et=0,Pn=null,mo(n,T,D,Y)}}JT(),_=xt;break}catch(ne){Qv(n,ne)}while(!0);return r&&n.shellSuspendCounter++,ar=ta=null,Je=u,J.H=f,J.A=g,Ve===null&&(ot=null,$e=0,Ru()),_}function JT(){for(;Ve!==null;)Zv(Ve)}function eN(n,r){var o=Je;Je|=2;var u=Xv(),f=Wv();ot!==n||$e!==r?(id=null,rd=Vt()+500,fo(n,r)):lo=Pi(n,r);e:do try{if(et!==0&&Ve!==null){r=Ve;var g=Pn;t:switch(et){case 1:et=0,Pn=null,mo(n,r,g,1);break;case 2:case 9:if(uy(g)){et=0,Pn=null,Jv(r);break}r=function(){et!==2&&et!==9||ot!==n||(et=7),Ds(n)},g.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:uy(g)?(et=0,Pn=null,Jv(r)):(et=0,Pn=null,mo(n,r,g,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(!_||Dx(_)){et=0,Pn=null;var D=T.sibling;if(D!==null)Ve=D;else{var Y=T.return;Y!==null?(Ve=Y,od(Y)):Ve=null}break t}}et=0,Pn=null,mo(n,r,g,5);break;case 6:et=0,Pn=null,mo(n,r,g,6);break;case 8:Im(),xt=6;break e;default:throw Error(i(462))}}tN();break}catch(ne){Qv(n,ne)}while(!0);return ar=ta=null,J.H=u,J.A=f,Je=o,Ve!==null?0:(ot=null,$e=0,Ru(),xt)}function tN(){for(;Ve!==null&&!tn();)Zv(Ve)}function Zv(n){var r=Nv(n.alternate,n,mr);n.memoizedProps=n.pendingProps,r===null?od(n):Ve=r}function Jv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=xv(o,r,r.pendingProps,r.type,void 0,$e);break;case 11:r=xv(o,r,r.pendingProps,r.type.render,r.ref,$e);break;case 5:Yf(r);default:Sv(o,r),r=Ve=ey(r,mr),r=Nv(o,r,mr)}n.memoizedProps=n.pendingProps,r===null?od(n):Ve=r}function mo(n,r,o,u){ar=ta=null,Yf(r),ro=null,Vl=0;var f=r.return;try{if(HT(n,f,r,o,$e)){xt=1,Zu(n,Gn(o,n.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;xt=1,Zu(n,Gn(o,n.current)),Ve=null;return}r.flags&32768?(Ke||u===1?n=!0:lo||($e&536870912)!==0?n=!1:(Xr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ex(r,n)):od(r)}function od(n){var r=n;do{if((r.flags&32768)!==0){ex(r,Xr);return}n=r.return;var o=GT(r.alternate,r,mr);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);xt===0&&(xt=5)}function ex(n,r){do{var o=YT(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);xt=6,Ve=null}function tx(n,r,o,u,f,g,_,T,D){n.cancelPendingCommit=null;do ld();while(Qt!==0);if((Je&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=wf,il(n,o,g,_,T,D),n===ot&&(Ve=ot=null,$e=0),uo=r,Jr=n,ho=o,Sm=g,Rm=f,$v=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,iN(vs,function(){return ax(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=he.p,he.p=2,_=Je,Je|=4;try{KT(n,r,o)}finally{Je=_,he.p=f,J.T=u}}Qt=1,nx(),sx(),rx()}}function nx(){if(Qt===1){Qt=0;var n=Jr,r=uo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=he.p;he.p=2;var f=Je;Je|=4;try{Uv(r,n);var g=Hm,_=H0(n.containerInfo),T=g.focusedElem,D=g.selectionRange;if(_!==T&&T&&T.ownerDocument&&F0(T.ownerDocument.documentElement,T)){if(D!==null&&yf(T)){var Y=D.start,ne=D.end;if(ne===void 0&&(ne=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(ne,T.value.length);else{var re=T.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var Q=K.getSelection(),je=T.textContent.length,Te=Math.min(D.start,je),rt=D.end===void 0?Te:Math.min(D.end,je);!Q.extend&&Te>rt&&(_=rt,rt=Te,Te=_);var H=q0(T,Te),B=q0(T,rt);if(H&&B&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var G=re.createRange();G.setStart(H.node,H.offset),Q.removeAllRanges(),Te>rt?(Q.addRange(G),Q.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),Q.addRange(G))}}}}for(re=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var se=re[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}bd=!!Fm,Hm=Fm=null}finally{Je=f,he.p=u,J.T=o}}n.current=r,Qt=2}}function sx(){if(Qt===2){Qt=0;var n=Jr,r=uo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=he.p;he.p=2;var f=Je;Je|=4;try{Dv(n,r.alternate,r)}finally{Je=f,he.p=u,J.T=o}}Qt=3}}function rx(){if(Qt===4||Qt===3){Qt=0,vn();var n=Jr,r=uo,o=ho,u=$v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,uo=Jr=null,ix(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Zr=null),Ia(o),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,f=he.p,he.p=2,J.T=null;try{for(var g=n.onRecoverableError,_=0;_<u.length;_++){var T=u[_];g(T.value,{componentStack:T.stack})}}finally{J.T=r,he.p=f}}(ho&3)!==0&&ld(),Ds(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===jm?Kl++:(Kl=0,jm=n):Kl=0,Ql(0)}}function ix(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Rl(r)))}function ld(n){return nx(),sx(),rx(),ax()}function ax(){if(Qt!==5)return!1;var n=Jr,r=Sm;Sm=0;var o=Ia(ho),u=J.T,f=he.p;try{he.p=32>o?32:o,J.T=null,o=Rm,Rm=null;var g=Jr,_=ho;if(Qt=0,uo=Jr=null,ho=0,(Je&6)!==0)throw Error(i(331));var T=Je;if(Je|=4,Fv(g.current),zv(g,g.current,_,o),Je=T,Ql(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{he.p=f,J.T=u,ix(n,r)}}function ox(n,r,o){r=Gn(o,r),r=om(n.stateNode,r,2),n=Fr(n,r,2),n!==null&&(Gs(n,2),Ds(n))}function it(n,r,o){if(n.tag===3)ox(n,n,o);else for(;r!==null;){if(r.tag===3){ox(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){n=Gn(o,n),o=dv(2),u=Fr(r,o,2),u!==null&&(hv(o,u,r,n),Gs(u,2),Ds(u));break}}r=r.return}}function Pm(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new WT;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Em=!0,f.add(o),n=nN.bind(null,n,r,o),r.then(n,n))}function nN(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ot===n&&($e&o)===o&&(xt===4||xt===3&&($e&62914560)===$e&&300>Vt()-Am?(Je&2)===0&&fo(n,0):Tm|=o,co===$e&&(co=0)),Ds(n)}function lx(n,r){r===0&&(r=rl()),n=Ka(n,r),n!==null&&(Gs(n,r),Ds(n))}function sN(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),lx(n,o)}function rN(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),lx(n,o)}function iN(n,r){return Pe(n,r)}var cd=null,po=null,Dm=!1,ud=!1,Mm=!1,la=0;function Ds(n){n!==po&&n.next===null&&(po===null?cd=po=n:po=po.next=n),ud=!0,Dm||(Dm=!0,oN())}function Ql(n,r){if(!Mm&&ud){Mm=!0;do for(var o=!1,u=cd;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var _=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-nn(42|n)+1)-1,g&=f&~(_&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,hx(u,g))}else g=$e,g=ja(u,u===ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Pi(u,g)||(o=!0,hx(u,g));u=u.next}while(o);Mm=!1}}function aN(){cx()}function cx(){ud=Dm=!1;var n=0;la!==0&&(pN()&&(n=la),la=0);for(var r=Vt(),o=null,u=cd;u!==null;){var f=u.next,g=ux(u,r);g===0?(u.next=null,o===null?cd=f:o.next=f,f===null&&(po=o)):(o=u,(n!==0||(g&3)!==0)&&(ud=!0)),u=f}Ql(n)}function ux(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var _=31-nn(g),T=1<<_,D=f[_];D===-1?((T&o)===0||(T&u)!==0)&&(f[_]=nl(T,r)):D<=r&&(n.expiredLanes|=T),g&=~T}if(r=ot,o=$e,o=ja(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&at(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Pi(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&at(u),Ia(o)){case 2:case 8:o=zn;break;case 32:o=vs;break;case 268435456:o=kr;break;default:o=vs}return u=dx.bind(null,n),o=Pe(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&at(u),n.callbackPriority=2,n.callbackNode=null,2}function dx(n,r){if(Qt!==0&&Qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ld()&&n.callbackNode!==o)return null;var u=$e;return u=ja(n,n===ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Yv(n,u,r),ux(n,Vt()),n.callbackNode!=null&&n.callbackNode===o?dx.bind(null,n):null)}function hx(n,r){if(ld())return null;Yv(n,r,!0)}function oN(){yN(function(){(Je&6)!==0?Pe(un,aN):cx()})}function Om(){return la===0&&(la=sl()),la}function fx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oa(""+n)}function mx(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function lN(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=fx((f[At]||null).action),_=u.submitter;_&&(r=(r=_[At]||null)?fx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var T=new La("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(la!==0){var D=_?mx(f,_):new FormData(f);nm(o,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(T.preventDefault(),D=_?mx(f,_):new FormData(f),nm(o,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var Lm=0;Lm<_f.length;Lm++){var Um=_f[Lm],cN=Um.toLowerCase(),uN=Um[0].toUpperCase()+Um.slice(1);as(cN,"on"+uN)}as(Y0,"onAnimationEnd"),as(K0,"onAnimationIteration"),as(Q0,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(ST,"onTransitionRun"),as(RT,"onTransitionStart"),as(jT,"onTransitionCancel"),as(X0,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function px(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],D=T.instance,Y=T.currentTarget;if(T=T.listener,D!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=Y;try{g(f)}catch(ne){Wu(ne)}f.currentTarget=null,g=D}else for(_=0;_<u.length;_++){if(T=u[_],D=T.instance,Y=T.currentTarget,T=T.listener,D!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=Y;try{g(f)}catch(ne){Wu(ne)}f.currentTarget=null,g=D}}}}function ze(n,r){var o=r[ol];o===void 0&&(o=r[ol]=new Set);var u=n+"__bubble";o.has(u)||(gx(r,n,2,!1),o.add(u))}function Vm(n,r,o){var u=0;r&&(u|=4),gx(o,n,u,r)}var dd="_reactListening"+Math.random().toString(36).slice(2);function zm(n){if(!n[dd]){n[dd]=!0,ll.forEach(function(o){o!=="selectionchange"&&(dN.has(o)||Vm(o,!1,n),Vm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[dd]||(r[dd]=!0,Vm("selectionchange",!1,r))}}function gx(n,r,o,u){switch(zx(r)){case 2:var f=UN;break;case 8:f=VN;break;default:f=ep}o=f.bind(null,r,o,n),f=void 0,!Hn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function Bm(n,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=Ys(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=g=_;continue e}T=T.parentNode}}u=u.return}fu(function(){var Y=g,ne=Fn(o),re=[];e:{var K=W0.get(n);if(K!==void 0){var Q=La,je=n;switch(n){case"keypress":if(Ns(o)===0)break e;case"keydown":case"keyup":Q=Fa;break;case"focusin":je="focus",Q=za;break;case"focusout":je="blur",Q=za;break;case"beforeblur":case"afterblur":Q=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_u;break;case Y0:case K0:case Q0:Q=Ba;break;case X0:Q=Eu;break;case"scroll":case"scrollend":Q=mu;break;case"wheel":Q=Ha;break;case"copy":case"cut":case"paste":Q=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=bl;break;case"toggle":case"beforetoggle":Q=Nu}var Te=(r&4)!==0,rt=!Te&&(n==="scroll"||n==="scrollend"),H=Te?K!==null?K+"Capture":null:K;Te=[];for(var B=Y,G;B!==null;){var se=B;if(G=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||G===null||H===null||(se=Bi(B,H),se!=null&&Te.push(Wl(B,se,G))),rt)break;B=B.return}0<Te.length&&(K=new Q(K,je,null,o,ne),re.push({event:K,listeners:Te}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",K&&o!==Ws&&(je=o.relatedTarget||o.fromElement)&&(Ys(je)||je[Bn]))break e;if((Q||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(je=o.relatedTarget||o.toElement,Q=Y,je=je?Ys(je):null,je!==null&&(rt=c(je),Te=je.tag,je!==rt||Te!==5&&Te!==27&&Te!==6)&&(je=null)):(Q=null,je=Y),Q!==je)){if(Te=$n,se="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Te=bl,se="onPointerLeave",H="onPointerEnter",B="pointer"),rt=Q==null?K:_s(Q),G=je==null?K:_s(je),K=new Te(se,B+"leave",Q,o,ne),K.target=rt,K.relatedTarget=G,se=null,Ys(ne)===Y&&(Te=new Te(H,B+"enter",je,o,ne),Te.target=G,Te.relatedTarget=rt,se=Te),rt=se,Q&&je)t:{for(Te=Q,H=je,B=0,G=Te;G;G=go(G))B++;for(G=0,se=H;se;se=go(se))G++;for(;0<B-G;)Te=go(Te),B--;for(;0<G-B;)H=go(H),G--;for(;B--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=go(Te),H=go(H)}Te=null}else Te=null;Q!==null&&yx(re,K,Q,Te,!1),je!==null&&rt!==null&&yx(re,rt,je,Te,!0)}}e:{if(K=Y?_s(Y):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var ye=O0;else if(Dt(K))if(L0)ye=TT;else{ye=wT;var Ue=_T}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&fl(Y.elementType)&&(ye=O0):ye=ET;if(ye&&(ye=ye(n,Y))){nr(re,ye,o,ne);break e}Ue&&Ue(n,K,Y),n==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ur(K,"number",K.value)}switch(Ue=Y?_s(Y):window,n){case"focusin":(Dt(Ue)||Ue.contentEditable==="true")&&($a=Ue,vf=Y,El=null);break;case"focusout":El=vf=$a=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,$0(re,o,ne);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":$0(re,o,ne)}var be;if(Rs)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Fe?Z(n,o)&&(Ne="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(b&&o.locale!=="ko"&&(Fe||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Fe&&(be=pl()):(Ts=ne,Vr="value"in Ts?Ts.value:Ts.textContent,Fe=!0)),Ue=hd(Y,Ne),0<Ue.length&&(Ne=new vl(Ne,n,null,o,ne),re.push({event:Ne,listeners:Ue}),be?Ne.data=be:(be=de(o),be!==null&&(Ne.data=be)))),(be=v?Pt(n,o):He(n,o))&&(Ne=hd(Y,"onBeforeInput"),0<Ne.length&&(Ue=new vl("onBeforeInput","beforeinput",null,o,ne),re.push({event:Ue,listeners:Ne}),Ue.data=be)),lN(re,n,Y,o,ne)}px(re,r)})}function Wl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function hd(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Bi(n,o),f!=null&&u.unshift(Wl(n,f,g)),f=Bi(n,r),f!=null&&u.push(Wl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function yx(n,r,o,u,f){for(var g=r._reactName,_=[];o!==null&&o!==u;){var T=o,D=T.alternate,Y=T.stateNode;if(T=T.tag,D!==null&&D===u)break;T!==5&&T!==26&&T!==27||Y===null||(D=Y,f?(Y=Bi(o,g),Y!=null&&_.unshift(Wl(o,Y,D))):f||(Y=Bi(o,g),Y!=null&&_.push(Wl(o,Y,D)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var hN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function vx(n){return(typeof n=="string"?n:""+n).replace(hN,`
`).replace(fN,"")}function xx(n,r){return r=vx(r),vx(n)===r}function fd(){}function st(n,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||qn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&qn(n,""+u);break;case"className":ws(n,"class",u);break;case"tabIndex":ws(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(n,o,u);break;case"style":hl(n,u,g);break;case"data":if(r!=="object"){ws(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Oa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(n,r,"name",f.name,f,null),st(n,r,"formEncType",f.formEncType,f,null),st(n,r,"formMethod",f.formMethod,f,null),st(n,r,"formTarget",f.formTarget,f,null)):(st(n,r,"encType",f.encType,f,null),st(n,r,"method",f.method,f,null),st(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Oa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=fd);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Oa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ze("beforetoggle",n),ze("toggle",n),Lr(n,"popover",u);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Lr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=df.get(o)||o,Lr(n,o,u))}}function qm(n,r,o,u,f,g){switch(o){case"style":hl(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?qn(n,u):(typeof u=="number"||typeof u=="bigint")&&qn(n,""+u);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"onClick":u!=null&&(n.onclick=fd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=n[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Lr(n,o,u)}}}function Xt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(n,r,g,_,o,null)}}f&&st(n,r,"srcSet",o.srcSet,o,null),u&&st(n,r,"src",o.src,o,null);return;case"input":ze("invalid",n);var T=g=_=f=null,D=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":_=ne;break;case"checked":D=ne;break;case"defaultChecked":Y=ne;break;case"value":g=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:st(n,r,u,ne,o,null)}}Ui(n,g,T,D,Y,_,f,!1),Ma(n);return;case"select":ze("invalid",n),u=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:st(n,r,f,T,o,null)}r=g,o=_,n.multiple=!!u,r!=null?Xs(n,!!u,r,!1):o!=null&&Xs(n,!!u,o,!0);return;case"textarea":ze("invalid",n),g=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(T=o[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:st(n,r,_,T,o,null)}Vi(n,u,f,g),Ma(n);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(n,r,D,u,o,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(u=0;u<Xl.length;u++)ze(Xl[u],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(n,r,Y,u,o,null)}return;default:if(fl(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&qm(n,r,ne,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&st(n,r,T,u,o,null))}function mN(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,T=null,D=null,Y=null,ne=null;for(Q in o){var re=o[Q];if(o.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=re;default:u.hasOwnProperty(Q)||st(n,r,Q,null,u,re)}}for(var K in u){var Q=u[K];if(re=o[K],u.hasOwnProperty(K)&&(Q!=null||re!=null))switch(K){case"type":g=Q;break;case"name":f=Q;break;case"checked":Y=Q;break;case"defaultChecked":ne=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==re&&st(n,r,K,Q,u,re)}}Rn(n,_,T,D,Y,ne,g,f);return;case"select":Q=_=T=K=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(g)||st(n,r,g,null,u,D)}for(f in u)if(g=u[f],D=o[f],u.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":K=g;break;case"defaultValue":T=g;break;case"multiple":_=g;default:g!==D&&st(n,r,f,g,u,D)}r=T,o=_,u=Q,K!=null?Xs(n,!!o,K,!1):!!u!=!!o&&(r!=null?Xs(n,!!o,r,!0):Xs(n,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(n,r,T,null,u,f)}for(_ in u)if(f=u[_],g=o[_],u.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&st(n,r,_,f,u,g)}tt(n,K,Q);return;case"option":for(var je in o)if(K=o[je],o.hasOwnProperty(je)&&K!=null&&!u.hasOwnProperty(je))switch(je){case"selected":n.selected=!1;break;default:st(n,r,je,null,u,K)}for(D in u)if(K=u[D],Q=o[D],u.hasOwnProperty(D)&&K!==Q&&(K!=null||Q!=null))switch(D){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:st(n,r,D,K,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)K=o[Te],o.hasOwnProperty(Te)&&K!=null&&!u.hasOwnProperty(Te)&&st(n,r,Te,null,u,K);for(Y in u)if(K=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&K!==Q&&(K!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:st(n,r,Y,K,u,Q)}return;default:if(fl(r)){for(var rt in o)K=o[rt],o.hasOwnProperty(rt)&&K!==void 0&&!u.hasOwnProperty(rt)&&qm(n,r,rt,void 0,u,K);for(ne in u)K=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||K===Q||K===void 0&&Q===void 0||qm(n,r,ne,K,u,Q);return}}for(var H in o)K=o[H],o.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&st(n,r,H,null,u,K);for(re in u)K=u[re],Q=o[re],!u.hasOwnProperty(re)||K===Q||K==null&&Q==null||st(n,r,re,K,u,Q)}var Fm=null,Hm=null;function md(n){return n.nodeType===9?n:n.ownerDocument}function bx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _x(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function $m(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function pN(){var n=window.event;return n&&n.type==="popstate"?n===Gm?!1:(Gm=n,!0):(Gm=null,!1)}var wx=typeof setTimeout=="function"?setTimeout:void 0,gN=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(n){return Ex.resolve(null).then(n).catch(vN)}:wx;function vN(n){setTimeout(function(){throw n})}function ti(n){return n==="head"}function Tx(n,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var _=n.ownerDocument;if(o&1&&Zl(_.documentElement),o&2&&Zl(_.body),o&4)for(o=_.head,Zl(o),_=o.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Di]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=T}}if(f===0){n.removeChild(g),ac(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);ac(r)}function Ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ym(o),Or(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function xN(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Di])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ls(n.nextSibling),n===null)break}return null}function bN(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ls(n.nextSibling),n===null))return null;return n}function Km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function _N(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ls(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Qm=null;function Nx(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Ax(n,r,o){switch(r=md(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Zl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Or(n)}var Zn=new Map,Sx=new Set;function pd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pr=he.d;he.d={f:wN,r:EN,D:TN,C:NN,L:AN,m:SN,X:jN,S:RN,M:IN};function wN(){var n=pr.f(),r=ad();return n||r}function EN(n){var r=bs(n);r!==null&&r.tag===5&&r.type==="form"?Yy(r):pr.r(n)}var yo=typeof document>"u"?null:document;function Rx(n,r,o){var u=yo;if(u&&typeof r=="string"&&r){var f=St(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Sx.has(f)||(Sx.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Xt(r,"link",n),_t(r),u.head.appendChild(r)))}}function TN(n){pr.D(n),Rx("dns-prefetch",n,null)}function NN(n,r){pr.C(n,r),Rx("preconnect",n,r)}function AN(n,r,o){pr.L(n,r,o);var u=yo;if(u&&n&&r){var f='link[rel="preload"][as="'+St(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+St(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+St(o.imageSizes)+'"]')):f+='[href="'+St(n)+'"]';var g=f;switch(r){case"style":g=vo(n);break;case"script":g=xo(n)}Zn.has(g)||(n=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Zn.set(g,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Jl(g))||r==="script"&&u.querySelector(ec(g))||(r=u.createElement("link"),Xt(r,"link",n),_t(r),u.head.appendChild(r)))}}function SN(n,r){pr.m(n,r);var o=yo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(n)}if(!Zn.has(g)&&(n=x({rel:"modulepreload",href:n},r),Zn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(g)))return}u=o.createElement("link"),Xt(u,"link",n),_t(u),o.head.appendChild(u)}}}function RN(n,r,o){pr.S(n,r,o);var u=yo;if(u&&n){var f=dn(u).hoistableStyles,g=vo(n);r=r||"default";var _=f.get(g);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(Jl(g)))T.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Zn.get(g))&&Xm(n,o);var D=_=u.createElement("link");_t(D),Xt(D,"link",n),D._p=new Promise(function(Y,ne){D.onload=Y,D.onerror=ne}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(g,_)}}}function jN(n,r){pr.X(n,r);var o=yo;if(o&&n){var u=dn(o).hoistableScripts,f=xo(n),g=u.get(f);g||(g=o.querySelector(ec(f)),g||(n=x({src:n,async:!0},r),(r=Zn.get(f))&&Wm(n,r),g=o.createElement("script"),_t(g),Xt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function IN(n,r){pr.M(n,r);var o=yo;if(o&&n){var u=dn(o).hoistableScripts,f=xo(n),g=u.get(f);g||(g=o.querySelector(ec(f)),g||(n=x({src:n,async:!0,type:"module"},r),(r=Zn.get(f))&&Wm(n,r),g=o.createElement("script"),_t(g),Xt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function jx(n,r,o,u){var f=(f=Re.current)?pd(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=vo(o.href),o=dn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=vo(o.href);var g=dn(f).hoistableStyles,_=g.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,_),(g=f.querySelector(Jl(n)))&&!g._p&&(_.instance=g,_.state.loading=5),Zn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(n,o),g||CN(f,n,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xo(o),o=dn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function vo(n){return'href="'+St(n)+'"'}function Jl(n){return'link[rel="stylesheet"]['+n+"]"}function Ix(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function CN(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Xt(r,"link",o),_t(r),n.head.appendChild(r))}function xo(n){return'[src="'+St(n)+'"]'}function ec(n){return"script[async]"+n}function Cx(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+St(o.href)+'"]');if(u)return r.instance=u,_t(u),u;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),_t(u),Xt(u,"style",f),gd(u,o.precedence,n),r.instance=u;case"stylesheet":f=vo(o.href);var g=n.querySelector(Jl(f));if(g)return r.state.loading|=4,r.instance=g,_t(g),g;u=Ix(o),(f=Zn.get(f))&&Xm(u,f),g=(n.ownerDocument||n).createElement("link"),_t(g);var _=g;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Xt(g,"link",u),r.state.loading|=4,gd(g,o.precedence,n),r.instance=g;case"script":return g=xo(o.src),(f=n.querySelector(ec(g)))?(r.instance=f,_t(f),f):(u=o,(f=Zn.get(g))&&(u=x({},o),Wm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),Xt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,gd(u,o.precedence,n));return r.instance}function gd(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===r)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Wm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var yd=null;function kx(n,r,o){if(yd===null){var u=new Map,f=yd=new Map;f.set(o,u)}else f=yd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Di]||g[kt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=n+_;var T=u.get(_);T?T.push(g):u.set(_,[g])}}return u}function Px(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function kN(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var tc=null;function PN(){}function DN(n,r,o){if(tc===null)throw Error(i(475));var u=tc;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=vo(o.href),g=n.querySelector(Jl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=vd.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=g,_t(g);return}g=n.ownerDocument||n,o=Ix(o),(f=Zn.get(f))&&Xm(o,f),g=g.createElement("link"),_t(g);var _=g;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Xt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=vd.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function MN(){if(tc===null)throw Error(i(475));var n=tc;return n.stylesheets&&n.count===0&&Zm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Zm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function vd(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xd=null;function Zm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xd=new Map,r.forEach(ON,n),xd=null,vd.call(n))}function ON(n,r){if(!(r.state.loading&4)){var o=xd.get(n);if(o)var u=o.get(null);else{o=new Map,xd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||u,g===u&&o.set(null,f),o.set(_,f),this.count++,u=vd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var nc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function LN(n,r,o,u,f,g,_,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Mx(n,r,o,u,f,g,_,T,D,Y,ne,re){return n=new LN(n,r,o,_,T,D,Y,re),r=1,g===!0&&(r|=24),g=In(3,null,null,r),n.current=g,g.stateNode=n,r=Pf(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Lf(g),n}function Ox(n){return n?(n=Qa,n):Qa}function Lx(n,r,o,u,f,g){f=Ox(f),u.context===null?u.context=f:u.pendingContext=f,u=qr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Fr(n,u,r),o!==null&&(Mn(o,n,r),kl(o,n,r))}function Ux(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Jm(n,r){Ux(n,r),(n=n.alternate)&&Ux(n,r)}function Vx(n){if(n.tag===13){var r=Ka(n,67108864);r!==null&&Mn(r,n,67108864),Jm(n,67108864)}}var bd=!0;function UN(n,r,o,u){var f=J.T;J.T=null;var g=he.p;try{he.p=2,ep(n,r,o,u)}finally{he.p=g,J.T=f}}function VN(n,r,o,u){var f=J.T;J.T=null;var g=he.p;try{he.p=8,ep(n,r,o,u)}finally{he.p=g,J.T=f}}function ep(n,r,o,u){if(bd){var f=tp(u);if(f===null)Bm(n,r,u,_d,o),Bx(n,u);else if(BN(f,n,r,o,u))u.stopPropagation();else if(Bx(n,u),r&4&&-1<zN.indexOf(n)){for(;f!==null;){var g=bs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=ss(g.pendingLanes);if(_!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-nn(_);T.entanglements[1]|=D,_&=~D}Ds(g),(Je&6)===0&&(rd=Vt()+500,Ql(0))}}break;case 13:T=Ka(g,2),T!==null&&Mn(T,g,2),ad(),Jm(g,2)}if(g=tp(u),g===null&&Bm(n,r,u,_d,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Bm(n,r,u,null,o)}}function tp(n){return n=Fn(n),np(n)}var _d=null;function np(n){if(_d=null,n=Ys(n),n!==null){var r=c(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return _d=n,null}function zx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case un:return 2;case zn:return 8;case vs:case Cr:return 32;case kr:return 268435456;default:return 32}default:return 32}}var sp=!1,ni=null,si=null,ri=null,sc=new Map,rc=new Map,ii=[],zN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bx(n,r){switch(n){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":sc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(r.pointerId)}}function ic(n,r,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=bs(r),r!==null&&Vx(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function BN(n,r,o,u,f){switch(r){case"focusin":return ni=ic(ni,n,r,o,u,f),!0;case"dragenter":return si=ic(si,n,r,o,u,f),!0;case"mouseover":return ri=ic(ri,n,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return sc.set(g,ic(sc.get(g)||null,n,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,rc.set(g,ic(rc.get(g)||null,n,r,o,u,f)),!0}return!1}function qx(n){var r=Ys(n.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,au(n.priority,function(){if(o.tag===13){var u=Dn();u=Pr(u);var f=Ka(o,u);f!==null&&Mn(f,o,u),Jm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=tp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ws=u,o.target.dispatchEvent(u),Ws=null}else return r=bs(o),r!==null&&Vx(r),n.blockedOn=o,!1;r.shift()}return!0}function Fx(n,r,o){wd(n)&&o.delete(r)}function qN(){sp=!1,ni!==null&&wd(ni)&&(ni=null),si!==null&&wd(si)&&(si=null),ri!==null&&wd(ri)&&(ri=null),sc.forEach(Fx),rc.forEach(Fx)}function Ed(n,r){n.blockedOn===r&&(n.blockedOn=null,sp||(sp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qN)))}var Td=null;function Hx(n){Td!==n&&(Td=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Td===n&&(Td=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(np(u||o)===null)continue;break}var g=bs(o);g!==null&&(n.splice(r,3),r-=3,nm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ac(n){function r(D){return Ed(D,n)}ni!==null&&Ed(ni,n),si!==null&&Ed(si,n),ri!==null&&Ed(ri,n),sc.forEach(r),rc.forEach(r);for(var o=0;o<ii.length;o++){var u=ii[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ii.length&&(o=ii[0],o.blockedOn===null);)qx(o),o.blockedOn===null&&ii.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],_=f[At]||null;if(typeof g=="function")_||Hx(o);else if(_){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[At]||null)T=_.formAction;else if(np(f)!==null)continue}else T=_.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),Hx(o)}}}function rp(n){this._internalRoot=n}Nd.prototype.render=rp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Dn();Lx(o,u,n,r,null,null)},Nd.prototype.unmount=rp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Lx(n.current,2,null,n,null,null),ad(),r[Bn]=null}};function Nd(n){this._internalRoot=n}Nd.prototype.unstable_scheduleHydration=function(n){if(n){var r=Dr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<ii.length&&r!==0&&r<ii[o].priority;o++);ii.splice(o,0,n),o===0&&qx(n)}};var $x=e.version;if($x!=="19.1.0")throw Error(i(527,$x,"19.1.0"));he.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var FN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{yt=Ad.inject(FN),Ze=Ad}catch{}}return lc.createRoot=function(n,r){if(!a(n))throw Error(i(299));var o=!1,u="",f=ov,g=lv,_=cv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Mx(n,1,!1,null,null,o,u,f,g,_,T,null),n[Bn]=r.current,zm(n),new rp(r)},lc.hydrateRoot=function(n,r,o){if(!a(n))throw Error(i(299));var u=!1,f="",g=ov,_=lv,T=cv,D=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),r=Mx(n,1,!0,r,o??null,u,f,g,_,T,D,Y),r.context=Ox(null),o=r.current,u=Dn(),u=Pr(u),f=qr(u),f.callback=null,Fr(o,f,u),o=u,r.current.lanes=o,Gs(r,o),Ds(r),n[Bn]=r.current,zm(n),new Nd(r)},lc.version="19.1.0",lc}var tb;function JN(){if(tb)return op.exports;tb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),op.exports=ZN(),op.exports}var eA=JN(),cc={},nb;function tA(){if(nb)return cc;nb=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.parse=d,cc.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,R){const N=new c,F=E.length;if(F<2)return N;const V=R?.decode||x;let M=0;do{const z=E.indexOf("=",M);if(z===-1)break;const q=E.indexOf(";",M),W=q===-1?F:q;if(z>W){M=E.lastIndexOf(";",z-1)+1;continue}const X=p(E,M,z),oe=m(E,z,X),O=E.slice(X,oe);if(N[O]===void 0){let S=p(E,z+1,W),C=m(E,W,S);const U=V(E.slice(S,C));N[O]=U}M=W+1}while(M<F);return N}function p(E,R,N){do{const F=E.charCodeAt(R);if(F!==32&&F!==9)return R}while(++R<N);return N}function m(E,R,N){for(;R>N;){const F=E.charCodeAt(--R);if(F!==32&&F!==9)return R+1}return N}function y(E,R,N){const F=N?.encode||encodeURIComponent;if(!s.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=F(R);if(!e.test(V))throw new TypeError(`argument val is invalid: ${R}`);let M=E+"="+V;if(!N)return M;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);M+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);M+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);M+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);M+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(M+="; HttpOnly"),N.secure&&(M+="; Secure"),N.partitioned&&(M+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return M}function x(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return a.call(E)==="[object Date]"}return cc}tA();var sb="popstate";function nA(s={}){function e(i,a){let{pathname:c,search:d,hash:p}=i.location;return Ip("",{pathname:c,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Sc(a)}return rA(e,t,null,s)}function ft(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function hs(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sA(){return Math.random().toString(36).substring(2,10)}function rb(s,e){return{usr:s.state,key:s.key,idx:e}}function Ip(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:t,key:e&&e.key||i||sA()}}function Sc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Fo(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function rA(s,e,t,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,d=a.history,p="POP",m=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function w(){p="POP";let V=x(),M=V==null?null:V-y;y=V,m&&m({action:p,location:F.location,delta:M})}function E(V,M){p="PUSH";let z=Ip(F.location,V,M);y=x()+1;let q=rb(z,y),W=F.createHref(z);try{d.pushState(q,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(W)}c&&m&&m({action:p,location:F.location,delta:1})}function R(V,M){p="REPLACE";let z=Ip(F.location,V,M);y=x();let q=rb(z,y),W=F.createHref(z);d.replaceState(q,"",W),c&&m&&m({action:p,location:F.location,delta:0})}function N(V){return iA(V)}let F={get action(){return p},get location(){return s(a,d)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sb,w),m=V,()=>{a.removeEventListener(sb,w),m=null}},createHref(V){return e(a,V)},createURL:N,encodeLocation(V){let M=N(V);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:R,go(V){return d.go(V)}};return F}function iA(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Sc(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function m1(s,e,t="/"){return aA(s,e,t,!1)}function aA(s,e,t,i){let a=typeof e=="string"?Fo(e):e,c=wr(a.pathname||"/",t);if(c==null)return null;let d=p1(s);oA(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=vA(c);p=gA(d[m],y,i)}return p}function p1(s,e=[],t=[],i=""){let a=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let y=xr([i,m.relativePath]),x=t.concat(m);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),p1(c.children,e,x,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:mA(y,c.index),routesMeta:x})};return s.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))a(c,d);else for(let p of g1(c.path))a(c,d,p)}),e}function g1(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let d=g1(i.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),a&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function oA(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:pA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var lA=/^:[\w-]+$/,cA=3,uA=2,dA=1,hA=10,fA=-2,ib=s=>s==="*";function mA(s,e){let t=s.split("/"),i=t.length;return t.some(ib)&&(i+=fA),e&&(i+=uA),t.filter(a=>!ib(a)).reduce((a,c)=>a+(lA.test(c)?cA:c===""?dA:hA),i)}function pA(s,e){return s.length===e.length&&s.slice(0,-1).every((i,a)=>i===e[a])?s[s.length-1]-e[e.length-1]:0}function gA(s,e,t=!1){let{routesMeta:i}=s,a={},c="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],y=p===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",w=Qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},x),E=m.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!w)return null;Object.assign(a,w.params),d.push({params:a,pathname:xr([c,w.pathname]),pathnameBase:wA(xr([c,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(c=xr([c,w.pathnameBase]))}return d}function Qd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=yA(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:w},E)=>{if(x==="*"){let N=p[E]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const R=p[E];return w&&!R?y[x]=void 0:y[x]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function yA(s,e=!1,t=!0){hs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function vA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function wr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function xA(s,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof s=="string"?Fo(s):s;return{pathname:t?t.startsWith("/")?t:bA(t,e):e,search:EA(i),hash:TA(a)}}function bA(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function dp(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mg(s){let e=_A(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pg(s,e,t,i=!1){let a;typeof s=="string"?a=Fo(s):(a={...s},ft(!a.pathname||!a.pathname.includes("?"),dp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),dp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),dp("#","search","hash",a)));let c=s===""||a.pathname==="",d=c?"/":a.pathname,p;if(d==null)p=t;else{let w=e.length-1;if(!i&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),w-=1;a.pathname=E.join("/")}p=w>=0?e[w]:"/"}let m=xA(a,p),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||x)&&(m.pathname+="/"),m}var xr=s=>s.join("/").replace(/\/\/+/g,"/"),wA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,TA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function NA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var y1=["POST","PUT","PATCH","DELETE"];new Set(y1);var AA=["GET",...y1];new Set(AA);var Ho=L.createContext(null);Ho.displayName="DataRouter";var Eh=L.createContext(null);Eh.displayName="DataRouterState";var v1=L.createContext({isTransitioning:!1});v1.displayName="ViewTransition";var SA=L.createContext(new Map);SA.displayName="Fetchers";var RA=L.createContext(null);RA.displayName="Await";var ys=L.createContext(null);ys.displayName="Navigation";var qc=L.createContext(null);qc.displayName="Location";var Fs=L.createContext({outlet:null,matches:[],isDataRoute:!1});Fs.displayName="Route";var gg=L.createContext(null);gg.displayName="RouteError";function jA(s,{relative:e}={}){ft($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(ys),{hash:a,pathname:c,search:d}=Fc(s,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:xr([t,c])),i.createHref({pathname:p,search:d,hash:a})}function $o(){return L.useContext(qc)!=null}function jr(){return ft($o(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(qc).location}var x1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b1(s){L.useContext(ys).static||L.useLayoutEffect(s)}function yg(){let{isDataRoute:s}=L.useContext(Fs);return s?qA():IA()}function IA(){ft($o(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Ho),{basename:e,navigator:t}=L.useContext(ys),{matches:i}=L.useContext(Fs),{pathname:a}=jr(),c=JSON.stringify(mg(i)),d=L.useRef(!1);return b1(()=>{d.current=!0}),L.useCallback((m,y={})=>{if(hs(d.current,x1),!d.current)return;if(typeof m=="number"){t.go(m);return}let x=pg(m,JSON.parse(c),a,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:xr([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,c,a,s])}L.createContext(null);function Fc(s,{relative:e}={}){let{matches:t}=L.useContext(Fs),{pathname:i}=jr(),a=JSON.stringify(mg(t));return L.useMemo(()=>pg(s,JSON.parse(a),i,e==="path"),[s,a,i,e])}function CA(s,e){return _1(s,e)}function _1(s,e,t,i){ft($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(ys),{matches:c}=L.useContext(Fs),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",x=d&&d.route;{let M=x&&x.path||"";w1(m,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=jr(),E;if(e){let M=typeof e=="string"?Fo(e):e;ft(y==="/"||M.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=w;let R=E.pathname||"/",N=R;if(y!=="/"){let M=y.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(M.length).join("/")}let F=m1(s,{pathname:N});hs(x||F!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),hs(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=OA(F&&F.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:xr([y,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:xr([y,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,t,i);return e&&V?L.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function kA(){let s=BA(),e=NA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,d)}var PA=L.createElement(kA,null),DA=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(Fs.Provider,{value:this.props.routeContext},L.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MA({routeContext:s,match:e,children:t}){let i=L.useContext(Ho);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Fs.Provider,{value:s},t)}function OA(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,c=t?.errors;if(c!=null){let m=a.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,p=-1;if(t)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:x,errors:w}=t,E=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((m,y,x)=>{let w,E=!1,R=null,N=null;t&&(w=c&&y.route.id?c[y.route.id]:void 0,R=y.route.errorElement||PA,d&&(p<0&&x===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===x&&(E=!0,N=y.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,x+1)),V=()=>{let M;return w?M=R:E?M=N:y.route.Component?M=L.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=m,L.createElement(MA,{match:y,routeContext:{outlet:m,matches:F,isDataRoute:t!=null},children:M})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?L.createElement(DA,{location:t.location,revalidation:t.revalidation,component:R,error:w,children:V(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):V()},null)}function vg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(s){let e=L.useContext(Ho);return ft(e,vg(s)),e}function UA(s){let e=L.useContext(Eh);return ft(e,vg(s)),e}function VA(s){let e=L.useContext(Fs);return ft(e,vg(s)),e}function xg(s){let e=VA(s),t=e.matches[e.matches.length-1];return ft(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function zA(){return xg("useRouteId")}function BA(){let s=L.useContext(gg),e=UA("useRouteError"),t=xg("useRouteError");return s!==void 0?s:e.errors?.[t]}function qA(){let{router:s}=LA("useNavigate"),e=xg("useNavigate"),t=L.useRef(!1);return b1(()=>{t.current=!0}),L.useCallback(async(a,c={})=>{hs(t.current,x1),t.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:e,...c}))},[s,e])}var ab={};function w1(s,e,t){!e&&!ab[s]&&(ab[s]=!0,hs(!1,t))}L.memo(FA);function FA({routes:s,future:e,state:t}){return _1(s,void 0,t,e)}function Th({to:s,replace:e,state:t,relative:i}){ft($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(ys);hs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(Fs),{pathname:d}=jr(),p=yg(),m=pg(s,mg(c),d,i==="path"),y=JSON.stringify(m);return L.useEffect(()=>{p(JSON.parse(y),{replace:e,state:t,relative:i})},[p,y,i,e,t]),null}function Wt(s){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HA({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:c=!1}){ft(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:d,navigator:a,static:c,future:{}}),[d,a,c]);typeof t=="string"&&(t=Fo(t));let{pathname:m="/",search:y="",hash:x="",state:w=null,key:E="default"}=t,R=L.useMemo(()=>{let N=wr(m,d);return N==null?null:{location:{pathname:N,search:y,hash:x,state:w,key:E},navigationType:i}},[d,m,y,x,w,E,i]);return hs(R!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(ys.Provider,{value:p},L.createElement(qc.Provider,{children:e,value:R}))}function E1({children:s,location:e}){return CA(Cp(s),e)}function Cp(s,e=[]){let t=[];return L.Children.forEach(s,(i,a)=>{if(!L.isValidElement(i))return;let c=[...e,a];if(i.type===L.Fragment){t.push.apply(t,Cp(i.props.children,c));return}ft(i.type===Wt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Cp(i.props.children,c)),t.push(d)}),t}var Ld="get",Ud="application/x-www-form-urlencoded";function Nh(s){return s!=null&&typeof s.tagName=="string"}function $A(s){return Nh(s)&&s.tagName.toLowerCase()==="button"}function GA(s){return Nh(s)&&s.tagName.toLowerCase()==="form"}function YA(s){return Nh(s)&&s.tagName.toLowerCase()==="input"}function KA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function QA(s,e){return s.button===0&&(!e||e==="_self")&&!KA(s)}var Sd=null;function XA(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var WA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(s){return s!=null&&!WA.has(s)?(hs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):s}function ZA(s,e){let t,i,a,c,d;if(GA(s)){let p=s.getAttribute("action");i=p?wr(p,e):null,t=s.getAttribute("method")||Ld,a=hp(s.getAttribute("enctype"))||Ud,c=new FormData(s)}else if($A(s)||YA(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(i=m?wr(m,e):null,t=s.getAttribute("formmethod")||p.getAttribute("method")||Ld,a=hp(s.getAttribute("formenctype"))||hp(p.getAttribute("enctype"))||Ud,c=new FormData(p,s),!XA()){let{name:y,type:x,value:w}=s;if(x==="image"){let E=y?`${y}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else y&&c.append(y,w)}}else{if(Nh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ld,i=null,a=Ud,d=s}return c&&a==="text/plain"&&(d=c,c=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:c,body:d}}function bg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function JA(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function tS(s,e,t){let i=await Promise.all(s.map(async a=>{let c=e.routes[a.route.id];if(c){let d=await JA(c,t);return d.links?d.links():[]}return[]}));return iS(i.flat(1).filter(eS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ob(s,e,t,i,a,c){let d=(m,y)=>t[y]?m.route.id!==t[y].route.id:!0,p=(m,y)=>t[y].pathname!==m.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,y)=>d(m,y)||p(m,y)):c==="data"?e.filter((m,y)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nS(s,e,{includeHydrateFallback:t}={}){return sS(s.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function sS(s){return[...new Set(s)]}function rS(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function iS(s,e){let t=new Set;return new Set(e),s.reduce((i,a)=>{let c=JSON.stringify(rS(a));return t.has(c)||(t.add(c),i.push({key:c,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aS=new Set([100,101,204,205]);function oS(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&wr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function T1(){let s=L.useContext(Ho);return bg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function lS(){let s=L.useContext(Eh);return bg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var _g=L.createContext(void 0);_g.displayName="FrameworkContext";function N1(){let s=L.useContext(_g);return bg(s,"You must render this element inside a <HydratedRouter> element"),s}function cS(s,e){let t=L.useContext(_g),[i,a]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:x,onTouchStart:w}=e,E=L.useRef(null);L.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let F=M=>{M.forEach(z=>{d(z.isIntersecting)})},V=new IntersectionObserver(F,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[s]),L.useEffect(()=>{if(i){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[i]);let R=()=>{a(!0)},N=()=>{a(!1),d(!1)};return t?s!=="intent"?[c,E,{}]:[c,E,{onFocus:uc(p,R),onBlur:uc(m,N),onMouseEnter:uc(y,R),onMouseLeave:uc(x,N),onTouchStart:uc(w,R)}]:[!1,E,{}]}function uc(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function uS({page:s,...e}){let{router:t}=T1(),i=L.useMemo(()=>m1(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?L.createElement(hS,{page:s,matches:i,...e}):null}function dS(s){let{manifest:e,routeModules:t}=N1(),[i,a]=L.useState([]);return L.useEffect(()=>{let c=!1;return tS(s,e,t).then(d=>{c||a(d)}),()=>{c=!0}},[s,e,t]),i}function hS({page:s,matches:e,...t}){let i=jr(),{manifest:a,routeModules:c}=N1(),{basename:d}=T1(),{loaderData:p,matches:m}=lS(),y=L.useMemo(()=>ob(s,e,m,a,i,"data"),[s,e,m,a,i]),x=L.useMemo(()=>ob(s,e,m,a,i,"assets"),[s,e,m,a,i]),w=L.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let N=new Set,F=!1;if(e.forEach(M=>{let z=a.routes[M.route.id];!z||!z.hasLoader||(!y.some(q=>q.route.id===M.route.id)&&M.route.id in p&&c[M.route.id]?.shouldRevalidate||z.hasClientLoader?F=!0:N.add(M.route.id))}),N.size===0)return[];let V=oS(s,d);return F&&N.size>0&&V.searchParams.set("_routes",e.filter(M=>N.has(M.route.id)).map(M=>M.route.id).join(",")),[V.pathname+V.search]},[d,p,i,a,y,e,s,c]),E=L.useMemo(()=>nS(x,a),[x,a]),R=dS(x);return L.createElement(L.Fragment,null,w.map(N=>L.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),E.map(N=>L.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),R.map(({key:N,link:F})=>L.createElement("link",{key:N,...F})))}function fS(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A1&&(window.__reactRouterVersion="7.6.2")}catch{}function mS({basename:s,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=nA({window:t,v5Compat:!0}));let a=i.current,[c,d]=L.useState({action:a.action,location:a.location}),p=L.useCallback(m=>{L.startTransition(()=>d(m))},[d]);return L.useLayoutEffect(()=>a.listen(p),[a,p]),L.createElement(HA,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:a})}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vc=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:c,replace:d,state:p,target:m,to:y,preventScrollReset:x,viewTransition:w,...E},R){let{basename:N}=L.useContext(ys),F=typeof y=="string"&&S1.test(y),V,M=!1;if(typeof y=="string"&&F&&(V=y,A1))try{let C=new URL(window.location.href),U=y.startsWith("//")?new URL(C.protocol+y):new URL(y),k=wr(U.pathname,N);U.origin===C.origin&&k!=null?y=k+U.search+U.hash:M=!0}catch{hs(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=jA(y,{relative:a}),[q,W,X]=cS(i,E),oe=vS(y,{replace:d,state:p,target:m,preventScrollReset:x,relative:a,viewTransition:w});function O(C){e&&e(C),C.defaultPrevented||oe(C)}let S=L.createElement("a",{...E,...X,href:V||z,onClick:M||c?e:O,ref:fS(R,W),target:m,"data-discover":!F&&t==="render"?"true":void 0});return q&&!F?L.createElement(L.Fragment,null,S,L.createElement(uS,{page:z})):S});vc.displayName="Link";var pS=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:c,to:d,viewTransition:p,children:m,...y},x){let w=Fc(d,{relative:y.relative}),E=jr(),R=L.useContext(Eh),{navigator:N,basename:F}=L.useContext(ys),V=R!=null&&ES(w)&&p===!0,M=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,z=E.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(z=z.toLowerCase(),q=q?q.toLowerCase():null,M=M.toLowerCase()),q&&F&&(q=wr(q,F)||q);const W=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let X=z===M||!a&&z.startsWith(M)&&z.charAt(W)==="/",oe=q!=null&&(q===M||!a&&q.startsWith(M)&&q.charAt(M.length)==="/"),O={isActive:X,isPending:oe,isTransitioning:V},S=X?e:void 0,C;typeof i=="function"?C=i(O):C=[i,X?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(O):c;return L.createElement(vc,{...y,"aria-current":S,className:C,ref:x,style:U,to:d,viewTransition:p},typeof m=="function"?m(O):m)});pS.displayName="NavLink";var gS=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:c,method:d=Ld,action:p,onSubmit:m,relative:y,preventScrollReset:x,viewTransition:w,...E},R)=>{let N=_S(),F=wS(p,{relative:y}),V=d.toLowerCase()==="get"?"get":"post",M=typeof p=="string"&&S1.test(p),z=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let W=q.nativeEvent.submitter,X=W?.getAttribute("formmethod")||d;N(W||q.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:a,state:c,relative:y,preventScrollReset:x,viewTransition:w})};return L.createElement("form",{ref:R,method:V,action:F,onSubmit:i?m:z,...E,"data-discover":!M&&s==="render"?"true":void 0})});gS.displayName="Form";function yS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(s){let e=L.useContext(Ho);return ft(e,yS(s)),e}function vS(s,{target:e,replace:t,state:i,preventScrollReset:a,relative:c,viewTransition:d}={}){let p=yg(),m=jr(),y=Fc(s,{relative:c});return L.useCallback(x=>{if(QA(x,e)){x.preventDefault();let w=t!==void 0?t:Sc(m)===Sc(y);p(s,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:d})}},[m,p,y,t,i,e,s,a,c,d])}var xS=0,bS=()=>`__${String(++xS)}__`;function _S(){let{router:s}=R1("useSubmit"),{basename:e}=L.useContext(ys),t=zA();return L.useCallback(async(i,a={})=>{let{action:c,method:d,encType:p,formData:m,body:y}=ZA(i,e);if(a.navigate===!1){let x=a.fetcherKey||bS();await s.fetch(x,t,a.action||c,{preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||p,flushSync:a.flushSync})}else await s.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,e,t])}function wS(s,{relative:e}={}){let{basename:t}=L.useContext(ys),i=L.useContext(Fs);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...Fc(s||".",{relative:e})},d=jr();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(x=>x==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let x=p.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:xr([t,c.pathname])),Sc(c)}function ES(s,e={}){let t=L.useContext(v1);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R1("useViewTransitionState"),a=Fc(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=wr(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=wr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Qd(a.pathname,d)!=null||Qd(a.pathname,c)!=null}[...aS];/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),lb=s=>{const e=NS(s);return e.charAt(0).toUpperCase()+e.slice(1)},j1=(...s)=>s.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),AS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=L.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:d,...p},m)=>L.createElement("svg",{ref:m,...SS,width:e,height:e,stroke:s,strokeWidth:i?Number(t)*24/Number(e):t,className:j1("lucide",a),...!c&&!AS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,x])=>L.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(s,e)=>{const t=L.forwardRef(({className:i,...a},c)=>L.createElement(RS,{ref:c,iconNode:e,className:j1(`lucide-${TS(lb(s))}`,`lucide-${s}`,i),...a}));return t.displayName=lb(s),t};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],IS=ge("activity",jS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yi=ge("arrow-right",CS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Xd=ge("award",kS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],wg=ge("bath",PS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Eg=ge("bed",DS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OS=ge("bell",MS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Wd=ge("building-2",LS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zd=ge("calendar",US);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kp=ge("camera",VS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],cb=ge("car",zS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hc=ge("chart-column",BS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FS=ge("chevron-down",qS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I1=ge("chevron-left",HS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tg=ge("chevron-right",$S);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ao=ge("circle-alert",GS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C1=ge("circle-check-big",YS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k1=ge("circle-question-mark",KS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],XS=ge("circle-user",QS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],P1=ge("clock",WS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],JS=ge("coffee",ZS);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],D1=ge("credit-card",eR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ub=ge("crown",tR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],M1=ge("dollar-sign",nR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rR=ge("download",sR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],db=ge("dumbbell",iR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],oR=ge("ellipsis-vertical",aR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cR=ge("external-link",lR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rc=ge("eye",uR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jc=ge("file-text",dR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],hb=ge("flame",hR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],O1=ge("globe",fR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],pR=ge("heart",mR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Do=ge("house",gR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vR=ge("image",yR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ng=ge("list",xR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ic=ge("loader-circle",bR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pp=ge("log-out",_R);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ah=ge("mail",wR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Go=ge("map-pin",ER);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],L1=ge("menu",TR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],$c=ge("message-circle",NR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Rd=ge("newspaper",AR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jd=ge("phone",SR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],U1=ge("play",RR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Er=ge("plus",jR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],CR=ge("quote",IR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fb=ge("refresh-cw",kR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eh=ge("save",PR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V1=ge("settings",DR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dp=ge("shield",MR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mb=ge("sparkles",OR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],z1=ge("square-pen",LR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Cc=ge("square",UR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],So=ge("star",VR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],B1=ge("trash-2",zR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],pb=ge("tree-pine",BR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gb=ge("trending-down",qR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ro=ge("trending-up",FR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$R=ge("upload",HR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jo=ge("user",GR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sh=ge("users",YR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],yb=ge("waves",KR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vb=ge("wifi",QR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=ge("x",XR);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZR=ge("zap",WR),JR=()=>{};var xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},e4=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const a=s[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[t++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[t++],d=s[t++],p=s[t++],m=((a&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const c=s[t++],d=s[t++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},F1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const c=s[a],d=a+1<s.length,p=d?s[a+1]:0,m=a+2<s.length,y=m?s[a+2]:0,x=c>>2,w=(c&3)<<4|p>>4;let E=(p&15)<<2|y>>6,R=y&63;m||(R=64,d||(E=64)),i.push(t[x],t[w],t[E],t[R])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(q1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):e4(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const c=t[s.charAt(a++)],p=a<s.length?t[s.charAt(a)]:0;++a;const y=a<s.length?t[s.charAt(a)]:64;++a;const w=a<s.length?t[s.charAt(a)]:64;if(++a,c==null||p==null||y==null||w==null)throw new t4;const E=c<<2|p>>4;if(i.push(E),y!==64){const R=p<<4&240|y>>2;if(i.push(R),w!==64){const N=y<<6&192|w;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(s){const e=q1(s);return F1.encodeByteArray(e,!0)},th=function(s){return n4(s).replace(/\./g,"")},H1=function(s){try{return F1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=()=>s4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof xb>"u")return;const s=xb.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},a4=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&H1(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return JR()||r4()||i4()||a4()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$1=s=>{var e,t;return(t=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},G1=s=>{const e=$1(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Y1=()=>{var s;return(s=Rh())===null||s===void 0?void 0:s.config},K1=s=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(s){return s.endsWith(".cloudworkstations.dev")}async function Ag(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[th(JSON.stringify(t)),th(JSON.stringify(d)),""].join(".")}const xc={};function l4(){const s={prod:[],emulator:[]};for(const e of Object.keys(xc))xc[e]?s.emulator.push(e):s.prod.push(e);return s}function c4(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let bb=!1;function Sg(s,e){if(typeof window>"u"||typeof document>"u"||!Ni(window.location.host)||xc[s]===e||xc[s]||bb)return;xc[s]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",c=l4().prod.length>0;function d(){const E=document.getElementById(i);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bb=!0,d()},E}function x(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=c4(i),R=t("text"),N=document.getElementById(R)||document.createElement("span"),F=t("learnmore"),V=document.getElementById(F)||document.createElement("a"),M=t("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;p(q),x(V,F);const W=y();m(z,M),q.append(z,N,V,W),document.body.appendChild(q)}c?(N.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function d4(){var s;const e=(s=Rh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function p4(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function g4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="FirebaseError";class ns extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=y4,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?v4(c,i):"Error",p=`${this.serviceName}: ${d} (${a}).`;return new ns(a,p,i)}}function v4(s,e){return s.replace(x4,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const x4=/\{\$([^}]+)}/g;function b4(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vi(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const c=s[a],d=e[a];if(_b(c)&&_b(d)){if(!vi(c,d))return!1}else if(c!==d)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function _b(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function fc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function _4(s,e){const t=new w4(s,e);return t.subscribe.bind(t)}class w4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");E4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=fp),a.error===void 0&&(a.error=fp),a.complete===void 0&&(a.complete=fp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E4(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1e3,N4=2,A4=4*60*60*1e3,S4=.5;function wb(s,e=T4,t=N4){const i=e*Math.pow(t,s),a=Math.round(S4*i*(Math.random()-.5)*2);return Math.min(A4,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(s){return s&&s._delegate?s._delegate:s}class es{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new o4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I4(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&d.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j4(s){return s===ca?void 0:s}function I4(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const k4={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},P4=Be.INFO,D4={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},M4=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=D4[e];if(a)console[a](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=P4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const O4=(s,e)=>e.some(t=>s instanceof t);let Eb,Tb;function L4(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U4(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,Mp=new WeakMap,ew=new WeakMap,mp=new WeakMap,Rg=new WeakMap;function V4(s){const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{t(fi(s.result)),a()},d=()=>{i(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&J1.set(t,s)}).catch(()=>{}),Rg.set(e,s),e}function z4(s){if(Mp.has(s))return;const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{t(),a()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Mp.set(s,e)}let Op={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Mp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ew.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function B4(s){Op=s(Op)}function q4(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(pp(this),e,...t);return ew.set(i,e.sort?e.sort():[e]),fi(i)}:U4().includes(s)?function(...e){return s.apply(pp(this),e),fi(J1.get(this))}:function(...e){return fi(s.apply(pp(this),e))}}function F4(s){return typeof s=="function"?q4(s):(s instanceof IDBTransaction&&z4(s),O4(s,L4())?new Proxy(s,Op):s)}function fi(s){if(s instanceof IDBRequest)return V4(s);if(mp.has(s))return mp.get(s);const e=F4(s);return e!==s&&(mp.set(s,e),Rg.set(e,s)),e}const pp=s=>Rg.get(s);function tw(s,e,{blocked:t,upgrade:i,blocking:a,terminated:c}={}){const d=indexedDB.open(s,e),p=fi(d);return i&&d.addEventListener("upgradeneeded",m=>{i(fi(d.result),m.oldVersion,m.newVersion,fi(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const H4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],gp=new Map;function Nb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=$4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||H4.includes(t)))return;const c=async function(d,...p){const m=this.transaction(d,a?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),a&&m.done]))[0]};return gp.set(e,c),c}B4(s=>({...s,get:(e,t,i)=>Nb(e,t)||s.get(e,t,i),has:(e,t)=>!!Nb(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Y4(s){const e=s.getComponent();return e?.type==="VERSION"}const Lp="@firebase/app",Ab="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new jh("@firebase/app"),K4="@firebase/app-compat",Q4="@firebase/analytics-compat",X4="@firebase/analytics",W4="@firebase/app-check-compat",Z4="@firebase/app-check",J4="@firebase/auth",ej="@firebase/auth-compat",tj="@firebase/database",nj="@firebase/data-connect",sj="@firebase/database-compat",rj="@firebase/functions",ij="@firebase/functions-compat",aj="@firebase/installations",oj="@firebase/installations-compat",lj="@firebase/messaging",cj="@firebase/messaging-compat",uj="@firebase/performance",dj="@firebase/performance-compat",hj="@firebase/remote-config",fj="@firebase/remote-config-compat",mj="@firebase/storage",pj="@firebase/storage-compat",gj="@firebase/firestore",yj="@firebase/ai",vj="@firebase/firestore-compat",xj="firebase",bj="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",_j={[Lp]:"fire-core",[K4]:"fire-core-compat",[X4]:"fire-analytics",[Q4]:"fire-analytics-compat",[Z4]:"fire-app-check",[W4]:"fire-app-check-compat",[J4]:"fire-auth",[ej]:"fire-auth-compat",[tj]:"fire-rtdb",[nj]:"fire-data-connect",[sj]:"fire-rtdb-compat",[rj]:"fire-fn",[ij]:"fire-fn-compat",[aj]:"fire-iid",[oj]:"fire-iid-compat",[lj]:"fire-fcm",[cj]:"fire-fcm-compat",[uj]:"fire-perf",[dj]:"fire-perf-compat",[hj]:"fire-rc",[fj]:"fire-rc-compat",[mj]:"fire-gcs",[pj]:"fire-gcs-compat",[gj]:"fire-fst",[vj]:"fire-fst-compat",[yj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,wj=new Map,Vp=new Map;function Sb(s,e){try{s.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function fs(s){const e=s.name;if(Vp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,s);for(const t of nh.values())Sb(t,s);for(const t of wj.values())Sb(t,s);return!0}function Ai(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new wa("app","Firebase",Ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=bj;function nw(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Up,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw mi.create("bad-app-name",{appName:String(a)});if(t||(t=Y1()),!t)throw mi.create("no-options");const c=nh.get(a);if(c){if(vi(t,c.options)&&vi(i,c.config))return c;throw mi.create("duplicate-app",{appName:a})}const d=new C4(a);for(const m of Vp.values())d.addComponent(m);const p=new Tj(t,i,d);return nh.set(a,p),p}function Ih(s=Up){const e=nh.get(s);if(!e&&s===Up&&Y1())return nw();if(!e)throw mi.create("no-app",{appName:s});return e}function Nn(s,e,t){var i;let a=(i=_j[s])!==null&&i!==void 0?i:s;t&&(a+=`-${t}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${a}" with version "${e}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(p.join(" "));return}fs(new es(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="firebase-heartbeat-database",Aj=1,kc="firebase-heartbeat-store";let yp=null;function sw(){return yp||(yp=tw(Nj,Aj,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kc)}catch(t){console.warn(t)}}}}).catch(s=>{throw mi.create("idb-open",{originalErrorMessage:s.message})})),yp}async function Sj(s){try{const t=(await sw()).transaction(kc),i=await t.objectStore(kc).get(rw(s));return await t.done,i}catch(e){if(e instanceof ns)Nr.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(t.message)}}}async function Rb(s,e){try{const i=(await sw()).transaction(kc,"readwrite");await i.objectStore(kc).put(e,rw(s)),await i.done}catch(t){if(t instanceof ns)Nr.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t?.message});Nr.warn(i.message)}}}function rw(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1024,jj=30;class Ij{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=jb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>jj){const d=Pj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Nr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jb(),{heartbeatsToSend:i,unsentEntries:a}=Cj(this._heartbeatsCache.heartbeats),c=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Nr.warn(t),""}}}function jb(){return new Date().toISOString().substring(0,10)}function Cj(s,e=Rj){const t=[];let i=s.slice();for(const a of s){const c=t.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Ib(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Ib(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Sj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ib(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function Pj(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(s){fs(new es("platform-logger",e=>new G4(e),"PRIVATE")),fs(new es("heartbeat",e=>new Ij(e),"PRIVATE")),Nn(Lp,Ab,s),Nn(Lp,Ab,"esm2017"),Nn("fire-js","")}Dj("");var Mj="firebase",Oj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(Mj,Oj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebasestorage.googleapis.com",aw="storageBucket",Lj=2*60*1e3,Uj=10*60*1e3,Vj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends ns{constructor(e,t,i=0){super(vp(e),`Firebase Storage: ${t} (${vp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function vp(s){return"storage/"+s}function jg(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(ut.UNKNOWN,s)}function zj(s){return new gt(ut.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function Bj(s){return new gt(ut.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qj(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(ut.UNAUTHENTICATED,s)}function Fj(){return new gt(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hj(s){return new gt(ut.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function ow(){return new gt(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lw(){return new gt(ut.CANCELED,"User canceled the upload/download.")}function $j(s){return new gt(ut.INVALID_URL,"Invalid URL '"+s+"'.")}function Gj(s){return new gt(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Yj(){return new gt(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aw+"' property when initializing the app?")}function cw(){return new gt(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kj(){return new gt(ut.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Qj(){return new gt(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xj(s){return new gt(ut.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zp(s){return new gt(ut.INVALID_ARGUMENT,s)}function uw(){return new gt(ut.APP_DELETED,"The Firebase app was deleted.")}function Wj(s){return new gt(ut.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bc(s,e){return new gt(ut.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function dc(s){throw new gt(ut.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(i.path==="")return i;throw Gj(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function c(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+a+d,"i"),m={bucket:1,path:3};function y(W){W.path_=decodeURIComponent(W.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${x}/b/${a}/o${E}`,"i"),N={bucket:1,path:3},F=t===iw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",M=new RegExp(`^https?://${F}/${a}/${V}`,"i"),q=[{regex:p,indices:m,postModify:c},{regex:R,indices:N,postModify:y},{regex:M,indices:{bucket:1,path:2},postModify:y}];for(let W=0;W<q.length;W++){const X=q[W],oe=X.regex.exec(e);if(oe){const O=oe[X.indices.bucket];let S=oe[X.indices.path];S||(S=""),i=new On(O,S),X.postModify(i);break}}if(i==null)throw $j(e);return i}}class Zj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(s,e,t){let i=1,a=null,c=null,d=!1,p=0;function m(){return p===2}let y=!1;function x(...V){y||(y=!0,e.apply(null,V))}function w(V){a=setTimeout(()=>{a=null,s(R,m())},V)}function E(){c&&clearTimeout(c)}function R(V,...M){if(y){E();return}if(V){E(),x.call(null,V,...M);return}if(m()||d){E(),x.call(null,V,...M);return}i<64&&(i*=2);let q;p===1?(p=2,q=0):q=(i+Math.random())*1e3,w(q)}let N=!1;function F(V){N||(N=!0,E(),!y&&(a!==null?(V||(p=2),clearTimeout(a),w(0)):V||(p=1)))}return w(0),c=setTimeout(()=>{d=!0,F(!0)},t),F}function eI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(s){return s!==void 0}function nI(s){return typeof s=="function"}function sI(s){return typeof s=="object"&&!Array.isArray(s)}function Ch(s){return typeof s=="string"||s instanceof String}function Cb(s){return Ig()&&s instanceof Blob}function Ig(){return typeof Blob<"u"}function kb(s,e,t,i){if(i<e)throw zp(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>t)throw zp(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(s,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${s}`}function dw(s){const e=encodeURIComponent;let t="?";for(const i in s)if(s.hasOwnProperty(i)){const a=e(i)+"="+e(s[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var fa;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(fa||(fa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(s,e){const t=s>=500&&s<600,a=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||a||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,i,a,c,d,p,m,y,x,w,E=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,F)=>{this.resolve_=N,this.reject_=F,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new jd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const m=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===fa.NO_ERROR,m=c.getStatus();if(!p||hw(m,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===fa.ABORT;i(!1,new jd(!1,null,x));return}const y=this.successCodes_.indexOf(m)!==-1;i(!0,new jd(y,c))})},t=(i,a)=>{const c=this.resolve_,d=this.reject_,p=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());tI(m)?c(m):c()}catch(m){d(m)}else if(p!==null){const m=jg();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(a.canceled){const m=this.appDelete_?uw():lw();d(m)}else{const m=ow();d(m)}};this.canceled_?t(!1,new jd(!1,null,!0)):this.backoffId_=Jj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function iI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function aI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function lI(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function cI(s,e,t,i,a,c,d=!0,p=!1){const m=dw(s.urlParams),y=s.url+m,x=Object.assign({},s.headers);return oI(x,e),iI(x,t),aI(x,c),lI(x,i),new rI(y,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,a,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dI(...s){const e=uI();if(e!==void 0){const t=new e;for(let i=0;i<s.length;i++)t.append(s[i]);return t.getBlob()}else{if(Ig())return new Blob(s);throw new gt(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hI(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(s){if(typeof atob>"u")throw Xj("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xp{constructor(e,t){this.data=e,this.contentType=t||null}}function mI(s,e){switch(s){case Ls.RAW:return new xp(fw(e));case Ls.BASE64:case Ls.BASE64URL:return new xp(mw(s,e));case Ls.DATA_URL:return new xp(gI(e),yI(e))}throw jg()}function fw(s){const e=[];for(let t=0;t<s.length;t++){let i=s.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,d=s.charCodeAt(++t);i=65536|(c&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function pI(s){let e;try{e=decodeURIComponent(s)}catch{throw bc(Ls.DATA_URL,"Malformed data URL.")}return fw(e)}function mw(s,e){switch(s){case Ls.BASE64:{const a=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(a||c)throw bc(s,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const a=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(a||c)throw bc(s,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fI(e)}catch(a){throw a.message.includes("polyfill")?a:bc(s,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class pw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bc(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=vI(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function gI(s){const e=new pw(s);return e.base64?mw(Ls.BASE64,e.rest):pI(e.rest)}function yI(s){return new pw(s).contentType}function vI(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){let i=0,a="";Cb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Cb(this.data_)){const i=this.data_,a=hI(i,e,t);return a===null?null:new li(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new li(i,!0)}}static getBlob(...e){if(Ig()){const t=e.map(i=>i instanceof li?i.data_:i);return new li(dI.apply(null,t))}else{const t=e.map(d=>Ch(d)?mI(Ls.RAW,d).data:d.data_);let i=0;t.forEach(d=>{i+=d.byteLength});const a=new Uint8Array(i);let c=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)a[c++]=d[p]}),new li(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(s){let e;try{e=JSON.parse(s)}catch{return null}return sI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function bI(s,e){const t=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?t:s+"/"+t}function yw(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(s,e){return e}class pn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||_I}}let Id=null;function wI(s){return!Ch(s)||s.length<2?s:yw(s)}function vw(){if(Id)return Id;const s=[];s.push(new pn("bucket")),s.push(new pn("generation")),s.push(new pn("metageneration")),s.push(new pn("name","fullPath",!0));function e(c,d){return wI(d)}const t=new pn("name");t.xform=e,s.push(t);function i(c,d){return d!==void 0?Number(d):d}const a=new pn("size");return a.xform=i,s.push(a),s.push(new pn("timeCreated")),s.push(new pn("updated")),s.push(new pn("md5Hash",null,!0)),s.push(new pn("cacheControl",null,!0)),s.push(new pn("contentDisposition",null,!0)),s.push(new pn("contentEncoding",null,!0)),s.push(new pn("contentLanguage",null,!0)),s.push(new pn("contentType",null,!0)),s.push(new pn("metadata","customMetadata",!0)),Id=s,Id}function EI(s,e){function t(){const i=s.bucket,a=s.fullPath,c=new On(i,a);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function TI(s,e,t){const i={};i.type="file";const a=t.length;for(let c=0;c<a;c++){const d=t[c];i[d.local]=d.xform(i,e[d.server])}return EI(i,s),i}function xw(s,e,t){const i=gw(e);return i===null?null:TI(s,i,t)}function NI(s,e,t,i){const a=gw(e);if(a===null||!Ch(a.downloadTokens))return null;const c=a.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const x=s.bucket,w=s.fullPath,E="/b/"+d(x)+"/o/"+d(w),R=Yc(E,t,i),N=dw({alt:"media",token:y});return R+N})[0]}function bw(s,e){const t={},i=e.length;for(let a=0;a<i;a++){const c=e[a];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class Yo{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(s){if(!s)throw jg()}function Cg(s,e){function t(i,a){const c=xw(s,a,e);return br(c!==null),c}return t}function AI(s,e){function t(i,a){const c=xw(s,a,e);return br(c!==null),NI(c,a,s.host,s._protocol)}return t}function Kc(s){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=Fj():a=qj():t.getStatus()===402?a=Bj(s.bucket):t.getStatus()===403?a=Hj(s.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function _w(s){const e=Kc(s);function t(i,a){let c=e(i,a);return i.getStatus()===404&&(c=zj(s.path)),c.serverResponse=a.serverResponse,c}return t}function SI(s,e,t){const i=e.fullServerUrl(),a=Yc(i,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new Yo(a,c,Cg(s,t),d);return p.errorHandler=_w(e),p}function RI(s,e,t){const i=e.fullServerUrl(),a=Yc(i,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new Yo(a,c,AI(s,t),d);return p.errorHandler=_w(e),p}function jI(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function ww(s,e,t){const i=Object.assign({},t);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=jI(null,e)),i}function II(s,e,t,i,a){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let q="";for(let W=0;W<2;W++)q=q+Math.random().toString().slice(2);return q}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const y=ww(e,i,a),x=bw(y,t),w="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,E=`\r
--`+m+"--",R=li.getBlob(w,i,E);if(R===null)throw cw();const N={name:y.fullPath},F=Yc(c,s.host,s._protocol),V="POST",M=s.maxUploadRetryTime,z=new Yo(F,V,Cg(s,t),M);return z.urlParams=N,z.headers=d,z.body=R.uploadData(),z.errorHandler=Kc(e),z}class sh{constructor(e,t,i,a){this.current=e,this.total=t,this.finalized=!!i,this.metadata=a||null}}function kg(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{br(!1)}return br(!!t&&(e||["active"]).indexOf(t)!==-1),t}function CI(s,e,t,i,a){const c=e.bucketOnlyServerUrl(),d=ww(e,i,a),p={name:d.fullPath},m=Yc(c,s.host,s._protocol),y="POST",x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},w=bw(d,t),E=s.maxUploadRetryTime;function R(F){kg(F);let V;try{V=F.getResponseHeader("X-Goog-Upload-URL")}catch{br(!1)}return br(Ch(V)),V}const N=new Yo(m,y,R,E);return N.urlParams=p,N.headers=x,N.body=w,N.errorHandler=Kc(e),N}function kI(s,e,t,i){const a={"X-Goog-Upload-Command":"query"};function c(y){const x=kg(y,["active","final"]);let w=null;try{w=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{br(!1)}w||br(!1);const E=Number(w);return br(!isNaN(E)),new sh(E,i.size(),x==="final")}const d="POST",p=s.maxUploadRetryTime,m=new Yo(t,d,c,p);return m.headers=a,m.errorHandler=Kc(e),m}const Pb=256*1024;function PI(s,e,t,i,a,c,d,p){const m=new sh(0,0);if(d?(m.current=d.current,m.total=d.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw Kj();const y=m.total-m.current;let x=y;a>0&&(x=Math.min(x,a));const w=m.current,E=w+x;let R="";x===0?R="finalize":y===x?R="upload, finalize":R="upload";const N={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${m.current}`},F=i.slice(w,E);if(F===null)throw cw();function V(W,X){const oe=kg(W,["active","final"]),O=m.current+x,S=i.size();let C;return oe==="final"?C=Cg(e,c)(W,X):C=null,new sh(O,S,oe==="final",C)}const M="POST",z=e.maxUploadRetryTime,q=new Yo(t,M,V,z);return q.headers=N,q.body=F.uploadData(),q.progressCallback=p||null,q.errorHandler=Kc(s),q}const wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bp(s){switch(s){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,i){if(nI(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class MI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,c){if(this.sent_)throw dc("cannot .send() more than once");if(Ni(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OI extends MI{initXhr(){this.xhr_.responseType="text"}}function _o(){return new OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=vw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(ut.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(hw(a.status,[]))if(c)a=ow();else{this.sleepTime=Math.max(this.sleepTime*2,Vj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(ut.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,c)=>{this._resolve=a,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=CI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,_o,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const a=kI(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(a,_o,t,i);this._request=c,c.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Pb*this._chunkMultiplier,t=new sh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,c)=>{let d;try{d=PI(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const p=this._ref.storage._makeRequest(d,_o,a,c,!1);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Pb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=SI(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,_o,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=II(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,_o,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=bp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,a){const c=new DI(t||void 0,i||void 0,a||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(bp(this._state)){case wn.SUCCESS:bo(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:const t=this._reject;bo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bp(this._state)){case wn.RUNNING:case wn.PAUSED:e.next&&bo(e.next.bind(e,this.snapshot))();break;case wn.SUCCESS:e.complete&&bo(e.complete.bind(e))();break;case wn.CANCELED:case wn.ERROR:e.error&&bo(e.error.bind(e,this._error))();break;default:e.error&&bo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ma(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yw(this._location.path)}get storage(){return this._service}get parent(){const e=xI(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new ma(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Wj(e)}}function UI(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new LI(s,new li(e),t)}function VI(s){s._throwIfRoot("getDownloadURL");const e=RI(s.storage,s._location,vw());return s.storage.makeRequestWithTokens(e,_o).then(t=>{if(t===null)throw Qj();return t})}function zI(s,e){const t=bI(s._location.path,e),i=new On(s._location.bucket,t);return new ma(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s){return/^[A-Za-z]+:\/\//.test(s)}function qI(s,e){return new ma(s,e)}function Ew(s,e){if(s instanceof Pg){const t=s;if(t._bucket==null)throw Yj();const i=new ma(t,t._bucket);return e!=null?Ew(i,e):i}else return e!==void 0?zI(s,e):s}function FI(s,e){if(e&&BI(e)){if(s instanceof Pg)return qI(s,e);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}else return Ew(s,e)}function Db(s,e){const t=e?.[aw];return t==null?null:On.makeFromBucketSpec(t,s)}function HI(s,e,t,i={}){s.host=`${e}:${t}`;const a=Ni(e);a&&(Ag(`https://${s.host}/b`),Sg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=a?"https":"http";const{mockUserToken:c}=i;c&&(s._overrideAuthToken=typeof c=="string"?c:Q1(c,s.app.options.projectId))}class Pg{constructor(e,t,i,a,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=iw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lj,this._maxUploadRetryTime=Uj,this._requests=new Set,a!=null?this._bucket=On.makeFromBucketSpec(a,this._host):this._bucket=Db(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=Db(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,t,i,a,c=!0){if(this._deleted)return new Zj(uw());{const d=cI(e,this._appId,i,a,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const Mb="@firebase/storage",Ob="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="storage";function Nw(s,e,t){return s=ct(s),UI(s,e,t)}function Aw(s){return s=ct(s),VI(s)}function Sw(s,e){return s=ct(s),FI(s,e)}function Rw(s=Ih(),e){s=ct(s);const i=Ai(s,Tw).getImmediate({identifier:e}),a=G1("storage");return a&&$I(i,...a),i}function $I(s,e,t,i={}){HI(s,e,t,i)}function GI(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),a=s.getProvider("app-check-internal");return new Pg(t,i,a,e,Ea)}function YI(){fs(new es(Tw,GI,"PUBLIC").setMultipleInstances(!0)),Nn(Mb,Ob,""),Nn(Mb,Ob,"esm2017")}YI();const jw="@firebase/installations",Dg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1e4,Cw=`w:${Dg}`,kw="FIS_v2",KI="https://firebaseinstallations.googleapis.com/v1",QI=60*60*1e3,XI="installations",WI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new wa(XI,WI,ZI);function Pw(s){return s instanceof ns&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw({projectId:s}){return`${KI}/projects/${s}/installations`}function Mw(s){return{token:s.token,requestStatus:2,expiresIn:eC(s.expiresIn),creationTime:Date.now()}}async function Ow(s,e){const i=(await e.json()).error;return pa.create("request-failed",{requestName:s,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Lw({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function JI(s,{refreshToken:e}){const t=Lw(s);return t.append("Authorization",tC(e)),t}async function Uw(s){const e=await s();return e.status>=500&&e.status<600?s():e}function eC(s){return Number(s.replace("s","000"))}function tC(s){return`${kw} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC({appConfig:s,heartbeatServiceProvider:e},{fid:t}){const i=Dw(s),a=Lw(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const d={fid:t,authVersion:kw,appId:s.appId,sdkVersion:Cw},p={method:"POST",headers:a,body:JSON.stringify(d)},m=await Uw(()=>fetch(i,p));if(m.ok){const y=await m.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Mw(y.authToken)}}else throw await Ow("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=/^[cdef][\w-]{21}$/,Bp="";function iC(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const t=aC(s);return rC.test(t)?t:Bp}catch{return Bp}}function aC(s){return sC(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function Bw(s,e){const t=kh(s);qw(t,e),oC(t,e)}function qw(s,e){const t=zw.get(s);if(t)for(const i of t)i(e)}function oC(s,e){const t=lC();t&&t.postMessage({key:s,fid:e}),cC()}let ua=null;function lC(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=s=>{qw(s.data.key,s.data.fid)}),ua}function cC(){zw.size===0&&ua&&(ua.close(),ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-installations-database",dC=1,ga="firebase-installations-store";let _p=null;function Mg(){return _p||(_p=tw(uC,dC,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(ga)}}})),_p}async function rh(s,e){const t=kh(s),a=(await Mg()).transaction(ga,"readwrite"),c=a.objectStore(ga),d=await c.get(t);return await c.put(e,t),await a.done,(!d||d.fid!==e.fid)&&Bw(s,e.fid),e}async function Fw(s){const e=kh(s),i=(await Mg()).transaction(ga,"readwrite");await i.objectStore(ga).delete(e),await i.done}async function Ph(s,e){const t=kh(s),a=(await Mg()).transaction(ga,"readwrite"),c=a.objectStore(ga),d=await c.get(t),p=e(d);return p===void 0?await c.delete(t):await c.put(p,t),await a.done,p&&(!d||d.fid!==p.fid)&&Bw(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(s){let e;const t=await Ph(s.appConfig,i=>{const a=hC(i),c=fC(s,a);return e=c.registrationPromise,c.installationEntry});return t.fid===Bp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function hC(s){const e=s||{fid:iC(),registrationStatus:0};return Hw(e)}function fC(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=mC(s,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pC(s)}:{installationEntry:e}}async function mC(s,e){try{const t=await nC(s,e);return rh(s.appConfig,t)}catch(t){throw Pw(t)&&t.customData.serverCode===409?await Fw(s.appConfig):await rh(s.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function pC(s){let e=await Lb(s.appConfig);for(;e.registrationStatus===1;)await Vw(100),e=await Lb(s.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Og(s);return i||t}return e}function Lb(s){return Ph(s,e=>{if(!e)throw pa.create("installation-not-found");return Hw(e)})}function Hw(s){return gC(s)?{fid:s.fid,registrationStatus:0}:s}function gC(s){return s.registrationStatus===1&&s.registrationTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC({appConfig:s,heartbeatServiceProvider:e},t){const i=vC(s,t),a=JI(s,t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const d={installation:{sdkVersion:Cw,appId:s.appId}},p={method:"POST",headers:a,body:JSON.stringify(d)},m=await Uw(()=>fetch(i,p));if(m.ok){const y=await m.json();return Mw(y)}else throw await Ow("Generate Auth Token",m)}function vC(s,{fid:e}){return`${Dw(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(s,e=!1){let t;const i=await Ph(s.appConfig,c=>{if(!$w(c))throw pa.create("not-registered");const d=c.authToken;if(!e&&_C(d))return c;if(d.requestStatus===1)return t=xC(s,e),c;{if(!navigator.onLine)throw pa.create("app-offline");const p=EC(c);return t=bC(s,p),p}});return t?await t:i.authToken}async function xC(s,e){let t=await Ub(s.appConfig);for(;t.authToken.requestStatus===1;)await Vw(100),t=await Ub(s.appConfig);const i=t.authToken;return i.requestStatus===0?Lg(s,e):i}function Ub(s){return Ph(s,e=>{if(!$w(e))throw pa.create("not-registered");const t=e.authToken;return TC(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function bC(s,e){try{const t=await yC(s,e),i=Object.assign(Object.assign({},e),{authToken:t});return await rh(s.appConfig,i),t}catch(t){if(Pw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Fw(s.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rh(s.appConfig,i)}throw t}}function $w(s){return s!==void 0&&s.registrationStatus===2}function _C(s){return s.requestStatus===2&&!wC(s)}function wC(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+QI}function EC(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function TC(s){return s.requestStatus===1&&s.requestTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(s){const e=s,{installationEntry:t,registrationPromise:i}=await Og(e);return i?i.catch(console.error):Lg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(s,e=!1){const t=s;return await SC(t),(await Lg(t,e)).token}async function SC(s){const{registrationPromise:e}=await Og(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(s){if(!s||!s.options)throw wp("App Configuration");if(!s.name)throw wp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!s.options[t])throw wp(t);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function wp(s){return pa.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="installations",jC="installations-internal",IC=s=>{const e=s.getProvider("app").getImmediate(),t=RC(e),i=Ai(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},CC=s=>{const e=s.getProvider("app").getImmediate(),t=Ai(e,Gw).getImmediate();return{getId:()=>NC(t),getToken:a=>AC(t,a)}};function kC(){fs(new es(Gw,IC,"PUBLIC")),fs(new es(jC,CC,"PRIVATE"))}kC();Nn(jw,Dg);Nn(jw,Dg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="analytics",PC="firebase_id",DC="origin",MC=60*1e3,OC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new wa("analytics","Analytics",LC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(s){if(!s.startsWith(Ug)){const e=Un.create("invalid-gtag-resource",{gtagURL:s});return An.warn(e.message),""}return s}function Yw(s){return Promise.all(s.map(e=>e.catch(t=>t)))}function VC(s,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(s,e)),t}function zC(s,e){const t=VC("firebase-js-sdk-policy",{createScriptURL:UC}),i=document.createElement("script"),a=`${Ug}?l=${s}&id=${e}`;i.src=t?t?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function BC(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function qC(s,e,t,i,a,c){const d=i[a];try{if(d)await e[d];else{const m=(await Yw(t)).find(y=>y.measurementId===a);m&&await e[m.appId]}}catch(p){An.error(p)}s("config",a,c)}async function FC(s,e,t,i,a){try{let c=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const p=await Yw(t);for(const m of d){const y=p.find(w=>w.measurementId===m),x=y&&e[y.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",i,a||{})}catch(c){An.error(c)}}function HC(s,e,t,i){async function a(c,...d){try{if(c==="event"){const[p,m]=d;await FC(s,e,t,p,m)}else if(c==="config"){const[p,m]=d;await qC(s,e,t,i,p,m)}else if(c==="consent"){const[p,m]=d;s("consent",p,m)}else if(c==="get"){const[p,m,y]=d;s("get",p,m,y)}else if(c==="set"){const[p]=d;s("set",p)}else s(c,...d)}catch(p){An.error(p)}}return a}function $C(s,e,t,i,a){let c=function(...d){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=HC(c,s,e,t),{gtagCore:c,wrappedGtag:window[a]}}function GC(s){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ug)&&t.src.includes(s))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=30,KC=1e3;class QC{constructor(e={},t=KC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Kw=new QC;function XC(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function WC(s){var e;const{appId:t,apiKey:i}=s,a={method:"GET",headers:XC(i)},c=OC.replace("{app-id}",t),d=await fetch(c,a);if(d.status!==200&&d.status!==304){let p="";try{const m=await d.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function ZC(s,e=Kw,t){const{appId:i,apiKey:a,measurementId:c}=s.options;if(!i)throw Un.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:i};throw Un.create("no-api-key")}const d=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new t6;return setTimeout(async()=>{p.abort()},MC),Qw({appId:i,apiKey:a,measurementId:c},d,p,e)}async function Qw(s,{throttleEndTimeMillis:e,backoffCount:t},i,a=Kw){var c;const{appId:d,measurementId:p}=s;try{await JC(i,e)}catch(m){if(p)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:d,measurementId:p};throw m}try{const m=await WC(s);return a.deleteThrottleMetadata(d),m}catch(m){const y=m;if(!e6(y)){if(a.deleteThrottleMetadata(d),p)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:d,measurementId:p};throw m}const x=Number((c=y?.customData)===null||c===void 0?void 0:c.httpStatus)===503?wb(t,a.intervalMillis,YC):wb(t,a.intervalMillis),w={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return a.setThrottleMetadata(d,w),An.debug(`Calling attemptFetch again in ${x} millis`),Qw(s,w,i,a)}}function JC(s,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(t,a);s.addEventListener(()=>{clearTimeout(c),i(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function e6(s){if(!(s instanceof ns)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class t6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function n6(s,e,t,i,a){if(a&&a.global){s("event",t,i);return}else{const c=await e,d=Object.assign(Object.assign({},i),{send_to:c});s("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(){if(W1())try{await Z1()}catch(s){return An.warn(Un.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return An.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function r6(s,e,t,i,a,c,d){var p;const m=ZC(s);m.then(R=>{t[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>An.error(R)),e.push(m);const y=s6().then(R=>{if(R)return i.getId()}),[x,w]=await Promise.all([m,y]);GC(c)||zC(c,x.measurementId),a("js",new Date);const E=(p=d?.config)!==null&&p!==void 0?p:{};return E[DC]="firebase",E.update=!0,w!=null&&(E[PC]=w),a("config",x.measurementId,E),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.app=e}_delete(){return delete _c[this.app.options.appId],Promise.resolve()}}let _c={},Vb=[];const zb={};let Ep="dataLayer",a6="gtag",Bb,Xw,qb=!1;function o6(){const s=[];if(X1()&&s.push("This is a browser extension environment."),g4()||s.push("Cookies are not available."),s.length>0){const e=s.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});An.warn(t.message)}}function l6(s,e,t){o6();const i=s.options.appId;if(!i)throw Un.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(_c[i]!=null)throw Un.create("already-exists",{id:i});if(!qb){BC(Ep);const{wrappedGtag:c,gtagCore:d}=$C(_c,Vb,zb,Ep,a6);Xw=c,Bb=d,qb=!0}return _c[i]=r6(s,Vb,zb,e,Bb,Ep,t),new i6(s)}function c6(s=Ih()){s=ct(s);const e=Ai(s,ih);return e.isInitialized()?e.getImmediate():u6(s)}function u6(s,e={}){const t=Ai(s,ih);if(t.isInitialized()){const a=t.getImmediate();if(vi(e,t.getOptions()))return a;throw Un.create("already-initialized")}return t.initialize({options:e})}function d6(s,e,t,i){s=ct(s),n6(Xw,_c[s.app.options.appId],e,t,i).catch(a=>An.error(a))}const Fb="@firebase/analytics",Hb="0.10.16";function h6(){fs(new es(ih,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return l6(i,a,t)},"PUBLIC")),fs(new es("analytics-internal",s,"PRIVATE")),Nn(Fb,Hb),Nn(Fb,Hb,"esm2017");function s(e){try{const t=e.getProvider(ih).getImmediate();return{logEvent:(i,a,c)=>d6(t,i,a,c)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}h6();function Vg(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(s);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(s,i[a])&&(t[i[a]]=s[i[a]]);return t}function Ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f6=Ww,Zw=new wa("auth","Firebase",Ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new jh("@firebase/auth");function m6(s,...e){ah.logLevel<=Be.WARN&&ah.warn(`Auth (${Ea}): ${s}`,...e)}function Vd(s,...e){ah.logLevel<=Be.ERROR&&ah.error(`Auth (${Ea}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw Bg(s,...e)}function ds(s,...e){return Bg(s,...e)}function zg(s,e,t){const i=Object.assign(Object.assign({},f6()),{[e]:t});return new wa("auth","Firebase",i).create(e,{appName:s.name})}function Us(s){return zg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jw(s,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ts(s,"argument-error"),zg(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return Zw.create(s,...e)}function Ae(s,e,...t){if(!s)throw Bg(e,...t)}function yr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Vd(e),new Error(e)}function Ar(s,e){s||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function p6(){return $b()==="http:"||$b()==="https:"}function $b(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p6()||X1()||"connection"in navigator)?navigator.onLine:!0}function y6(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=u4()||f4()}get(){return g6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(s,e){Ar(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b6=new Qc(3e4,6e4);function Si(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ir(s,e,t,i,a={}){return t2(s,a,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const p=Gc(Object.assign({key:s.config.apiKey},d)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:m},c);return h4()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ni(s.emulatorConfig.host)&&(y.credentials="include"),e2.fetch()(await n2(s,s.config.apiHost,t,p),y)})}async function t2(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},v6),e);try{const a=new w6(s),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cd(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Cd(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Cd(s,"user-disabled",d);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zg(s,x,y);ts(s,x)}}catch(a){if(a instanceof ns)throw a;ts(s,"network-request-failed",{message:String(a)})}}async function Xc(s,e,t,i,a={}){const c=await Ir(s,e,t,i,a);return"mfaPendingCredential"in c&&ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function n2(s,e,t,i){const a=`${e}${t}?${i}`,c=s,d=c.config.emulator?qg(s.config,a):`${s.config.apiScheme}://${a}`;return x6.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function _6(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ds(this.auth,"network-request-failed")),b6.get())})}}function Cd(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ds(s,e,i);return a.customData._tokenResponse=t,a}function Gb(s){return s!==void 0&&s.enterprise!==void 0}class E6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T6(s,e){return Ir(s,"GET","/v2/recaptchaConfig",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(s,e){return Ir(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return Ir(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A6(s,e=!1){const t=ct(s),i=await t.getIdToken(e),a=Fg(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c?.sign_in_provider;return{claims:a,token:i,authTime:wc(Tp(a.auth_time)),issuedAtTime:wc(Tp(a.iat)),expirationTime:wc(Tp(a.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Tp(s){return Number(s)*1e3}function Fg(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=H1(t);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Yb(s){const e=Fg(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ns&&S6(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function S6({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(s){var e;const t=s.auth,i=await s.getIdToken(),a=await Mo(s,oh(t,{idToken:i}));Ae(a?.users.length,t,"internal-error");const c=a.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?s2(c.providerUserInfo):[],p=I6(s.providerData,d),m=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!p?.length,x=m?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Fp(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(s,w)}async function j6(s){const e=ct(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I6(s,e){return[...s.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function s2(s){return s.map(e=>{var{providerId:t}=e,i=Vg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(s,e){const t=await t2(s,{},async()=>{const i=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=s.config,d=await n2(s,a,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:i};return s.emulatorConfig&&Ni(s.emulatorConfig.host)&&(m.credentials="include"),e2.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function k6(s,e){return Ir(s,"POST","/v2/accounts:revokeToken",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Yb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:c}=await C6(e,t);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,d=new Io;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class us{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,c=Vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Fp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A6(this,e)}reload(){return j6(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Mo(this,N6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,c,d,p,m,y,x;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,R=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,N=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(p=t.tenantId)!==null&&p!==void 0?p:void 0,V=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,M=(y=t.createdAt)!==null&&y!==void 0?y:void 0,z=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:q,emailVerified:W,isAnonymous:X,providerData:oe,stsTokenManager:O}=t;Ae(q&&O,e,"internal-error");const S=Io.fromJSON(this.name,O);Ae(typeof q=="string",e,"internal-error"),oi(w,e.name),oi(E,e.name),Ae(typeof W=="boolean",e,"internal-error"),Ae(typeof X=="boolean",e,"internal-error"),oi(R,e.name),oi(N,e.name),oi(F,e.name),oi(V,e.name),oi(M,e.name),oi(z,e.name);const C=new us({uid:q,auth:e,email:E,emailVerified:W,displayName:w,isAnonymous:X,photoURL:N,phoneNumber:R,tenantId:F,stsTokenManager:S,createdAt:M,lastLoginAt:z});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(U=>Object.assign({},U))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new Io;a.updateFromServerResponse(t);const c=new us({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await lh(c),c}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?s2(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!c?.length,p=new Io;p.updateFromIdToken(i);const m=new us({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Fp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;function vr(s){Ar(s instanceof Function,"Expected a class definition");let e=Kb.get(s);return e?(Ar(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Kb.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r2.type="NONE";const Qb=r2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(s,e,t){return`firebase:${s}:${e}:${t}`}class Co{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=zd(this.userKey,a.apiKey,c),this.fullPersistenceKey=zd("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await oh(this.auth,{idToken:e}).catch(()=>{});return t?us._fromGetAccountInfoResponse(this.auth,t,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Co(vr(Qb),e,i);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=a[0]||vr(Qb);const d=zd(i,e.config.apiKey,e.name);let p=null;for(const y of t)try{const x=await y._get(d);if(x){let w;if(typeof x=="string"){const E=await oh(e,{idToken:x}).catch(()=>{});if(!E)break;w=await us._fromGetAccountInfoResponse(e,E,x)}else w=us._fromJSON(e,x);y!==c&&(p=w),c=y;break}}catch{}const m=a.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Co(c,e,i):(c=m[0],p&&await c._set(d,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Co(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u2(e))return"Blackberry";if(d2(e))return"Webos";if(a2(e))return"Safari";if((e.includes("chrome/")||o2(e))&&!e.includes("edge/"))return"Chrome";if(c2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if(i?.length===2)return i[1]}return"Other"}function i2(s=cn()){return/firefox\//i.test(s)}function a2(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o2(s=cn()){return/crios\//i.test(s)}function l2(s=cn()){return/iemobile/i.test(s)}function c2(s=cn()){return/android/i.test(s)}function u2(s=cn()){return/blackberry/i.test(s)}function d2(s=cn()){return/webos/i.test(s)}function Hg(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function P6(s=cn()){var e;return Hg(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D6(){return m4()&&document.documentMode===10}function h2(s=cn()){return Hg(s)||c2(s)||d2(s)||u2(s)||/windows phone/i.test(s)||l2(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(s,e=[]){let t;switch(s){case"Browser":t=Xb(cn());break;case"Worker":t=`${Xb(cn())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((d,p)=>{try{const m=e(c);d(m)}catch(m){p(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(s,e={}){return Ir(s,"GET","/v2/passwordPolicy",Si(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=6;class U6{constructor(e){var t,i,a,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:L6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,c,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wb(this),this.idTokenSubscription=new Wb(this),this.beforeStateQueue=new M6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var i,a,c;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await oh(this,{idToken:e}),i=await us._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m?.user&&(a=m.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(Us(this));const t=e?ct(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O6(this),t=new U6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wa("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await k6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&m6(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hs(s){return ct(s)}class Wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=_4(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z6(s){Dh=s}function m2(s){return Dh.loadJS(s)}function B6(){return Dh.recaptchaEnterpriseScript}function q6(){return Dh.gapiScript}function F6(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class H6{constructor(){this.enterprise=new $6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const G6="recaptcha-enterprise",p2="NO_RECAPTCHA";class Y6{constructor(e){this.type=G6,this.auth=Hs(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{T6(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new E6(m);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(m=>{p(m)})})}function a(c,d,p){const m=window.grecaptcha;Gb(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(p2)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H6().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(p=>{if(!t&&Gb(window.grecaptcha))a(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=B6();m.length!==0&&(m+=p),m2(m).then(()=>{a(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Zb(s,e,t,i=!1,a=!1){const c=new Y6(s);let d;if(a)d=p2;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hp(s,e,t,i,a){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Zb(s,e,t,t==="getOobCode");return i(s,d)}else return i(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Zb(s,e,t,t==="getOobCode");return i(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(s,e){const t=Ai(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(vi(c,e??{}))return a;ts(a,"already-initialized")}return t.initialize({options:e})}function Q6(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(vr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function X6(s,e,t){const i=Hs(s);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=g2(e),{host:d,port:p}=W6(e),m=p===null?"":`:${p}`,y={url:`${c}//${d}${m}/`},x=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(vi(y,i.config.emulator)&&vi(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Ni(d)?(Ag(`${c}//${d}${m}`),Sg("Auth",!0)):Z6()}function g2(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function W6(s){const e=g2(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Jb(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Jb(d)}}}function Jb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Z6(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function J6(s,e){return Ir(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(s,e){return Xc(s,"POST","/v1/accounts:signInWithPassword",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(s,e){return Xc(s,"POST","/v1/accounts:signInWithEmailLink",Si(s,e))}async function n3(s,e){return Xc(s,"POST","/v1/accounts:signInWithEmailLink",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends $g{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Pc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Pc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,t,"signInWithPassword",e3);case"emailLink":return t3(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,i,"signUpPassword",J6);case"emailLink":return n3(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(s,e){return Xc(s,"POST","/v1/accounts:signInWithIdp",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="http://localhost";class ya extends $g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,c=Vg(t,["providerId","signInMethod"]);if(!i||!a)return null;const d=new ya(i,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ko(e,t)}buildRequest(){const e={requestUri:s3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i3(s){const e=hc(fc(s)).link,t=e?hc(fc(e)).deep_link_id:null,i=hc(fc(s)).deep_link_id;return(i?hc(fc(i)).link:null)||i||t||e||s}class Gg{constructor(e){var t,i,a,c,d,p;const m=hc(fc(e)),y=(t=m.apiKey)!==null&&t!==void 0?t:null,x=(i=m.oobCode)!==null&&i!==void 0?i:null,w=r3((a=m.mode)!==null&&a!==void 0?a:null);Ae(y&&x&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=x,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=i3(e);try{return new Gg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return Pc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Gg.parseLink(t);return Ae(i,"argument-error"),Pc._fromEmailAndCode(e,i.code,i.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Mh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wc{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ya._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gr.credential(t,i)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Wc{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Wc{constructor(){super("twitter.com")}static credential(e,t){return ya._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return di.credential(t,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(s,e){return Xc(s,"POST","/v1/accounts:signUp",Si(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const c=await us._fromIdTokenResponse(e,i,a),d=e_(i);return new va({user:c,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=e_(i);return new va({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function e_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends ns{constructor(e,t,i,a){var c;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new ch(e,t,i,a)}}function y2(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,e,i):c})}async function o3(s,e,t=!1){const i=await Mo(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return va._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(s,e,t=!1){const{auth:i}=s;if(gn(i.app))return Promise.reject(Us(i));const a="reauthenticate";try{const c=await Mo(s,y2(i,a,e,s),t);Ae(c.idToken,i,"internal-error");const d=Fg(c.idToken);Ae(d,i,"internal-error");const{sub:p}=d;return Ae(s.uid===p,i,"user-mismatch"),va._forOperation(s,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(s,e,t=!1){if(gn(s.app))return Promise.reject(Us(s));const i="signIn",a=await y2(s,i,e),c=await va._fromIdTokenResponse(s,i,a);return t||await s._updateCurrentUser(c.user),c}async function c3(s,e){return v2(Hs(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(s){const e=Hs(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u3(s,e,t){if(gn(s.app))return Promise.reject(Us(s));const i=Hs(s),d=await Hp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&x2(s),m}),p=await va._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function d3(s,e,t){return gn(s.app)?Promise.reject(Us(s)):c3(ct(s),Ko.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x2(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(s,e){return Ir(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ct(s),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Mo(i,h3(i.auth,c));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const p=i.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(d)}function m3(s,e,t,i){return ct(s).onIdTokenChanged(e,t,i)}function p3(s,e,t){return ct(s).beforeAuthStateChanged(e,t)}function g3(s,e,t,i){return ct(s).onAuthStateChanged(e,t,i)}function y3(s){return ct(s).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1e3,x3=10;class _2 extends b2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);D6()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,x3):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},v3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const b3=_2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends b2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w2.type="SESSION";const E2=w2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Oh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:c}=t.data,d=this.handlersMap[a];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const p=Array.from(d).map(async y=>y(t.origin,c)),m=await _3(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((p,m)=>{const y=Yg("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);d={messageChannel:a,onMessage(w){const E=w;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(E.data.response);break;default:clearTimeout(x),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function E3(s){Vs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function T3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N3(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function A3(){return T2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firebaseLocalStorageDb",S3=1,dh="firebaseLocalStorage",A2="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function R3(){const s=indexedDB.deleteDatabase(N2);return new Zc(s).toPromise()}function $p(){const s=indexedDB.open(N2,S3);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(dh,{keyPath:A2})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(dh)?e(i):(i.close(),await R3(),e(await $p()))})})}async function t_(s,e,t){const i=Lh(s,!0).put({[A2]:e,value:t});return new Zc(i).toPromise()}async function j3(s,e){const t=Lh(s,!1).get(e),i=await new Zc(t).toPromise();return i===void 0?null:i.value}function n_(s,e){const t=Lh(s,!0).delete(e);return new Zc(t).toPromise()}const I3=800,C3=3;class S2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>C3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(A3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new w3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await t_(e,uh,"1"),await n_(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>t_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>j3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Lh(a,!1).getAll();return new Zc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S2.type="LOCAL";const k3=S2;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(s,e){return e?vr(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends $g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function P3(s){return v2(s.auth,new Qg(s),s.bypassAuthState)}function D3(s){const{auth:e,user:t}=s;return Ae(t,e,"internal-error"),l3(t,new Qg(s),s.bypassAuthState)}async function M3(s){const{auth:e,user:t}=s;return Ae(t,e,"internal-error"),o3(t,new Qg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P3;case"linkViaPopup":case"linkViaRedirect":return M3;case"reauthViaPopup":case"reauthViaRedirect":return D3;default:ts(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Qc(2e3,1e4);async function L3(s,e,t){if(gn(s.app))return Promise.reject(ds(s,"operation-not-supported-in-this-environment"));const i=Hs(s);Jw(s,e,Mh);const a=Kg(i,t);return new da(i,"signInViaPopup",e,a).executeNotNull()}class da extends R2{constructor(e,t,i,a,c){super(e,t,a,c),this.provider=i,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O3.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="pendingRedirect",Bd=new Map;class V3 extends R2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const i=await z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z3(s,e){const t=I2(e),i=j2(s);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}async function B3(s,e){return j2(s)._set(I2(e),"true")}function q3(s,e){Bd.set(s._key(),e)}function j2(s){return vr(s._redirectPersistence)}function I2(s){return zd(U3,s.config.apiKey,s.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(s,e,t){return H3(s,e,t)}async function H3(s,e,t){if(gn(s.app))return Promise.reject(Us(s));const i=Hs(s);Jw(s,e,Mh),await i._initializationPromise;const a=Kg(i,t);return await B3(a,i),a._openRedirect(i,e,"signInViaRedirect")}async function $3(s,e){return await Hs(s)._initializationPromise,C2(s,e,!1)}async function C2(s,e,t=!1){if(gn(s.app))return Promise.reject(Us(s));const i=Hs(s),a=Kg(i,e),d=await new V3(i,a,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=10*60*1e3;class Y3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!k2(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ds(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G3&&this.cachedEventUids.clear(),this.cachedEventUids.has(s_(e))}saveEventToCache(e){this.cachedEventUids.add(s_(e)),this.lastProcessedEventTime=Date.now()}}function s_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function k2({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function K3(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k2(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(s,e={}){return Ir(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W3=/^https?/;async function Z3(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Q3(s);for(const t of e)try{if(J3(t))return}catch{}ts(s,"unauthorized-domain")}function J3(s){const e=qp(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!W3.test(t))return!1;if(X3.test(s))return i===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Qc(3e4,6e4);function r_(){const s=Vs().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function t5(s){return new Promise((e,t)=>{var i,a,c;function d(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),t(ds(s,"network-request-failed"))},timeout:e5.get()})}if(!((a=(i=Vs().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=Vs().gapi)===null||c===void 0)&&c.load)d();else{const p=F6("iframefcb");return Vs()[p]=()=>{gapi.load?d():t(ds(s,"network-request-failed"))},m2(`${q6()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw qd=null,e})}let qd=null;function n5(s){return qd=qd||t5(s),qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new Qc(5e3,15e3),r5="__/auth/iframe",i5="emulator/auth/iframe",a5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l5(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?qg(e,i5):`https://${s.config.authDomain}/${r5}`,i={apiKey:e.apiKey,appName:s.name,v:Ea},a=o5.get(s.config.apiHost);a&&(i.eid=a);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Gc(i).slice(1)}`}async function c5(s){const e=await n5(s),t=Vs().gapi;return Ae(t,s,"internal-error"),e.open({where:document.body,url:l5(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a5,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const d=ds(s,"network-request-failed"),p=Vs().setTimeout(()=>{c(d)},s5.get());function m(){Vs().clearTimeout(p),a(i)}i.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d5=500,h5=600,f5="_blank",m5="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p5(s,e,t,i=d5,a=h5){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const m=Object.assign(Object.assign({},u5),{width:i.toString(),height:a.toString(),top:c,left:d}),y=cn().toLowerCase();t&&(p=o2(y)?f5:t),i2(y)&&(e=e||m5,m.scrollbars="yes");const x=Object.entries(m).reduce((E,[R,N])=>`${E}${R}=${N},`,"");if(P6(y)&&p!=="_self")return g5(e||"",p),new i_(null);const w=window.open(e||"",p,x);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new i_(w)}function g5(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="__/auth/handler",v5="emulator/auth/handler",x5=encodeURIComponent("fac");async function a_(s,e,t,i,a,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:Ea,eventId:a};if(e instanceof Mh){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",b4(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))d[x]=w}if(e instanceof Wc){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const m=await s._getAppCheckToken(),y=m?`#${x5}=${encodeURIComponent(m)}`:"";return`${b5(s)}?${Gc(p).slice(1)}${y}`}function b5({config:s}){return s.emulator?qg(s,v5):`https://${s.authDomain}/${y5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class _5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E2,this._completeRedirectFn=C2,this._overrideRedirectResult=q3}async _openPopup(e,t,i,a){var c;Ar((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await a_(e,t,i,qp(),a);return p5(e,d,Yg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const c=await a_(e,t,i,qp(),a);return E3(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Ar(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await c5(e),i=new Y3(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},a=>{var c;const d=(c=a?.[0])===null||c===void 0?void 0:c[Np];d!==void 0&&t(!!d),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h2()||a2()||Hg()}}const w5=_5;var o_="@firebase/auth",l_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N5(s){fs(new es("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f2(s)},y=new V6(i,a,c,m);return Q6(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fs(new es("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(i=>new E5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(o_,l_,T5(s)),Nn(o_,l_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=5*60,S5=K1("authIdTokenMaxAge")||A5;let c_=null;const R5=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>S5)return;const a=t?.token;c_!==a&&(c_=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j5(s=Ih()){const e=Ai(s,"auth");if(e.isInitialized())return e.getImmediate();const t=K6(s,{popupRedirectResolver:w5,persistence:[k3,b3,E2]}),i=K1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=R5(c.toString());p3(t,d,()=>d(t.currentUser)),m3(t,p=>d(p))}}const a=$1("auth");return a&&X6(t,`http://${a}`),t}function I5(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}z6({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=a=>{const c=ds("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",I5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N5("Browser");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,P2;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function C(){}C.prototype=S.prototype,O.D=S.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(U,k,P){for(var j=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)j[fe-2]=arguments[fe];return S.prototype[k].apply(U,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,C){C||(C=0);var U=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)U[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;16>k;++k)U[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=O.g[0],C=O.g[1],k=O.g[2];var P=O.g[3],j=S+(P^C&(k^P))+U[0]+3614090360&4294967295;S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+U[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+U[2]+606105819&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+U[3]+3250441966&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+U[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+U[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+U[6]+2821735955&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+U[7]+4249261313&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+U[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+U[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+U[10]+4294925233&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+U[11]+2304563134&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+U[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+U[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+U[14]+2792965006&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+U[15]+1236535329&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(k^P&(C^k))+U[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+U[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+U[11]+643717713&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+U[0]+3921069994&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+U[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+U[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+U[15]+3634488961&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+U[4]+3889429448&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+U[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+U[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+U[3]+4107603335&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+U[8]+1163531501&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+U[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+U[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+U[7]+1735328473&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+U[12]+2368359562&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(C^k^P)+U[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+U[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+U[11]+1839030562&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+U[14]+4259657740&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+U[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+U[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+U[7]+4139469664&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+U[10]+3200236656&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+U[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+U[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+U[3]+3572445317&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+U[6]+76029189&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+U[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+U[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+U[15]+530742520&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+U[2]+3299628645&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(k^(C|~P))+U[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+U[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+U[14]+2878612391&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+U[5]+4237533241&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+U[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+U[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+U[10]+4293915773&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+U[1]+2240044497&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+U[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+U[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+U[6]+2734768916&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+U[13]+1309151649&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+U[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+U[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+U[2]+718787259&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+P&4294967295}i.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var C=S-this.blockSize,U=this.B,k=this.h,P=0;P<S;){if(k==0)for(;P<=C;)a(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<S;)if(U[k++]=O.charCodeAt(P++),k==this.blockSize){a(this,U),k=0;break}}else for(;P<S;)if(U[k++]=O[P++],k==this.blockSize){a(this,U),k=0;break}}this.h=k,this.o+=S},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var C=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=C&255,C/=256;for(this.u(O),O=Array(16),S=C=0;4>S;++S)for(var U=0;32>U;U+=8)O[C++]=this.g[S]>>>U&255;return O};function c(O,S){var C=p;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=S(O)}function d(O,S){this.h=S;for(var C=[],U=!0,k=O.length-1;0<=k;k--){var P=O[k]|0;U&&P==S||(C[k]=P,U=!1)}this.g=C}var p={};function m(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return V(y(-O));for(var S=[],C=1,U=0;O>=C;U++)S[U]=O/C|0,C*=4294967296;return new d(S,0)}function x(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return V(x(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),U=w,k=0;k<O.length;k+=8){var P=Math.min(8,O.length-k),j=parseInt(O.substring(k,k+P),S);8>P?(P=y(Math.pow(S,P)),U=U.j(P).add(y(j))):(U=U.j(C),U=U.add(y(j)))}return U}var w=m(0),E=m(1),R=m(16777216);s=d.prototype,s.m=function(){if(F(this))return-V(this).m();for(var O=0,S=1,C=0;C<this.g.length;C++){var U=this.i(C);O+=(0<=U?U:4294967296+U)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(F(this))return"-"+V(this).toString(O);for(var S=y(Math.pow(O,6)),C=this,U="";;){var k=W(C,S).g;C=M(C,k.j(S));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=k,N(C))return P+U;for(;6>P.length;)P="0"+P;U=P+U}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function F(O){return O.h==-1}s.l=function(O){return O=M(this,O),F(O)?-1:N(O)?0:1};function V(O){for(var S=O.g.length,C=[],U=0;U<S;U++)C[U]=~O.g[U];return new d(C,~O.h).add(E)}s.abs=function(){return F(this)?V(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],U=0,k=0;k<=S;k++){var P=U+(this.i(k)&65535)+(O.i(k)&65535),j=(P>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);U=j>>>16,P&=65535,j&=65535,C[k]=j<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function M(O,S){return O.add(V(S))}s.j=function(O){if(N(this)||N(O))return w;if(F(this))return F(O)?V(this).j(V(O)):V(V(this).j(O));if(F(O))return V(this.j(V(O)));if(0>this.l(R)&&0>O.l(R))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,C=[],U=0;U<2*S;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(var k=0;k<O.g.length;k++){var P=this.i(U)>>>16,j=this.i(U)&65535,fe=O.i(k)>>>16,ke=O.i(k)&65535;C[2*U+2*k]+=j*ke,z(C,2*U+2*k),C[2*U+2*k+1]+=P*ke,z(C,2*U+2*k+1),C[2*U+2*k+1]+=j*fe,z(C,2*U+2*k+1),C[2*U+2*k+2]+=P*fe,z(C,2*U+2*k+2)}for(U=0;U<S;U++)C[U]=C[2*U+1]<<16|C[2*U];for(U=S;U<2*S;U++)C[U]=0;return new d(C,0)};function z(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function q(O,S){this.g=O,this.h=S}function W(O,S){if(N(S))throw Error("division by zero");if(N(O))return new q(w,w);if(F(O))return S=W(V(O),S),new q(V(S.g),V(S.h));if(F(S))return S=W(O,V(S)),new q(V(S.g),S.h);if(30<O.g.length){if(F(O)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,U=S;0>=U.l(O);)C=X(C),U=X(U);var k=oe(C,1),P=oe(U,1);for(U=oe(U,2),C=oe(C,2);!N(U);){var j=P.add(U);0>=j.l(O)&&(k=k.add(C),P=j),U=oe(U,1),C=oe(C,1)}return S=M(O,k.j(S)),new q(k,S)}for(k=w;0<=O.l(S);){for(C=Math.max(1,Math.floor(O.m()/S.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),P=y(C),j=P.j(S);F(j)||0<j.l(O);)C-=U,P=y(C),j=P.j(S);N(P)&&(P=E),k=k.add(P),O=M(O,j)}return new q(k,O)}s.A=function(O){return W(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],U=0;U<S;U++)C[U]=this.i(U)&O.i(U);return new d(C,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],U=0;U<S;U++)C[U]=this.i(U)|O.i(U);return new d(C,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],U=0;U<S;U++)C[U]=this.i(U)^O.i(U);return new d(C,this.h^O.h)};function X(O){for(var S=O.g.length+1,C=[],U=0;U<S;U++)C[U]=O.i(U)<<1|O.i(U-1)>>>31;return new d(C,O.h)}function oe(O,S){var C=S>>5;S%=32;for(var U=O.g.length-C,k=[],P=0;P<U;P++)k[P]=0<S?O.i(P+C)>>>S|O.i(P+C+1)<<32-S:O.i(P+C);return new d(k,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,P2=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,pi=d}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D2,mc,M2,Fd,Gp,O2,L2,U2;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(h,v){if(v)e:{var b=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var $=h[A];if(!($ in b))break e;b=b[$]}h=h[h.length-1],A=b[h],v=v(A),v!=A&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var b=0,A=!1,$={next:function(){if(!A&&b<h.length){var Z=b++;return{value:v(Z,h[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,b){return h.call.apply(h.bind,arguments)}function w(h,v,b){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,E.apply(null,arguments)}function R(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function N(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(A,$,Z){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return v.prototype[$].apply(A,de)}}function F(h){const v=h.length;if(0<v){const b=Array(v);for(let A=0;A<v;A++)b[A]=h[A];return b}return[]}function V(h,v){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const $=h.length||0,Z=A.length||0;h.length=$+Z;for(let de=0;de<Z;de++)h[$+de]=A[de]}else h.push(A)}}class M{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=p.navigator;return h&&(h=h.userAgent)?h:""}function W(h){return W[" "](h),h}W[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function oe(h,v,b){for(const A in h)v.call(b,h[A],A,h)}function O(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function S(h){const v={};for(const b in h)v[b]=h[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,v){let b,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(b in A)h[b]=A[b];for(let Z=0;Z<C.length;Z++)b=C[Z],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function k(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function P(h){p.setTimeout(()=>{throw h},0)}function j(){var h=te;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class fe{constructor(){this.h=this.g=null}add(v,b){const A=ke.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ke=new M(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ve=!1,te=new fe,I=()=>{const h=p.Promise.resolve(void 0);he=()=>{h.then(ee)}};var ee=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(b){P(b)}var v=ke;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ve=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};p.addEventListener("test",b,v),p.removeEventListener("test",b,v)}catch{}return h}();function Me(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{W(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Me.aa.h.call(this)}}N(Me,le);var Re={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Vn(h,v,b,A,$){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=$,this.key=++Qe,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,v,b,A,$){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var de=Pe(h,v,A,$);return-1<de?(v=h[de],b||(v.fa=!1)):(v=new Vn(v,this.src,Z,!!A,$),v.fa=b,h.push(v)),v};function Ee(h,v){var b=v.type;if(b in h.g){var A=h.g[b],$=Array.prototype.indexOf.call(A,v,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(A,$,1),Z&&(ce(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Pe(h,v,b,A){for(var $=0;$<h.length;++$){var Z=h[$];if(!Z.da&&Z.listener==v&&Z.capture==!!b&&Z.ha==A)return $}return-1}var at="closure_lm_"+(1e6*Math.random()|0),tn={};function vn(h,v,b,A,$){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)vn(h,v[Z],b,A,$);return null}return b=ru(b),h&&h[Nt]?h.K(v,b,y(A)?!!A.capture:!1,$):Vt(h,v,b,!1,A,$)}function Vt(h,v,b,A,$,Z){if(!v)throw Error("Invalid event type");var de=y($)?!!$.capture:!!$,Fe=kr(h);if(Fe||(h[at]=Fe=new we(h)),b=Fe.add(v,b,A,de,Z),b.proxy)return b;if(A=bt(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)xe||($=de),$===void 0&&($=!1),h.addEventListener(v.toString(),A,$);else if(h.attachEvent)h.attachEvent(vs(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bt(){function h(b){return v.call(h.src,h.listener,b)}const v=Cr;return h}function un(h,v,b,A,$){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)un(h,v[Z],b,A,$);else A=y(A)?!!A.capture:!!A,b=ru(b),h&&h[Nt]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],b=Pe(Z,b,A,$),-1<b&&(ce(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=kr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Pe(v,b,A,$)),(b=-1<h?v[h]:null)&&zn(b))}function zn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Nt])Ee(v.i,h);else{var b=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(b,A,h.capture):v.detachEvent?v.detachEvent(vs(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=kr(v))?(Ee(b,h),b.h==0&&(b.src=null,v[at]=null)):ce(h)}}}function vs(h){return h in tn?tn[h]:tn[h]="on"+h}function Cr(h,v){if(h.da)h=!0;else{v=new Me(v,this);var b=h.listener,A=h.ha||h.src;h.fa&&zn(h),h=b.call(A,v)}return h}function kr(h){return h=h[at],h instanceof we?h:null}var tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(h){return typeof h=="function"?h:(h[tl]||(h[tl]=function(v){return h.handleEvent(v)}),h[tl])}function yt(){ue.call(this),this.i=new we(this),this.M=this,this.F=null}N(yt,ue),yt.prototype[Nt]=!0,yt.prototype.removeEventListener=function(h,v,b,A){un(this,h,v,b,A)};function Ze(h,v){var b,A=h.F;if(A)for(b=[];A;A=A.F)b.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var $=v;v=new le(A,h),U(v,$)}if($=!0,b)for(var Z=b.length-1;0<=Z;Z--){var de=v.g=b[Z];$=Sn(de,A,!0,v)&&$}if(de=v.g=h,$=Sn(de,A,!0,v)&&$,$=Sn(de,A,!1,v)&&$,b)for(Z=0;Z<b.length;Z++)de=v.g=b[Z],$=Sn(de,A,!1,v)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],A=0;A<b.length;A++)ce(b[A]);delete h.g[v],h.h--}}this.F=null},yt.prototype.K=function(h,v,b,A){return this.i.add(String(h),v,!1,b,A)},yt.prototype.L=function(h,v,b,A){return this.i.add(String(h),v,!0,b,A)};function Sn(h,v,b,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==b){var Fe=de.listener,Pt=de.ha||de.src;de.fa&&Ee(h.i,de),$=Fe.call(Pt,A)!==!1&&$}}return $&&!A.defaultPrevented}function nn(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:p.setTimeout(h,v||0)}function iu(h){h.g=nn(()=>{h.g=null,h.i&&(h.i=!1,iu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class of extends ue{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(h){ue.call(this),this.h=h,this.g={}}N(Ii,ue);var Ci=[];function ki(h){oe(h.g,function(v,b){this.g.hasOwnProperty(b)&&zn(v)},h),h.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),ki(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=p.JSON.stringify,ja=p.JSON.parse,Pi=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function nl(){}nl.prototype.h=null;function sl(h){return h.h||(h.h=h.i())}function rl(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gs(){le.call(this,"d")}N(Gs,le);function il(){le.call(this,"c")}N(il,le);var xs={},al=null;function Pr(){return al=al||new yt}xs.La="serverreachability";function Ia(h){le.call(this,xs.La,h)}N(Ia,le);function Dr(h){const v=Pr();Ze(v,new Ia(v))}xs.STAT_EVENT="statevent";function au(h,v){le.call(this,xs.STAT_EVENT,h),this.stat=v}N(au,le);function dt(h){const v=Pr();Ze(v,new au(v,h))}xs.Ma="timingevent";function kt(h,v){le.call(this,xs.Ma,h),this.size=v}N(kt,le);function At(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},v)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function ol(h,v,b,A,$,Z){h.info(function(){if(h.g)if(Z)for(var de="",Fe=Z.split("&"),Pt=0;Pt<Fe.length;Pt++){var He=Fe[Pt].split("=");if(1<He.length){var Bt=He[0];He=He[1];var Dt=Bt.split("_");de=2<=Dt.length&&Dt[1]=="type"?de+(Bt+"="+He+"&"):de+(Bt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+v+`
`+b+`
`+de})}function lf(h,v,b,A,$,Z,de){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+v+`
`+b+`
`+Z+" "+de})}function Mr(h,v,b,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Di(h,b)+(A?" "+A:"")})}function ou(h,v){h.info(function(){return"TIMEOUT: "+v})}Bn.prototype.info=function(){};function Di(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var A=b[h];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<$.length;de++)$[de]=""}}}}return ss(b)}catch{return v}}var Or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ys={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bs;function _s(){}N(_s,nl),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},bs=new _s;function dn(h,v,b,A){this.j=h,this.i=v,this.l=b,this.R=A||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var ll={},Ca={};function rs(h,v,b){h.L=1,h.v=Vi(Rn(v)),h.m=b,h.P=!0,Ks(h,null)}function Ks(h,v){h.F=Date.now(),Mi(h),h.A=Rn(h.v);var b=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ml(b.i,"t",A),h.C=0,b=h.j.J,h.h=new _t,h.g=Eu(h.j,b?v:null,!h.m),0<h.O&&(h.M=new of(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,A=h.ca;var $="readystatechange";Array.isArray($)||($&&(Ci[0]=$.toString()),$=Ci);for(var Z=0;Z<$.length;Z++){var de=vn(b,$[Z],A||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Dr(),ol(h.i,h.u,h.A,h.l,h.R,h.m)}dn.prototype.ca=function(h){h=h.target;const v=this.M;v&&$n(h)==3?v.j():this.Y(h)},dn.prototype.Y=function(h){try{if(h==this.g)e:{const Dt=$n(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=nr?Dr(3):Dr(2)),Lr(this);var b=this.g.Z();this.X=b;t:if(lu(this)){var A=pu(this.g);h="";var $=A.length,Z=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),ws(this);var de="";break t}this.h.i=new p.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(Z&&v==$-1)});A.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,lf(this.i,this.u,this.A,this.l,this.R,Dt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Pt=this.g;if((Fe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Fe)){var He=Fe;break t}}He=null}if(b=He)Mr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oi(this,b);else{this.o=!1,this.s=3,dt(12),Gt(this),ws(this);break e}}if(this.P){b=!0;let Yt;for(;!this.J&&this.C<de.length;)if(Yt=cu(this,de),Yt==Ca){Dt==4&&(this.s=4,dt(14),b=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==ll){this.s=4,dt(15),Mr(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else Mr(this.i,this.l,Yt,null),Oi(this,Yt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||de.length!=0||this.h.h||(this.s=1,dt(16),b=!1),this.o=this.o&&b,!b)Mr(this.i,this.l,de,"[Invalid Chunked Response]"),Gt(this),ws(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Yi(Bt),Bt.M=!0,dt(11))}}else Mr(this.i,this.l,de,null),Oi(this,de);Dt==4&&Gt(this),this.o&&!this.J&&(Dt==4?bu(this.j,this):(this.o=!1,Mi(this)))}else ff(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Gt(this),ws(this)}}}catch{}finally{}};function lu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function cu(h,v){var b=h.C,A=v.indexOf(`
`,b);return A==-1?Ca:(b=Number(v.substring(b,A)),isNaN(b)?ll:(A+=1,A+b>v.length?Ca:(v=v.slice(A,A+b),h.C=A+b,v)))}dn.prototype.cancel=function(){this.J=!0,Gt(this)};function Mi(h){h.S=Date.now()+h.I,uu(h,h.I)}function uu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(E(h.ba,h),v)}function Lr(h){h.B&&(p.clearTimeout(h.B),h.B=null)}dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ou(this.i,this.A),this.L!=2&&(Dr(),dt(17)),Gt(this),this.s=2,ws(this)):uu(this,this.S-h)};function ws(h){h.j.G==0||h.J||bu(h.j,h)}function Gt(h){Lr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ki(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Oi(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||cl(b.h,h))){if(!h.K&&cl(b.h,h)&&b.G==3){try{var A=b.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Fa(b),Ba(b);else break e;xl(b),dt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=At(E(b.Za,b),6e3));if(1>=Pa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else tr(b,11)}else if((h.K||b.g==h)&&Fa(b),!z(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let He=$[v];if(b.T=He[0],He=He[1],b.G==2)if(He[0]=="c"){b.K=He[1],b.ia=He[2];const Bt=He[3];Bt!=null&&(b.la=Bt,b.j.info("VER="+b.la));const Dt=He[4];Dt!=null&&(b.Aa=Dt,b.j.info("SVER="+b.Aa));const nr=He[5];nr!=null&&typeof nr=="number"&&0<nr&&(A=1.5*nr,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Yt=h.g;if(Yt){const js=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var Z=A.h;Z.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Da(Z,Z.h),Z.h=null))}if(A.D){const _l=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(A.ya=_l,tt(A.I,A.D,_l))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var de=h;if(A.qa=wu(A,A.J?A.ia:null,A.W),de.K){hn(A.h,de);var Fe=de,Pt=A.L;Pt&&(Fe.I=Pt),Fe.B&&(Lr(Fe),Mi(Fe)),A.g=de}else vu(A);0<b.i.length&&qa(b)}else He[0]!="stop"&&He[0]!="close"||tr(b,7);else b.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?tr(b,7):yl(b):He[0]!="noop"&&b.l&&b.l.ta(He),b.v=0)}}Dr(4)}catch{}}var du=class{constructor(h,v){this.g=h,this.map=v}};function Qs(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pa(h){return h.h?1:h.g?h.g.size:0}function cl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Da(h,v){h.g?h.g.add(v):h.h=v}function hn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Qs.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ul(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return F(h.i)}function cf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,A=0;A<b;A++)v.push(h[A]);return v}v=[],b=0;for(A in h)v[b++]=h[A];return v}function Ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const A in h)v[b++]=A;return v}}}function dl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Ma(h),A=cf(h),$=A.length,Z=0;Z<$;Z++)v.call(void 0,A[Z],b&&b[Z],h)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var A=h[b].indexOf("="),$=null;if(0<=A){var Z=h[b].substring(0,A);$=h[b].substring(A+1)}else Z=h[b];v(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function St(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof St){this.h=h.h,Ui(this,h.j),this.o=h.o,this.g=h.g,Ur(this,h.s),this.l=h.l;var v=h.i,b=new Ws;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Xs(this,b),this.m=h.m}else h&&(v=String(h).match(Li))?(this.h=!1,Ui(this,v[1]||"",!0),this.o=qn(v[2]||""),this.g=qn(v[3]||"",!0),Ur(this,v[4]),this.l=qn(v[5]||"",!0),Xs(this,v[6]||"",!0),this.m=qn(v[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}St.prototype.toString=function(){var h=[],v=this.j;v&&h.push(zi(v,hl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(zi(v,hl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(zi(b,b.charAt(0)=="/"?df:fl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",zi(b,Oa)),h.join("")};function Rn(h){return new St(h)}function Ui(h,v,b){h.j=b?qn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ur(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Xs(h,v,b){v instanceof Ws?(h.i=v,fu(h.i,h.h)):(b||(v=zi(v,hf)),h.i=new Ws(v,h.h))}function tt(h,v,b){h.i.set(v,b)}function Vi(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zi(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,hu),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,df=/[#\?]/g,hf=/[#\?@]/g,Oa=/#/g;function Ws(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Fn(h){h.g||(h.g=new Map,h.h=0,h.i&&uf(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Ws.prototype,s.add=function(h,v){Fn(this),this.i=null,h=Es(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Zs(h,v){Fn(h),v=Es(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Js(h,v){return Fn(h),v=Es(h,v),h.g.has(v)}s.forEach=function(h,v){Fn(this),this.g.forEach(function(b,A){b.forEach(function($){h.call(v,$,A,this)},this)},this)},s.na=function(){Fn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let A=0;A<v.length;A++){const $=h[A];for(let Z=0;Z<$.length;Z++)b.push(v[A])}return b},s.V=function(h){Fn(this);let v=[];if(typeof h=="string")Js(this,h)&&(v=v.concat(this.g.get(Es(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},s.set=function(h,v){return Fn(this),this.i=null,h=Es(this,h),Js(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ml(h,v,b){Zs(h,v),0<b.length&&(h.i=null,h.g.set(Es(h,v),F(b)),h.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var A=v[b];const Z=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var $=Z;de[A]!==""&&($+="="+encodeURIComponent(String(de[A]))),h.push($)}}return this.i=h.join("&")};function Es(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function fu(h,v){v&&!h.j&&(Fn(h),h.i=null,h.g.forEach(function(b,A){var $=A.toLowerCase();A!=$&&(Zs(this,A),ml(this,$,b))},h)),h.j=v}function Bi(h,v){const b=new Bn;if(p.Image){const A=new Image;A.onload=R(Hn,b,"TestLoadImage: loaded",!0,v,A),A.onerror=R(Hn,b,"TestLoadImage: error",!1,v,A),A.onabort=R(Hn,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=R(Hn,b,"TestLoadImage: timeout",!1,v,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function is(h,v){const b=new Bn,A=new AbortController,$=setTimeout(()=>{A.abort(),Hn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Z=>{clearTimeout($),Z.ok?Hn(b,"TestPingServer: ok",!0,v):Hn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Hn(b,"TestPingServer: error",!1,v)})}function Hn(h,v,b,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(b)}catch{}}function qi(){this.g=new Pi}function Ts(h,v,b){const A=b||"";try{dl(h,function($,Z){let de=$;y($)&&(de=ss($)),v.push(A+Z+"="+encodeURIComponent(de))})}catch($){throw v.push(A+"type="+encodeURIComponent("_badmap")),$}}function Vr(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Vr,nl),Vr.prototype.g=function(){return new er(this.l,this.j)},Vr.prototype.i=function(h){return function(){return h}}({});function er(h,v){yt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(er,yt),s=er.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,As(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||p).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ns(this):As(this),this.readyState==3&&pl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,Ns(this))},s.Qa=function(h){this.g&&(this.response=h,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(h){h.readyState=4,h.l=null,h.j=null,h.v=null,As(h)}s.setRequestHeader=function(h,v){this.u.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function As(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function gl(h){let v="";return oe(h,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function zt(h,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=gl(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):tt(h,v,b))}function Xe(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xe,yt);var La=/^https?$/i,Fi=["POST","PUT"];s=Xe.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bs.g(),this.v=this.o?sl(this.o):sl(bs),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){mu(this,Z);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)b.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())b.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=p.FormData&&h instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Fi,v,void 0))||A||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of b)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hi(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){mu(this,Z)}};function mu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ua(h),Ss(h)}function Ua(h){h.A||(h.A=!0,Ze(h,"complete"),Ze(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ze(this,"complete"),Ze(this,"abort"),Ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),Xe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(h){if(h.h&&typeof d<"u"&&(!h.v[1]||$n(h)!=4||h.Z()!=2)){if(h.u&&$n(h)==4)nn(h.Ea,0,h);else if(Ze(h,"readystatechange"),$n(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=de===0){var $=String(h.D).match(Li)[1]||null;!$&&p.self&&p.self.location&&($=p.self.location.protocol.slice(0,-1)),A=!La.test($?$.toLowerCase():"")}b=A}if(b)Ze(h,"complete"),Ze(h,"success");else{h.m=6;try{var Z=2<$n(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Ua(h)}}finally{Ss(h)}}}}function Ss(h,v){if(h.g){Hi(h);const b=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ze(h,"ready");try{b.onreadystatechange=A}catch{}}}function Hi(h){h.I&&(p.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function $n(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ja(v)}};function pu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ff(h){const v={};h=(h.g&&2<=$n(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(z(h[A]))continue;var b=k(h[A]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=v[$]||[];v[$]=Z,Z.push(b)}O(v,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function za(h){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$i("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$i("baseRetryDelayMs",5e3,h),this.cb=$i("retryDelaySeedMs",1e4,h),this.Wa=$i("forwardChannelMaxRetries",2,h),this.wa=$i("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(h&&h.concurrentRequestLimit),this.Da=new qi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=za.prototype,s.la=8,s.G=1,s.connect=function(h,v,b,A){dt(0),this.W=h,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=wu(this,null,this.W),qa(this)};function yl(h){if(gu(h),h.G==3){var v=h.U++,b=Rn(h.I);if(tt(b,"SID",h.K),tt(b,"RID",v),tt(b,"TYPE","terminate"),Gi(h,b),v=new dn(h,h.j,v),v.L=2,v.v=Vi(Rn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=v.v,b=!0),b||(v.g=Eu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Mi(v)}_u(h)}function Ba(h){h.g&&(Yi(h),h.g.cancel(),h.g=null)}function gu(h){Ba(h),h.u&&(p.clearTimeout(h.u),h.u=null),Fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&p.clearTimeout(h.s),h.s=null)}function qa(h){if(!ka(h.h)&&!h.s){h.s=!0;var v=h.Ga;he||I(),ve||(he(),ve=!0),te.add(v,h),h.B=0}}function mf(h,v){return Pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(E(h.Ga,h,v),bl(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new dn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=S(Z),U(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=yu(this,$,v),b=Rn(this.I),tt(b,"RID",h),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Gi(this,b),Z&&(this.O?v="headers="+encodeURIComponent(String(gl(Z)))+"&"+v:this.m&&zt(b,this.m,Z)),Da(this.h,$),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",v),tt(b,"SID","null"),$.T=!0,rs($,b,null)):rs($,b,v),this.G=2}}else this.G==3&&(h?vl(this,h):this.i.length==0||ka(this.h)||vl(this))};function vl(h,v){var b;v?b=v.l:b=h.U++;const A=Rn(h.I);tt(A,"SID",h.K),tt(A,"RID",b),tt(A,"AID",h.T),Gi(h,A),h.m&&h.o&&zt(A,h.m,h.o),b=new dn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=yu(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Da(h.h,b),rs(b,A,v)}function Gi(h,v){h.H&&oe(h.H,function(b,A){tt(v,A,b)}),h.l&&dl({},function(b,A){tt(v,A,b)})}function yu(h,v,b){b=Math.min(h.i.length,b);var A=h.l?E(h.l.Na,h.l,h):null;e:{var $=h.i;let Z=-1;for(;;){const de=["count="+b];Z==-1?0<b?(Z=$[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Fe=!0;for(let Pt=0;Pt<b;Pt++){let He=$[Pt].g;const Bt=$[Pt].map;if(He-=Z,0>He)Z=Math.max(0,$[Pt].g-100),Fe=!1;else try{Ts(Bt,de,"req"+He+"_")}catch{A&&A(Bt)}}if(Fe){A=de.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,A}function vu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;he||I(),ve||(he(),ve=!0),te.add(v,h),h.v=0}}function xl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(E(h.Fa,h),bl(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(E(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ba(this),xu(this))};function Yi(h){h.A!=null&&(p.clearTimeout(h.A),h.A=null)}function xu(h){h.g=new dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Rn(h.qa);tt(v,"RID","rpc"),tt(v,"SID",h.K),tt(v,"AID",h.T),tt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(v,"TO",h.ja),tt(v,"TYPE","xmlhttp"),Gi(h,v),h.m&&h.o&&zt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Vi(Rn(v)),b.m=null,b.P=!0,Ks(b,h)}s.Za=function(){this.C!=null&&(this.C=null,Ba(this),xl(this),dt(19))};function Fa(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function bu(h,v){var b=null;if(h.g==v){Fa(h),Yi(h),h.g=null;var A=2}else if(cl(h.h,v))b=v.D,hn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;A=Pr(),Ze(A,new kt(A,b)),qa(h)}else vu(h);else if($=v.s,$==3||$==0&&0<v.X||!(A==1&&mf(h,v)||A==2&&xl(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),$){case 1:tr(h,5);break;case 4:tr(h,10);break;case 3:tr(h,6);break;default:tr(h,2)}}}function bl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function tr(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),A=h.Xa;const $=!A;A=new St(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ui(A,"https"),Vi(A),$?Bi(A.toString(),b):is(A.toString(),b)}else dt(2);h.G=0,h.l&&h.l.sa(v),_u(h),gu(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function _u(h){if(h.G=0,h.ka=[],h.l){const v=ul(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ka,v),V(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function wu(h,v,b){var A=b instanceof St?Rn(b):new St(b);if(A.g!="")v&&(A.g=v+"."+A.g),Ur(A,A.s);else{var $=p.location;A=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var Z=new St(null);A&&Ui(Z,A),v&&(Z.g=v),$&&Ur(Z,$),b&&(Z.l=b),A=Z}return b=h.D,v=h.ya,b&&v&&tt(A,b,v),tt(A,"VER",h.la),Gi(h,A),A}function Eu(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Xe(new Vr({eb:b})):new Xe(h.pa),v.Ha(h.J),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ha(){}Ha.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){yt.call(this),this.g=new za(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Rs(this)}N(fn,yt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){yl(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=ss(h),h=b);v.i.push(new du(v.Ya++,h)),v.G==3&&qa(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,fn.aa.N.call(this)};function Nu(h){Gs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(Nu,Gs);function Au(){il.call(this),this.status=1}N(Au,il);function Rs(h){this.g=h}N(Rs,Tu),Rs.prototype.ua=function(){Ze(this.g,"a")},Rs.prototype.ta=function(h){Ze(this.g,new Nu(h))},Rs.prototype.sa=function(h){Ze(this.g,new Au)},Rs.prototype.ra=function(){Ze(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,U2=function(){return new Ha},L2=function(){return Pr()},O2=xs,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Fd=Or,Ys.COMPLETE="complete",M2=Ys,rl.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",yt.prototype.listen=yt.prototype.K,mc=rl,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,D2=Xe}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",h_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new jh("@firebase/firestore");function wo(){return xa.logLevel}function me(s,...e){if(xa.logLevel<=Be.DEBUG){const t=e.map(Xg);xa.debug(`Firestore (${Qo}): ${s}`,...t)}}function Sr(s,...e){if(xa.logLevel<=Be.ERROR){const t=e.map(Xg);xa.error(`Firestore (${Qo}): ${s}`,...t)}}function Oo(s,...e){if(xa.logLevel<=Be.WARN){const t=e.map(Xg);xa.warn(`Firestore (${Qo}): ${s}`,...t)}}function Xg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,V2(s,i,t)}function V2(s,e,t){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Sr(i),new Error(i)}function We(s,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,s||V2(e,a,i)}function Ce(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class k5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P5{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const m=c;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},p=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new z2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class D5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new D5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new f_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=L5(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+=e.charAt(a[c]%62))}return i}}function Le(s,e){return s<e?-1:s>e?1:0}function Yp(s,e){let t=0;for(;t<s.length&&t<e.length;){const i=s.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Le(i,a);{const c=B2(),d=U5(c.encode(m_(s,t)),c.encode(m_(e,t)));return d!==0?d:Le(i,a)}}t+=i>65535?2:1}return Le(s.length,e.length)}function m_(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function U5(s,e){for(let t=0;t<s.length&&t<e.length;++t)if(s[t]!==e[t])return Le(s[t],e[t]);return Le(s.length,e.length)}function Lo(s,e,t){return s.length===e.length&&s.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,g_=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*g_);return new Lt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<p_)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Lt(0,0))}static max(){return new Ie(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Os{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=Os.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return Le(e.length,t.length)}static compareSegments(e,t){const i=Os.isNumericId(e),a=Os.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Os.extractNumericId(e).compare(Os.extractNumericId(t)):Yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class lt extends Os{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const V5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Os{construct(e,t,i){return new Jt(e,t,i)}static isValidIdentifier(e){return V5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Jt([y_])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(i.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else p==="`"?(d=!d,a++):p!=="."||d?(i+=p,a++):(c(),a++)}if(c(),d)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function z5(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new Lt(t+1,0):new Lt(t,i));return new xi(a,_e.empty(),e)}function B5(s){return new xi(s.readTime,s.key,Dc)}class xi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xi(Ie.min(),_e.empty(),Dc)}static max(){return new xi(Ie.max(),_e.empty(),Dc)}}function q5(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(s.documentKey,e.documentKey),t!==0?t:Le(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==F5)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,c=0,d=!1;e.forEach(p=>{++a,p.next(()=>{++c,d&&c===a&&t()},m=>i(m))}),d=!0,c===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const c=e.length,d=new Array(c);let p=0;for(let m=0;m<c;m++){const y=m;t(e[y]).next(x=>{d[y]=x,++p,p===c&&i(d)},x=>a(x))}})}static doWhile(e,t){return new ae((i,a)=>{const c=()=>{e()===!0?t().next(()=>{c()},a):i()};c()})}}function $5(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function Vh(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function G5(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="";function Y5(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=v_(e)),e=K5(s.get(t),e);return v_(e)}function K5(s,e){let t=e;const i=s.length;for(let a=0;a<i;a++){const c=s.charAt(a);switch(c){case"\0":t+="";break;case F2:t+="";break;default:t+=c}}return t}function v_(s){return s+F2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ri(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function H2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new Zt(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,a,c){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ut(Jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $2("Invalid base64 string: "+c):c}}(e);return new en(t)}static fromUint8Array(e){const t=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Q5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(s){if(We(!!s,39018),typeof s=="string"){let e=0;const t=Q5.exec(s);if(We(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _i(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="server_timestamp",Y2="__type__",K2="__previous_value__",Q2="__local_write_time__";function Zg(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y2])===null||t===void 0?void 0:t.stringValue)===G2}function zh(s){const e=s.mapValue.fields[K2];return Zg(e)?zh(e):e}function Mc(s){const e=bi(s.mapValue.fields[Q2].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,t,i,a,c,d,p,m,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=x}}const fh="(default)";class Oc{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__type__",W5="__max__",Dd={mapValue:{}},W2="__vector__",mh="value";function wi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zg(s)?4:J5(s)?9007199254740991:Z5(s)?10:11:Se(28295,{value:s})}function qs(s,e){if(s===e)return!0;const t=wi(s);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Mc(s).isEqual(Mc(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=bi(a.timestampValue),p=bi(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(a,c){return _i(a.bytesValue).isEqual(_i(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return Tt(a.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(a.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Tt(a.integerValue)===Tt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=Tt(a.doubleValue),p=Tt(c.doubleValue);return d===p?hh(d)===hh(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return Lo(s.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},p=c.mapValue.fields||{};if(x_(d)!==x_(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!qs(d[m],p[m])))return!1;return!0}(s,e);default:return Se(52216,{left:s})}}function Lc(s,e){return(s.values||[]).find(t=>qs(t,e))!==void 0}function Uo(s,e){if(s===e)return 0;const t=wi(s),i=wi(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return function(c,d){const p=Tt(c.integerValue||c.doubleValue),m=Tt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(s,e);case 3:return __(s.timestampValue,e.timestampValue);case 4:return __(Mc(s),Mc(e));case 5:return Yp(s.stringValue,e.stringValue);case 6:return function(c,d){const p=_i(c),m=_i(d);return p.compareTo(m)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),m=d.split("/");for(let y=0;y<p.length&&y<m.length;y++){const x=Le(p[y],m[y]);if(x!==0)return x}return Le(p.length,m.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Le(Tt(c.latitude),Tt(d.latitude));return p!==0?p:Le(Tt(c.longitude),Tt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return w_(s.arrayValue,e.arrayValue);case 10:return function(c,d){var p,m,y,x;const w=c.fields||{},E=d.fields||{},R=(p=w[mh])===null||p===void 0?void 0:p.arrayValue,N=(m=E[mh])===null||m===void 0?void 0:m.arrayValue,F=Le(((y=R?.values)===null||y===void 0?void 0:y.length)||0,((x=N?.values)===null||x===void 0?void 0:x.length)||0);return F!==0?F:w_(R,N)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Dd.mapValue&&d===Dd.mapValue)return 0;if(c===Dd.mapValue)return 1;if(d===Dd.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),y=d.fields||{},x=Object.keys(y);m.sort(),x.sort();for(let w=0;w<m.length&&w<x.length;++w){const E=Yp(m[w],x[w]);if(E!==0)return E;const R=Uo(p[m[w]],y[x[w]]);if(R!==0)return R}return Le(m.length,x.length)}(s.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function __(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const t=bi(s),i=bi(e),a=Le(t.seconds,i.seconds);return a!==0?a:Le(t.nanos,i.nanos)}function w_(s,e){const t=s.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const c=Uo(t[a],i[a]);if(c)return c}return Le(t.length,i.length)}function Vo(s){return Kp(s)}function Kp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=bi(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return _i(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return _e.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=Kp(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const d of i)c?c=!1:a+=",",a+=`${d}:${Kp(t.fields[d])}`;return a+"}"}(s.mapValue):Se(61005,{value:s})}function Hd(s){switch(wi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(s);return e?16+Hd(e):16;case 5:return 2*s.stringValue.length;case 6:return _i(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,c)=>a+Hd(c),0)}(s.arrayValue);case 10:case 11:return function(i){let a=0;return Ri(i.fields,(c,d)=>{a+=c.length+Hd(d)}),a}(s.mapValue);default:throw Se(13486,{value:s})}}function E_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qp(s){return!!s&&"integerValue"in s}function Jg(s){return!!s&&"arrayValue"in s}function T_(s){return!!s&&"nullValue"in s}function N_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $d(s){return!!s&&"mapValue"in s}function Z5(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[X2])===null||t===void 0?void 0:t.stringValue)===W2}function Ec(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ri(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ec(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ec(s.arrayValue.values[t]);return e}return Object.assign({},s)}function J5(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===W5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(t)}setAll(e){let t=Jt.emptyPath(),i={},a=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=p.popLast()}d?i[p.lastSegment()]=Ec(d):a.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];$d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ri(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Tn(Ec(this.value))}}function Z2(s){const e=[];return Ri(s.fields,(t,i)=>{const a=new Jt([t]);if($d(i)){const c=Z2(i.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,a,c,d,p){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,i,a){return new ln(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new ln(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.position=e,this.inclusive=t}}function A_(s,e,t){let i=0;for(let a=0;a<s.position.length;a++){const c=e[a],d=s.position[a];if(c.field.isKeyField()?i=_e.comparator(_e.fromName(d.referenceValue),t.key):i=Uo(d,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function S_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!qs(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ek(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{}class Ct extends J2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new nk(e,t,i):t==="array-contains"?new ik(e,i):t==="in"?new ak(e,i):t==="not-in"?new ok(e,i):t==="array-contains-any"?new lk(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new sk(e,i):new rk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Uo(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends J2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ms(e,t)}matches(e){return eE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eE(s){return s.op==="and"}function tE(s){return tk(s)&&eE(s)}function tk(s){for(const e of s.filters)if(e instanceof ms)return!1;return!0}function Xp(s){if(s instanceof Ct)return s.field.canonicalString()+s.op.toString()+Vo(s.value);if(tE(s))return s.filters.map(e=>Xp(e)).join(",");{const e=s.filters.map(t=>Xp(t)).join(",");return`${s.op}(${e})`}}function nE(s,e){return s instanceof Ct?function(i,a){return a instanceof Ct&&i.op===a.op&&i.field.isEqual(a.field)&&qs(i.value,a.value)}(s,e):s instanceof ms?function(i,a){return a instanceof ms&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((c,d,p)=>c&&nE(d,a.filters[p]),!0):!1}(s,e):void Se(19439)}function sE(s){return s instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`}(s):s instanceof ms?function(t){return t.op.toString()+" {"+t.getFilters().map(sE).join(" ,")+"}"}(s):"Filter"}class nk extends Ct{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class sk extends Ct{constructor(e,t){super(e,"in",t),this.keys=rE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rk extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=rE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rE(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class ik extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jg(t)&&Lc(t.arrayValue,this.value)}}class ak extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lc(this.value.arrayValue,t)}}class ok extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lc(this.value.arrayValue,t)}}class lk extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t=null,i=[],a=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=d,this.endAt=p,this.Ie=null}}function R_(s,e=null,t=[],i=[],a=null,c=null,d=null){return new ck(s,e,t,i,a,c,d)}function e0(s){const e=Ce(s);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vo(i)).join(",")),e.Ie=t}return e.Ie}function t0(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!ek(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!nE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!S_(s.startAt,e.startAt)&&S_(s.endAt,e.endAt)}function Wp(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t=null,i=[],a=[],c=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uk(s,e,t,i,a,c,d,p){return new Zo(s,e,t,i,a,c,d,p)}function n0(s){return new Zo(s)}function j_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iE(s){return s.collectionGroup!==null}function Tc(s){const e=Ce(s);if(e.Ee===null){e.Ee=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ut(Jt.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Uc(c,i))}),t.has(Jt.keyField().canonicalString())||e.Ee.push(new Uc(Jt.keyField(),i))}return e.Ee}function zs(s){const e=Ce(s);return e.de||(e.de=dk(e,Tc(s))),e.de}function dk(s,e){if(s.limitType==="F")return R_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Uc(a.field,c)});const t=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return R_(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function Zp(s,e){const t=s.filters.concat([e]);return new Zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Jp(s,e,t){return new Zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Bh(s,e){return t0(zs(s),zs(e))&&s.limitType===e.limitType}function aE(s){return`${e0(zs(s))}|lt:${s.limitType}`}function Eo(s){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>sE(a)).join(", ")}]`),Vh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Vo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Vo(a)).join(",")),`Target(${i})`}(zs(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,a){for(const c of Tc(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,e)&&function(i,a){return!(i.startAt&&!function(d,p,m){const y=A_(d,p,m);return d.inclusive?y<=0:y<0}(i.startAt,Tc(i),a)||i.endAt&&!function(d,p,m){const y=A_(d,p,m);return d.inclusive?y>=0:y>0}(i.endAt,Tc(i),a))}(s,e)}function hk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function oE(s){return(e,t)=>{let i=!1;for(const a of Tc(s)){const c=fk(a,e,t);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function fk(s,e,t){const i=s.field.isKeyField()?_e.comparator(e.key,t.key):function(c,d,p){const m=d.data.field(c),y=p.data.field(c);return m!==null&&y!==null?Uo(m,y):Se(42886)}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return H2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new pt(_e.comparator);function Rr(){return mk}const lE=new pt(_e.comparator);function pc(...s){let e=lE;for(const t of s)e=e.insert(t.key,t);return e}function cE(s){let e=lE;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ha(){return Nc()}function uE(){return Nc()}function Nc(){return new Ta(s=>s.toString(),(s,e)=>s.isEqual(e))}const pk=new pt(_e.comparator),gk=new Ut(_e.comparator);function qe(...s){let e=gk;for(const t of s)e=e.add(t);return e}const yk=new Ut(Le);function vk(){return yk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function dE(s){return{integerValue:""+s}}function xk(s,e){return G5(e)?dE(e):s0(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function bk(s,e,t){return s instanceof Vc?function(a,c){const d={fields:{[Y2]:{stringValue:G2},[Q2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Zg(c)&&(c=zh(c)),c&&(d.fields[K2]=c),{mapValue:d}}(t,e):s instanceof zc?fE(s,e):s instanceof Bc?mE(s,e):function(a,c){const d=hE(a,c),p=I_(d)+I_(a.Re);return Qp(d)&&Qp(a.Re)?dE(p):s0(a.serializer,p)}(s,e)}function _k(s,e,t){return s instanceof zc?fE(s,e):s instanceof Bc?mE(s,e):t}function hE(s,e){return s instanceof gh?function(i){return Qp(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class Vc extends Fh{}class zc extends Fh{constructor(e){super(),this.elements=e}}function fE(s,e){const t=pE(e);for(const i of s.elements)t.some(a=>qs(a,i))||t.push(i);return{arrayValue:{values:t}}}class Bc extends Fh{constructor(e){super(),this.elements=e}}function mE(s,e){let t=pE(e);for(const i of s.elements)t=t.filter(a=>!qs(a,i));return{arrayValue:{values:t}}}class gh extends Fh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function I_(s){return Tt(s.integerValue||s.doubleValue)}function pE(s){return Jg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.field=e,this.transform=t}}function Ek(s,e){return s.field.isEqual(e.field)&&function(i,a){return i instanceof zc&&a instanceof zc||i instanceof Bc&&a instanceof Bc?Lo(i.elements,a.elements,qs):i instanceof gh&&a instanceof gh?qs(i.Re,a.Re):i instanceof Vc&&a instanceof Vc}(s.transform,e.transform)}class Tk{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Hh{}function gE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new r0(s.key,Jn.none()):new Jc(s.key,s.data,Jn.none());{const t=s.data,i=Tn.empty();let a=new Ut(Jt.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?i.delete(c):i.set(c,d),a=a.add(c)}return new ji(s.key,i,new Ln(a.toArray()),Jn.none())}}function Nk(s,e,t){s instanceof Jc?function(a,c,d){const p=a.value.clone(),m=k_(a.fieldTransforms,c,d.transformResults);p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,t):s instanceof ji?function(a,c,d){if(!Gd(a.precondition,c))return void c.convertToUnknownDocument(d.version);const p=k_(a.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(yE(a)),m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,e,t):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Ac(s,e,t,i){return s instanceof Jc?function(c,d,p,m){if(!Gd(c.precondition,d))return p;const y=c.value.clone(),x=P_(c.fieldTransforms,m,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(s,e,t,i):s instanceof ji?function(c,d,p,m){if(!Gd(c.precondition,d))return p;const y=P_(c.fieldTransforms,m,d),x=d.data;return x.setAll(yE(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,t,i):function(c,d,p){return Gd(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,t)}function Ak(s,e){let t=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),c=hE(i.transform,a||null);c!=null&&(t===null&&(t=Tn.empty()),t.set(i.field,c))}return t||null}function C_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Lo(i,a,(c,d)=>Ek(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jc extends Hh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ji extends Hh{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yE(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function k_(s,e,t){const i=new Map;We(s.length===t.length,32656,{Ve:t.length,me:s.length});for(let a=0;a<t.length;a++){const c=s[a],d=c.transform,p=e.data.field(c.field);i.set(c.field,_k(d,p,t[a]))}return i}function P_(s,e,t){const i=new Map;for(const a of s){const c=a.transform,d=t.data.field(a.field);i.set(a.field,bk(c,d,e))}return i}class r0 extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sk extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Nk(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ac(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ac(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=uE();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=t.has(a.key)?null:p;const m=gE(d,p);m!==null&&i.set(a.key,m),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(t,i)=>C_(t,i))&&Lo(this.baseMutations,e.baseMutations,(t,i)=>C_(t,i))}}class i0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){We(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return pk}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,i[d].version);return new i0(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ge;function Ck(s){switch(s){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function vE(s){if(s===void 0)return Sr("GRPC error has no .code"),ie.UNKNOWN;switch(s){case It.OK:return ie.OK;case It.CANCELLED:return ie.CANCELLED;case It.UNKNOWN:return ie.UNKNOWN;case It.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case It.INTERNAL:return ie.INTERNAL;case It.UNAVAILABLE:return ie.UNAVAILABLE;case It.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case It.NOT_FOUND:return ie.NOT_FOUND;case It.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case It.ABORTED:return ie.ABORTED;case It.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case It.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:s})}}(Ge=It||(It={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new pi([4294967295,4294967295],0);function D_(s){const e=B2().encode(s),t=new P2;return t.update(e),new Uint8Array(t.digest())}function M_(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pi([t,i],0),new pi([a,c],0)]}class a0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(i<0)throw new gc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=pi.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(pi.fromNumber(i)));return a.compare(kk)===1&&(a=new pi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=D_(e),[i,a]=M_(t);for(let c=0;c<this.hashCount;c++){const d=this.we(i,a,c);if(!this.be(d))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new a0(c,a,t);return i.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const t=D_(e),[i,a]=M_(t);for(let c=0;c<this.hashCount;c++){const d=this.we(i,a,c);this.Se(d)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $h(Ie.min(),a,new pt(Le),Rr(),qe())}}class eu{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new eu(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class xE{constructor(e,t){this.targetId=e,this.Ce=t}}class bE{constructor(e,t,i=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class O_{constructor(){this.Fe=0,this.Me=L_(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),i=qe();return this.Me.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:c})}}),new eu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=L_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Pk{constructor(e){this.ze=e,this.je=new Map,this.He=Rr(),this.Je=Md(),this.Ye=Md(),this.Ze=new pt(Le)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const c=a.target;if(Wp(c))if(i===0){const d=new _e(c.path);this.tt(t,d,ln.newNoDocument(d,Ie.min()))}else We(i===1,20013,{expectedCount:i});else{const d=this.ut(t);if(d!==i){const p=this.ct(e),m=p?this.lt(p,e,d):1;if(m!==0){this.st(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let d,p;try{d=_i(i).toUint8Array()}catch(m){if(m instanceof $2)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new a0(d,a,c)}catch(m){return Oo(m instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(c=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.tt(t,c,null),a++)}),a}It(e){const t=new Map;this.je.forEach((c,d)=>{const p=this._t(d);if(p){if(c.current&&Wp(p.target)){const m=new _e(p.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,ln.newNoDocument(m,e))}c.Le&&(t.set(d,c.qe()),c.Qe())}});let i=qe();this.Ye.forEach((c,d)=>{let p=!0;d.forEachWhile(m=>{const y=this._t(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(c))}),this.He.forEach((c,d)=>d.setReadTime(e));const a=new $h(e,t,this.Ze,this.He,i);return this.He=Rr(),this.Je=Md(),this.Ye=Md(),this.Ze=new pt(Le),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new O_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ut(Le),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ut(Le),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new O_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Md(){return new pt(_e.comparator)}function L_(){return new pt(_e.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Lk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eg(s,e){return s.useProto3Json||Vh(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Uk(s,e){return yh(s,e.toTimestamp())}function Bs(s){return We(!!s,49232),Ie.fromTimestamp(function(t){const i=bi(t);return new Lt(i.seconds,i.nanos)}(s))}function o0(s,e){return tg(s,e).canonicalString()}function tg(s,e){const t=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(s).child("documents");return e===void 0?t:t.child(e)}function wE(s){const e=lt.fromString(s);return We(SE(e),10190,{key:e.toString()}),e}function ng(s,e){return o0(s.databaseId,e.path)}function Ap(s,e){const t=wE(e);if(t.get(1)!==s.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new _e(TE(t))}function EE(s,e){return o0(s.databaseId,e)}function Vk(s){const e=wE(s);return e.length===4?lt.emptyPath():TE(e)}function sg(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function U_(s,e,t){return{name:ng(s,e),fields:t.value.mapValue.fields}}function zk(s,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(y,x){return y.useProto3Json?(We(x===void 0||typeof x=="string",58123),en.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),en.fromUint8Array(x||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const x=y.code===void 0?ie.UNKNOWN:vE(y.code);return new pe(x,y.message||"")}(d);t=new bE(i,a,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ap(s,i.document.name),c=Bs(i.document.updateTime),d=i.document.createTime?Bs(i.document.createTime):Ie.min(),p=new Tn({mapValue:{fields:i.document.fields}}),m=ln.newFoundDocument(a,c,d,p),y=i.targetIds||[],x=i.removedTargetIds||[];t=new Yd(y,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ap(s,i.document),c=i.readTime?Bs(i.readTime):Ie.min(),d=ln.newNoDocument(a,c),p=i.removedTargetIds||[];t=new Yd([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ap(s,i.document),c=i.removedTargetIds||[];t=new Yd([],c,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,d=new Ik(a,c),p=i.targetId;t=new xE(p,d)}}return t}function Bk(s,e){let t;if(e instanceof Jc)t={update:U_(s,e.key,e.value)};else if(e instanceof r0)t={delete:ng(s,e.key)};else if(e instanceof ji)t={update:U_(s,e.key,e.data),updateMask:Xk(e.fieldMask)};else{if(!(e instanceof Sk))return Se(16599,{ft:e.type});t={verify:ng(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,d){const p=d.transform;if(p instanceof Vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw Se(20930,{transform:d.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:Uk(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)}(s,e.precondition)),t}function qk(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map(t=>function(a,c){let d=a.updateTime?Bs(a.updateTime):Bs(c);return d.isEqual(Ie.min())&&(d=Bs(c)),new Tk(d,a.transformResults||[])}(t,e))):[]}function Fk(s,e){return{documents:[EE(s,e.path)]}}function Hk(s,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=EE(s,a);const c=function(y){if(y.length!==0)return AE(ms.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(x=>function(E){return{field:To(E.field),direction:Yk(E.dir)}}(x))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=eg(s,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:a}}function $k(s){let e=Vk(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){We(i===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(w){const E=NE(w);return E instanceof ms&&tE(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(w){return w.map(E=>function(N){return new Uc(No(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(t.orderBy));let p=null;t.limit&&(p=function(w){let E;return E=typeof w=="object"?w.value:w,Vh(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(w){const E=!!w.before,R=w.values||[];return new ph(R,E)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const E=!w.before,R=w.values||[];return new ph(R,E)}(t.endAt)),uk(e,a,d,c,p,"F",m,y)}function Gk(s,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NE(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=No(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=No(t.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(t.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(t.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(s):s.fieldFilter!==void 0?function(t){return Ct.create(No(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return ms.create(t.compositeFilter.filters.map(i=>NE(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(s):Se(30097,{filter:s})}function Yk(s){return Dk[s]}function Kk(s){return Mk[s]}function Qk(s){return Ok[s]}function To(s){return{fieldPath:s.canonicalString()}}function No(s){return Jt.fromServerFormat(s.fieldPath)}function AE(s){return s instanceof Ct?function(t){if(t.op==="=="){if(N_(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(T_(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(N_(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(T_(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:Kk(t.op),value:t.value}}}(s):s instanceof ms?function(t){const i=t.getFilters().map(a=>AE(a));return i.length===1?i[0]:{compositeFilter:{op:Qk(t.op),filters:i}}}(s):Se(54877,{filter:s})}function Xk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,i,a,c=Ie.min(),d=Ie.min(),p=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.wt=e}}function Zk(s){const e=$k({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Cn=new eP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(xi.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class eP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ut(lt.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ut(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(RE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new zo(0)}static lr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",tP=1048576;function B_([s,e],[t,i]){const a=Le(s,t);return a===0?Le(e,i):a}class nP{constructor(e){this.Er=e,this.buffer=new Ut(B_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();B_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(z_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?me(z_,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.mr(3e5)})}}class rP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Uh.le);const i=new nP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(V_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,c,d,p,m,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,d=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,p=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),wo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${a} in `+(p-d)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${w} documents in `+(y-m)+`ms
Total Duration: ${y-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:w})))}}function iP(s,e){return new rP(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Ac(i.mutation,a,Ln.empty(),Lt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const a=ha();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let d=pc();return c.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=ha();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,i,a){let c=Rr();const d=Nc(),p=function(){return Nc()}();return t.forEach((m,y)=>{const x=i.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof ji)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),Ac(x.mutation,y,x.mutation.getFieldMask(),Lt.now())):d.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(m=>(m.forEach((y,x)=>d.set(y,x)),t.forEach((y,x)=>{var w;return p.set(y,new oP(x,(w=d.get(y))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,t){const i=Nc();let a=new pt((d,p)=>d-p),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let x=i.get(m)||Ln.empty();x=p.applyToLocalView(y,x),i.set(m,x);const w=(a.get(p.batchId)||qe()).add(m);a=a.insert(p.batchId,w)})}).next(()=>{const d=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,x=m.value,w=uE();x.forEach(E=>{if(!c.has(E)){const R=gE(t.get(E),i.get(E));R!==null&&w.set(E,R),c=c.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ae.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):ae.resolve(ha());let p=Dc,m=c;return d.next(y=>ae.forEach(y,(x,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{m=m.insert(x,E)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,m,y,qe())).next(x=>({batchId:p,changes:cE(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let a=pc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let d=pc();return this.indexManager.getCollectionParents(e,c).next(p=>ae.forEach(p,m=>{const y=function(w,E){return new Zo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,a).next(x=>{x.forEach((w,E)=>{d=d.insert(w,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a))).next(d=>{c.forEach((m,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,ln.newInvalidDocument(x)))});let p=pc();return d.forEach((m,y)=>{const x=c.get(m);x!==void 0&&Ac(x.mutation,y,Ln.empty(),Lt.now()),qh(t,y)&&(p=p.insert(m,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ae.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Bs(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:Zk(a.bundledQuery),readTime:Bs(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.overlays=new pt(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ha();return ae.forEach(t,a=>this.getOverlay(e,a).next(c=>{c!==null&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.St(e,t,c)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=ha(),c=t.length+1,d=new _e(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new pt((y,x)=>y-x);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=ha(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ha(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,x)=>p.set(y,x)),!(p.size()>=a)););return ae.resolve(p)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const d=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new jk(t,i));let c=this.Qr.get(t);c===void 0&&(c=qe(),this.Qr.set(t,c)),this.Qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.$r=new Ut($t.Ur),this.Kr=new Ut($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new $t(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new $t(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new _e(new lt([])),i=new $t(t,e),a=new $t(t,e+1),c=[];return this.Kr.forEachInRange([i,a],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new lt([])),i=new $t(t,e),a=new $t(t,e+1);let c=qe();return this.Kr.forEachInRange([i,a],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new $t(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||Le(e.Zr,t.Zr)}static Wr(e,t){return Le(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ut($t.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Rk(c,t,i,a);this.mutationQueue.push(d);for(const p of a)this.Xr=this.Xr.add(new $t(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(d)}lookupMutationBatch(e,t){return ae.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),c=a<0?0:a;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Wg:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([i,a],d=>{const p=this.ei(d.Zr);c.push(p)}),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Le);return t.forEach(a=>{const c=new $t(a,0),d=new $t(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],p=>{i=i.add(p.Zr)})}),ae.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;_e.isDocumentKey(c)||(c=c.child(""));const d=new $t(new _e(c),0);let p=new Ut(Le);return this.Xr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(p=p.add(m.Zr)),!0)},d),ae.resolve(this.ni(p))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){We(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ae.forEach(t.mutations,a=>{const c=new $t(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new $t(t,0),a=this.Xr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.ii=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,d=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Rr();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():ln.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=Rr();const d=t.path,p=new _e(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:x}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||q5(B5(x),i)<=0||(a.has(x.key)||qh(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,t,i,a){Se(9500)}si(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mP(this)}getSize(e){return ae.resolve(this.size)}}class mP extends aP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.persistence=e,this.oi=new Ta(t=>e0(t),t0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new l0,this.targetCount=0,this.ui=zo.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ae.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new zo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Tr(t),ae.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),ae.waitFor(c).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),ae.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.ci={},this.overlays={},this.li=new Uh(0),this.hi=!1,this.hi=!0,this.Pi=new dP,this.referenceDelegate=e(this),this.Ti=new pP(this),this.indexManager=new Jk,this.remoteDocumentCache=function(a){return new fP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new Wk(t),this.Ei=new cP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new hP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const a=new gP(this.li.next());return this.referenceDelegate.di(),i(a).next(c=>this.referenceDelegate.Ai(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ri(e,t){return ae.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class gP extends H5{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Vi=new l0,this.mi=null}static fi(e){return new c0(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.gi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,i=>{const a=_e.fromPath(i);return this.pi(e,a).next(c=>{c||t.removeEntry(a,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ae.or([()=>ae.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.yi=new Ta(i=>Y5(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=iP(this,t)}static fi(e,t){return new vh(e,t)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ae.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(c=>c?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.si(e,d=>this.Dr(e,d,t).next(p=>{p||(i++,c.removeEntry(d,Ie.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ae.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hd(e.data.value)),t}Dr(e,t,i){return ae.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=qe(),a=qe();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new u0(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return p4()?8:$5(cn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.ws(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(e,t,a,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new yP;return this.Ss(e,t,d).next(p=>{if(c.result=p,this.fs)return this.Ds(e,t,d,p.size)})}).next(()=>c.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(wo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(wo()<=Be.DEBUG&&me("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(wo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(t))):ae.resolve())}ws(e,t){if(j_(t))return ae.resolve(null);let i=zs(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Jp(t,null,"F"),i=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=qe(...c);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.vs(t,p);return this.Cs(t,y,d,m.readTime)?this.ws(e,Jp(t,null,"F")):this.Fs(e,y,t,m)}))})))}bs(e,t,i,a){return j_(t)||a.isEqual(Ie.min())?ae.resolve(null):this.ys.getDocuments(e,i).next(c=>{const d=this.vs(t,c);return this.Cs(t,d,i,a)?ae.resolve(null):(wo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(t)),this.Fs(e,d,t,z5(a,Dc)).next(p=>p))})}vs(e,t){let i=new Ut(oE(e));return t.forEach((a,c)=>{qh(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,t,i){return wo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ys.getDocumentsMatchingQuery(e,t,xi.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",xP=3e8;class bP{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new pt(Le),this.Os=new Ta(c=>e0(c),t0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function _P(s,e,t,i){return new bP(s,e,t,i)}async function IE(s,e){const t=Ce(s);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],p=[];let m=qe();for(const y of a){d.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(i,m).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:p}))})})}function wP(s,e){const t=Ce(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Bs.newChangeBuffer({trackRemovals:!0});return function(p,m,y,x){const w=y.batch,E=w.keys();let R=ae.resolve();return E.forEach(N=>{R=R.next(()=>x.getEntry(m,N)).next(F=>{const V=y.docVersions.get(N);We(V!==null,48541),F.version.compareTo(V)<0&&(w.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),x.addEntry(F)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(m,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let m=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(m=m.add(p.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function CE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function EP(s,e){const t=Ce(s),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const p=[];e.targetChanges.forEach((x,w)=>{const E=a.get(w);if(!E)return;p.push(t.Ti.removeMatchingKeys(c,x.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(c,x.addedDocuments,w)));let R=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(en.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(x.resumeToken,i)),a=a.insert(w,R),function(F,V,M){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=xP?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(E,R,x)&&p.push(t.Ti.updateTargetData(c,R))});let m=Rr(),y=qe();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),p.push(TP(c,d,e.documentUpdates).next(x=>{m=x.qs,y=x.Qs})),!i.isEqual(Ie.min())){const x=t.Ti.getLastRemoteSnapshotVersion(c).next(w=>t.Ti.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(x)}return ae.waitFor(p).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,m,y)).next(()=>m)}).then(c=>(t.xs=a,c))}function TP(s,e,t){let i=qe(),a=qe();return t.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let d=Rr();return t.forEach((p,m)=>{const y=c.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):me(d0,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)}),{qs:d,Qs:a}})}function NP(s,e){const t=Ce(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AP(s,e){const t=Ce(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(c=>c?(a=c,ae.resolve(a)):t.Ti.allocateTargetId(i).next(d=>(a=new hi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function rg(s,e,t){const i=Ce(s),a=i.xs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Wo(d))throw d;me(d0,`Failed to update sequence numbers for target ${e}: ${d}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function q_(s,e,t){const i=Ce(s);let a=Ie.min(),c=qe();return i.persistence.runTransaction("Execute query","readwrite",d=>function(m,y,x){const w=Ce(m),E=w.Os.get(x);return E!==void 0?ae.resolve(w.xs.get(E)):w.Ti.getTargetData(y,x)}(i,d,zs(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(d,p.targetId).next(m=>{c=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(d,e,t?a:Ie.min(),t?c:qe())).next(p=>(SP(i,hk(e),p),{documents:p,$s:c})))}function SP(s,e,t){let i=s.Ns.get(e)||Ie.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.Ns.set(e,i)}class F_{constructor(){this.activeTargetIds=vk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(){this.xo=new F_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new F_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class $_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(H_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function ig(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",IP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===fh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,c){const d=ig(),p=this.jo(e,t.toUriEncodedString());me(Sp,`Sending RPC '${e}' ${d}:`,p,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,c);const{host:y}=new URL(p),x=Ni(y);return this.Jo(e,p,m,i,x).then(w=>(me(Sp,`Received RPC '${e}' ${d}: `,w),w),w=>{throw Oo(Sp,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",i),w})}Yo(e,t,i,a,c,d){return this.zo(e,t,i,a,c)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}jo(e,t){const i=IP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class PP extends CP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,c){const d=ig();return new Promise((p,m)=>{const y=new D2;y.setWithCredentials(!0),y.listenOnce(M2.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fd.NO_ERROR:const w=y.getResponseJson();me(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Fd.TIMEOUT:me(an,`RPC '${e}' ${d} timed out`),m(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const E=y.getStatus();if(me(an,`RPC '${e}' ${d} failed with status:`,E,"response text:",y.getResponseText()),E>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R?.error;if(N&&N.status&&N.message){const F=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN}(N.status);m(new pe(F,N.message))}else m(new pe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:d,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{me(an,`RPC '${e}' ${d} completed.`)}});const x=JSON.stringify(a);me(an,`RPC '${e}' ${d} sending request:`,a),y.send(t,"POST",x,i,15)})}I_(e,t,i){const a=ig(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=U2(),p=L2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const x=c.join("");me(an,`Creating RPC '${e}' stream ${a}: ${x}`,m);const w=d.createWebChannel(x,m);this.E_(w);let E=!1,R=!1;const N=new kP({Zo:V=>{R?me(an,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(me(an,`Opening RPC '${e}' stream ${a} transport.`),w.open(),E=!0),me(an,`RPC '${e}' stream ${a} sending:`,V),w.send(V))},Xo:()=>w.close()}),F=(V,M,z)=>{V.listen(M,q=>{try{z(q)}catch(W){setTimeout(()=>{throw W},0)}})};return F(w,mc.EventType.OPEN,()=>{R||(me(an,`RPC '${e}' stream ${a} transport opened.`),N.__())}),F(w,mc.EventType.CLOSE,()=>{R||(R=!0,me(an,`RPC '${e}' stream ${a} transport closed`),N.u_(),this.d_(w))}),F(w,mc.EventType.ERROR,V=>{R||(R=!0,Oo(an,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),N.u_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),F(w,mc.EventType.MESSAGE,V=>{var M;if(!R){const z=V.data[0];We(!!z,16349);const q=z,W=q?.error||((M=q[0])===null||M===void 0?void 0:M.error);if(W){me(an,`RPC '${e}' stream ${a} received error:`,W);const X=W.status;let oe=function(C){const U=It[C];if(U!==void 0)return vE(U)}(X),O=W.message;oe===void 0&&(oe=ie.INTERNAL,O="Unknown error status: "+X+" with message "+W.message),R=!0,N.u_(new pe(oe,O)),w.close()}else me(an,`RPC '${e}' stream ${a} received:`,z),N.c_(z)}}),F(p,O2.STAT_EVENT,V=>{V.stat===Gp.PROXY?me(an,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Gp.NOPROXY&&me(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(s){return new Lk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,i=1e3,a=1.5,c=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class PE{constructor(e,t,i,a,c,d,p,m){this.xi=e,this.S_=i,this.D_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new kE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new pe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(me(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DP extends PE{constructor(e,t,i,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=zk(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Bs(d.readTime):Ie.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=sg(this.serializer),t.addTarget=function(c,d){let p;const m=d.target;if(p=Wp(m)?{documents:Fk(c,m)}:{query:Hk(c,m).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_E(c,d.resumeToken);const y=eg(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){p.readTime=yh(c,d.snapshotVersion.toTimestamp());const y=eg(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const i=Gk(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.Q_(t)}}class MP extends PE{constructor(e,t,i,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=qk(e.writeResults,e.commitTime),i=Bs(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=sg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Bk(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class LP extends OP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(e,tg(t,i),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ie.UNKNOWN,c.toString())})}Yo(e,t,i,a,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,tg(t,i),a,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(ie.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class UP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Sr(t),this.ua=!1):me("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class VP{constructor(e,t,i,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{i.enqueueAndForget(async()=>{Na(this)&&(me(ba,"Restarting streams for network reachability change."),await async function(m){const y=Ce(m);y.da.add(4),await tu(y),y.Va.set("Unknown"),y.da.delete(4),await Yh(y)}(this))})}),this.Va=new UP(i,a)}}async function Yh(s){if(Na(s))for(const e of s.Aa)await e(!0)}async function tu(s){for(const e of s.Aa)await e(!1)}function DE(s,e){const t=Ce(s);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),p0(t)?m0(t):Jo(t).N_()&&f0(t,e))}function h0(s,e){const t=Ce(s),i=Jo(t);t.Ea.delete(e),i.N_()&&ME(t,e),t.Ea.size===0&&(i.N_()?i.k_():Na(t)&&t.Va.set("Unknown"))}function f0(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(s).Z_(e)}function ME(s,e){s.ma.Ke(e),Jo(s).X_(e)}function m0(s){s.ma=new Pk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Jo(s).start(),s.Va.ca()}function p0(s){return Na(s)&&!Jo(s).O_()&&s.Ea.size>0}function Na(s){return Ce(s).da.size===0}function OE(s){s.ma=void 0}async function zP(s){s.Va.set("Online")}async function BP(s){s.Ea.forEach((e,t)=>{f0(s,e)})}async function qP(s,e){OE(s),p0(s)?(s.Va.Pa(e),m0(s)):s.Va.set("Unknown")}async function FP(s,e,t){if(s.Va.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const p of c.targetIds)a.Ea.has(p)&&(await a.remoteSyncer.rejectListen(p,d),a.Ea.delete(p),a.ma.removeTarget(p))}(s,e)}catch(i){me(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xh(s,i)}else if(e instanceof Yd?s.ma.Xe(e):e instanceof xE?s.ma.ot(e):s.ma.nt(e),!t.isEqual(Ie.min()))try{const i=await CE(s.localStore);t.compareTo(i)>=0&&await function(c,d){const p=c.ma.It(d);return p.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const x=c.Ea.get(y);x&&c.Ea.set(y,x.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,y)=>{const x=c.Ea.get(m);if(!x)return;c.Ea.set(m,x.withResumeToken(en.EMPTY_BYTE_STRING,x.snapshotVersion)),ME(c,m);const w=new hi(x.target,m,y,x.sequenceNumber);f0(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(s,t)}catch(i){me(ba,"Failed to raise snapshot:",i),await xh(s,i)}}async function xh(s,e,t){if(!Wo(e))throw e;s.da.add(1),await tu(s),s.Va.set("Offline"),t||(t=()=>CE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{me(ba,"Retrying IndexedDB access"),await t(),s.da.delete(1),await Yh(s)})}function LE(s,e){return e().catch(t=>xh(s,t,e))}async function Kh(s){const e=Ce(s),t=Ei(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wg;for(;HP(e);)try{const a=await NP(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,$P(e,a)}catch(a){await xh(e,a)}UE(e)&&VE(e)}function HP(s){return Na(s)&&s.Ia.length<10}function $P(s,e){s.Ia.push(e);const t=Ei(s);t.N_()&&t.ea&&t.ta(e.mutations)}function UE(s){return Na(s)&&!Ei(s).O_()&&s.Ia.length>0}function VE(s){Ei(s).start()}async function GP(s){Ei(s).ia()}async function YP(s){const e=Ei(s);for(const t of s.Ia)e.ta(t.mutations)}async function KP(s,e,t){const i=s.Ia.shift(),a=i0.from(i,e,t);await LE(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),await Kh(s)}async function QP(s,e){e&&Ei(s).ea&&await async function(i,a){if(function(d){return Ck(d)&&d!==ie.ABORTED}(a.code)){const c=i.Ia.shift();Ei(i).L_(),await LE(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Kh(i)}}(s,e),UE(s)&&VE(s)}async function Y_(s,e){const t=Ce(s);t.asyncQueue.verifyOperationInProgress(),me(ba,"RemoteStore received new credentials");const i=Na(t);t.da.add(3),await tu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Yh(t)}async function XP(s,e){const t=Ce(s);e?(t.da.delete(2),await Yh(t)):e||(t.da.add(2),await tu(t),t.Va.set("Unknown"))}function Jo(s){return s.fa||(s.fa=function(t,i,a){const c=Ce(t);return c.oa(),new DP(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{e_:zP.bind(null,s),n_:BP.bind(null,s),i_:qP.bind(null,s),Y_:FP.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),p0(s)?m0(s):s.Va.set("Unknown")):(await s.fa.stop(),OE(s))})),s.fa}function Ei(s){return s.ga||(s.ga=function(t,i,a){const c=Ce(t);return c.oa(),new MP(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:GP.bind(null,s),i_:QP.bind(null,s),na:YP.bind(null,s),ra:KP.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await Kh(s)):(await s.ga.stop(),s.Ia.length>0&&(me(ba,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const d=Date.now()+i,p=new g0(e,t,d,a,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(s,e){if(Sr("AsyncQueue",`${e}: ${s}`),Wo(s))return new pe(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=pc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.pa=new pt(_e.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Bo{constructor(e,t,i,a,c,d,p,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,a,c){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Bo(e,t,Po.emptySet(t),d,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class ZP{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ce(t),c=a.queries;a.queries=Q_(),c.forEach((d,p)=>{for(const m of p.Sa)m.onError(i)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function Q_(){return new Ta(s=>aE(s),Bh)}async function zE(s,e){const t=Ce(s);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.Da()&&e.va()&&(i=2):(c=new WP,i=e.va()?0:1);try{switch(i){case 0:c.ba=await t.onListen(a,!0);break;case 1:c.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(d){const p=y0(d,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,c),c.Sa.push(e),e.Fa(t.onlineState),c.ba&&e.Ma(c.ba)&&v0(t)}async function BE(s,e){const t=Ce(s),i=e.query;let a=3;const c=t.queries.get(i);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?a=e.va()?0:1:!c.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function JP(s,e){const t=Ce(s);let i=!1;for(const a of e){const c=a.query,d=t.queries.get(c);if(d){for(const p of d.Sa)p.Ma(a)&&(i=!0);d.ba=a}}i&&v0(t)}function eD(s,e,t){const i=Ce(s),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(t);i.queries.delete(e)}function v0(s){s.Ca.forEach(e=>{e.next()})}var ag,X_;(X_=ag||(ag={})).xa="default",X_.Cache="cache";class qE{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class tD{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.Za=oE(e),this.Xa=new Po(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new K_,a=t?t.Xa:this.Xa;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,w)=>{const E=a.get(x),R=qh(this.query,w)?w:null,N=!!E&&this.mutatedKeys.has(E.key),F=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;E&&R?E.data.isEqual(R.data)?N!==F&&(i.track({type:3,doc:R}),V=!0):this.ru(E,R)||(i.track({type:2,doc:R}),V=!0,(m&&this.Za(R,m)>0||y&&this.Za(R,y)<0)&&(p=!0)):!E&&R?(i.track({type:0,doc:R}),V=!0):E&&!R&&(i.track({type:1,doc:E}),V=!0,(m||y)&&(p=!0)),V&&(R?(d=d.add(R),c=F?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{Xa:d,nu:i,Cs:p,mutatedKeys:c}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((x,w)=>function(R,N){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:V})}};return F(R)-F(N)}(x.type,w.type)||this.Za(x.doc,w.doc)),this.iu(i),a=a!=null&&a;const p=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,y=m!==this.Ja;return this.Ja=m,d.length!==0||y?{snapshot:new Bo(this.query,e.Xa,c,d,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new HE(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new FE(i))}),t}au(e){this.Ha=e.$s,this.Ya=qe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const x0="SyncEngine";class nD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sD{constructor(e){this.key=e,this.cu=!1}}class rD{constructor(e,t,i,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Ta(p=>aE(p),Bh),this.Pu=new Map,this.Tu=new Set,this.Iu=new pt(_e.comparator),this.Eu=new Map,this.du=new l0,this.Au={},this.Ru=new Map,this.Vu=zo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function iD(s,e,t=!0){const i=XE(s);let a;const c=i.hu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.uu()):a=await $E(i,e,t,!0),a}async function aD(s,e){const t=XE(s);await $E(t,e,!0,!1)}async function $E(s,e,t,i){const a=await AP(s.localStore,zs(e)),c=a.targetId,d=s.sharedClientState.addLocalQueryTarget(c,t);let p;return i&&(p=await oD(s,e,c,d==="current",a.resumeToken)),s.isPrimaryClient&&t&&DE(s.remoteStore,a),p}async function oD(s,e,t,i,a){s.fu=(w,E,R)=>async function(F,V,M,z){let q=V.view.tu(M);q.Cs&&(q=await q_(F.localStore,V.query,!1).then(({documents:O})=>V.view.tu(O,q)));const W=z&&z.targetChanges.get(V.targetId),X=z&&z.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges(q,F.isPrimaryClient,W,X);return Z_(F,V.targetId,oe.ou),oe.snapshot}(s,w,E,R);const c=await q_(s.localStore,e,!0),d=new tD(e,c.$s),p=d.tu(c.documents),m=eu.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",a),y=d.applyChanges(p,s.isPrimaryClient,m);Z_(s,t,y.ou);const x=new nD(e,t,d);return s.hu.set(e,x),s.Pu.has(t)?s.Pu.get(t).push(e):s.Pu.set(t,[e]),y.snapshot}async function lD(s,e,t){const i=Ce(s),a=i.hu.get(e),c=i.Pu.get(a.targetId);if(c.length>1)return i.Pu.set(a.targetId,c.filter(d=>!Bh(d,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await rg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&h0(i.remoteStore,a.targetId),og(i,a.targetId)}).catch(Xo)):(og(i,a.targetId),await rg(i.localStore,a.targetId,!0))}async function cD(s,e){const t=Ce(s),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),h0(t.remoteStore,i.targetId))}async function uD(s,e,t){const i=yD(s);try{const a=await function(d,p){const m=Ce(d),y=Lt.now(),x=p.reduce((R,N)=>R.add(N.key),qe());let w,E;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Rr(),F=qe();return m.Bs.getEntries(R,x).next(V=>{N=V,N.forEach((M,z)=>{z.isValidDocument()||(F=F.add(M))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,N)).next(V=>{w=V;const M=[];for(const z of p){const q=Ak(z,w.get(z.key).overlayedDocument);q!=null&&M.push(new ji(z.key,q,Z2(q.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,y,M,p)}).next(V=>{E=V;const M=V.applyToLocalDocumentSet(w,F);return m.documentOverlayCache.saveOverlays(R,V.batchId,M)})}).then(()=>({batchId:E.batchId,changes:cE(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(d,p,m){let y=d.Au[d.currentUser.toKey()];y||(y=new pt(Le)),y=y.insert(p,m),d.Au[d.currentUser.toKey()]=y}(i,a.batchId,t),await nu(i,a.changes),await Kh(i.remoteStore)}catch(a){const c=y0(a,"Failed to persist write");t.reject(c)}}async function GE(s,e){const t=Ce(s);try{const i=await EP(t.localStore,e);e.targetChanges.forEach((a,c)=>{const d=t.Eu.get(c);d&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.cu=!0:a.modifiedDocuments.size>0?We(d.cu,14607):a.removedDocuments.size>0&&(We(d.cu,42227),d.cu=!1))}),await nu(t,i,e)}catch(i){await Xo(i)}}function W_(s,e,t){const i=Ce(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((c,d)=>{const p=d.view.Fa(e);p.snapshot&&a.push(p.snapshot)}),function(d,p){const m=Ce(d);m.onlineState=p;let y=!1;m.queries.forEach((x,w)=>{for(const E of w.Sa)E.Fa(p)&&(y=!0)}),y&&v0(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dD(s,e,t){const i=Ce(s);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),c=a&&a.key;if(c){let d=new pt(_e.comparator);d=d.insert(c,ln.newNoDocument(c,Ie.min()));const p=qe().add(c),m=new $h(Ie.min(),new Map,new pt(Le),d,p);await GE(i,m),i.Iu=i.Iu.remove(c),i.Eu.delete(e),b0(i)}else await rg(i.localStore,e,!1).then(()=>og(i,e,t)).catch(Xo)}async function hD(s,e){const t=Ce(s),i=e.batch.batchId;try{const a=await wP(t.localStore,e);KE(t,i,null),YE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await nu(t,a)}catch(a){await Xo(a)}}async function fD(s,e,t){const i=Ce(s);try{const a=await function(d,p){const m=Ce(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return m.mutationQueue.lookupMutationBatch(y,p).next(w=>(We(w!==null,37113),x=w.keys(),m.mutationQueue.removeMutationBatch(y,w))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,x,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>m.localDocuments.getDocuments(y,x))})}(i.localStore,e);KE(i,e,t),YE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await nu(i,a)}catch(a){await Xo(a)}}function YE(s,e){(s.Ru.get(e)||[]).forEach(t=>{t.resolve()}),s.Ru.delete(e)}function KE(s,e,t){const i=Ce(s);let a=i.Au[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function og(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Pu.get(e))s.hu.delete(i),t&&s.lu.gu(i,t);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(i=>{s.du.containsKey(i)||QE(s,i)})}function QE(s,e){s.Tu.delete(e.path.canonicalString());const t=s.Iu.get(e);t!==null&&(h0(s.remoteStore,t),s.Iu=s.Iu.remove(e),s.Eu.delete(t),b0(s))}function Z_(s,e,t){for(const i of t)i instanceof FE?(s.du.addReference(i.key,e),mD(s,i)):i instanceof HE?(me(x0,"Document no longer in limbo: "+i.key),s.du.removeReference(i.key,e),s.du.containsKey(i.key)||QE(s,i.key)):Se(19791,{pu:i})}function mD(s,e){const t=e.key,i=t.path.canonicalString();s.Iu.get(t)||s.Tu.has(i)||(me(x0,"New document in limbo: "+t),s.Tu.add(i),b0(s))}function b0(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const t=new _e(lt.fromString(e)),i=s.Vu.next();s.Eu.set(i,new sD(t)),s.Iu=s.Iu.insert(t,i),DE(s.remoteStore,new hi(zs(n0(t.path)),i,"TargetPurposeLimboResolution",Uh.le))}}async function nu(s,e,t){const i=Ce(s),a=[],c=[],d=[];i.hu.isEmpty()||(i.hu.forEach((p,m)=>{d.push(i.fu(m,e,t).then(y=>{var x;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(x=t?.targetChanges.get(m.targetId))===null||x===void 0?void 0:x.current;i.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(y){a.push(y);const w=u0.Rs(m.targetId,y);c.push(w)}}))}),await Promise.all(d),i.lu.Y_(a),await async function(m,y){const x=Ce(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ae.forEach(y,E=>ae.forEach(E.ds,R=>x.persistence.referenceDelegate.addReference(w,E.targetId,R)).next(()=>ae.forEach(E.As,R=>x.persistence.referenceDelegate.removeReference(w,E.targetId,R)))))}catch(w){if(!Wo(w))throw w;me(d0,"Failed to update sequence numbers: "+w)}for(const w of y){const E=w.targetId;if(!w.fromCache){const R=x.xs.get(E),N=R.snapshotVersion,F=R.withLastLimboFreeSnapshotVersion(N);x.xs=x.xs.insert(E,F)}}}(i.localStore,c))}async function pD(s,e){const t=Ce(s);if(!t.currentUser.isEqual(e)){me(x0,"User change. New user:",e.toKey());const i=await IE(t.localStore,e);t.currentUser=e,function(c,d){c.Ru.forEach(p=>{p.forEach(m=>{m.reject(new pe(ie.CANCELLED,d))})}),c.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nu(t,i.ks)}}function gD(s,e){const t=Ce(s),i=t.Eu.get(e);if(i&&i.cu)return qe().add(i.key);{let a=qe();const c=t.Pu.get(e);if(!c)return a;for(const d of c){const p=t.hu.get(d);a=a.unionWith(p.view.eu)}return a}}function XE(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dD.bind(null,e),e.lu.Y_=JP.bind(null,e.eventManager),e.lu.gu=eD.bind(null,e.eventManager),e}function yD(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return _P(this.persistence,new vP,e.initialUser,this.serializer)}Su(e){return new jE(c0.fi,this.serializer)}bu(e){return new RP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class vD extends bh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){We(this.persistence.referenceDelegate instanceof vh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new jE(i=>vh.fi(i,t),this.serializer)}}class lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>W_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,this.syncEngine),await XP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZP}()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),i=function(c){return new PP(c)}(e.databaseInfo);return function(c,d,p,m){return new LP(c,d,p,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,c,d,p){return new VP(i,a,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>W_(this.syncEngine,t,0),function(){return $_.C()?new $_:new jP}())}createSyncEngine(e,t){return function(a,c,d,p,m,y,x){const w=new rD(a,c,d,p,m,y);return x&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const c=Ce(a);me(ba,"RemoteStore shutting down."),c.da.add(5),await tu(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class xD{constructor(e,t,i,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=q2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async d=>{me(Ti,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(me(Ti,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=y0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function jp(s,e){s.asyncQueue.verifyOperationInProgress(),me(Ti,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(async a=>{i.isEqual(a)||(await IE(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function J_(s,e){s.asyncQueue.verifyOperationInProgress();const t=await bD(s);me(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>Y_(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,a)=>Y_(e.remoteStore,a)),s._onlineComponents=e}async function bD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(Ti,"Using user provided OfflineComponentProvider");try{await jp(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Oo("Error using user provided cache. Falling back to memory cache: "+t),await jp(s,new bh)}}else me(Ti,"Using default OfflineComponentProvider"),await jp(s,new vD(void 0));return s._offlineComponents}async function ZE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(Ti,"Using user provided OnlineComponentProvider"),await J_(s,s._uninitializedComponentsProvider._online)):(me(Ti,"Using default OnlineComponentProvider"),await J_(s,new lg))),s._onlineComponents}function _D(s){return ZE(s).then(e=>e.syncEngine)}async function JE(s){const e=await ZE(s),t=e.eventManager;return t.onListen=iD.bind(null,e.syncEngine),t.onUnlisten=lD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cD.bind(null,e.syncEngine),t}function wD(s,e,t={}){const i=new _r;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,y){const x=new WE({next:E=>{x.xu(),d.enqueueAndForget(()=>BE(c,w));const R=E.docs.has(p);!R&&E.fromCache?y.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new qE(n0(p.path),x,{includeMetadataChanges:!0,Qa:!0});return zE(c,w)}(await JE(s),s.asyncQueue,e,t,i)),i.promise}function ED(s,e,t={}){const i=new _r;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,m,y){const x=new WE({next:E=>{x.xu(),d.enqueueAndForget(()=>BE(c,w)),E.fromCache&&m.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new qE(p,x,{includeMetadataChanges:!0,Qa:!0});return zE(c,w)}(await JE(s),s.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(s,e,t){if(!t)throw new pe(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function TD(s,e,t,i){if(e===!0&&i===!0)throw new pe(ie.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function t1(s){if(!_e.isDocumentKey(s))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function n1(s){if(_e.isDocumentKey(s))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Qh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function ps(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qh(s);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firestore.googleapis.com",s1=!0;class r1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nT,this.ssl=s1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:s1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tP)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new C5;switch(i.type){case"firstParty":return new M5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=e1.get(t);i&&(me("ComponentProvider","Removing Datastore"),e1.delete(t),i.terminate())}(this),Promise.resolve()}}function ND(s,e,t,i={}){var a;s=ps(s,Xh);const c=Ni(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c&&(Ag(`https://${m}`),Sg("Firestore",!0)),d.host!==nT&&d.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:m,ssl:c,emulatorOptions:i});if(!vi(y,p)&&(s._setSettings(y),i.mockUserToken)){let x,w;if(typeof i.mockUserToken=="string")x=i.mockUserToken,w=on.MOCK_USER;else{x=Q1(i.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new on(E)}s._authCredentials=new k5(new z2(x,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class gi extends Aa{constructor(e,t,i){super(e,t,n0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new _e(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function _0(s,e,...t){if(s=ct(s),tT("collection","path",e),s instanceof Xh){const i=lt.fromString(e,...t);return n1(i),new gi(s,null,i)}{if(!(s instanceof yn||s instanceof gi))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(lt.fromString(e,...t));return n1(i),new gi(s.firestore,null,i)}}function _a(s,e,...t){if(s=ct(s),arguments.length===1&&(e=q2.newId()),tT("doc","path",e),s instanceof Xh){const i=lt.fromString(e,...t);return t1(i),new yn(s,null,new _e(i))}{if(!(s instanceof yn||s instanceof gi))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(lt.fromString(e,...t));return t1(i),new yn(s.firestore,s instanceof gi?s.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="AsyncQueue";class a1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new kE(this,"async_queue_retry"),this.rc=()=>{const i=Rp();i&&me(i1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new _r;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Wo(e))throw e;me(i1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Sr("INTERNAL UNHANDLED ERROR: ",o1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=g0.createAndSchedule(this,e,t,i,c=>this.uc(c));return this.Zu.push(a),a}oc(){this.Xu&&Se(47125,{cc:o1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function o1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}let Sa=class extends Xh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new a1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a1(e),this._firestoreClient=void 0,await e}}};function el(s,e){const t=typeof s=="object"?s:Ih(),i=typeof s=="string"?s:fh,a=Ai(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=G1("firestore");c&&ND(a,...c)}return a}function w0(s){if(s._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AD(s),s._firestoreClient}function AD(s){var e,t,i;const a=s._freezeSettings(),c=function(p,m,y,x){return new X5(p,m,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,eT(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new xD(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const m=p?._online.build();return{_offline:p?._offline.build(m),_online:m}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(en.fromBase64String(e))}catch(t){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^__.*__$/;class RD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jc(e,this.data,t,this.fieldTransforms)}}class sT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:s})}}class N0{constructor(e,t,i,a,c,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new N0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return _h(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(rT(this.Ic)&&SD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gh(e)}bc(e,t,i,a=!1){return new N0({Ic:e,methodName:t,wc:i,path:Jt.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(s){const e=s._freezeSettings(),t=Gh(s._databaseId);return new jD(s._databaseId,!!e.ignoreUndefinedProperties,t)}function iT(s,e,t,i,a,c={}){const d=s.bc(c.merge||c.mergeFields?2:0,e,t,a);S0("Data must be an object, but it was:",d,i);const p=aT(i,d);let m,y;if(c.merge)m=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const w of c.mergeFields){const E=cg(e,w,t);if(!d.contains(E))throw new pe(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lT(x,E)||x.push(E)}m=new Ln(x),y=d.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,y=d.fieldTransforms;return new RD(new Tn(p),m,y)}class ef extends Zh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}class A0 extends Zh{_toFieldTransform(e){return new wk(e.path,new Vc)}isEqual(e){return e instanceof A0}}function ID(s,e,t,i){const a=s.bc(1,e,t);S0("Data must be an object, but it was:",a,i);const c=[],d=Tn.empty();Ri(i,(m,y)=>{const x=R0(e,m,t);y=ct(y);const w=a.mc(x);if(y instanceof ef)c.push(x);else{const E=su(y,w);E!=null&&(c.push(x),d.set(x,E))}});const p=new Ln(c);return new sT(d,p,a.fieldTransforms)}function CD(s,e,t,i,a,c){const d=s.bc(1,e,t),p=[cg(e,i,t)],m=[a];if(c.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)p.push(cg(e,c[E])),m.push(c[E+1]);const y=[],x=Tn.empty();for(let E=p.length-1;E>=0;--E)if(!lT(y,p[E])){const R=p[E];let N=m[E];N=ct(N);const F=d.mc(R);if(N instanceof ef)y.push(R);else{const V=su(N,F);V!=null&&(y.push(R),x.set(R,V))}}const w=new Ln(y);return new sT(x,w,d.fieldTransforms)}function kD(s,e,t,i=!1){return su(t,s.bc(i?4:3,e))}function su(s,e){if(oT(s=ct(s)))return S0("Unsupported field value:",e,s),aT(s,e);if(s instanceof Zh)return function(i,a){if(!rT(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const c=[];let d=0;for(const p of i){let m=su(p,a.fc(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(s,e)}return function(i,a){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Lt.fromDate(i);return{timestampValue:yh(a.serializer,c)}}if(i instanceof Lt){const c=new Lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(a.serializer,c)}}if(i instanceof E0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qo)return{bytesValue:_E(a.serializer,i._byteString)};if(i instanceof yn){const c=a.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw a.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:o0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof T0)return function(d,p){return{mapValue:{fields:{[X2]:{stringValue:W2},[mh]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.gc("VectorValues must only contain numeric values.");return s0(p.serializer,y)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Qh(i)}`)}(s,e)}function aT(s,e){const t={};return H2(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(s,(i,a)=>{const c=su(a,e.Ac(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function oT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Lt||s instanceof E0||s instanceof qo||s instanceof yn||s instanceof Zh||s instanceof T0)}function S0(s,e,t){if(!oT(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Qh(t);throw i==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+i)}}function cg(s,e,t){if((e=ct(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return R0(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,t)}const PD=new RegExp("[~\\*/\\[\\]]");function R0(s,e,t){if(e.search(PD)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Wh(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function _h(s,e,t,i,a){const c=i&&!i.isEmpty(),d=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${i}`),d&&(m+=` in document ${a}`),m+=")"),new pe(ie.INVALID_ARGUMENT,p+s+m)}function lT(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DD extends cT{data(){return super.data()}}function j0(s,e){return typeof e=="string"?R0(s,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class uT extends I0{}function OD(s,e,...t){let i=[];e instanceof I0&&i.push(e),i=i.concat(t),function(c){const d=c.filter(m=>m instanceof k0).length,p=c.filter(m=>m instanceof C0).length;if(d>1||d>0&&p>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)s=a._apply(s);return s}class C0 extends uT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new C0(e,t,i)}_apply(e){const t=this._parse(e);return dT(e._query,t),new Aa(e.firestore,e.converter,Zp(e._query,t))}_parse(e){const t=Jh(e.firestore);return function(c,d,p,m,y,x,w){let E;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){c1(w,x);const N=[];for(const F of w)N.push(l1(m,c,F));E={arrayValue:{values:N}}}else E=l1(m,c,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||c1(w,x),E=kD(p,d,w,x==="in"||x==="not-in");return Ct.create(y,x,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class k0 extends I0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new k0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ms.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,c){let d=a;const p=c.getFlattenedFilters();for(const m of p)dT(d,m),d=Zp(d,m)}(e._query,t),new Aa(e.firestore,e.converter,Zp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P0 extends uT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P0(e,t)}_apply(e){const t=function(a,c,d){if(a.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(c,d)}(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,function(a,c){const d=a.explicitOrderBy.concat([c]);return new Zo(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function LD(s,e="asc"){const t=e,i=j0("orderBy",s);return P0._create(i,t)}function l1(s,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iE(e)&&t.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!_e.isDocumentKey(i))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return E_(s,new _e(i))}if(t instanceof yn)return E_(s,t._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function c1(s,e){if(!Array.isArray(s)||s.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dT(s,e){const t=function(a,c){for(const d of a)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class UD{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ri(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,a;const c=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[mh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(d=>Tt(d.doubleValue));return new T0(c)}convertGeoPoint(e){return new E0(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const t=bi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);We(SE(i),9688,{name:e});const a=new Oc(i.get(1),i.get(3)),c=new _e(i.popFirst(5));return a.isEqual(t)||Sr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s,e,t){let i;return i=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fT extends cT{constructor(e,t,i,a,c,d){super(e,t,i,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(j0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Kd extends fT{data(e={}){return super.data(e)}}class VD{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kd(this._firestore,this._userDataWriter,i.key,i,new yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(p=>{const m=new Kd(a._firestore,a._userDataWriter,p.doc.key,p.doc,new yc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const m=new Kd(a._firestore,a._userDataWriter,p.doc.key,p.doc,new yc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:zD(p.type),doc:m,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(s){s=ps(s,yn);const e=ps(s.firestore,Sa);return wD(w0(e),s._key).then(t=>HD(e,s,t))}class mT extends UD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function ug(s){s=ps(s,Aa);const e=ps(s.firestore,Sa),t=w0(e),i=new mT(e);return MD(s._query),ED(t,s._query).then(a=>new VD(e,i,s,a))}function dg(s,e,t){s=ps(s,yn);const i=ps(s.firestore,Sa),a=hT(s.converter,e,t);return nf(i,[iT(Jh(i),"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,Jn.none())])}function BD(s,e,t,...i){s=ps(s,yn);const a=ps(s.firestore,Sa),c=Jh(a);let d;return d=typeof(e=ct(e))=="string"||e instanceof Wh?CD(c,"updateDoc",s._key,e,t,i):ID(c,"updateDoc",s._key,e),nf(a,[d.toMutation(s._key,Jn.exists(!0))])}function qD(s){return nf(ps(s.firestore,Sa),[new r0(s._key,Jn.none())])}function FD(s,e){const t=ps(s.firestore,Sa),i=_a(s),a=hT(s.converter,e);return nf(t,[iT(Jh(s.firestore),"addDoc",i._key,a,s.converter!==null,{}).toMutation(i._key,Jn.exists(!1))]).then(()=>i)}function nf(s,e){return function(i,a){const c=new _r;return i.asyncQueue.enqueueAndForget(async()=>uD(await _D(i),a,c)),c.promise}(w0(s),e)}function HD(s,e,t){const i=t.docs.get(e._key),a=new mT(s);return new fT(s,a,e._key,i,new yc(t.hasPendingWrites,t.fromCache),e.converter)}function hg(){return new A0("serverTimestamp")}(function(e,t=!0){(function(a){Qo=a})(Ea),fs(new es("firestore",(i,{instanceIdentifier:a,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new Sa(new P5(i.getProvider("auth-internal")),new O5(d,i.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(y.options.projectId,x)}(d,a),d);return c=Object.assign({useFetchStreams:t},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Nn(d_,h_,e),Nn(d_,h_,"esm2017")})();const $D={apiKey:"AIzaSyDBgJGytsQvvYIEwNgbIbogkjcHZAwHzb8",authDomain:"properties-a2d2b.firebaseapp.com",projectId:"properties-a2d2b",storageBucket:"properties-a2d2b.firebasestorage.app",messagingSenderId:"546687848025",appId:"1:546687848025:web:783fefc052108b80206b48",measurementId:"G-J5VRQ6NBK3"},sf=nw($D);c6(sf);const gs=j5(sf),D0=new gr,GD=Rw(sf),wh=el(sf);D0.setCustomParameters({prompt:"select_account"});const rf=async(s,e={})=>{if(!s)return null;try{const t=_a(wh,"users",s.uid),i=await tf(t);if(i.exists())return console.log("User profile already exists"),i.data();{const a={uid:s.uid,email:s.email,displayName:s.displayName||"",firstName:e.firstName||"",lastName:e.lastName||"",primaryPhone:e.primaryPhone||"",whatsappPhone:e.whatsappPhone||"",alternateEmail:e.alternateEmail||"",profileImage:e.profileImage||"",isRealEstateProfessional:e.isRealEstateProfessional||!1,companyName:e.companyName||"",companyPhone:e.companyPhone||"",category:e.category||"",website:e.website||"",country:e.country||"Nigeria",state:e.state||"",city:e.city||"",address:e.address||"",aboutUs:e.aboutUs||"",createdAt:hg(),updatedAt:hg(),isActive:!0,productCount:0};return await dg(t,a),console.log("User profile created successfully"),a}}catch(t){throw console.error("Error creating user profile:",t),t}},YD=async s=>{if(!s)return null;try{const e=_a(wh,"users",s),t=await tf(e);return t.exists()?t.data():(console.log("User profile not found"),null)}catch(e){throw console.error("Error getting user profile:",e),e}},KD=async(s,e,t={})=>{try{const a=(await u3(gs,s,e)).user;return t.displayName&&await f3(a,{displayName:t.displayName}),await rf(a,t),console.log("User signed up successfully:",a),a}catch(i){throw console.error("Error signing up:",i),i}},QD=async(s,e)=>{try{const i=(await d3(gs,s,e)).user;return await rf(i),console.log("User signed in:",i),i}catch(t){throw console.error("Error signing in:",t),t}},pT=async()=>{try{const e=(await L3(gs,D0)).user;return await rf(e),console.log("User signed in:",e),e}catch(s){throw console.error("Error signing in:",s),s}},gT=()=>{F3(gs,D0)},yT=async()=>{try{const s=await $3(gs);if(s){const e=s.user;return await rf(e),console.log("User signed in through redirect:",e),e}}catch(s){throw console.error("Error handling redirect:",s),s}},Ra=s=>g3(gs,e=>{e?console.log("Auth state changed: User is signed in",e):console.log("Auth state changed: User is signed out"),s(e)}),XD=async()=>{try{await y3(gs),console.log("User signed out successfully")}catch(s){throw console.error("Error signing out:",s),s}},af=()=>gs.currentUser,WD=async(s,e=null)=>{if(!s||!gs.currentUser)return null;const t=gs.currentUser,i=Sw(GD,`profile-images/${t.uid}/${Date.now()}_${s.name}`),a={contentType:s.type,customMetadata:{originalName:s.name,uploadedBy:t.uid,uploadedAt:new Date().toISOString()}};try{const c=Nw(i,s,a);return new Promise((d,p)=>{c.on("state_changed",m=>{const y=m.bytesTransferred/m.totalBytes*100;e&&e(y)},m=>{console.error("Upload failed:",m),p(m)},async()=>{try{const m=await Aw(c.snapshot.ref);d({url:m,path:c.snapshot.ref.fullPath})}catch(m){p(m)}})})}catch(c){throw console.error("Error uploading profile image:",c),c}},ZD=()=>{const[s,e]=L.useState(!1),[t,i]=L.useState(!1),[a,c]=L.useState(null),[d,p]=L.useState(!1),[m,y]=L.useState(!1),x=L.useRef(null),w=[{name:"Buy",a:"/property"},{name:"Rent",a:"/rent-property"},{name:"Estate Agent",a:"/Estate_Agent"}],E=[{name:"Shortlet",a:"/shortlet-property"},{name:"Services",a:"/services"},{name:"Blog",a:"/blogPage"}],R=[{name:"Sign up",className:"text-[#306] rounded-lg hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/signup"},{name:"Log in",className:"text-[#306] rounded-lg hover:bg-blue-700 hover:text-white transition-colors text-sm px-3 py-1",a:"/login"}],N=[{name:"Dashboard",icon:Hc,href:"/dashboard",description:"View your dashboard"},{name:"Profile",icon:XS,href:"/profile",description:"Manage your profile"},{name:"Settings",icon:V1,href:"/settings",description:"Account settings"}],F=[...w,...E];L.useEffect(()=>{const z=q=>{x.current&&!x.current.contains(q.target)&&y(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),L.useEffect(()=>{const z=Ra(q=>{c(q),p(!!q),q?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:q.uid,email:q.email,displayName:q.displayName,photoURL:q.photoURL}))):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"))});return()=>z()},[]);const V=async()=>{i(!0);try{await XD(),localStorage.removeItem("Status"),localStorage.removeItem("userToken"),localStorage.removeItem("userData"),console.log("User signed out successfully"),y(!1),window.location.href="/"}catch(z){console.error("Error signing out:",z),alert("Error signing out. Please try again.")}finally{i(!1)}},M=()=>a?.displayName?a.displayName:a?.email?a.email.split("@")[0]:"User";return l.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Do,{className:"h-7 w-7 text-blue-600"}),l.jsx("a",{href:"/",className:"ml-2 text-xl font-bold text-gray-800",children:"Property Premium"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[w.map((z,q)=>l.jsx("a",{href:z.a,className:"text-sm font-medium text-gray-700 hover:text-blue-700 transition-colors duration-200",children:z.name},q)),l.jsx("span",{className:"text-gray-300",children:"|"}),E.map((z,q)=>l.jsx("a",{href:z.a,className:"text-sm font-medium text-gray-700 hover:text-blue-700 transition-colors duration-200",children:z.name},q))]}),l.jsx("div",{className:"md:flex items-center gap-2 ",children:R.map((z,q)=>l.jsx("a",{href:z.a,className:`${z.className}  ${d?"hidden":"block"}`,children:z.name},q))}),l.jsxs("div",{className:`relative ${d?"flex":"hidden"}`,ref:x,children:[l.jsx("button",{onClick:()=>y(!m),className:"flex items-center p-1 rounded-full hover:bg-gray-50 transition-colors duration-200",children:a?.photoURL?l.jsx("img",{src:a.photoURL,alt:"User Avatar",className:"h-8 w-8 rounded-full border-2 border-gray-200 hover:border-blue-300 transition-colors"}):l.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center hover:bg-blue-200 transition-colors",children:l.jsx(jo,{className:"h-4 w-4 text-blue-600"})})}),m&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-50",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center gap-3",children:[a?.photoURL?l.jsx("img",{src:a.photoURL,alt:"User Avatar",className:"h-10 w-10 rounded-full border-2 border-gray-200"}):l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(jo,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:M()}),a?.email&&l.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]})}),l.jsx("div",{className:"py-2",children:N.map((z,q)=>l.jsxs("a",{href:z.href,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",onClick:()=>y(!1),children:[l.jsx(z.icon,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:z.name}),l.jsx("p",{className:"text-xs text-gray-500",children:z.description})]})]},q))}),l.jsx("div",{className:"border-t border-gray-100 pt-2",children:l.jsxs("button",{onClick:V,disabled:t,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 w-full text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Pp,{className:"h-4 w-4"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:t?"Logging out...":"Logout"}),l.jsx("p",{className:"text-xs text-red-500",children:"Sign out of your account"})]})]})})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>e(!s),className:"text-gray-700 focus:outline-none hover:text-blue-600 transition-colors",children:s?l.jsx(Tr,{className:"h-6 w-6"}):l.jsx(L1,{className:"h-6 w-6"})})})]})}),l.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ${s?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:l.jsxs("div",{className:"px-4 pb-4 space-y-3 bg-white border-t border-gray-100",children:[d&&l.jsxs("div",{className:"py-3 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a?.photoURL?l.jsx("img",{src:a.photoURL,alt:"User Avatar",className:"h-10 w-10 rounded-full border-2 border-gray-200"}):l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(jo,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:M()}),a?.email&&l.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]}),l.jsx("div",{className:"space-y-2",children:N.map((z,q)=>l.jsxs("a",{href:z.href,className:"flex items-center gap-3 text-sm text-gray-700 hover:text-blue-700 transition-colors duration-200 py-1",onClick:()=>e(!1),children:[l.jsx(z.icon,{className:"h-4 w-4 text-gray-500"}),z.name]},q))})]}),F.map((z,q)=>l.jsx("a",{href:z.a,className:"block text-sm text-gray-700 hover:text-blue-700 hover:translate-x-1 transition-all duration-200 py-1",onClick:()=>e(!1),children:z.name},q)),l.jsx("hr",{className:"border-gray-100"}),!d&&R.map((z,q)=>l.jsx("a",{href:z.a,className:"block text-sm font-semibold text-blue-600 hover:text-blue-700 hover:underline transition-colors duration-200 py-1",onClick:()=>e(!1),children:z.name},q)),d&&l.jsxs("button",{onClick:()=>{V(),e(!1)},disabled:t,className:"flex items-center gap-2 text-red-600 hover:text-red-700 transition-colors text-sm w-full text-left py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Pp,{className:"h-4 w-4"}),t?"Logging out...":"Logout"]})]})})]})},JD=()=>l.jsx("section",{id:"hero",children:l.jsxs("div",{className:"bg-[url('https://img.freepik.com/premium-photo/modern-white-villa-with-lush-gardens-sunny-coastal-area-daytime_588826-4162.jpg?uid=R193842198&ga=GA1.1.1758055807.1746272145&semt=ais_hybrid&w=740')] bg-no-repeat bg-center bg-cover w-full h-screen flex items-center justify-center relative",children:[l.jsx("div",{className:"absolute inset-0 bg-black/[0.4]"}),l.jsxs("div",{className:"relative z-10 text-center text-white max-w-4xl mx-auto px-6",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Sell Your Property with",l.jsx("span",{className:"text-blue-400 block mt-2",children:"Confidence"})]}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-200 max-w-2xl mx-auto",children:"Connect with serious buyers and get the best price for your property. Fast, secure, and hassle-free selling experience."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-colors duration-300 shadow-lg hover:shadow-xl",children:"List Your Property"}),l.jsx("button",{className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-300",children:"Browse Properties"})]}),l.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-gray-300",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),l.jsx("span",{children:"10,000+ Properties Sold"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),l.jsx("span",{children:"Trusted by 50,000+ Users"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),l.jsx("span",{children:"Average 30 Days to Sell"})]})]})]}),l.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:l.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:l.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2"})})})]})}),eM=()=>{const[s,e]=L.useState(0),[t,i]=L.useState(!1),[a,c]=L.useState(new Set),d=L.useRef(null),p=L.useRef([]),m=[{id:1,title:"Luxury Oceanfront Villa",price:"$2,850,000",originalPrice:"$3,200,000",location:"Malibu, CA",beds:5,baths:4,sqft:4200,type:"Villa",badge:"Luxury",badgeColor:"bg-purple-500",badgeIcon:ub,image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!0},{id:2,title:"Modern Downtown Penthouse",price:"$1,450,000",location:"Manhattan, NY",beds:3,baths:3,sqft:2800,type:"Penthouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:mb,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!0,isNew:!0,isHot:!1},{id:3,title:"Suburban Family Estate",price:"$875,000",location:"Beverly Hills, CA",beds:6,baths:5,sqft:5200,type:"Estate",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:hb,image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",rating:4.7,isVerified:!0,isNew:!1,isHot:!0},{id:4,title:"Contemporary Waterfront Home",price:"$1,200,000",location:"Miami Beach, FL",beds:4,baths:3,sqft:3200,type:"House",badge:"Verified",badgeColor:"bg-blue-500",badgeIcon:So,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=500&h=400&fit=crop&q=80",rating:4.9,isVerified:!0,isNew:!1,isHot:!1},{id:5,title:"Historic Brownstone Renovation",price:"$980,000",location:"Brooklyn, NY",beds:3,baths:2,sqft:2100,type:"Townhouse",badge:"New",badgeColor:"bg-green-500",badgeIcon:mb,image:"https://images.unsplash.com/photo-1449844908441-8829872d2607?w=500&h=400&fit=crop&q=80",rating:4.6,isVerified:!0,isNew:!0,isHot:!1},{id:6,title:"Mountain View Retreat",price:"$675,000",location:"Aspen, CO",beds:4,baths:3,sqft:2800,type:"Cabin",badge:"Hot",badgeColor:"bg-red-500",badgeIcon:hb,image:"https://images.unsplash.com/photo-1520637736862-4197d17c90a?w=500&h=400&fit=crop&q=80",rating:4.8,isVerified:!1,isNew:!1,isHot:!0}],y=2,x=Math.ceil(m.length/y);L.useEffect(()=>{const R=new IntersectionObserver(([N])=>{N.isIntersecting&&i(!0)},{threshold:.1});return d.current&&R.observe(d.current),()=>R.disconnect()},[]),L.useEffect(()=>{const R=setInterval(()=>{e(N=>(N+1)%x)},1e4);return()=>clearInterval(R)},[x]);const w=R=>{c(N=>new Set([...N,R]))},E=()=>{const R=s*y;return m.slice(R,R+y)};return l.jsxs("section",{ref:d,className:"py-20 bg-gradient-to-br from-gray-500 to-gray-900 via-gray-100 relative z-10",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[l.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[l.jsx(ub,{className:"w-4 h-4"}),"Premium Properties"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Featured ",l.jsx("span",{className:"text-blue-600",children:"Listings"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover handpicked premium properties from our exclusive collection. Each listing is carefully verified and represents exceptional value."})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"grid md:grid-cols-2 gap-8 px-16",children:E().map((R,N)=>{const F=R.badgeIcon;return l.jsxs("div",{ref:V=>p.current[N]=V,className:`group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden transform hover:-translate-y-2 ${t?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+N*.1}s`,animation:t?`slideInUp 0.8s ease-out ${.2+N*.1}s both`:"none"},children:[l.jsxs("div",{className:"relative overflow-hidden",children:[!a.has(R.id)&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),l.jsx("img",{src:R.image,alt:R.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onLoad:()=>w(R.id)}),l.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[l.jsxs("div",{className:`${R.badgeColor} text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg`,children:[l.jsx(F,{className:"w-3 h-3"}),R.badge]}),R.isVerified&&l.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[l.jsx(So,{className:"w-3 h-3 fill-current"}),"Verified"]})]}),l.jsxs("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg backdrop-blur-sm",children:[l.jsx("div",{className:"text-lg font-bold",children:R.price}),R.originalPrice&&l.jsx("div",{className:"text-xs text-gray-300 line-through",children:R.originalPrice})]}),l.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 px-2 py-1 rounded-full flex items-center gap-1",children:[l.jsx(So,{className:"w-3 h-3 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-xs font-semibold",children:R.rating})]})]}),l.jsxs("div",{className:"flex ",children:[l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:R.title})}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[l.jsx(Go,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:R.location})]}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:R.type})})]}),l.jsx("div",{children:l.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg",children:["View More",l.jsx(yi,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]},R.id)})})}),l.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:x}).map((R,N)=>l.jsx("button",{onClick:()=>e(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${s===N?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400"}`},N))}),l.jsx("div",{className:`text-center mt-16 transform transition-all duration-1000 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"0.8s"},children:l.jsxs("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:["View All Properties",l.jsx(yi,{className:"inline-block w-5 h-5 ml-2"})]})})]}),l.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(60px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})},tM=()=>{const[s,e]=L.useState(!1),[t,i]=L.useState(null),a=L.useRef(null),c=L.useRef([]),d=[{id:1,name:"Lagos",state:"Lagos State",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600&h=400&fit=crop&q=80",averagePrice:"85,000,000",priceRange:"25M - 500M",listings:2840,growth:"+15%",description:"Nigeria's commercial hub with luxury waterfront properties",highlights:["Victoria Island","Ikoyi","Lekki"],propertyTypes:["Luxury Apartments","Penthouses","Commercial"],trending:!0,popular:!0},{id:2,name:"Abuja",state:"Federal Capital Territory",image:"https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=600&h=400&fit=crop&q=80",averagePrice:"65,000,000",priceRange:"20M - 300M",listings:1650,growth:"+22%",description:"Federal capital with modern planned developments",highlights:["Maitama","Asokoro","Wuse 2"],propertyTypes:["Diplomatic Housing","Estates","Villas"],trending:!0,popular:!1},{id:3,name:"Ibadan",state:"Oyo State",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=600&h=400&fit=crop&q=80",averagePrice:"35,000,000",priceRange:"8M - 150M",listings:980,growth:"+12%",description:"Historic city with affordable family homes",highlights:["GRA","Bodija","UI Area"],propertyTypes:["Family Homes","Apartments","Land"],trending:!1,popular:!0},{id:4,name:"Port Harcourt",state:"Rivers State",image:"https://images.unsplash.com/photo-1566813558810-2c2b5cb62600?w=600&h=400&fit=crop&q=80",averagePrice:"45,000,000",priceRange:"12M - 200M",listings:740,growth:"+8%",description:"Oil city with growing real estate market",highlights:["GRA","D-Line","Trans Amadi"],propertyTypes:["Executive Homes","Apartments","Industrial"],trending:!1,popular:!1},{id:5,name:"Kano",state:"Kano State",image:"https://images.unsplash.com/photo-1570939274851-b6172e45834e?w=600&h=400&fit=crop&q=80",averagePrice:"28,000,000",priceRange:"5M - 120M",listings:650,growth:"+18%",description:"Northern commercial center with emerging opportunities",highlights:["Nassarawa","Fagge","Kano Municipal"],propertyTypes:["Traditional Homes","Modern Estates","Commercial"],trending:!0,popular:!1},{id:6,name:"Kaduna",state:"Kaduna State",image:"https://images.unsplash.com/photo-1582735689369-4fe89db7114c?w=600&h=400&fit=crop&q=80",averagePrice:"32,000,000",priceRange:"7M - 180M",listings:520,growth:"+14%",description:"Strategic location with growing infrastructure",highlights:["GRA","Barnawa","Ungwan Rimi"],propertyTypes:["Residential","Government Housing","New Developments"],trending:!1,popular:!1}];L.useEffect(()=>{const m=new IntersectionObserver(([y])=>{y.isIntersecting&&e(!0)},{threshold:.1});return a.current&&m.observe(a.current),()=>m.disconnect()},[]);const p=m=>m.toLocaleString();return l.jsxs("section",{ref:a,className:"py-20 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-5",children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[l.jsxs("div",{className:`text-center mb-16 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[l.jsx(Go,{className:"w-4 h-4"}),"Top Locations in Nigeria"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Explore Prime ",l.jsx("span",{className:"text-green-600",children:"Locations"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the most sought-after cities across Nigeria. From bustling Lagos to the capital Abuja, find your perfect property in these thriving locations."})]}),l.jsx("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:d.slice(0,3).map((m,y)=>l.jsxs("div",{ref:x=>c.current[y]=x,className:`group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-700 overflow-hidden transform hover:-translate-y-3 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:`${.2+y*.15}s`},onMouseEnter:()=>i(m.id),onMouseLeave:()=>i(null),children:[l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),l.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[m.trending&&l.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[l.jsx(Ro,{className:"w-3 h-3"}),"Trending"]}),m.popular&&l.jsxs("div",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[l.jsx(So,{className:"w-3 h-3 fill-current"}),"Popular"]})]}),l.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[l.jsx("h3",{className:"text-2xl font-bold mb-1",children:m.name}),l.jsx("p",{className:"text-sm text-gray-200",children:m.state})]}),l.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:m.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx(M1,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),l.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.averagePrice}),l.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx(Do,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),l.jsx("div",{className:"text-lg font-bold text-gray-900",children:p(m.listings)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Properties"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Popular Areas:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:m.highlights.map((x,w)=>l.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:x},w))})]}),l.jsxs("button",{className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg transform hover:scale-105",children:["Explore Properties",l.jsx(yi,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),l.jsxs("div",{className:`absolute inset-0 bg-white bg-opacity-95 backdrop-blur-sm p-6 flex flex-col justify-center transition-all duration-500 ${t===m.id?"opacity-100 visible":"opacity-0 invisible"}`,children:[l.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"Property Types"}),l.jsx("div",{className:"space-y-2 mb-4",children:m.propertyTypes.map((x,w)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wd,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-gray-700",children:x})]},w))}),l.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[l.jsx("strong",{children:"Price Range:"})," ",m.priceRange]}),l.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"View All Listings"})]})]},m.id))}),l.jsx("div",{className:`grid md:grid-cols-3 gap-6 mb-12 transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,style:{transitionDelay:"0.8s"},children:d.slice(3).map((m,y)=>l.jsxs("div",{className:"group bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-500 overflow-hidden transform hover:-translate-y-1",children:[l.jsxs("div",{className:"relative h-40 overflow-hidden",children:[l.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsxs("div",{className:"absolute bottom-2 left-3 text-white",children:[l.jsx("h4",{className:"text-lg font-bold",children:m.name}),l.jsx("p",{className:"text-xs text-gray-200",children:m.state})]}),m.trending&&l.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:m.growth})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm font-bold text-gray-900",children:m.averagePrice}),l.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Price"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm font-bold text-gray-900",children:p(m.listings)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Listings"})]})]}),l.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:["Explore Properties",l.jsx(yi,{className:"w-3 h-3"})]})]})]},m.id))}),l.jsx("div",{className:`text-center transform transition-all duration-1000 ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:"1s"},children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-2xl mx-auto",children:[l.jsx(Sh,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Can't Find Your Preferred Location?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"We cover properties across all 36 states in Nigeria. Let us help you find the perfect property in your desired location."}),l.jsx("button",{className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:"Request Custom Search"})]})})]})]})},nM=()=>{const[s,e]=L.useState(null),t=[{id:1,title:"Modern Downtown Loft",location:"Manhattan, NY",price:"$2,850,000",beds:2,baths:2,sqft:"1,200",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=450&fit=crop",duration:"45s",views:"2.1k",featured:!0},{id:2,title:"Luxury Beachfront Villa",location:"Malibu, CA",price:"$5,200,000",beds:4,baths:3,sqft:"3,500",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=450&fit=crop",duration:"60s",views:"5.8k",featured:!1},{id:3,title:"Cozy Suburban Home",location:"Austin, TX",price:"$850,000",beds:3,baths:2,sqft:"2,100",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=450&fit=crop",duration:"38s",views:"1.3k",featured:!1},{id:4,title:"Urban Penthouse Suite",location:"Chicago, IL",price:"$3,100,000",beds:3,baths:3,sqft:"2,800",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=450&fit=crop",duration:"52s",views:"3.7k",featured:!0}],i=c=>{e(s===c?null:c)},a=({property:c})=>l.jsxs("div",{className:"group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[l.jsx("div",{className:"relative overflow-hidden",children:s===c.id?l.jsx("div",{className:"aspect-video",children:l.jsx("iframe",{src:c.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):l.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[l.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:l.jsx("button",{onClick:()=>i(c.id),className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300 shadow-xl",children:l.jsx(U1,{className:"w-8 h-8 text-gray-800 ml-1"})})}),l.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2",children:[l.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[l.jsx(P1,{className:"w-3 h-3"}),l.jsx("span",{children:c.duration})]}),l.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[l.jsx(Rc,{className:"w-3 h-3"}),l.jsx("span",{children:c.views})]})]}),c.featured&&l.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Featured"})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-purple-600 transition-colors",children:c.title}),l.jsx("span",{className:"text-2xl font-bold text-purple-600",children:c.price})]}),l.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[l.jsx(Go,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"text-sm",children:c.location})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Eg,{className:"w-4 h-4"}),l.jsxs("span",{children:[c.beds," beds"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(wg,{className:"w-4 h-4"}),l.jsxs("span",{children:[c.baths," baths"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Cc,{className:"w-4 h-4"}),l.jsxs("span",{children:[c.sqft," sqft"]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Watch Full Tour"}),l.jsxs("button",{className:"flex-1 border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-semibold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 hover:bg-purple-50",children:[l.jsx("span",{children:"Book Viewing"}),l.jsx(yi,{className:"w-4 h-4"})]})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Video Property Tours"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Bring properties to life visually with immersive video tours that showcase every detail"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:t.map(c=>l.jsx(a,{property:c},c.id))}),l.jsx("div",{className:"mt-20 text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Showcase Your Property?"}),l.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Create stunning video tours that capture buyers' attention and drive more viewings"}),l.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Creating Tours"})]})})]})})},sM=()=>{const[s,e]=L.useState(0),[t,i]=L.useState(null),a=[{id:1,name:"Sarah Johnson",title:"First-time Buyer",location:"Seattle, WA",profilePic:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",quote:"The video tours saved me so much time! I was able to narrow down my choices before visiting in person. Found my dream home in just 3 weeks.",rating:5,propertyType:"Condo",saleAmount:"$450,000"},{id:2,name:"Michael Chen",title:"Property Investor",location:"Austin, TX",profilePic:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",quote:"This platform revolutionized how I evaluate investment properties. The detailed video tours and analytics helped me make better decisions faster.",rating:5,propertyType:"Multi-family",saleAmount:"$1.2M"},{id:3,name:"Emma Rodriguez",title:"Real Estate Agent",location:"Miami, FL",profilePic:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",quote:"My listings get 3x more engagement with these video tours. Clients love the immersive experience, and I'm closing deals 40% faster!",rating:5,propertyType:"Luxury Homes",saleAmount:"$2.8M"},{id:4,name:"David Thompson",title:"Home Seller",location:"Denver, CO",profilePic:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",quote:"Sold our family home 2 weeks faster than expected! The video tour attracted serious buyers who were already pre-qualified when they visited.",rating:5,propertyType:"Family Home",saleAmount:"$680,000"},{id:5,name:"Lisa Park",title:"Relocating Professional",location:"San Francisco, CA",profilePic:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",quote:"Moving across the country was stressful, but the video tours let me house-hunt remotely. Made an offer sight unseen and couldn't be happier!",rating:5,propertyType:"Townhouse",saleAmount:"$950,000"},{id:6,name:"Robert Martinez",title:"Property Developer",location:"Phoenix, AZ",profilePic:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",quote:"The platform's video capabilities helped us showcase our new development beautifully. Pre-sales exceeded expectations by 200%!",rating:5,propertyType:"New Construction",saleAmount:"$15M"}],c=[{id:1,name:"Jennifer Walsh",title:"Happy Homeowner",location:"Portland, OR",thumbnailUrl:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:45",propertyType:"Modern Loft"},{id:2,name:"Carlos Mendez",title:"Real Estate Broker",location:"Los Angeles, CA",thumbnailUrl:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"2:10",propertyType:"Commercial Space"},{id:3,name:"Amanda Foster",title:"First-time Seller",location:"Nashville, TN",thumbnailUrl:"https://images.unsplash.com/photo-1551836022-8b2858c9c69b?w=400&h=300&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"1:30",propertyType:"Suburban Home"}];L.useEffect(()=>{const w=setInterval(()=>{e(E=>(E+1)%a.length)},5e3);return()=>clearInterval(w)},[a.length]);const d=()=>{e(w=>(w+1)%a.length)},p=()=>{e(w=>(w-1+a.length)%a.length)},m=({rating:w})=>l.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((E,R)=>l.jsx(So,{className:`w-5 h-5 ${R<w?"text-yellow-400 fill-current":"text-gray-300"}`},R))}),y=({testimonial:w,isActive:E})=>l.jsx("div",{className:`transition-all duration-500 ${E?"opacity-100 scale-100":"opacity-70 scale-95"}`,children:l.jsx("div",{className:"bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100",children:l.jsxs("div",{className:"flex items-start space-x-6",children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("img",{src:w.profilePic,alt:w.name,className:"w-20 h-20 rounded-full object-cover border-4 border-purple-100"}),l.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-400 to-green-500 rounded-full p-1",children:l.jsx(Xd,{className:"w-4 h-4 text-white"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w.name}),l.jsx("p",{className:"text-purple-600 font-medium",children:w.title}),l.jsx("p",{className:"text-sm text-gray-500",children:w.location})]}),l.jsx(m,{rating:w.rating})]}),l.jsxs("div",{className:"relative",children:[l.jsx(CR,{className:"absolute -top-2 -left-2 w-8 h-8 text-purple-200"}),l.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed italic pl-6",children:['"',w.quote,'"']})]}),l.jsx("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[l.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-medium",children:w.propertyType}),l.jsx("span",{className:"font-bold text-green-600",children:w.saleAmount})]})})]})]})})}),x=({video:w})=>l.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"relative",children:t===w.id?l.jsx("div",{className:"aspect-video",children:l.jsx("iframe",{src:w.videoUrl,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):l.jsxs("div",{className:"relative aspect-video overflow-hidden cursor-pointer",onClick:()=>i(w.id),children:[l.jsx("img",{src:w.thumbnailUrl,alt:`${w.name} testimonial`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:l.jsx("div",{className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transform hover:scale-110 transition-all duration-300",children:l.jsx(U1,{className:"w-8 h-8 text-purple-600 ml-1"})})}),l.jsx("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm",children:w.duration})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-1",children:w.name}),l.jsx("p",{className:"text-purple-600 font-medium mb-1",children:w.title}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:w.location}),l.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:w.propertyType})]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Success Stories"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Real stories from real people who found their perfect properties and achieved their real estate goals"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(Sh,{className:"w-8 h-8 text-purple-600 mr-2"}),l.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"50K+"})]}),l.jsx("p",{className:"text-gray-600",children:"Happy Customers"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(Xd,{className:"w-8 h-8 text-purple-600 mr-2"}),l.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"4.9/5"})]}),l.jsx("p",{className:"text-gray-600",children:"Average Rating"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(Ro,{className:"w-8 h-8 text-purple-600 mr-2"}),l.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"40%"})]}),l.jsx("p",{className:"text-gray-600",children:"Faster Sales"})]})]})]}),l.jsxs("div",{className:"relative mb-20",children:[l.jsx("div",{className:"overflow-hidden",children:l.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:a.map((w,E)=>l.jsx("div",{className:"w-full flex-shrink-0 px-4",children:l.jsx(y,{testimonial:w,isActive:E===s})},w.id))})}),l.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:l.jsx(I1,{className:"w-6 h-6 text-purple-600"})}),l.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white hover:bg-purple-50 p-3 rounded-full shadow-lg transition-all duration-300 z-10",children:l.jsx(Tg,{className:"w-6 h-6 text-purple-600"})}),l.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:a.map((w,E)=>l.jsx("button",{onClick:()=>e(E),className:`w-3 h-3 rounded-full transition-all duration-300 ${E===s?"bg-purple-600 w-8":"bg-purple-200"}`},E))})]}),l.jsxs("div",{className:"mb-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Video Testimonials"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Hear directly from our customers about their experiences"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(w=>l.jsx(x,{video:w},w.id))})]}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-12 text-white",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Create Your Success Story?"}),l.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who've found their perfect properties with our platform"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Start Your Journey"}),l.jsx("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105",children:"View All Properties"})]})]})})]})})},rM=()=>{const[s,e]=L.useState({lagosPrice:0,abujaSearches:0,priceGrowth:0,totalProperties:0}),[t,i]=L.useState("6months"),[a,c]=L.useState(null),d={lagosPrice:125e6,abujaSearches:2847,priceGrowth:15.7,totalProperties:12840};L.useEffect(()=>{const N=(F,V,M=2e3)=>{const z=V/(M/16);let q=0;const W=setInterval(()=>{q+=z,q>=V&&(q=V,clearInterval(W)),e(X=>({...X,[F]:Math.floor(q)}))},16)};setTimeout(()=>N("lagosPrice",d.lagosPrice),200),setTimeout(()=>N("abujaSearches",d.abujaSearches),400),setTimeout(()=>N("priceGrowth",d.priceGrowth*10),600),setTimeout(()=>N("totalProperties",d.totalProperties),800)},[]);const p=[{name:"Abuja",searches:2847,growth:12.3,color:"from-blue-500 to-blue-600"},{name:"Lagos",searches:2156,growth:8.7,color:"from-purple-500 to-purple-600"},{name:"Port Harcourt",searches:1834,growth:15.2,color:"from-green-500 to-green-600"},{name:"Kano",searches:1245,growth:6.8,color:"from-orange-500 to-orange-600"},{name:"Ibadan",searches:987,growth:9.4,color:"from-pink-500 to-pink-600"}],m=[{type:"Apartments",percentage:35,trend:"up",change:5.2},{type:"Detached Houses",percentage:28,trend:"up",change:3.8},{type:"Terraced Houses",percentage:22,trend:"down",change:-2.1},{type:"Commercial",percentage:15,trend:"up",change:8.7}],y=[{month:"Jan",price:105},{month:"Feb",price:108},{month:"Mar",price:112},{month:"Apr",price:118},{month:"May",price:122},{month:"Jun",price:125}],x=N=>N>=1e6?`${(N/1e6).toFixed(1)}M`:`${N.toLocaleString()}`,w=({icon:N,title:F,value:V,subtitle:M,trend:z,color:q="purple"})=>l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r from-${q}-100 to-${q}-200`,children:l.jsx(N,{className:`w-6 h-6 text-${q}-600`})}),z&&l.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${z==="up"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[z==="up"?l.jsx(Ro,{className:"w-3 h-3"}):l.jsx(gb,{className:"w-3 h-3"}),l.jsxs("span",{children:[z==="up"?"+":"",M]})]})]}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:V}),l.jsx("p",{className:"text-gray-600 text-sm",children:F})]}),E=({city:N,isHovered:F})=>{const V=Math.max(...p.map(z=>z.searches)),M=N.searches/V*100;return l.jsxs("div",{className:"mb-4 cursor-pointer transition-all duration-300",onMouseEnter:()=>c(N.name),onMouseLeave:()=>c(null),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Go,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"font-medium text-gray-900",children:N.name})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm font-bold text-gray-700",children:N.searches.toLocaleString()}),l.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${N.growth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[N.growth>0?"+":"",N.growth,"%"]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${N.color} rounded-full transition-all duration-1000 ease-out ${F?"shadow-lg":""}`,style:{width:`${M}%`,transform:F?"scaleY(1.2)":"scaleY(1)"}})})]})},R=()=>l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Price Trends (Lagos)"}),l.jsx("div",{className:"flex space-x-2",children:["3months","6months","1year"].map(N=>l.jsx("button",{onClick:()=>i(N),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 ${t===N?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:N==="3months"?"3M":N==="6months"?"6M":"1Y"},N))})]}),l.jsx("div",{className:"relative h-40 flex items-end justify-between space-x-2",children:y.map((N,F)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-lg transition-all duration-1000 ease-out hover:from-purple-600 hover:to-purple-500 cursor-pointer relative group",style:{height:`${N.price/125*100}%`,animationDelay:`${F*100}ms`},children:l.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:x(N.price*1e6)})}),l.jsx("span",{className:"text-xs text-gray-500 mt-2",children:N.month})]},N.month))})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Market Trends & Insights"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Stay informed with real-time data and comprehensive analysis of Nigeria's real estate market"}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[l.jsx(IS,{className:"w-4 h-4"}),l.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString("en-NG")]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[l.jsx(w,{icon:Do,title:"Avg. House Price in Lagos",value:x(s.lagosPrice),subtitle:`${(s.priceGrowth/10).toFixed(1)}%`,trend:"up",color:"purple"}),l.jsx(w,{icon:Rc,title:"Most Searched Searches (Abuja)",value:s.abujaSearches.toLocaleString(),subtitle:"12.3%",trend:"up",color:"blue"}),l.jsx(w,{icon:Ro,title:"Market Growth (YoY)",value:`${(s.priceGrowth/10).toFixed(1)}%`,subtitle:"vs last year",trend:"up",color:"green"}),l.jsx(w,{icon:Hc,title:"Active Properties",value:s.totalProperties.toLocaleString(),subtitle:"8.7%",trend:"up",color:"orange"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[l.jsx(R,{}),l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Top Searched Cities"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx(Rc,{className:"w-4 h-4"}),l.jsx("span",{children:"Weekly searches"})]})]}),l.jsx("div",{className:"space-y-1",children:p.map(N=>l.jsx(E,{city:N,isHovered:a===N.name},N.name))})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg mb-12",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Property Type Trends"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((N,F)=>l.jsxs("div",{className:"text-center group",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsxs("svg",{className:"w-24 h-24 mx-auto transform -rotate-90 group-hover:scale-110 transition-transform duration-300",children:[l.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),l.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeDasharray:`${N.percentage*2.51} 251`,className:"transition-all duration-1000 ease-out",style:{animationDelay:`${F*200}ms`}}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),l.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[N.percentage,"%"]})})]}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:N.type}),l.jsxs("div",{className:`flex items-center justify-center space-x-1 text-sm ${N.trend==="up"?"text-green-600":"text-red-600"}`,children:[N.trend==="up"?l.jsx(Ro,{className:"w-4 h-4"}):l.jsx(gb,{className:"w-4 h-4"}),l.jsxs("span",{children:[N.change>0?"+":"",N.change,"%"]})]})]},N.type))})]}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl p-12 text-white",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get Detailed Market Analysis"}),l.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Access comprehensive reports, neighborhood insights, and investment opportunities tailored to your needs"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"See Full Report"}),l.jsx(yi,{className:"w-5 h-5"})]}),l.jsxs("button",{className:"border-2 border-white text-white hover:bg-white hover:text-purple-600 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[l.jsx(rR,{className:"w-5 h-5"}),l.jsx("span",{children:"Download PDF"})]})]})]})})]})})},iM=()=>{const[s,e]=L.useState([]),[t,i]=L.useState(null),a=[{id:1,icon:Sh,emoji:"",title:"Trusted Agents",description:"Verified professionals with proven track records and stellar client reviews",stats:"500+ Certified Agents",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",delay:0},{id:2,icon:ZR,emoji:"",title:"Fast Transactions",description:"Streamlined processes that close deals 40% faster than industry average",stats:"24-48 Hour Response",color:"from-yellow-500 to-orange-500",bgColor:"from-yellow-50 to-orange-100",delay:200},{id:3,icon:M1,emoji:"",title:"No Hidden Charges",description:"Transparent pricing with all costs disclosed upfront - no surprises",stats:"100% Transparent Fees",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",delay:400},{id:4,icon:Dp,emoji:"",title:"Secure Listings",description:"Bank-level security with verified properties and protected transactions",stats:"256-bit SSL Encryption",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",delay:600}],c=[{icon:Xd,title:"Industry Recognition",description:"Winner of 2024 Best Real Estate Platform Award"},{icon:P1,title:"24/7 Support",description:"Round-the-clock customer service and assistance"},{icon:Ro,title:"Market Insights",description:"Real-time analytics and market trend reports"},{icon:pR,title:"Client Satisfaction",description:"98% customer satisfaction rate and growing"}];L.useEffect(()=>{a.forEach((m,y)=>{setTimeout(()=>{e(x=>[...x,m.id])},m.delay)})},[]);const d=({item:m,isVisible:y})=>{const x=m.icon;return l.jsx("div",{className:`relative group cursor-pointer transition-all duration-700 transform ${y?"translate-y-0 opacity-100":"translate-y-8 opacity-0"} ${t===m.id?"scale-105 -translate-y-2":""}`,onMouseEnter:()=>i(m.id),onMouseLeave:()=>i(null),children:l.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.bgColor} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${m.color} rounded-full opacity-10 group-hover:opacity-20 transition-opacity duration-500 group-hover:animate-pulse`})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:`relative p-4 rounded-2xl bg-gradient-to-br ${m.color} shadow-lg group-hover:shadow-xl transition-all duration-300`,children:[l.jsx(x,{className:"w-8 h-8 text-white"}),l.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce",children:m.emoji})]}),l.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((w,E)=>l.jsx(So,{className:"w-4 h-4 text-yellow-400 fill-current"},E))})]}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors",children:m.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:m.description}),l.jsxs("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full bg-gradient-to-r ${m.color} text-white text-sm font-semibold shadow-md group-hover:shadow-lg transition-shadow duration-300`,children:[l.jsx(C1,{className:"w-4 h-4"}),l.jsx("span",{children:m.stats})]}),l.jsx("div",{className:`absolute bottom-6 right-6 transform transition-all duration-300 ${t===m.id?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,children:l.jsx(yi,{className:"w-6 h-6 text-gray-400"})})]})]})})},p=({feature:m,index:y})=>{const x=m.icon;return l.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl hover:bg-gray-50 transition-all duration-300 group",style:{animationDelay:`${y*100}ms`},children:[l.jsx("div",{className:"flex-shrink-0 p-2 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:l.jsx(x,{className:"w-5 h-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.title}),l.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]})};return l.jsx("div",{className:"bg-gradient-to-br from-gray-50 via-white to-purple-50 py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[l.jsx(Xd,{className:"w-4 h-4"}),l.jsx("span",{children:"Why Choose Our Platform"})]}),l.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-6",children:"Your Success is Our Priority"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We've revolutionized real estate with cutting-edge technology, trusted partnerships, and unwavering commitment to transparency"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:a.map(m=>l.jsx(d,{item:m,isVisible:s.includes(m.id)},m.id))}),l.jsx("div",{className:"bg-white rounded-3xl p-12 shadow-xl border border-gray-100",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"More Reasons to Choose Us"}),l.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Beyond our core promises, we offer additional benefits that set us apart from the competition and ensure your real estate journey is smooth and successful."}),l.jsx("div",{className:"space-y-4",children:c.map((m,y)=>l.jsx(p,{feature:m,index:y},m.title))})]}),l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl p-8 text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("h4",{className:"text-2xl font-bold mb-8",children:"Our Track Record"}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"50K+"}),l.jsx("div",{className:"text-sm opacity-90",children:"Happy Clients"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"98%"}),l.jsx("div",{className:"text-sm opacity-90",children:"Satisfaction Rate"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"50B+"}),l.jsx("div",{className:"text-sm opacity-90",children:"Properties Sold"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"24/7"}),l.jsx("div",{className:"text-sm opacity-90",children:"Support Available"})]})]})]})]})})]})}),l.jsxs("div",{className:"text-center mt-16",children:[l.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[l.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"Get Started Today"}),l.jsx(yi,{className:"w-5 h-5"})]}),l.jsx("button",{className:"border-2 border-purple-200 hover:border-purple-400 text-purple-600 hover:text-purple-700 font-bold py-4 px-8 rounded-xl transition-all duration-300 hover:bg-purple-50",children:"Learn More About Us"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Join thousands of satisfied customers who made the smart choice"})]})]})})},aM=()=>l.jsxs(l.Fragment,{children:[l.jsx(JD,{}),l.jsx(eM,{}),l.jsx(tM,{}),l.jsx(nM,{}),l.jsx(sM,{}),l.jsx(rM,{}),l.jsx(iM,{})]}),oM=()=>{const[s,e]=L.useState({fullName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[t,i]=L.useState({}),[a,c]=L.useState(!1),[d,p]=L.useState({type:"",text:""}),[m,y]=L.useState(0),[x,w]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const X=await yT();X&&M(X)}catch(X){p({type:"error",text:X.message})}})()},[]);const E=W=>{const{name:X,value:oe,type:O,checked:S}=W.target,C=O==="checkbox"?S:oe;e(U=>({...U,[X]:C})),t[X]&&i(U=>({...U,[X]:""})),X==="password"&&R(oe)},R=W=>{let X=0;W.length>=8&&(X+=1),/[A-Z]/.test(W)&&(X+=1),/[a-z]/.test(W)&&(X+=1),/[0-9]/.test(W)&&(X+=1),/[^A-Za-z0-9]/.test(W)&&(X+=1),y(X)},N=()=>{const W={};return s.fullName.trim()||(W.fullName="Name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(W.email="Email is invalid"):W.email="Email is required",s.password?s.password.length<8&&(W.password="Password must be at least 8 characters"):W.password="Password is required",s.password!==s.confirmPassword&&(W.confirmPassword="Passwords do not match"),s.agreeToTerms||(W.agreeToTerms="You must agree to the terms and conditions"),i(W),Object.keys(W).length===0},F=async W=>{if(W.preventDefault(),!!N()){c(!0),p({type:"",text:""});try{const X=await KD(s.email,s.password,s.fullName);p({type:"success",text:"Registration successful! Redirecting to dashboard..."}),setTimeout(()=>{window.location.href="/dashboard",localStorage.setItem("Status","Authenticated")},1500)}catch(X){let oe="An error occurred during registration. Please try again.";X.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email or sign in.":X.code==="auth/invalid-email"?oe="The email address is not valid.":X.code==="auth/weak-password"&&(oe="Password is too weak. Please choose a stronger password."),p({type:"error",text:oe})}finally{c(!1)}}},V=async(W=!1)=>{c(!0);try{if(W)await gT();else{const X=await pT();M(X)}}catch(X){p({type:"error",text:X.message}),c(!1)}},M=W=>{p({type:"success",text:`Welcome, ${W.displayName||"User"}! Redirecting to dashboard...`}),setTimeout(()=>{window.location.href="/dashboard"},1500),c(!1)},z=()=>{w(W=>!W)},q=()=>m===0?"bg-gray-200":m<=2?"bg-red-500":m<=3?"bg-yellow-500":"bg-green-500";return l.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&l.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),l.jsx("div",{className:"space-y-3",children:l.jsxs("button",{type:"button",onClick:()=>V(!1),disabled:a,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[l.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),l.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),l.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),l.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign up with Google"]})}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:s.fullName,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.fullName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.fullName&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.fullName})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:z,children:x?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]}),s.password&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:l.jsx("div",{className:`h-full rounded-full ${q()}`,style:{width:`${m/5*100}%`}})}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[m<=2&&"Weak password",m===3&&"Medium password",m>=4&&"Strong password"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.confirmPassword&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.confirmPassword})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:s.agreeToTerms,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," and ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),t.agreeToTerms&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.agreeToTerms}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:a?"Creating account...":"Sign up"})})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})]})},lM=()=>{const[s,e]=L.useState({email:"",password:""}),[t,i]=L.useState({}),[a,c]=L.useState(!1),[d,p]=L.useState({type:"",text:""}),[m,y]=L.useState(!1),[x,w]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const S=await yT();S&&M(S)}catch(S){p({type:"error",text:N(S)})}})();const oe=Ra(S=>{S&&(window.location.href="/dashboard",localStorage.setItem("Status","Authenticated"))});return localStorage.getItem("rememberMe")&&w(!0),()=>oe()},[]);const E=X=>{const{name:oe,value:O}=X.target;e(S=>({...S,[oe]:O})),t[oe]&&i(S=>({...S,[oe]:""}))},R=()=>{const X={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(X.email="Email is invalid"):X.email="Email is required",s.password||(X.password="Password is required"),i(X),Object.keys(X).length===0},N=X=>{switch(X.code){case"auth/user-not-found":case"auth/wrong-password":return"Invalid email or password. Please try again.";case"auth/too-many-requests":return"Too many failed login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/popup-closed-by-user":return"Sign-in popup was closed before completing the sign in process.";case"auth/cancelled-popup-request":return"The sign-in process was cancelled. Please try again.";case"auth/popup-blocked":return"The sign-in popup was blocked by your browser. Please allow popups for this site and try again.";default:return X.message||"An error occurred during login. Please try again."}},F=async X=>{if(X.preventDefault(),!!R()){c(!0),p({type:"",text:""});try{const oe=await QD(s.email,s.password);M(oe)}catch(oe){p({type:"error",text:N(oe)}),c(!1)}}},V=async(X=!1)=>{c(!0),p({type:"",text:""});try{if(X)await gT();else{const oe=await pT();M(oe)}}catch(oe){p({type:"error",text:N(oe)}),c(!1)}},M=X=>{p({type:"success",text:`Welcome back, ${X.displayName||"User"}! Redirecting to dashboard...`}),x?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe"),setTimeout(()=>{window.location.href="/dashboard"},1500),c(!1)},z=()=>{y(X=>!X)},q=()=>{w(X=>!X)},W=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",l.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.text&&l.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d.text}),l.jsx("div",{className:"space-y-3",children:l.jsxs("button",{type:"button",onClick:()=>V(W()),disabled:a,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",className:"mr-2",children:[l.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),l.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),l.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),l.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsxs("form",{className:"mt-6 space-y-6",onSubmit:F,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),t.email&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:E,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10`}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:z,children:m?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.password&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:q,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?"Signing in...":"Sign in"})})]})]})]})})]})},cM=({user:s})=>l.jsx(l.Fragment,{children:l.jsxs("div",{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(Er,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(D1,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subscription"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(O1,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Website"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),l.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),l.jsx("div",{className:"text-center py-8",children:l.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",l.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"160,000"}),l.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[l.jsx("span",{children:"Olamax suites"}),l.jsx("span",{children:"|"}),l.jsx("span",{children:" 2 days ago"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(Ah,{className:"w-3 h-3"}),l.jsx("span",{children:"Email"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(Jd,{className:"w-3 h-3"}),l.jsx("span",{children:"Phone"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[l.jsx($c,{className:"w-3 h-3"}),l.jsx("span",{children:"WhatsApp"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(eh,{className:"w-3 h-3"}),l.jsx("span",{children:"Save"})]})]})]})]})]})]})}),uM=()=>l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(Er,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),l.jsxs("a",{href:"/post_a_listing",children:["  ",l.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})]})})});el();Rw();const vT=async(s=!1)=>{try{const e=af();if(!e?.uid)throw new Error("User not authenticated");const t=el(),i=_0(t,"users",e.uid,"properties");if(!s)return(await ug(i)).size;const a=await ug(i);let c=0,d=0,p=0;return a.forEach(m=>{const y=m.data();c++,y.status==="active"?d++:p++}),{total:c,active:d,inactive:p}}catch(e){throw console.error("Error fetching property count:",e),e}},xT=async(s=!1,e="createdAt",t="desc")=>{try{const i=af();if(!i?.uid)throw new Error("User not authenticated");const a=el(),c=_0(a,"users",i.uid,"properties"),d=OD(c,LD(e,t)),p=await ug(d),m=[];return p.forEach(y=>{const x=y.data();if(!s&&x.status!=="active")return;let w=0;if(x.createdAt){const E=x.createdAt.toDate?x.createdAt.toDate():new Date(x.createdAt);w=Math.floor((new Date-E)/(1e3*60*60*24))}m.push({id:y.id,...x,daysSinceCreated:w})}),e!=="createdAt"&&m.sort((y,x)=>{let w=y[e],E=x[e];return typeof w=="string"&&(w=w.toLowerCase(),E=E.toLowerCase()),w<E?t==="asc"?-1:1:w>E?t==="asc"?1:-1:0}),m}catch(i){throw console.error("Error fetching user properties:",i),i}},bT=async s=>{try{const e=af();if(!e?.uid)throw new Error("User not authenticated");if(!s)throw new Error("Property ID is required");const t=el(),i=_a(t,"users",e.uid,"properties",s),a=await tf(i);if(!a.exists())throw new Error("Property not found");if(a.data().userId!==e.uid)throw new Error("You do not have permission to delete this property");return await qD(i),{success:!0,message:"Property deleted successfully"}}catch(e){throw console.error("Error deleting property:",e),e}},dM=Object.freeze(Object.defineProperty({__proto__:null,deleteProperty:bT,getDownloadURL:Aw,getUserProperties:xT,getUserPropertyCount:vT,ref:Sw,serverTimestamp:hg,uploadBytesResumable:Nw},Symbol.toStringTag,{value:"Module"})),hM=({onPreviewProperty:s})=>{const[e,t]=L.useState("all"),[i,a]=L.useState(null),[c,d]=L.useState([]),[p,m]=L.useState(!0),[y,x]=L.useState(""),[w,E]=L.useState(null),[R,N]=L.useState(!1),[F,V]=L.useState(null),[M,z]=L.useState(null),q=()=>e==="all"?c:c.filter(te=>{const I=te.status?.toLowerCase()||"active";return e==="active"?I==="active"||I==="pending":e!=="active"?I==="sold"||I==="rented"||I==="inactive"||I==="draft":!0}),[W,X]=L.useState({total:0,active:0,inactive:0}),oe=L.useRef({});L.useEffect(()=>()=>{oe.current={}},[]),L.useEffect(()=>{let te;try{te=Ra(I=>{console.log("Auth state changed:",I),a(I)})}catch(I){console.error("Error setting up auth listener:",I),x("Failed to initialize authentication. Please refresh the page."),m(!1)}return()=>{te&&typeof te=="function"&&te()}},[]),L.useEffect(()=>{i?(O(),S()):(d([]),X({total:0,active:0,inactive:0}),m(!1))},[i]),L.useEffect(()=>{const te=I=>{M&&oe.current[M]&&(oe.current[M].contains(I.target)||z(null))};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[M]);const O=async()=>{if(!i?.uid){console.warn("No user UID available for fetching properties");return}m(!0),x("");try{console.log("Fetching properties for user:",i.uid);const te=await xT(),I=Array.isArray(te)?te:[];d(I),console.log("Fetched properties:",I.length)}catch(te){console.error("Error fetching user properties:",te);let I="Failed to load your properties. Please try again.";te.message.includes("permission")?I="You don't have permission to view these properties.":te.message.includes("network")?I="Network error. Please check your connection and try again.":te.message.includes("auth")&&(I="Authentication error. Please sign in again."),x(I)}finally{m(!1)}},S=async()=>{try{const te=await vT(!0);X(te)}catch(te){console.error("Error fetching property stats:",te)}},C=async te=>{if(!te){console.error("No property ID provided for deletion"),x("Invalid property ID. Cannot delete property.");return}E(te);try{console.log("Deleting property:",te),await bT(te),d(I=>I.filter(ee=>ee.id!==te)),await S(),N(!1),V(null),console.log("Property deleted successfully")}catch(I){console.error("Error deleting property:",I);let ee="Failed to delete property. Please try again.";I.message.includes("permission")?ee="You don't have permission to delete this property.":I.message.includes("not found")&&(ee="Property not found. It may have already been deleted.",d(ue=>ue.filter(le=>le.id!==te)),N(!1),V(null)),x(ee)}finally{E(null)}},U=(te,I,ee)=>{try{if(!te||isNaN(te))return"Price not available";const ue=new Intl.NumberFormat("en-US"),xe=`${I==="Nigeria Naira"?"":"$"}${ue.format(Number(te))}`;return ee?`${xe}${ee.toLowerCase()==="not applicable"?"":"/"}${ee.toLowerCase()==="not applicable"?"":ee.toLowerCase()}`:xe}catch(ue){return console.error("Error formatting price:",ue),"Price error"}},k=te=>{try{if(!te)return"N/A";let I;if(te&&typeof te.toDate=="function")I=te.toDate();else if(te instanceof Date)I=te;else if(typeof te=="string"||typeof te=="number")I=new Date(te);else return"Invalid date";return isNaN(I.getTime())?"Invalid date":I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(I){return console.error("Error formatting date:",I),"Date error"}},P=te=>{const I=te?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[I]||"bg-gray-100 text-gray-800"},j=(te,I)=>{I.stopPropagation(),z(M===te?null:te)},fe=(te,I)=>{switch(z(null),te){case"preview":s&&typeof s=="function"?(s(I),O()):console.warn("onPreviewProperty callback not provided");break;case"edit":ke(I),O();break;case"delete":V(I),N(!0);break;default:console.warn("Unknown menu action:",te)}},ke=te=>{window.location.href=`/post_a_listing?edit=${te.id}`},J=({property:te})=>{if(!te||!te.id)return console.warn("Invalid property data:",te),null;const I=M===te.id;return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"relative h-48 bg-gray-200",children:[te.images&&Array.isArray(te.images)&&te.images.length>0?l.jsx("img",{src:te.images[0],alt:te.title||"Property image",className:"w-full h-full object-cover",onError:ee=>{ee.target.onerror=null,ee.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiAxNkw4IDEySDEwVjhIMTRWMTJIMTZMMTIgMTZaIiBmaWxsPSIjOUI5QkExIi8+Cjwvc3ZnPgo="}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:l.jsx(Cc,{className:"w-12 h-12 text-gray-400"})}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${P(te.status)}`,children:te.status||"Active"})}),te.daysSinceCreated!==void 0&&l.jsx("div",{className:"absolute bottom-3 left-3",children:l.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-xs rounded",children:[te.daysSinceCreated," days ago"]})}),l.jsx("div",{className:"absolute top-3 right-3",ref:ee=>{ee?oe.current[te.id]=ee:delete oe.current[te.id]},children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:ee=>j(te.id,ee),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full transition-all","aria-label":"Property actions",children:l.jsx(oR,{className:"w-4 h-4 text-gray-600"})}),I&&l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[120px]",children:[l.jsxs("button",{onClick:ee=>{ee.stopPropagation(),fe("preview",te)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[l.jsx(Rc,{className:"w-4 h-4"}),"Preview"]}),l.jsxs("button",{onClick:ee=>{ee.stopPropagation(),fe("edit",te)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[l.jsx(z1,{className:"w-4 h-4"}),"Edit"]}),l.jsxs("button",{onClick:ee=>{ee.stopPropagation(),fe("delete",te)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[l.jsx(B1,{className:"w-4 h-4"}),"Delete"]})]})]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:te.title||"Untitled Property"}),l.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[l.jsx(Go,{className:"w-4 h-4 mr-1 flex-shrink-0"}),l.jsx("span",{className:"text-sm truncate",children:te.location||(te.city&&te.state?`${te.city}, ${te.state}`:"Location not specified")})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-bold text-blue-600",children:U(te.price,te.currency,te.pricePer)}),l.jsx("div",{className:"text-sm text-gray-500",children:te.advertisingFor||"For Sale"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[te.bedroom&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Eg,{className:"w-4 h-4"}),l.jsx("span",{children:te.bedroom})]}),te.bathroom&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(wg,{className:"w-4 h-4"}),l.jsx("span",{children:te.bathroom})]}),te.totalArea&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Cc,{className:"w-4 h-4"}),l.jsxs("span",{children:[te.totalArea," ",te.totalAreaUnit||"sqft"]})]})]}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(Zd,{className:"w-3 h-3 mr-1"}),l.jsxs("span",{children:["Listed ",k(te.createdAt)]})]})]})]})},he=()=>l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="all"?"bg-blue-100 border-blue-300":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,onClick:()=>t("all"),children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:W.total}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]}),l.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e==="active"?"bg-green-100 border-green-300":"bg-green-50 border-green-200 hover:bg-green-100"}`,onClick:()=>t("active"),children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:W.active}),l.jsx("div",{className:"text-sm text-green-600",children:"Active"})]}),l.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all hover:shadow-md ${e!=="active"?"bg-gray-100 border-gray-300":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t("inactive"),children:[l.jsx("div",{className:"text-2xl font-bold text-gray-600",children:W.inactive}),l.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]})]}),ve=()=>l.jsx("div",{className:"fixed inset-0 bg-black/[0.5] bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ao,{className:"w-6 h-6 text-red-500"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Delete Property"})]}),l.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',F?.title||"this property",'"? This action cannot be undone.']}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>{N(!1),V(null)},disabled:w,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{onClick:()=>C(F?.id),disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w===F?.id?l.jsxs(l.Fragment,{children:[l.jsx(Ic,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})});return!i&&!p?l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[l.jsx(Ao,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),l.jsx("p",{className:"text-yellow-700",children:"Please sign in to view your property listings."})]})})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"My Listings"}),l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your property listings"})]}),l.jsx(vc,{children:l.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",disabled:p,children:[l.jsx(Er,{className:"w-4 h-4"}),"New Listing"]})})]}),i&&W.total>0&&l.jsx(he,{}),y&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ao,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),l.jsx("p",{className:"text-red-700 text-sm",children:y}),l.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-500 hover:text-red-700","aria-label":"Close error",children:""})]})}),p?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ic,{className:"w-8 h-8 text-blue-600 mx-auto mb-4 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Loading your listings..."})]}):q().length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ng,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e==="all"?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-gray-600 mb-2",children:"You don't have any listings yet."}),l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first listing to get started."}),l.jsx(vc,{to:"/post_a_listing"})," ",l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-gray-600 mb-2",children:["No ",e," listings found."]}),l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try viewing all listings or create a new one."}),l.jsxs("div",{className:"space-x-3",children:[l.jsx("button",{onClick:()=>t("all"),className:"text-blue-600 hover:text-blue-700 underline",children:"Show all listings"}),l.jsx(vc,{to:"/post_a_listing",children:l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Listing"})})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[q().length," listing",q().length!==1?"s":""," found",e!=="all"&&l.jsxs("span",{className:"ml-2 text-blue-600",children:[" Showing ",e," properties"]})]}),e!=="all"&&l.jsx("button",{onClick:()=>t("all"),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Show all"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q().map(te=>l.jsx(J,{property:te},te.id))})]})]}),R&&l.jsx(ve,{})]})},fM=()=>{const[s,e]=L.useState([]),[t,i]=L.useState(!0),[a,c]=L.useState(null),[d,p]=L.useState(!1),m="963871356ba532833088d07c8e8d15c6",y="https://gnews.io/api/v4/search",x=async(N=!1)=>{try{N?p(!0):i(!0),c(null);const V=["real estate market","property prices","housing market","property investment","real estate trends"].join(" OR "),M=await fetch(`${y}?q=${encodeURIComponent(V)}&token=${m}&lang=en&country=any&max=20&sortby=publishedAt`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const z=await M.json();if(z.articles){const q=z.articles.filter(W=>{const X=(W.title+" "+W.description).toLowerCase();return X.includes("real estate")||X.includes("property")||X.includes("housing")||X.includes("market")||X.includes("investment")});e(q.slice(0,12))}else throw new Error("No articles found")}catch(F){console.error("Error fetching news:",F),c(F.message)}finally{i(!1),p(!1)}};L.useEffect(()=>{x()},[]);const w=()=>{x(!0)},E=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=(N,F=120)=>N.length<=F?N:N.substr(0,F)+"...";return t?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[l.jsx(Rd,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]})}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading latest property news..."})]})]}):a?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[l.jsx(Rd,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),l.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[l.jsx(fb,{className:"h-4 w-4 mr-2"}),"Retry"]})]}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ao,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load property news"}),l.jsx("p",{className:"text-gray-500 text-sm",children:a}),l.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Make sure your GNews API key is valid"})]})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[l.jsx(Rd,{className:"h-6 w-6 mr-2 text-blue-600"}),"Property News Feed"]}),l.jsxs("button",{onClick:w,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[l.jsx(fb,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),d?"Refreshing...":"Refresh"]})]}),s.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No property news available at the moment."}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try refreshing to load the latest articles."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((N,F)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[N.image&&l.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:l.jsx("img",{src:N.image,alt:N.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:V=>{V.target.style.display="none"}})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[l.jsx(Zd,{className:"h-3 w-3 mr-1"}),E(N.publishedAt)]}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:N.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:R(N.description)}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center text-xs text-gray-500",children:l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:N.source.name})}),l.jsxs("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center transition-colors",children:["Read more",l.jsx(cR,{className:"h-3 w-3 ml-1"})]})]})]})]},F))}),s.length>0&&l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Showing latest property news  Last updated: ",new Date().toLocaleTimeString()]})})]})},mM=()=>l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:l.jsx("p",{className:"text-blue-800 text-sm",children:" Coming Soon!"})})]})})}),Ms={getCurrentUser:()=>af(),getUserProfile:async s=>{const e=_a(wh,"users",s,"profiles","userProfile"),t=await tf(e);if(t.exists())return t.data();{const i=await YD(s);if(i){const a={firstName:i.firstName,lastName:i.lastName,primaryPhone:i.primaryPhone,email:i.email,whatsappPhone:i.whatsappPhone,alternateEmail:i.alternateEmail,isRealEstateProfessional:i.isRealEstateProfessional,profileImage:i.profileImage,companyName:i.companyName,companyPhone:i.companyPhone,category:i.category,website:i.website,country:i.country,state:i.state,city:i.city,address:i.address,aboutUs:i.aboutUs};return await dg(e,a),a}return null}},updateUserProfile:async(s,e)=>{const t=_a(wh,"users",s,"profiles","userProfile");return await dg(t,e,{merge:!0}),!0},uploadImage:async(s,e)=>{try{return await WD(s,e)}catch(t){throw console.error("Upload error:",t),t}},subscribeToAuthChanges:Ra};function pM(){const[s,e]=L.useState(null),[t,i]=L.useState(!0),[a,c]=L.useState(!1),[d,p]=L.useState({show:!1,message:"",type:"success"}),[m,y]=L.useState({firstName:"",lastName:"",primaryPhone:"",email:"",whatsappPhone:"",alternateEmail:"",isRealEstateProfessional:!1,companyName:"",companyPhone:"",category:"",website:"",country:"Nigeria",state:"",city:"",address:"",aboutUs:"",profileImage:""}),[x,w]=L.useState(null),[E,R]=L.useState(0),[N,F]=L.useState({}),V=["Lagos","Abuja","Rivers","Ogun","Kano","Kaduna","Oyo","Delta","Edo","Anambra"],M={Lagos:["Lagos Island","Victoria Island","Ikeja","Lekki","Surulere","Yaba"],Abuja:["Garki","Wuse","Maitama","Gwarinpa","Kubwa","Nyanya"],Rivers:["Port Harcourt","Obio-Akpor","Eleme","Ikwerre","Oyigbo"],Ogun:["Abeokuta","Sagamu","Ijebu-Ode","Ota","Ilaro"]};L.useEffect(()=>{const k=Ms.subscribeToAuthChanges(async P=>{P?(e(P),await z(P.uid)):(e(null),i(!1))});return()=>k()},[]);const z=async k=>{try{i(!0);const P=gs.currentUser,j=await Ms.getUserProfile(k);j?(y({...j,firstName:j.firstName||P?.displayName?.split(" ")[0]||"",lastName:j.lastName||P?.displayName?.split(" ")[1]||"",email:j.email||P?.email||""}),w(j.profileImage||null)):y({...m,firstName:P?.displayName?.split(" ")[0]||"",lastName:P?.displayName?.split(" ")[1]||"",email:P?.email||""})}catch(P){console.error("Error loading user profile:",P),W("Error loading profile data","error")}finally{i(!1)}},q=async()=>{if(!s)return;const k={companyName:m.companyName||"",companyPhone:m.companyPhone||"",category:m.category||"",website:m.website||"",country:m.country||"Nigeria",state:m.state||"",city:m.city||"",address:m.address||"",aboutUs:m.aboutUs||""};if(!X(k,!0)){W("Please fix the errors in the company form","error");return}try{c(!0);const P=await Ms.getUserProfile(s.uid),j={...P,...k,firstName:P?.firstName||"",lastName:P?.lastName||"",primaryPhone:P?.primaryPhone||"",email:P?.email||"",whatsappPhone:P?.whatsappPhone||"",alternateEmail:P?.alternateEmail||"",isRealEstateProfessional:P?.isRealEstateProfessional||!1,profileImage:P?.profileImage||""};await Ms.updateUserProfile(s.uid,j),W("Company information saved successfully!")}catch(P){console.error("Error saving company profile:",P),W("Error saving company profile: "+P.message,"error")}finally{c(!1)}},W=(k,P="success")=>{p({show:!0,message:k,type:P}),setTimeout(()=>{p({show:!1,message:"",type:"success"})},3e3)},X=(k,P=!1)=>{const j={};return P?(k.companyName?.trim()||(j.companyName="Company name is required"),k.category||(j.category="Category is required"),k.state||(j.state="State is required"),k.city||(j.city="City is required")):(k.firstName?.trim()||(j.firstName="First name is required"),k.lastName?.trim()||(j.lastName="Last name is required"),k.primaryPhone?.trim()||(j.primaryPhone="Primary phone is required"),k.email?.trim()?/\S+@\S+\.\S+/.test(k.email)||(j.email="Email is invalid"):j.email="Email is required"),F(j),Object.keys(j).length===0},oe=k=>{const{name:P,value:j,type:fe,checked:ke}=k.target;y(J=>({...J,[P]:fe==="checkbox"?ke:j})),N[P]&&F(J=>({...J,[P]:""}))},O=async k=>{const P=k.target.files[0];if(!(!P||!s)){if(!P.type.startsWith("image/")){W("Please select a valid image file","error");return}if(P.size>1*1024*1024){W("Image size must be less than 1MB for profile pictures","error");return}try{R(10);const j=await S(P);R(50);const fe=await Ms.getUserProfile(s.uid)||{};R(70);const ke={firstName:fe.firstName||m.firstName||"",lastName:fe.lastName||m.lastName||"",primaryPhone:fe.primaryPhone||m.primaryPhone||"",email:fe.email||m.email||"",whatsappPhone:fe.whatsappPhone||m.whatsappPhone||"",alternateEmail:fe.alternateEmail||m.alternateEmail||"",isRealEstateProfessional:fe.isRealEstateProfessional||m.isRealEstateProfessional||!1,profileImage:j,companyName:fe.companyName||m.companyName||"",companyPhone:fe.companyPhone||m.companyPhone||"",category:fe.category||m.category||"",website:fe.website||m.website||"",country:fe.country||m.country||"Nigeria",state:fe.state||m.state||"",city:fe.city||m.city||"",address:fe.address||m.address||"",aboutUs:fe.aboutUs||m.aboutUs||""};R(90),await Ms.updateUserProfile(s.uid,ke),w(j),y(J=>({...J,profileImage:j})),R(100),setTimeout(()=>{R(0),W("Profile image uploaded successfully!")},500)}catch(j){console.error("Upload error:",j),W("Error uploading image: "+j.message,"error"),R(0)}}},S=k=>new Promise((P,j)=>{const fe=new FileReader;fe.onload=()=>P(fe.result),fe.onerror=ke=>j(ke),fe.readAsDataURL(k)}),C=async()=>{if(s&&x)try{const k=await Ms.getUserProfile(s.uid)||{},P={...k,profileImage:"",firstName:k.firstName||m.firstName||"",lastName:k.lastName||m.lastName||"",primaryPhone:k.primaryPhone||m.primaryPhone||"",email:k.email||m.email||"",whatsappPhone:k.whatsappPhone||m.whatsappPhone||"",alternateEmail:k.alternateEmail||m.alternateEmail||"",isRealEstateProfessional:k.isRealEstateProfessional||m.isRealEstateProfessional||!1,companyName:k.companyName||m.companyName||"",companyPhone:k.companyPhone||m.companyPhone||"",category:k.category||m.category||"",website:k.website||m.website||"",country:k.country||m.country||"Nigeria",state:k.state||m.state||"",city:k.city||m.city||"",address:k.address||m.address||"",aboutUs:k.aboutUs||m.aboutUs||""};await Ms.updateUserProfile(s.uid,P),w(null),y(j=>({...j,profileImage:""})),W("Profile image deleted successfully!")}catch(k){console.error("Error deleting image:",k),W("Error deleting image: "+k.message,"error")}},U=async()=>{if(!s)return;const k={firstName:m.firstName||"",lastName:m.lastName||"",primaryPhone:m.primaryPhone||"",email:m.email||"",whatsappPhone:m.whatsappPhone||"",alternateEmail:m.alternateEmail||"",isRealEstateProfessional:m.isRealEstateProfessional||!1};if(!X(k,!1)){W("Please fix the errors in the form","error");return}try{c(!0);const P=await Ms.getUserProfile(s.uid),j={...P,...k,companyName:P?.companyName||"",companyPhone:P?.companyPhone||"",category:P?.category||"",website:P?.website||"",country:P?.country||"Nigeria",state:P?.state||"",city:P?.city||"",address:P?.address||"",aboutUs:P?.aboutUs||"",profileImage:P?.profileImage||""};await Ms.updateUserProfile(s.uid,j),W("Profile information saved successfully!")}catch(P){console.error("Error saving profile:",P),W("Error saving profile: "+P.message,"error")}finally{c(!1)}};return t?l.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-white min-h-screen",children:l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):s?l.jsxs("div",{className:" mx-auto p-6 bg-white min-h-screen",children:[d.show&&l.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${d.type==="error"?"bg-red-100 border border-red-300":"bg-green-100 border border-green-300"}`,children:l.jsxs("div",{className:"flex items-center",children:[d.type==="error"?l.jsx(Ao,{className:"h-5 w-5 text-red-600 mr-2"}):l.jsx(C1,{className:"h-5 w-5 text-green-600 mr-2"}),l.jsx("span",{className:d.type==="error"?"text-red-800":"text-green-800",children:d.message})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Management"}),l.jsx("p",{className:"text-gray-600",children:"Manage your personal and company information"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Image"}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"relative",children:[x?l.jsx("img",{src:x,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx(jo,{className:"h-12 w-12 text-gray-400"})}),E>0&&E<100&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full",children:l.jsxs("div",{className:"text-white text-sm font-medium",children:[E,"%"]})})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("label",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(kp,{className:"inline h-4 w-4 mr-2"}),"Upload Photo",l.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),x&&l.jsxs("button",{onClick:C,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:[l.jsx(Tr,{className:"inline h-4 w-4 mr-2"}),"Remove"]})]})})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",name:"firstName",value:m.firstName,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.firstName?"border-red-500":"border-gray-300"}`}),N.firstName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.firstName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",name:"lastName",value:m.lastName,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.lastName?"border-red-500":"border-gray-300"}`}),N.lastName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.lastName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone *"}),l.jsx("input",{type:"tel",name:"primaryPhone",value:m.primaryPhone,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.primaryPhone?"border-red-500":"border-gray-300"}`}),N.primaryPhone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.primaryPhone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:m.email,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.email?"border-red-500":"border-gray-300"}`}),N.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Phone"}),l.jsx("input",{type:"tel",name:"whatsappPhone",value:m.whatsappPhone,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternate Email"}),l.jsx("input",{type:"email",name:"alternateEmail",value:m.alternateEmail,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"isRealEstateProfessional",checked:m.isRealEstateProfessional,onChange:oe,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I am a real estate professional",m.isRealEstateProfessional&&l.jsx("span",{className:"ml-2 text-blue-600 text-xs",children:"(Company form will appear below)"})]})]})}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:U,disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(eh,{className:"inline h-4 w-4 mr-2"}),"Save Changes"]})})})]})]}),m.isRealEstateProfessional&&l.jsx("div",{className:"space-y-6 mt-8",children:l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),l.jsx("input",{type:"text",name:"companyName",value:m.companyName,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.companyName?"border-red-500":"border-gray-300"}`}),N.companyName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.companyName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Phone"}),l.jsx("input",{type:"tel",name:"companyPhone",value:m.companyPhone,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),l.jsxs("select",{name:"category",value:m.category,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.category?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select category"}),l.jsx("option",{value:"real-estate-agent",children:"Real Estate Agent"}),l.jsx("option",{value:"developer",children:"Developer"}),l.jsx("option",{value:"property-manager",children:"Property Manager"}),l.jsx("option",{value:"broker",children:"Broker"}),l.jsx("option",{value:"consultant",children:"Consultant"})]}),N.category&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.category})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),l.jsx("input",{type:"url",name:"website",value:m.website,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),l.jsx("input",{type:"text",name:"country",value:m.country,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),l.jsxs("select",{name:"state",value:m.state,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.state?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select state"}),V.map(k=>l.jsx("option",{value:k,children:k},k))]}),N.state&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.state})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),l.jsxs("select",{name:"city",value:m.city,onChange:oe,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${N.city?"border-red-500":"border-gray-300"}`,disabled:!m.state,children:[l.jsx("option",{value:"",children:"Select city"}),m.state&&M[m.state]?.map(k=>l.jsx("option",{value:k,children:k},k))]}),N.city&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.city})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",name:"address",value:m.address,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Us"}),l.jsx("textarea",{name:"aboutUs",value:m.aboutUs,onChange:oe,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:q,disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(eh,{className:"inline h-4 w-4 mr-2"}),"Save Company Info"]})})})]})})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-white min-h-screen",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jo,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Please sign in to manage your profile"}),l.jsx("p",{className:"text-gray-600",children:"You need to be logged in to view and edit your profile information."})]})})}const gM=()=>l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:l.jsx("p",{className:"text-green-800 text-sm",children:" Pro Feature"})})]})})}),yM=({property:s,isOpen:e,onClose:t,onEdit:i,onDelete:a,showActions:c=!0})=>{const[d,p]=L.useState(0),[m,y]=L.useState(!1);if(L.useEffect(()=>{p(0),y(!1)},[s]),L.useEffect(()=>{const z=q=>{q.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",z),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",z),document.body.style.overflow="unset"}},[e,t]),!e||!s)return null;const x=(z,q,W)=>{try{if(!z||isNaN(z))return"Price not available";const X=new Intl.NumberFormat("en-US"),O=`${q==="Nigeria Naira"?"":"$"}${X.format(Number(z))}`;return W?`${O}${W.toLowerCase()==="not applicable"?"":"/"}${W.toLowerCase()==="not applicable"?"":W.toLowerCase()}`:O}catch(X){return console.error("Error formatting price:",X),"Price error"}},w=z=>{try{if(!z)return"N/A";let q;if(z&&typeof z.toDate=="function")q=z.toDate();else if(z instanceof Date)q=z;else if(typeof z=="string"||typeof z=="number")q=new Date(z);else return"Invalid date";return isNaN(q.getTime())?"Invalid date":q.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(q){return console.error("Error formatting date:",q),"Date error"}},E=z=>{const q=z?.toLowerCase()||"active";return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-purple-100 text-purple-800"}[q]||"bg-gray-100 text-gray-800"},R=()=>{s.images&&s.images.length>1&&p(z=>z===0?s.images.length-1:z-1)},N=()=>{s.images&&s.images.length>1&&p(z=>z===s.images.length-1?0:z+1)},F=()=>{y(!0)},V={parking:cb,wifi:vb,gym:db,pool:yb,security:Dp,garden:pb,"gym/fitness":db,"swimming pool":yb,"parking space":cb,"internet/wifi":vb,"security system":Dp,"garden/yard":pb,"community center":Sh,"coffee shop":JS},M=z=>{const q=z?.toLowerCase()||"";for(const[W,X]of Object.entries(V))if(q.includes(W))return X;return Do};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rc,{className:"w-6 h-6 text-blue-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Property Preview"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[c&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>i&&i(s),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Property",children:l.jsx(z1,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>a&&a(s),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Property",children:l.jsx(B1,{className:"w-5 h-5"})})]}),l.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:l.jsx(Tr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[l.jsxs("div",{className:"relative h-64 md:h-80 bg-gray-200",children:[s.images&&s.images.length>0&&!m?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:s.images[d],alt:`Property image ${d+1}`,className:"w-full h-full object-cover",onError:F}),s.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:R,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:l.jsx(I1,{className:"w-5 h-5"})}),l.jsx("button",{onClick:N,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:l.jsx(Tg,{className:"w-5 h-5"})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:s.images.map((z,q)=>l.jsx("button",{onClick:()=>p(q),className:`w-2 h-2 rounded-full transition-all ${q===d?"bg-white":"bg-white bg-opacity-50"}`},q))})]})]}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:l.jsx(Cc,{className:"w-16 h-16 text-gray-400"})}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${E(s.status)}`,children:s.status||"Active"})}),s.images&&s.images.length>0&&l.jsx("div",{className:"absolute top-4 right-4",children:l.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-2 py-1 text-sm rounded",children:[d+1," / ",s.images.length]})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:s.title||"Untitled Property"}),l.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[l.jsx(Go,{className:"w-5 h-5 mr-2 flex-shrink-0"}),l.jsx("span",{className:"text-lg",children:s.location||(s.city&&s.state?`${s.city}, ${s.state}`:"Location not specified")})]})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:x(s.price,s.currency,s.pricePer)}),l.jsx("div",{className:"text-lg text-blue-700 font-medium",children:s.advertisingFor||"For Sale"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Listed on"}),l.jsx("div",{className:"text-lg font-medium text-gray-800",children:w(s.createdAt)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.bedroom&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(Eg,{className:"w-6 h-6 text-gray-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:s.bedroom}),l.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),s.bathroom&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(wg,{className:"w-6 h-6 text-gray-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:s.bathroom}),l.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),s.totalArea&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(Cc,{className:"w-6 h-6 text-gray-600"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold text-gray-800",children:[s.totalArea," ",s.totalAreaUnit||"sqft"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Area"})]})]}),s.propertyType&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(Do,{className:"w-6 h-6 text-gray-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:s.propertyType}),l.jsx("div",{className:"text-sm text-gray-600",children:"Property Type"})]})]})]}),s.description&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),l.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 bg-gray-50 p-4 rounded-lg",children:s.description.split(`
`).map((z,q)=>z.trim()&&l.jsx("p",{className:"mb-2 last:mb-0",children:z},q))})]}),s.amenities&&s.amenities.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Amenities"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.amenities.map((z,q)=>{const W=M(z);return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[l.jsx(W,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-green-800",children:z})]},q)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Property Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[s.yearBuilt&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Year Built:"}),l.jsx("span",{className:"font-medium",children:s.yearBuilt})]}),s.furnished&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Furnished:"}),l.jsx("span",{className:"font-medium",children:s.furnished})]}),s.parkingSpaces&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Parking Spaces:"}),l.jsx("span",{className:"font-medium",children:s.parkingSpaces})]}),s.floors&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Number of Floors:"}),l.jsx("span",{className:"font-medium",children:s.floors})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Contact Information"}),l.jsxs("div",{className:"space-y-3",children:[s.contactPhone&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Jd,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-sm",children:s.contactPhone})]}),s.contactEmail&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ah,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-sm",children:s.contactEmail})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(Jd,{className:"w-4 h-4"}),"Call"]}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[l.jsx($c,{className:"w-4 h-4"}),"Message"]})]})]})]})]}),l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Zd,{className:"w-4 h-4"}),l.jsxs("span",{children:["Created: ",w(s.createdAt)]})]}),s.updatedAt&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Zd,{className:"w-4 h-4"}),l.jsxs("span",{children:["Updated: ",w(s.updatedAt)]})]}),s.daysSinceCreated!==void 0&&l.jsx("div",{children:l.jsxs("span",{children:[s.daysSinceCreated," days ago"]})})]})})]})]})]})})},vM=s=>{},xM=({user:s})=>l.jsxs("div",{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h3",{className:"text-lg text-gray-700",children:["Welcome back ",s]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(Er,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Post a Listing"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(D1,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Subscription"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(O1,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-medium text-gray-800",children:"Manage Website"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Your Recent Listings"}),l.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"See more..."})]}),l.jsx("div",{className:"text-center py-8",children:l.jsxs("p",{className:"text-gray-600",children:["You do not have any recent listing.",l.jsx("button",{className:"text-blue-600 hover:underline ml-1",children:"Click here to Post a Listing"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:"Latest from Your Service Areas"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='96' viewBox='0 0 128 96'%3E%3Crect width='128' height='96' fill='%23f3f4f6'/%3E%3Cpath d='M64 32L48 48h32l-16-16z' fill='%23d1d5db'/%3E%3Crect x='40' y='48' width='48' height='32' fill='%23e5e7eb'/%3E%3Crect x='56' y='56' width='16' height='16' fill='%23d1d5db'/%3E%3C/svg%3E",alt:"Property",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-red-600 font-semibold text-lg mb-1",children:"160,000"}),l.jsx("h5",{className:"text-blue-600 hover:underline cursor-pointer mb-1",children:"3 Bedroom House Shortlet at Oniru, Lagos"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Oniru VI, Oniru, Lagos"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[l.jsx("span",{children:"Olamax suites"}),l.jsx("span",{children:"|"}),l.jsx("span",{children:" 2 days ago"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(Ah,{className:"w-3 h-3"}),l.jsx("span",{children:"Email"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(Jd,{className:"w-3 h-3"}),l.jsx("span",{children:"Phone"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:[l.jsx($c,{className:"w-3 h-3"}),l.jsx("span",{children:"WhatsApp"})]}),l.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:[l.jsx(eh,{className:"w-3 h-3"}),l.jsx("span",{children:"Save"})]})]})]})]})]})]}),bM=()=>l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(Er,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Create New Listing"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start posting your property to reach potential buyers and renters."}),l.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Start Creating Listing"})]})}),_M=()=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"My Listings"}),l.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Er,{className:"w-4 h-4 inline mr-2"}),"New Listing"]})]}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ng,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"You don't have any listings yet."}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Create your first listing to get started."})]})]}),wM=()=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Listing Feed"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-600",children:"Browse the latest property listings in your area."}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Stay updated with new properties and market trends."})]})]}),EM=()=>l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Reporting"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced analytics and reporting features."}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 inline-block",children:l.jsx("p",{className:"text-blue-800 text-sm",children:" Coming Soon!"})})]})}),TM=()=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"My Account"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(Wd,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:"Omolaye Amoss"}),l.jsx("p",{className:"text-gray-600",children:"Individual Account"}),l.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full mt-1",children:"Free Plan"})]})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade Account"})]})]}),NM=()=>l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Property Requests"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Manage incoming property requests from potential clients."}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 inline-block",children:l.jsx("p",{className:"text-green-800 text-sm",children:" Pro Feature"})})]})}),u1=()=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Help & Support"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[l.jsx(k1,{className:"w-8 h-8 text-blue-600 mb-4"}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"FAQ"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Find answers to commonly asked questions."})]}),l.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[l.jsx($c,{className:"w-8 h-8 text-green-600 mb-4"}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Contact Support"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Get help from our support team."})]})]})]}),AM=()=>l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-gray-600",children:"The requested page could not be found."})]})});function SM({externalComponents:s={},additionalRoutes:e={},additionalSidebarItems:t=[]}){const[i,a]=L.useState(null),[c,d]=L.useState(!0),[p,m]=L.useState(!1),[y,x]=L.useState(null),w=yg(),R=jr().pathname.replace("/dashboard/","")||"overview",N=fe=>{x(fe),m(!0)};L.useEffect(()=>{Ra(fe=>{console.log(fe.displayName),a(fe.displayName)})},[]);const V={...{overview:{component:xM,title:"Your Dashboard",breadcrumb:"Dashboard"},"post-listing":{component:bM,title:"Post a Listing",breadcrumb:"Post Listing"},"my-listings":{component:_M,title:"My Listings",breadcrumb:"My Listings"},"listing-feed":{component:wM,title:"Listing Feed",breadcrumb:"Listing Feed"},reporting:{component:EM,title:"Reporting",breadcrumb:"Reporting"},"my-account":{component:TM,title:"My Account",breadcrumb:"My Account"},"property-requests":{component:NM,title:"Property Requests",breadcrumb:"Property Requests"},"help-support":{component:u1,title:"Help & Support",breadcrumb:"Help & Support"}},...e,...Object.keys(s).reduce((fe,ke)=>(fe[ke]={component:s[ke].component,title:s[ke].title||ke,breadcrumb:s[ke].breadcrumb||ke},fe),{})},z=[...[{id:"post-listing",label:"Post a Listing",icon:Er,section:"general"},{id:"overview",label:"Dashboard",icon:Do,section:"general",hasSubmenu:!0},{id:"my-listings",label:"My Listings",icon:jc,section:"general"},{id:"listing-feed",label:"Listing Feed",icon:Wd,section:"general"},{id:"reporting",label:"Reporting",icon:Hc,section:"general",badge:"Soon"},{id:"my-account",label:"My Account",icon:jo,section:"general",hasSubmenu:!0},{id:"property-requests",label:"Property Requests",icon:jc,section:"general",badge:"Pro"},{id:"help-support",label:"Help and Support",icon:k1,section:"extra"}],...t],q=z.filter(fe=>fe.section==="general"),W=z.filter(fe=>fe.section==="extra"),X=()=>l.jsx(cM,{user:i}),oe=()=>l.jsx(uM,{}),O=()=>l.jsxs(l.Fragment,{children:[l.jsx(hM,{onPreviewProperty:N}),l.jsx(yM,{property:y,isOpen:p,onClose:()=>m(!1),onEdit:vM,onDelete:fe=>{}})]}),S=()=>l.jsx(fM,{}),C=()=>l.jsx(mM,{}),U=()=>l.jsx(pM,{}),k=()=>l.jsx(gM,{}),P=V[R]||V.overview,j=fe=>{w(`/dashboard/${fe}`),window.innerWidth<768&&d(!1)};return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c&&l.jsx("div",{className:"fixed inset-0 bg-black/[0.2] z-40 lg:hidden",onClick:()=>d(!1)}),l.jsxs("div",{className:`${c?"translate-x-0":"-translate-x-full"} fixed lg:relative lg:translate-x-0 z-50 w-64 bg-gray-800 text-white flex flex-col transition-transform duration-300 ease-in-out`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Property Premium"}),l.jsx("button",{onClick:()=>d(!1),className:"lg:hidden",children:l.jsx(Tr,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(Wd,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:i}),l.jsx("p",{className:"text-sm text-gray-400",children:"(individual account)"}),l.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-xs text-gray-400",children:"Free Plan (upgrade)"})]})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"General"}),l.jsx("nav",{className:"space-y-1",children:q.map(fe=>{const ke=fe.icon;return l.jsx("div",{children:l.jsxs("button",{onClick:()=>j(fe.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${R===fe.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ke,{className:"w-4 h-4"}),l.jsx("span",{children:fe.label})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[fe.badge&&l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${fe.badge==="Pro"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:fe.badge}),fe.hasSubmenu&&l.jsx(Tg,{className:"w-4 h-4"})]})]})},fe.id)})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Extra"}),l.jsx("nav",{className:"space-y-1",children:W.map(fe=>{const ke=fe.icon;return l.jsxs("button",{onClick:()=>j(fe.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-md transition-colors ${R===fe.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[l.jsx(ke,{className:"w-4 h-4"}),l.jsx("span",{children:fe.label})]},fe.id)})})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx(OS,{className:"w-5 h-5 text-gray-400 hover:text-white cursor-pointer"}),l.jsx(Ah,{className:"w-5 h-5 text-gray-400 hover:text-white cursor-pointer"}),l.jsx(V1,{className:"w-5 h-5 text-gray-400 hover:text-white cursor-pointer"}),l.jsx(Pp,{className:"w-5 h-5 text-gray-400 hover:text-white cursor-pointer"})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>d(!c),className:"lg:hidden p-2 rounded-md hover:bg-gray-100",children:l.jsx(L1,{className:"w-5 h-5 text-gray-600"})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:P.title})]}),l.jsxs("div",{className:"md:flex items-center space-x-2 text-sm text-gray-600 hidden",children:[l.jsx("span",{children:"Help Line:"}),l.jsx($c,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-blue-600 font-medium",children:"+234 817 900 6524"})]})]})}),l.jsx("div",{className:"p-6",children:l.jsxs(E1,{children:[l.jsx(Wt,{path:"/",element:l.jsx(Th,{to:"overview",replace:!0})}),l.jsx(Wt,{path:"overview",element:l.jsx(X,{})}),l.jsx(Wt,{path:"post-listing",element:l.jsx(oe,{})}),l.jsx(Wt,{path:"my-listings",element:l.jsx(O,{})}),l.jsx(Wt,{path:"listing-feed",element:l.jsx(S,{})}),l.jsx(Wt,{path:"reporting",element:l.jsx(C,{})}),l.jsx(Wt,{path:"my-account",element:l.jsx(U,{})}),l.jsx(Wt,{path:"property-requests",element:l.jsx(k,{})}),l.jsx(Wt,{path:"help-support",element:l.jsx(u1,{})}),l.jsx(Wt,{path:"*",element:l.jsx(AM,{})})]})})]})]})}const RM="modulepreload",jM=function(s){return"/"+s},d1={},IM=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let y=function(x){return Promise.all(x.map(w=>Promise.resolve(w).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");a=y(t.map(x=>{if(x=jM(x),x in d1)return;d1[x]=!0;const w=x.endsWith(".css"),E=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${E}`))return;const R=document.createElement("link");if(R.rel=w?"stylesheet":RM,w||(R.as="script"),R.crossOrigin="",R.href=x,m&&R.setAttribute("nonce",m),document.head.appendChild(R),w)return new Promise((N,F)=>{R.addEventListener("load",N),R.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return a.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},cs=({label:s,value:e,onChange:t,options:i,required:a,className:c=""})=>l.jsxs("div",{className:`space-y-2 ${c}`,children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s," ",a&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:e,onChange:d=>t(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-700",required:a,children:[l.jsxs("option",{value:"",children:["Select ",s]}),i.map((d,p)=>l.jsx("option",{value:d,children:d},p))]})]}),CM=({formData:s,handleInputChange:e,options:t,selectedOptions:i,handleCheckboxChange:a,addressViewer:c,priceViewer:d})=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"gap-6",children:[l.jsxs("section",{id:"listing_info",className:"grid md:grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Listing Title"}),l.jsx("input",{type:"text",value:s.listingTitle,onChange:p=>e("listingTitle",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 4 Bedroom Serviced Duplex with BQ",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[l.jsx(cs,{label:"Advertising For",value:s.advertisingFor,onChange:p=>e("advertisingFor",p),options:["Sale","Rent","Lease","Shortlet"],required:!0}),l.jsx(cs,{label:"Property Type",value:s.propertyType,onChange:p=>e("propertyType",p),options:["House","Apartment","Duplex","Bungalow","Commercial","Land"],required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-2 w-full",children:[l.jsx(cs,{label:"Use of Property",value:s.useOfProperty,onChange:p=>e("useOfProperty",p),options:["Residential","Commercial","Industrial","Mixed Use","Unspecified"],className:"w-full",required:!0}),l.jsx(cs,{label:"Market Status",value:s.marketStatus,onChange:p=>e("marketStatus",p),options:["Available","Under Offer","Sold","Let","Withdrawn"],className:"w-full",required:!0})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Provide information on location of property"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-2 my-4",children:[l.jsx(cs,{label:"Country",value:s.country,onChange:p=>e("country",p),options:["Nigeria"],required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(cs,{label:"State",value:s.state,onChange:p=>e("state",p),options:["Lagos","Abuja","Port Harcourt","Ogun"],required:!0}),l.jsx(cs,{label:"City",value:s.city,onChange:p=>e("city",p),options:["Alimosho","Oshodi","Isolo","Apapa","Ikeja"],required:!0})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-center",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Address"}),l.jsx("input",{type:"text",value:s.address,onChange:p=>e("address",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"e.g, 70 Maintain Close",required:!0})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show address to viewers?"}),c.map((p,m)=>l.jsxs("label",{className:"block mb-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.includes(p),onChange:()=>a(p),className:"mr-2"}),p]},m))]})]})]}),l.jsxs("section",{className:"w-full my-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Pricing"}),l.jsxs("div",{className:"md:flex flex-wrap w-full items-center gap-4",children:[l.jsx("div",{className:"w-full md:flex-1",children:l.jsx(cs,{label:"Currency",value:s.currency,onChange:p=>e("currency",p),options:["Nigeria Naira","US Dollar","British Pounds"],required:!0})}),l.jsxs("div",{className:"w-full md:flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),l.jsx("input",{type:"number",value:s.price,onChange:p=>e("price",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Eg. 7,000,000",required:!0})]}),l.jsx("div",{className:"w-full md:flex-1",children:l.jsx(cs,{label:"Price Per What?",value:s.price_per,onChange:p=>e("price_per",p),options:["Not Applicable","Unit","year","half yr","month","week","day","night","Square meter","plot","hectare","acre"],required:!0})}),l.jsxs("div",{className:"w-full md:flex-1 text-sm",children:[l.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-2",children:"Show price to viewers?"}),d.map((p,m)=>l.jsxs("label",{className:"block mb-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.includes(p),onChange:()=>a(p),className:"mr-2"}),p]},m))]})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Features"}),l.jsxs("div",{className:"md:flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bedrooms"}),l.jsx("input",{type:"number",value:s.bedroom,onChange:p=>e("bedroom",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bedrooms",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Bathrooms"}),l.jsx("input",{type:"number",value:s.bathroom,onChange:p=>e("bathroom",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Bathrooms",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"No of Toilets"}),l.jsx("input",{type:"number",value:s.toilet,onChange:p=>e("toilet",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Number of Toilets",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year Built"}),l.jsx("input",{type:"number",value:s.year_built,onChange:p=>e("year_built",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Year Property was built",required:!0})]})]}),l.jsxs("div",{className:"p-4 w-full justify-center",children:[l.jsx("h2",{className:"text-md mb-2",children:"Select Available facilities at this property"}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((p,m)=>l.jsxs("label",{className:"block mb-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.includes(p),onChange:()=>a(p),className:"mr-2"}),p]},m))}),l.jsxs("div",{className:"mt-4",children:[l.jsx("strong",{children:"Selected:"})," ",i.join(", ")||"None"]})]})]}),l.jsxs("section",{className:"w-full",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 my-4 border-b pb-3 border-gray-300",children:"Property Measurements"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex flex-1 w-full items-end gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Area"}),l.jsx("input",{type:"number",value:s.totalArea,onChange:p=>e("totalArea",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Total Area",required:!0})]}),l.jsx("div",{className:"flex-1",children:l.jsx(cs,{label:"Total Area Unit",value:s.totalAreaUnit,onChange:p=>e("totalAreaUnit",p),options:["sqm","hectares","acres","plots","sqft"],required:!0})})]}),l.jsxs("div",{className:"flex flex-1 w-full items-end gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Covered Area"}),l.jsx("input",{type:"number",value:s.coveredArea,onChange:p=>e("coveredArea",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-500",placeholder:"Covered Area",required:!0})]}),l.jsx("div",{className:"flex-1",children:l.jsx(cs,{label:"Covered Area Unit",value:s.coveredAreaUnit,onChange:p=>e("coveredAreaUnit",p),options:["sqm","hectares","acres","plots","sqft"],required:!0})})]})]})]})]})}),kM=({formData:s,handleInputChange:e,handleDrop:t,handleDragOver:i,handleDragLeave:a,handleImageUpload:c,uploadedImages:d,removeImage:p,dragOver:m,disabled:y=!1})=>{const[x,w]=L.useState(""),[E,R]=L.useState(!1),N=async V=>{if(!(!V||V.length===0)){w(""),R(!0);try{if(d.length+V.length>20){w("Maximum 20 images allowed per property"),R(!1);return}const z=[];for(const q of Array.from(V)){if(q.size>10*1024*1024){w(`${q.name} is too large. Maximum size is 10MB.`);continue}if(!q.type.startsWith("image/")){w(`${q.name} is not a valid image file.`);continue}z.push(q)}z.length>0&&await c(z)}catch(M){console.error("Upload error:",M),w("Failed to upload images. Please try again.")}finally{R(!1)}}},F=()=>{w("")};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Images"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Upload high-quality images of your property. First image will be used as the main photo. Images will be automatically compressed to optimize storage."}),x&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ao,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-red-700 text-sm",children:x})}),l.jsx("button",{onClick:F,className:"text-red-500 hover:text-red-700 ml-2",children:l.jsx(Tr,{className:"w-4 h-4"})})]})}),l.jsxs("div",{onDrop:t,onDragOver:i,onDragLeave:a,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-blue-500 bg-blue-50":y?"border-gray-200 bg-gray-50":"border-gray-300 hover:border-blue-400"} ${y?"cursor-not-allowed":"cursor-pointer"}`,children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V=>N(V.target.files),className:"hidden",id:"image-upload",disabled:y||E}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:E?l.jsx(Ic,{className:"w-12 h-12 text-blue-500 animate-spin"}):l.jsx($R,{className:`w-12 h-12 ${y?"text-gray-300":"text-gray-400"}`})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-lg font-medium ${y?"text-gray-400":"text-gray-700"}`,children:E?"Processing images...":"Drop images here or"}),l.jsx("label",{htmlFor:"image-upload",className:`inline-block mt-2 px-6 py-2 rounded-md transition-colors ${y||E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer"}`,children:E?"Uploading...":"Browse Files"})]}),l.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-500"}`,children:"Supports: JPG, PNG, WebP (Max 10MB each, 20 images total)"})]})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Image Guidelines"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("li",{children:" Upload clear, well-lit photos"}),l.jsx("li",{children:" Include exterior, interior, and key features"}),l.jsx("li",{children:" First image becomes your main listing photo"}),l.jsx("li",{children:" Images are automatically compressed for optimal performance"}),l.jsx("li",{children:" Avoid blurry or low-quality images"})]})]}),d.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"font-medium text-gray-800",children:["Uploaded Images (",d.length,"/20)"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Drag images to reorder  First image is main photo"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map((V,M)=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:l.jsx("img",{src:V.preview||V.url,alt:`Property ${M+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:z=>{z.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMTJMMTEgMTRMMTUgMTBNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxQzcuMDI5NDQgMjEgMyAxNi45NzA2IDMgMTJDMyA3LjAyOTQ0IDcuMDI5NDQgMyAxMiAzQzE2Ljk3MDYgMyAyMSA3LjAyOTQ0IDIxIDEyWiIgc3Ryb2tlPSIjOTk5IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}})}),M===0&&l.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm",children:"Main"}),l.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black bg-opacity-60 text-white text-xs p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("p",{className:"truncate",children:V.name}),l.jsxs("p",{children:[(V.size/1024/1024).toFixed(1),"MB"]})]}),l.jsx("button",{onClick:()=>p(V.id),disabled:y,className:`absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity ${y?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,title:"Remove image",children:l.jsx(Tr,{className:"w-3 h-3"})}),E&&!V.isExisting&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:l.jsx(Ic,{className:"w-6 h-6 text-white animate-spin"})})]},V.id))}),d.length<20&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("label",{htmlFor:"image-upload",className:`flex items-center gap-2 px-4 py-2 border-2 border-dashed rounded-lg transition-colors ${y?"border-gray-200 text-gray-400 cursor-not-allowed":"border-blue-300 text-blue-600 hover:border-blue-400 hover:bg-blue-50 cursor-pointer"}`,children:[l.jsx(kp,{className:"w-4 h-4"}),"Add More Images"]})})]}),d.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(kp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No images uploaded yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Upload some high-quality photos to showcase your property"})]})]})})},PM=({formData:s,handleInputChange:e,handleListChange:t,addListItem:i,removeListItem:a})=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Description"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),l.jsx("textarea",{value:s.description,onChange:c=>e("description",c.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",placeholder:"Provide a detailed description of your property, including its unique features, condition, and any special amenities..."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Be descriptive and highlight what makes your property special."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Features"}),l.jsx("p",{className:"text-sm text-gray-600",children:"List the key features and amenities of your property."}),l.jsxs("div",{className:"space-y-3",children:[s.features.map((c,d)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:c,onChange:p=>t("features",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Swimming pool, Parking space, Air conditioning"}),s.features.length>1&&l.jsx("button",{onClick:()=>a("features",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:l.jsx(Tr,{className:"w-4 h-4"})})]},d)),l.jsxs("button",{onClick:()=>i("features"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[l.jsx(Er,{className:"w-4 h-4"}),"Add Feature"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Nearby Amenities"}),l.jsx("p",{className:"text-sm text-gray-600",children:"List nearby schools, hospitals, shopping centers, and other amenities."}),l.jsxs("div",{className:"space-y-3",children:[s.nearbyAmenities.map((c,d)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:c,onChange:p=>t("nearbyAmenities",d,p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Shoprite Mall (5 mins), Lagos University Teaching Hospital (10 mins)"}),s.nearbyAmenities.length>1&&l.jsx("button",{onClick:()=>a("nearbyAmenities",d),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:l.jsx(Tr,{className:"w-4 h-4"})})]},d)),l.jsxs("button",{onClick:()=>i("nearbyAmenities"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors",children:[l.jsx(Er,{className:"w-4 h-4"}),"Add Amenity"]})]})]})]})}),DM=({propertyId:s=null,existingProperty:e=null})=>{const t=["24/7 Electrity","Water facilities","Furnished","Serviced","Swimming pool","Parking Space","Elevator","Gym"],i=["YES, show it (recommended)","No, do not"],a=["YES, show it (recommended)","No, do not"],[c,d]=L.useState([]),[p,m]=L.useState(null),[y,x]=L.useState(!1),[w,E]=L.useState(""),[R,N]=L.useState(""),[F,V]=L.useState(!1),[M,z]=L.useState({listingTitle:e?.title||"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:e?.advertisingFor||"",propertyType:e?.propertyType||"House",useOfProperty:e?.useOfProperty||"Unspecified",marketStatus:e?.marketStatus||"Available",country:e?.country||"Nigeria",state:e?.state||"Lagos",city:e?.city||"ikeja",address:e?.address||"No 14, adeshina street",currency:e?.currency||"Nigeria Naira",price:e?.price||"0",price_per:e?.price_per||"Year",bedroom:e?.bedroom||3,bathroom:e?.bathroom||4,toilet:e?.toilet||5,year_built:e?.year_built||"2014",totalArea:e?.totalArea||"3425",totalAreaUnit:e?.totalAreaUnit||"sqm",coveredArea:e?.coveredArea||1234,coveredAreaUnit:e?.coveredAreaUnit||"sqm",images:e?.images||[],description:e?.description||"",features:e?.features||[""],nearbyAmenities:e?.nearbyAmenities||[""],showAddress:e?.showAddress||"YES, show it (recommended)",showPrice:e?.showPrice||"YES, show it (recommended)"}),[q,W]=L.useState("details"),[X,oe]=L.useState([]),[O,S]=L.useState(!1);L.useEffect(()=>{const we=new URLSearchParams(window.location.search).get("edit");we?C(we):s&&e&&U(e)},[p]);const C=async ce=>{if(p)try{x(!0);const{getUserProperties:we}=await IM(async()=>{const{getUserProperties:at}=await Promise.resolve().then(()=>dM);return{getUserProperties:at}},[]),Pe=(await we()).find(at=>at.id===ce);if(Pe){if(Pe.userId!==p.uid){E("You do not have permission to edit this property.");return}U(Pe)}else E("Property not found.")}catch{E("Error loading property for editing.")}finally{x(!1)}},U=ce=>{if(V(!0),d(ce.amenities||[]),z({listingTitle:ce.title||"",advertisingFor:ce.advertisingFor||"",propertyType:ce.propertyType||"House",useOfProperty:ce.useOfProperty||"Unspecified",marketStatus:ce.marketStatus||"Available",country:ce.country||"Nigeria",state:ce.state||"Lagos",city:ce.city||"",address:ce.address||"",currency:ce.currency||"Nigeria Naira",price:ce.price?.toString()||"0",price_per:ce.pricePer||"Year",bedroom:ce.bedroom||0,bathroom:ce.bathroom||0,toilet:ce.toilet||0,year_built:ce.yearBuilt||"",totalArea:ce.totalArea?.toString()||"",totalAreaUnit:ce.totalAreaUnit||"sqm",coveredArea:ce.coveredArea||0,coveredAreaUnit:ce.coveredAreaUnit||"sqm",images:ce.images||[],description:ce.description||"",features:ce.features||[""],nearbyAmenities:ce.nearbyAmenities||[""],showAddress:ce.showAddress?"YES, show it (recommended)":"No, do not",showPrice:ce.showPrice?"YES, show it (recommended)":"No, do not"}),ce.images&&ce.images.length>0){const we=ce.images.map((Ee,Pe)=>({id:`existing-${Pe}`,name:`image-${Pe}`,size:0,type:"image/jpeg",preview:Ee,isExisting:!0,url:Ee}));oe(we)}};L.useEffect(()=>Ra(we=>{m(we)}),[]);const k=ce=>{d(we=>we.includes(ce)?we.filter(Ee=>Ee!==ce):[...we,ce])},P=(ce,we)=>{z(Ee=>({...Ee,[ce]:we})),ce==="images"&&z(Ee=>({...Ee,images:X.map(Pe=>Pe.preview||Pe.url)}))},j=(ce,we,Ee)=>{z(Pe=>({...Pe,[ce]:Pe[ce].map((at,tn)=>tn===we?Ee:at)}))},fe=ce=>{z(we=>({...we,[ce]:[...we[ce],""]}))},ke=(ce,we)=>{z(Ee=>({...Ee,[ce]:Ee[ce].filter((Pe,at)=>at!==we)}))},J=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),he=(ce,we=800,Ee=600,Pe=.8)=>new Promise((at,tn)=>{const vn=document.createElement("canvas"),Vt=vn.getContext("2d"),bt=document.createElement("img");bt.onload=()=>{let{width:un,height:zn}=bt;if(un>we||zn>Ee){const Cr=Math.min(we/un,Ee/zn);un*=Cr,zn*=Cr}vn.width=un,vn.height=zn,Vt.drawImage(bt,0,0,un,zn);const vs=vn.toDataURL(ce.type,Pe);if(vs.length>200*1024*1.37){const Cr=Math.max(.3,Pe-.2),kr=vn.toDataURL(ce.type,Cr);at(kr)}else at(vs);URL.revokeObjectURL(bt.src)},bt.onerror=un=>{console.error("Error loading image:",un),tn(un)},bt.src=URL.createObjectURL(ce)}),ve=async ce=>{if(!ce)return;x(!0);const we=[];try{for(const Ee of Array.from(ce)){if(Ee.size>10*1024*1024){alert(`${Ee.name} is too large. Maximum size is 10MB.`);continue}if(!Ee.type.startsWith("image/")){alert(`${Ee.name} is not a valid image file.`);continue}try{const Pe=await he(Ee);we.push({id:J(),name:Ee.name,size:Ee.size,type:Ee.type,preview:Pe,isExisting:!1,url:Pe})}catch(Pe){console.error(`Error compressing ${Ee.name}:`,Pe),alert(`Failed to process ${Ee.name}`)}}if(we.length>0){const Ee=[...X,...we];oe(Ee),z(Pe=>({...Pe,images:Ee.map(at=>at.url||at.preview)}))}}catch(Ee){console.error("Error processing images:",Ee),alert("Failed to process images. Please try again.")}finally{x(!1)}},te=ce=>{const we=X.filter(Ee=>Ee.id!==ce);oe(we),z(Ee=>({...Ee,images:we.map(Pe=>Pe.url||Pe.preview)}))},I=ce=>{ce.preventDefault(),S(!1);const we=ce.dataTransfer.files;ve(we)},ee=ce=>{ce.preventDefault(),S(!0)},ue=ce=>{ce.preventDefault(),S(!1)},le=()=>{q==="details"?W("media"):q==="media"?W("description"):q==="description"&&Re()},xe=()=>{q==="media"?W("details"):q==="description"&&W("media")},Me=()=>{const ce=[];return(!M.listingTitle||M.listingTitle.trim()===""||M.listingTitle==="e.g, 4 Bedroom Serviced Duplex with BQ")&&ce.push("Please enter a valid listing title"),M.advertisingFor||ce.push("Please select what you are advertising for"),(!M.price||M.price==="0")&&ce.push("Please enter a valid price"),(!M.description||M.description.trim()==="")&&ce.push("Please enter a property description"),X.length===0&&ce.push("Please upload at least one image"),ce},Re=async()=>{if(!p){E("Please sign in to create a listing");return}const ce=Me();if(ce.length>0){E(ce.join(". "));return}x(!0),E(""),N("");try{const we=X.map(bt=>bt.url||bt.preview),Ee=new Date,Pe={userId:p.uid,userEmail:p.email,userName:p.displayName||p.email?.split("@")[0]||"Anonymous",userPhotoURL:p.photoURL||null,title:M.listingTitle,advertisingFor:M.advertisingFor,propertyType:M.propertyType,useOfProperty:M.useOfProperty,marketStatus:M.marketStatus,country:M.country,state:M.state,city:M.city,address:M.address,showAddress:M.showAddress==="YES, show it (recommended)",currency:M.currency,price:parseFloat(M.price),pricePer:M.price_per,showPrice:M.showPrice==="YES, show it (recommended)",bedroom:parseInt(M.bedroom),bathroom:parseInt(M.bathroom),toilet:parseInt(M.toilet),yearBuilt:M.year_built,totalArea:parseFloat(M.totalArea),totalAreaUnit:M.totalAreaUnit,coveredArea:parseFloat(M.coveredArea),coveredAreaUnit:M.coveredAreaUnit,images:we,description:M.description,features:M.features.filter(bt=>bt.trim()!==""),nearbyAmenities:M.nearbyAmenities.filter(bt=>bt.trim()!==""),amenities:c,location:`${M.city}, ${M.state}, ${M.country}`,status:"active",createdAt:F&&e?.createdAt||Ee,updatedAt:Ee,source:"web_app",version:"1.0"},at=el(),vn=new URLSearchParams(window.location.search).get("edit");let Vt;if(F&&vn){const bt=_a(at,"users",p.uid,"properties",vn);await BD(bt,Pe),Vt={id:vn,...Pe},N("Property updated successfully! "),setTimeout(()=>{window.location.href="dashboard/my-listings"},2e3)}else{const bt=_0(at,"users",p.uid,"properties");Vt={id:(await FD(bt,Pe)).id,...Pe},N("Property listing created successfully! "),window.location.href="dashboard/my-listings"}console.log("Property saved:",Vt),console.log("Associated with user:",p.uid),setTimeout(()=>{F||Nt(),N("")},3e3)}catch(we){console.error("Error submitting property:",we),E(we.message||"Failed to submit property. Please try again.")}finally{x(!1)}},Nt=()=>{z({listingTitle:"e.g, 4 Bedroom Serviced Duplex with BQ",advertisingFor:"",propertyType:"House",useOfProperty:"Unspecified",marketStatus:"Available",country:"Nigeria",state:"Lagos",city:"ikeja",address:"No 14, adeshina street",currency:"Nigeria Naira",price:"0",price_per:"Year",bedroom:3,bathroom:4,toilet:5,year_built:"2014",totalArea:"3425",totalAreaUnit:"sqm",coveredArea:1234,coveredAreaUnit:"sqm",images:[],description:"",features:[""],nearbyAmenities:[""],showAddress:"YES, show it (recommended)",showPrice:"YES, show it (recommended)"}),oe([]),d([]),W("details")},Qe=({id:ce,icon:we,label:Ee,isActive:Pe})=>l.jsxs("button",{onClick:()=>W(ce),disabled:y,className:`flex flex-col items-center px-6 py-4 border-b-2 transition-colors ${Pe?"border-blue-500 text-blue-600":"border-gray-200 text-gray-500 hover:text-gray-700"} ${y?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(we,{className:"w-6 h-6 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:Ee})]}),Vn=({label:ce,value:we,onChange:Ee,options:Pe,placeholder:at="--select--"})=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:ce}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:we,onChange:tn=>Ee(tn.target.value),disabled:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:opacity-50",children:[l.jsx("option",{value:"",children:at}),Pe.map(tn=>l.jsx("option",{value:tn,children:tn},tn))]}),l.jsx(FS,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]});return p?l.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsx(Qe,{id:"details",icon:Ng,label:"DETAILS",isActive:q==="details"}),l.jsx(Qe,{id:"media",icon:vR,label:"MEDIA",isActive:q==="media"}),l.jsx(Qe,{id:"description",icon:jc,label:"DESCRIPTION",isActive:q==="description"})]}),l.jsxs("div",{className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:F?"EDIT PROPERTY":"CREATE NEW PROPERTY"}),p&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[p.photoURL&&l.jsx("img",{src:p.photoURL,alt:"User",className:"w-8 h-8 rounded-full"}),l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-blue-700",children:["Creating listing as: ",l.jsx("span",{className:"font-medium",children:p.displayName||p.email})]})})]})}),w&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx(Tr,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-red-700 text-sm",children:w})]})}),R&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),l.jsx("p",{className:"text-green-700 text-sm",children:R})]})}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Important notice"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"We do not allow the posting or marketing of properties that you do not have the legal authority to do so. Should we suspect potential scam or are reported to, we reserve the right to notify security operatives and share your information to the authorities before account is permanently closed. Thank you for your honesty."})]}),q==="details"&&l.jsx(CM,{formData:M,handleInputChange:P,options:t,addressViewer:i,selectedOptions:c,handleCheckboxChange:k,SelectField:Vn,priceViewer:a,disabled:y}),q==="media"&&l.jsx(kM,{handleDrop:I,handleDragOver:ee,handleDragLeave:ue,handleImageUpload:ve,uploadedImages:X,removeImage:te,dragOver:O,disabled:y}),q==="description"&&l.jsx(PM,{formData:M,handleInputChange:P,handleListChange:j,addListItem:fe,removeListItem:ke,disabled:y}),l.jsxs("div",{className:"flex justify-between items-center mt-12",children:[l.jsx("button",{onClick:xe,disabled:q==="details"||y,className:`px-6 py-2 border rounded-md transition-colors ${q==="details"||y?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${q==="details"?"bg-blue-600":"bg-blue-200"}`}),l.jsx("div",{className:`w-3 h-3 rounded-full ${q==="media"?"bg-blue-600":"bg-blue-200"}`}),l.jsx("div",{className:`w-3 h-3 rounded-full ${q==="description"?"bg-blue-600":"bg-blue-200"}`})]}),l.jsx("button",{onClick:le,disabled:y,className:`px-8 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${y?"opacity-50 cursor-not-allowed":""}`,children:y?l.jsxs(l.Fragment,{children:[l.jsx(Ic,{className:"w-4 h-4 animate-spin"}),q==="description"?"Submitting...":"Processing..."]}):l.jsxs(l.Fragment,{children:[q==="description"?F?"Update":"Submit":"Next",q==="description"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})})]})]}),l.jsx("div",{className:"fixed bottom-6 right-6",children:l.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-lg shadow-lg transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})})]}):l.jsx("div",{className:"max-w-4xl mx-auto bg-white p-8",children:l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),l.jsx("p",{className:"text-yellow-700",children:"Please sign in to create or edit property listings."})]})})})},M0=()=>l.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),h1=({children:s,isAuthenticated:e,isLoading:t})=>t?l.jsx(M0,{}):e?s:l.jsx(Th,{to:"/login",replace:!0}),f1=({children:s,isAuthenticated:e,isLoading:t})=>t?l.jsx(M0,{}):e?l.jsx(Th,{to:"/dashboard",replace:!0}):s,MM=()=>{const[s,e]=L.useState(null),[t,i]=L.useState(!1),[a,c]=L.useState(!0);return L.useEffect(()=>{const d=Ra(p=>{e(p),i(!!p),c(!1),p?(localStorage.setItem("Status","Authenticated"),localStorage.setItem("userData",JSON.stringify({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL}))):(localStorage.removeItem("Status"),localStorage.removeItem("userData"),localStorage.removeItem("userToken"))});return()=>d()},[]),a?l.jsx(M0,{}):l.jsx(l.Fragment,{children:l.jsxs(mS,{children:[l.jsx(ZD,{}),l.jsxs(E1,{children:[l.jsx(Wt,{path:"/",element:l.jsx(aM,{})}),l.jsx(Wt,{path:"/signup",element:l.jsx(f1,{isAuthenticated:t,isLoading:a,children:l.jsx(oM,{})})}),l.jsx(Wt,{path:"/login",element:l.jsx(f1,{isAuthenticated:t,isLoading:a,children:l.jsx(lM,{})})}),l.jsx(Wt,{path:"/dashboard/*",element:l.jsx(h1,{isAuthenticated:t,isLoading:a,children:l.jsx(SM,{})})}),l.jsx(Wt,{path:"/post_a_listing",element:l.jsx(h1,{isAuthenticated:t,isLoading:a,children:l.jsx(DM,{})})}),l.jsx(Wt,{path:"*",element:l.jsx(Th,{to:"/",replace:!0})})]})]})})};eA.createRoot(document.getElementById("root")).render(l.jsx(L.StrictMode,{children:l.jsx(MM,{})}));
